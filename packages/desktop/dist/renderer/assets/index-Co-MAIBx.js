import{c as commonjsGlobal,g as getDefaultExportFromCjs}from"./index-BsUDgUeJ.js";function _mergeNamespaces(a,n){for(var r=0;r<n.length;r++){const u=n[r];if(typeof u!="string"&&!Array.isArray(u)){for(const g in u)if(g!=="default"&&!(g in a)){const y=Object.getOwnPropertyDescriptor(u,g);y&&Object.defineProperty(a,g,y.get?y:{enumerable:!0,get:()=>u[g]})}}}return Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})}var dist$7={},dist$6={},re$2={exports:{}};const SEMVER_SPEC_VERSION="2.0.0",MAX_LENGTH$1=256,MAX_SAFE_INTEGER$1=Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH=16,MAX_SAFE_BUILD_LENGTH=MAX_LENGTH$1-6,RELEASE_TYPES=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var constants$1={MAX_LENGTH:MAX_LENGTH$1,MAX_SAFE_COMPONENT_LENGTH,MAX_SAFE_BUILD_LENGTH,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER$1,RELEASE_TYPES,SEMVER_SPEC_VERSION,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},define_process_env_default={};const debug$1=typeof process=="object"&&define_process_env_default&&define_process_env_default.NODE_DEBUG&&/\bsemver\b/i.test(define_process_env_default.NODE_DEBUG)?(...a)=>console.error("SEMVER",...a):()=>{};var debug_1=debug$1;(function(a,n){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:u,MAX_LENGTH:g}=constants$1,y=debug_1;n=a.exports={};const h=n.re=[],m=n.safeRe=[],v=n.src=[],E=n.safeSrc=[],R=n.t={};let I=0;const l="[a-zA-Z0-9-]",c=[["\\s",1],["\\d",g],[l,u]],T=A=>{for(const[M,P]of c)A=A.split(`${M}*`).join(`${M}{0,${P}}`).split(`${M}+`).join(`${M}{1,${P}}`);return A},w=(A,M,P)=>{const q=T(M),W=I++;y(A,W,M),R[A]=W,v[W]=M,E[W]=q,h[W]=new RegExp(M,P?"g":void 0),m[W]=new RegExp(q,P?"g":void 0)};w("NUMERICIDENTIFIER","0|[1-9]\\d*"),w("NUMERICIDENTIFIERLOOSE","\\d+"),w("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${l}*`),w("MAINVERSION",`(${v[R.NUMERICIDENTIFIER]})\\.(${v[R.NUMERICIDENTIFIER]})\\.(${v[R.NUMERICIDENTIFIER]})`),w("MAINVERSIONLOOSE",`(${v[R.NUMERICIDENTIFIERLOOSE]})\\.(${v[R.NUMERICIDENTIFIERLOOSE]})\\.(${v[R.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASEIDENTIFIER",`(?:${v[R.NONNUMERICIDENTIFIER]}|${v[R.NUMERICIDENTIFIER]})`),w("PRERELEASEIDENTIFIERLOOSE",`(?:${v[R.NONNUMERICIDENTIFIER]}|${v[R.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASE",`(?:-(${v[R.PRERELEASEIDENTIFIER]}(?:\\.${v[R.PRERELEASEIDENTIFIER]})*))`),w("PRERELEASELOOSE",`(?:-?(${v[R.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${v[R.PRERELEASEIDENTIFIERLOOSE]})*))`),w("BUILDIDENTIFIER",`${l}+`),w("BUILD",`(?:\\+(${v[R.BUILDIDENTIFIER]}(?:\\.${v[R.BUILDIDENTIFIER]})*))`),w("FULLPLAIN",`v?${v[R.MAINVERSION]}${v[R.PRERELEASE]}?${v[R.BUILD]}?`),w("FULL",`^${v[R.FULLPLAIN]}$`),w("LOOSEPLAIN",`[v=\\s]*${v[R.MAINVERSIONLOOSE]}${v[R.PRERELEASELOOSE]}?${v[R.BUILD]}?`),w("LOOSE",`^${v[R.LOOSEPLAIN]}$`),w("GTLT","((?:<|>)?=?)"),w("XRANGEIDENTIFIERLOOSE",`${v[R.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),w("XRANGEIDENTIFIER",`${v[R.NUMERICIDENTIFIER]}|x|X|\\*`),w("XRANGEPLAIN",`[v=\\s]*(${v[R.XRANGEIDENTIFIER]})(?:\\.(${v[R.XRANGEIDENTIFIER]})(?:\\.(${v[R.XRANGEIDENTIFIER]})(?:${v[R.PRERELEASE]})?${v[R.BUILD]}?)?)?`),w("XRANGEPLAINLOOSE",`[v=\\s]*(${v[R.XRANGEIDENTIFIERLOOSE]})(?:\\.(${v[R.XRANGEIDENTIFIERLOOSE]})(?:\\.(${v[R.XRANGEIDENTIFIERLOOSE]})(?:${v[R.PRERELEASELOOSE]})?${v[R.BUILD]}?)?)?`),w("XRANGE",`^${v[R.GTLT]}\\s*${v[R.XRANGEPLAIN]}$`),w("XRANGELOOSE",`^${v[R.GTLT]}\\s*${v[R.XRANGEPLAINLOOSE]}$`),w("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),w("COERCE",`${v[R.COERCEPLAIN]}(?:$|[^\\d])`),w("COERCEFULL",v[R.COERCEPLAIN]+`(?:${v[R.PRERELEASE]})?(?:${v[R.BUILD]})?(?:$|[^\\d])`),w("COERCERTL",v[R.COERCE],!0),w("COERCERTLFULL",v[R.COERCEFULL],!0),w("LONETILDE","(?:~>?)"),w("TILDETRIM",`(\\s*)${v[R.LONETILDE]}\\s+`,!0),n.tildeTrimReplace="$1~",w("TILDE",`^${v[R.LONETILDE]}${v[R.XRANGEPLAIN]}$`),w("TILDELOOSE",`^${v[R.LONETILDE]}${v[R.XRANGEPLAINLOOSE]}$`),w("LONECARET","(?:\\^)"),w("CARETTRIM",`(\\s*)${v[R.LONECARET]}\\s+`,!0),n.caretTrimReplace="$1^",w("CARET",`^${v[R.LONECARET]}${v[R.XRANGEPLAIN]}$`),w("CARETLOOSE",`^${v[R.LONECARET]}${v[R.XRANGEPLAINLOOSE]}$`),w("COMPARATORLOOSE",`^${v[R.GTLT]}\\s*(${v[R.LOOSEPLAIN]})$|^$`),w("COMPARATOR",`^${v[R.GTLT]}\\s*(${v[R.FULLPLAIN]})$|^$`),w("COMPARATORTRIM",`(\\s*)${v[R.GTLT]}\\s*(${v[R.LOOSEPLAIN]}|${v[R.XRANGEPLAIN]})`,!0),n.comparatorTrimReplace="$1$2$3",w("HYPHENRANGE",`^\\s*(${v[R.XRANGEPLAIN]})\\s+-\\s+(${v[R.XRANGEPLAIN]})\\s*$`),w("HYPHENRANGELOOSE",`^\\s*(${v[R.XRANGEPLAINLOOSE]})\\s+-\\s+(${v[R.XRANGEPLAINLOOSE]})\\s*$`),w("STAR","(<|>)?=?\\s*\\*"),w("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),w("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(re$2,re$2.exports);var reExports=re$2.exports;const looseOption=Object.freeze({loose:!0}),emptyOpts=Object.freeze({}),parseOptions$1=a=>a?typeof a!="object"?looseOption:a:emptyOpts;var parseOptions_1=parseOptions$1;const numeric=/^[0-9]+$/,compareIdentifiers$1=(a,n)=>{if(typeof a=="number"&&typeof n=="number")return a===n?0:a<n?-1:1;const r=numeric.test(a),u=numeric.test(n);return r&&u&&(a=+a,n=+n),a===n?0:r&&!u?-1:u&&!r?1:a<n?-1:1},rcompareIdentifiers=(a,n)=>compareIdentifiers$1(n,a);var identifiers$1={compareIdentifiers:compareIdentifiers$1,rcompareIdentifiers};const debug=debug_1,{MAX_LENGTH,MAX_SAFE_INTEGER}=constants$1,{safeRe:re$1,t:t$1}=reExports,parseOptions=parseOptions_1,{compareIdentifiers}=identifiers$1;let SemVer$d=class kr{constructor(n,r){if(r=parseOptions(r),n instanceof kr){if(n.loose===!!r.loose&&n.includePrerelease===!!r.includePrerelease)return n;n=n.version}else if(typeof n!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof n}".`);if(n.length>MAX_LENGTH)throw new TypeError(`version is longer than ${MAX_LENGTH} characters`);debug("SemVer",n,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const u=n.trim().match(r.loose?re$1[t$1.LOOSE]:re$1[t$1.FULL]);if(!u)throw new TypeError(`Invalid Version: ${n}`);if(this.raw=n,this.major=+u[1],this.minor=+u[2],this.patch=+u[3],this.major>MAX_SAFE_INTEGER||this.major<0)throw new TypeError("Invalid major version");if(this.minor>MAX_SAFE_INTEGER||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>MAX_SAFE_INTEGER||this.patch<0)throw new TypeError("Invalid patch version");u[4]?this.prerelease=u[4].split(".").map(g=>{if(/^[0-9]+$/.test(g)){const y=+g;if(y>=0&&y<MAX_SAFE_INTEGER)return y}return g}):this.prerelease=[],this.build=u[5]?u[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(n){if(debug("SemVer.compare",this.version,this.options,n),!(n instanceof kr)){if(typeof n=="string"&&n===this.version)return 0;n=new kr(n,this.options)}return n.version===this.version?0:this.compareMain(n)||this.comparePre(n)}compareMain(n){return n instanceof kr||(n=new kr(n,this.options)),this.major<n.major?-1:this.major>n.major?1:this.minor<n.minor?-1:this.minor>n.minor?1:this.patch<n.patch?-1:this.patch>n.patch?1:0}comparePre(n){if(n instanceof kr||(n=new kr(n,this.options)),this.prerelease.length&&!n.prerelease.length)return-1;if(!this.prerelease.length&&n.prerelease.length)return 1;if(!this.prerelease.length&&!n.prerelease.length)return 0;let r=0;do{const u=this.prerelease[r],g=n.prerelease[r];if(debug("prerelease compare",r,u,g),u===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(u===void 0)return-1;if(u===g)continue;return compareIdentifiers(u,g)}while(++r)}compareBuild(n){n instanceof kr||(n=new kr(n,this.options));let r=0;do{const u=this.build[r],g=n.build[r];if(debug("build compare",r,u,g),u===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(u===void 0)return-1;if(u===g)continue;return compareIdentifiers(u,g)}while(++r)}inc(n,r,u){if(n.startsWith("pre")){if(!r&&u===!1)throw new Error("invalid increment argument: identifier is empty");if(r){const g=`-${r}`.match(this.options.loose?re$1[t$1.PRERELEASELOOSE]:re$1[t$1.PRERELEASE]);if(!g||g[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(n){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,u);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,u);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,u),this.inc("pre",r,u);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,u),this.inc("pre",r,u);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const g=Number(u)?1:0;if(this.prerelease.length===0)this.prerelease=[g];else{let y=this.prerelease.length;for(;--y>=0;)typeof this.prerelease[y]=="number"&&(this.prerelease[y]++,y=-2);if(y===-1){if(r===this.prerelease.join(".")&&u===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(g)}}if(r){let y=[r,g];u===!1&&(y=[r]),compareIdentifiers(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=y):this.prerelease=y}break}default:throw new Error(`invalid increment argument: ${n}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var semver$1=SemVer$d;const SemVer$c=semver$1,parse$7=(a,n,r=!1)=>{if(a instanceof SemVer$c)return a;try{return new SemVer$c(a,n)}catch(u){if(!r)return null;throw u}};var parse_1=parse$7;const parse$6=parse_1,valid$2=(a,n)=>{const r=parse$6(a,n);return r?r.version:null};var valid_1=valid$2;const parse$5=parse_1,clean$1=(a,n)=>{const r=parse$5(a.trim().replace(/^[=v]+/,""),n);return r?r.version:null};var clean_1=clean$1;const SemVer$b=semver$1,inc$1=(a,n,r,u,g)=>{typeof r=="string"&&(g=u,u=r,r=void 0);try{return new SemVer$b(a instanceof SemVer$b?a.version:a,r).inc(n,u,g).version}catch{return null}};var inc_1=inc$1;const parse$4=parse_1,diff$1=(a,n)=>{const r=parse$4(a,null,!0),u=parse$4(n,null,!0),g=r.compare(u);if(g===0)return null;const y=g>0,h=y?r:u,m=y?u:r,v=!!h.prerelease.length;if(!!m.prerelease.length&&!v){if(!m.patch&&!m.minor)return"major";if(m.compareMain(h)===0)return m.minor&&!m.patch?"minor":"patch"}const R=v?"pre":"";return r.major!==u.major?R+"major":r.minor!==u.minor?R+"minor":r.patch!==u.patch?R+"patch":"prerelease"};var diff_1=diff$1;const SemVer$a=semver$1,major$1=(a,n)=>new SemVer$a(a,n).major;var major_1=major$1;const SemVer$9=semver$1,minor$1=(a,n)=>new SemVer$9(a,n).minor;var minor_1=minor$1;const SemVer$8=semver$1,patch$1=(a,n)=>new SemVer$8(a,n).patch;var patch_1=patch$1;const parse$3=parse_1,prerelease$1=(a,n)=>{const r=parse$3(a,n);return r&&r.prerelease.length?r.prerelease:null};var prerelease_1=prerelease$1;const SemVer$7=semver$1,compare$b=(a,n,r)=>new SemVer$7(a,r).compare(new SemVer$7(n,r));var compare_1=compare$b;const compare$a=compare_1,rcompare$1=(a,n,r)=>compare$a(n,a,r);var rcompare_1=rcompare$1;const compare$9=compare_1,compareLoose$1=(a,n)=>compare$9(a,n,!0);var compareLoose_1=compareLoose$1;const SemVer$6=semver$1,compareBuild$3=(a,n,r)=>{const u=new SemVer$6(a,r),g=new SemVer$6(n,r);return u.compare(g)||u.compareBuild(g)};var compareBuild_1=compareBuild$3;const compareBuild$2=compareBuild_1,sort$1=(a,n)=>a.sort((r,u)=>compareBuild$2(r,u,n));var sort_1=sort$1;const compareBuild$1=compareBuild_1,rsort$1=(a,n)=>a.sort((r,u)=>compareBuild$1(u,r,n));var rsort_1=rsort$1;const compare$8=compare_1,gt$4=(a,n,r)=>compare$8(a,n,r)>0;var gt_1=gt$4;const compare$7=compare_1,lt$3=(a,n,r)=>compare$7(a,n,r)<0;var lt_1=lt$3;const compare$6=compare_1,eq$2=(a,n,r)=>compare$6(a,n,r)===0;var eq_1=eq$2;const compare$5=compare_1,neq$2=(a,n,r)=>compare$5(a,n,r)!==0;var neq_1=neq$2;const compare$4=compare_1,gte$3=(a,n,r)=>compare$4(a,n,r)>=0;var gte_1=gte$3;const compare$3=compare_1,lte$3=(a,n,r)=>compare$3(a,n,r)<=0;var lte_1=lte$3;const eq$1=eq_1,neq$1=neq_1,gt$3=gt_1,gte$2=gte_1,lt$2=lt_1,lte$2=lte_1,cmp$1=(a,n,r,u)=>{switch(n){case"===":return typeof a=="object"&&(a=a.version),typeof r=="object"&&(r=r.version),a===r;case"!==":return typeof a=="object"&&(a=a.version),typeof r=="object"&&(r=r.version),a!==r;case"":case"=":case"==":return eq$1(a,r,u);case"!=":return neq$1(a,r,u);case">":return gt$3(a,r,u);case">=":return gte$2(a,r,u);case"<":return lt$2(a,r,u);case"<=":return lte$2(a,r,u);default:throw new TypeError(`Invalid operator: ${n}`)}};var cmp_1=cmp$1;const SemVer$5=semver$1,parse$2=parse_1,{safeRe:re,t}=reExports,coerce$1=(a,n)=>{if(a instanceof SemVer$5)return a;if(typeof a=="number"&&(a=String(a)),typeof a!="string")return null;n=n||{};let r=null;if(!n.rtl)r=a.match(n.includePrerelease?re[t.COERCEFULL]:re[t.COERCE]);else{const v=n.includePrerelease?re[t.COERCERTLFULL]:re[t.COERCERTL];let E;for(;(E=v.exec(a))&&(!r||r.index+r[0].length!==a.length);)(!r||E.index+E[0].length!==r.index+r[0].length)&&(r=E),v.lastIndex=E.index+E[1].length+E[2].length;v.lastIndex=-1}if(r===null)return null;const u=r[2],g=r[3]||"0",y=r[4]||"0",h=n.includePrerelease&&r[5]?`-${r[5]}`:"",m=n.includePrerelease&&r[6]?`+${r[6]}`:"";return parse$2(`${u}.${g}.${y}${h}${m}`,n)};var coerce_1=coerce$1;class LRUCache{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const g=this.map.keys().next().value;this.delete(g)}this.map.set(n,r)}return this}}var lrucache=LRUCache,range,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range;hasRequiredRange=1;const a=/\s+/g;class n{constructor(ie,be){if(be=g(be),ie instanceof n)return ie.loose===!!be.loose&&ie.includePrerelease===!!be.includePrerelease?ie:new n(ie.raw,be);if(ie instanceof y)return this.raw=ie.value,this.set=[[ie]],this.formatted=void 0,this;if(this.options=be,this.loose=!!be.loose,this.includePrerelease=!!be.includePrerelease,this.raw=ie.trim().replace(a," "),this.set=this.raw.split("||").map(ye=>this.parseRange(ye.trim())).filter(ye=>ye.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const ye=this.set[0];if(this.set=this.set.filter(Ce=>!w(Ce[0])),this.set.length===0)this.set=[ye];else if(this.set.length>1){for(const Ce of this.set)if(Ce.length===1&&A(Ce[0])){this.set=[Ce];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let ie=0;ie<this.set.length;ie++){ie>0&&(this.formatted+="||");const be=this.set[ie];for(let ye=0;ye<be.length;ye++)ye>0&&(this.formatted+=" "),this.formatted+=be[ye].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(ie){const ye=((this.options.includePrerelease&&c)|(this.options.loose&&T))+":"+ie,Ce=u.get(ye);if(Ce)return Ce;const K=this.options.loose,ve=K?v[E.HYPHENRANGELOOSE]:v[E.HYPHENRANGE];ie=ie.replace(ve,Z(this.options.includePrerelease)),h("hyphen replace",ie),ie=ie.replace(v[E.COMPARATORTRIM],R),h("comparator trim",ie),ie=ie.replace(v[E.TILDETRIM],I),h("tilde trim",ie),ie=ie.replace(v[E.CARETTRIM],l),h("caret trim",ie);let de=ie.split(" ").map(Ne=>P(Ne,this.options)).join(" ").split(/\s+/).map(Ne=>te(Ne,this.options));K&&(de=de.filter(Ne=>(h("loose invalid filter",Ne,this.options),!!Ne.match(v[E.COMPARATORLOOSE])))),h("range list",de);const fe=new Map,Se=de.map(Ne=>new y(Ne,this.options));for(const Ne of Se){if(w(Ne))return[Ne];fe.set(Ne.value,Ne)}fe.size>1&&fe.has("")&&fe.delete("");const _e=[...fe.values()];return u.set(ye,_e),_e}intersects(ie,be){if(!(ie instanceof n))throw new TypeError("a Range is required");return this.set.some(ye=>M(ye,be)&&ie.set.some(Ce=>M(Ce,be)&&ye.every(K=>Ce.every(ve=>K.intersects(ve,be)))))}test(ie){if(!ie)return!1;if(typeof ie=="string")try{ie=new m(ie,this.options)}catch{return!1}for(let be=0;be<this.set.length;be++)if(J(this.set[be],ie,this.options))return!0;return!1}}range=n;const r=lrucache,u=new r,g=parseOptions_1,y=requireComparator(),h=debug_1,m=semver$1,{safeRe:v,t:E,comparatorTrimReplace:R,tildeTrimReplace:I,caretTrimReplace:l}=reExports,{FLAG_INCLUDE_PRERELEASE:c,FLAG_LOOSE:T}=constants$1,w=N=>N.value==="<0.0.0-0",A=N=>N.value==="",M=(N,ie)=>{let be=!0;const ye=N.slice();let Ce=ye.pop();for(;be&&ye.length;)be=ye.every(K=>Ce.intersects(K,ie)),Ce=ye.pop();return be},P=(N,ie)=>(N=N.replace(v[E.BUILD],""),h("comp",N,ie),N=L(N,ie),h("caret",N),N=W(N,ie),h("tildes",N),N=Te(N,ie),h("xrange",N),N=Q(N,ie),h("stars",N),N),q=N=>!N||N.toLowerCase()==="x"||N==="*",W=(N,ie)=>N.trim().split(/\s+/).map(be=>X(be,ie)).join(" "),X=(N,ie)=>{const be=ie.loose?v[E.TILDELOOSE]:v[E.TILDE];return N.replace(be,(ye,Ce,K,ve,de)=>{h("tilde",N,ye,Ce,K,ve,de);let fe;return q(Ce)?fe="":q(K)?fe=`>=${Ce}.0.0 <${+Ce+1}.0.0-0`:q(ve)?fe=`>=${Ce}.${K}.0 <${Ce}.${+K+1}.0-0`:de?(h("replaceTilde pr",de),fe=`>=${Ce}.${K}.${ve}-${de} <${Ce}.${+K+1}.0-0`):fe=`>=${Ce}.${K}.${ve} <${Ce}.${+K+1}.0-0`,h("tilde return",fe),fe})},L=(N,ie)=>N.trim().split(/\s+/).map(be=>ue(be,ie)).join(" "),ue=(N,ie)=>{h("caret",N,ie);const be=ie.loose?v[E.CARETLOOSE]:v[E.CARET],ye=ie.includePrerelease?"-0":"";return N.replace(be,(Ce,K,ve,de,fe)=>{h("caret",N,Ce,K,ve,de,fe);let Se;return q(K)?Se="":q(ve)?Se=`>=${K}.0.0${ye} <${+K+1}.0.0-0`:q(de)?K==="0"?Se=`>=${K}.${ve}.0${ye} <${K}.${+ve+1}.0-0`:Se=`>=${K}.${ve}.0${ye} <${+K+1}.0.0-0`:fe?(h("replaceCaret pr",fe),K==="0"?ve==="0"?Se=`>=${K}.${ve}.${de}-${fe} <${K}.${ve}.${+de+1}-0`:Se=`>=${K}.${ve}.${de}-${fe} <${K}.${+ve+1}.0-0`:Se=`>=${K}.${ve}.${de}-${fe} <${+K+1}.0.0-0`):(h("no pr"),K==="0"?ve==="0"?Se=`>=${K}.${ve}.${de}${ye} <${K}.${ve}.${+de+1}-0`:Se=`>=${K}.${ve}.${de}${ye} <${K}.${+ve+1}.0-0`:Se=`>=${K}.${ve}.${de} <${+K+1}.0.0-0`),h("caret return",Se),Se})},Te=(N,ie)=>(h("replaceXRanges",N,ie),N.split(/\s+/).map(be=>ne(be,ie)).join(" ")),ne=(N,ie)=>{N=N.trim();const be=ie.loose?v[E.XRANGELOOSE]:v[E.XRANGE];return N.replace(be,(ye,Ce,K,ve,de,fe)=>{h("xRange",N,ye,Ce,K,ve,de,fe);const Se=q(K),_e=Se||q(ve),Ne=_e||q(de),d0=Ne;return Ce==="="&&d0&&(Ce=""),fe=ie.includePrerelease?"-0":"",Se?Ce===">"||Ce==="<"?ye="<0.0.0-0":ye="*":Ce&&d0?(_e&&(ve=0),de=0,Ce===">"?(Ce=">=",_e?(K=+K+1,ve=0,de=0):(ve=+ve+1,de=0)):Ce==="<="&&(Ce="<",_e?K=+K+1:ve=+ve+1),Ce==="<"&&(fe="-0"),ye=`${Ce+K}.${ve}.${de}${fe}`):_e?ye=`>=${K}.0.0${fe} <${+K+1}.0.0-0`:Ne&&(ye=`>=${K}.${ve}.0${fe} <${K}.${+ve+1}.0-0`),h("xRange return",ye),ye})},Q=(N,ie)=>(h("replaceStars",N,ie),N.trim().replace(v[E.STAR],"")),te=(N,ie)=>(h("replaceGTE0",N,ie),N.trim().replace(v[ie.includePrerelease?E.GTE0PRE:E.GTE0],"")),Z=N=>(ie,be,ye,Ce,K,ve,de,fe,Se,_e,Ne,d0)=>(q(ye)?be="":q(Ce)?be=`>=${ye}.0.0${N?"-0":""}`:q(K)?be=`>=${ye}.${Ce}.0${N?"-0":""}`:ve?be=`>=${be}`:be=`>=${be}${N?"-0":""}`,q(Se)?fe="":q(_e)?fe=`<${+Se+1}.0.0-0`:q(Ne)?fe=`<${Se}.${+_e+1}.0-0`:d0?fe=`<=${Se}.${_e}.${Ne}-${d0}`:N?fe=`<${Se}.${_e}.${+Ne+1}-0`:fe=`<=${fe}`,`${be} ${fe}`.trim()),J=(N,ie,be)=>{for(let ye=0;ye<N.length;ye++)if(!N[ye].test(ie))return!1;if(ie.prerelease.length&&!be.includePrerelease){for(let ye=0;ye<N.length;ye++)if(h(N[ye].semver),N[ye].semver!==y.ANY&&N[ye].semver.prerelease.length>0){const Ce=N[ye].semver;if(Ce.major===ie.major&&Ce.minor===ie.minor&&Ce.patch===ie.patch)return!0}return!1}return!0};return range}var comparator,hasRequiredComparator;function requireComparator(){if(hasRequiredComparator)return comparator;hasRequiredComparator=1;const a=Symbol("SemVer ANY");class n{static get ANY(){return a}constructor(R,I){if(I=r(I),R instanceof n){if(R.loose===!!I.loose)return R;R=R.value}R=R.trim().split(/\s+/).join(" "),h("comparator",R,I),this.options=I,this.loose=!!I.loose,this.parse(R),this.semver===a?this.value="":this.value=this.operator+this.semver.version,h("comp",this)}parse(R){const I=this.options.loose?u[g.COMPARATORLOOSE]:u[g.COMPARATOR],l=R.match(I);if(!l)throw new TypeError(`Invalid comparator: ${R}`);this.operator=l[1]!==void 0?l[1]:"",this.operator==="="&&(this.operator=""),l[2]?this.semver=new m(l[2],this.options.loose):this.semver=a}toString(){return this.value}test(R){if(h("Comparator.test",R,this.options.loose),this.semver===a||R===a)return!0;if(typeof R=="string")try{R=new m(R,this.options)}catch{return!1}return y(R,this.operator,this.semver,this.options)}intersects(R,I){if(!(R instanceof n))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new v(R.value,I).test(this.value):R.operator===""?R.value===""?!0:new v(this.value,I).test(R.semver):(I=r(I),I.includePrerelease&&(this.value==="<0.0.0-0"||R.value==="<0.0.0-0")||!I.includePrerelease&&(this.value.startsWith("<0.0.0")||R.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&R.operator.startsWith(">")||this.operator.startsWith("<")&&R.operator.startsWith("<")||this.semver.version===R.semver.version&&this.operator.includes("=")&&R.operator.includes("=")||y(this.semver,"<",R.semver,I)&&this.operator.startsWith(">")&&R.operator.startsWith("<")||y(this.semver,">",R.semver,I)&&this.operator.startsWith("<")&&R.operator.startsWith(">")))}}comparator=n;const r=parseOptions_1,{safeRe:u,t:g}=reExports,y=cmp_1,h=debug_1,m=semver$1,v=requireRange();return comparator}const Range$9=requireRange(),satisfies$4=(a,n,r)=>{try{n=new Range$9(n,r)}catch{return!1}return n.test(a)};var satisfies_1=satisfies$4;const Range$8=requireRange(),toComparators$1=(a,n)=>new Range$8(a,n).set.map(r=>r.map(u=>u.value).join(" ").trim().split(" "));var toComparators_1=toComparators$1;const SemVer$4=semver$1,Range$7=requireRange(),maxSatisfying$1=(a,n,r)=>{let u=null,g=null,y=null;try{y=new Range$7(n,r)}catch{return null}return a.forEach(h=>{y.test(h)&&(!u||g.compare(h)===-1)&&(u=h,g=new SemVer$4(u,r))}),u};var maxSatisfying_1=maxSatisfying$1;const SemVer$3=semver$1,Range$6=requireRange(),minSatisfying$1=(a,n,r)=>{let u=null,g=null,y=null;try{y=new Range$6(n,r)}catch{return null}return a.forEach(h=>{y.test(h)&&(!u||g.compare(h)===1)&&(u=h,g=new SemVer$3(u,r))}),u};var minSatisfying_1=minSatisfying$1;const SemVer$2=semver$1,Range$5=requireRange(),gt$2=gt_1,minVersion$1=(a,n)=>{a=new Range$5(a,n);let r=new SemVer$2("0.0.0");if(a.test(r)||(r=new SemVer$2("0.0.0-0"),a.test(r)))return r;r=null;for(let u=0;u<a.set.length;++u){const g=a.set[u];let y=null;g.forEach(h=>{const m=new SemVer$2(h.semver.version);switch(h.operator){case">":m.prerelease.length===0?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":(!y||gt$2(m,y))&&(y=m);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${h.operator}`)}}),y&&(!r||gt$2(r,y))&&(r=y)}return r&&a.test(r)?r:null};var minVersion_1=minVersion$1;const Range$4=requireRange(),validRange$1=(a,n)=>{try{return new Range$4(a,n).range||"*"}catch{return null}};var valid$1=validRange$1;const SemVer$1=semver$1,Comparator$2=requireComparator(),{ANY:ANY$1}=Comparator$2,Range$3=requireRange(),satisfies$3=satisfies_1,gt$1=gt_1,lt$1=lt_1,lte$1=lte_1,gte$1=gte_1,outside$3=(a,n,r,u)=>{a=new SemVer$1(a,u),n=new Range$3(n,u);let g,y,h,m,v;switch(r){case">":g=gt$1,y=lte$1,h=lt$1,m=">",v=">=";break;case"<":g=lt$1,y=gte$1,h=gt$1,m="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies$3(a,n,u))return!1;for(let E=0;E<n.set.length;++E){const R=n.set[E];let I=null,l=null;if(R.forEach(c=>{c.semver===ANY$1&&(c=new Comparator$2(">=0.0.0")),I=I||c,l=l||c,g(c.semver,I.semver,u)?I=c:h(c.semver,l.semver,u)&&(l=c)}),I.operator===m||I.operator===v||(!l.operator||l.operator===m)&&y(a,l.semver))return!1;if(l.operator===v&&h(a,l.semver))return!1}return!0};var outside_1=outside$3;const outside$2=outside_1,gtr$1=(a,n,r)=>outside$2(a,n,">",r);var gtr_1=gtr$1;const outside$1=outside_1,ltr$1=(a,n,r)=>outside$1(a,n,"<",r);var ltr_1=ltr$1;const Range$2=requireRange(),intersects$1=(a,n,r)=>(a=new Range$2(a,r),n=new Range$2(n,r),a.intersects(n,r));var intersects_1=intersects$1;const satisfies$2=satisfies_1,compare$2=compare_1;var simplify=(a,n,r)=>{const u=[];let g=null,y=null;const h=a.sort((R,I)=>compare$2(R,I,r));for(const R of h)satisfies$2(R,n,r)?(y=R,g||(g=R)):(y&&u.push([g,y]),y=null,g=null);g&&u.push([g,null]);const m=[];for(const[R,I]of u)R===I?m.push(R):!I&&R===h[0]?m.push("*"):I?R===h[0]?m.push(`<=${I}`):m.push(`${R} - ${I}`):m.push(`>=${R}`);const v=m.join(" || "),E=typeof n.raw=="string"?n.raw:String(n);return v.length<E.length?v:n};const Range$1=requireRange(),Comparator$1=requireComparator(),{ANY}=Comparator$1,satisfies$1=satisfies_1,compare$1=compare_1,subset$1=(a,n,r={})=>{if(a===n)return!0;a=new Range$1(a,r),n=new Range$1(n,r);let u=!1;e:for(const g of a.set){for(const y of n.set){const h=simpleSubset(g,y,r);if(u=u||h!==null,h)continue e}if(u)return!1}return!0},minimumVersionWithPreRelease=[new Comparator$1(">=0.0.0-0")],minimumVersion=[new Comparator$1(">=0.0.0")],simpleSubset=(a,n,r)=>{if(a===n)return!0;if(a.length===1&&a[0].semver===ANY){if(n.length===1&&n[0].semver===ANY)return!0;r.includePrerelease?a=minimumVersionWithPreRelease:a=minimumVersion}if(n.length===1&&n[0].semver===ANY){if(r.includePrerelease)return!0;n=minimumVersion}const u=new Set;let g,y;for(const c of a)c.operator===">"||c.operator===">="?g=higherGT(g,c,r):c.operator==="<"||c.operator==="<="?y=lowerLT(y,c,r):u.add(c.semver);if(u.size>1)return null;let h;if(g&&y){if(h=compare$1(g.semver,y.semver,r),h>0)return null;if(h===0&&(g.operator!==">="||y.operator!=="<="))return null}for(const c of u){if(g&&!satisfies$1(c,String(g),r)||y&&!satisfies$1(c,String(y),r))return null;for(const T of n)if(!satisfies$1(c,String(T),r))return!1;return!0}let m,v,E,R,I=y&&!r.includePrerelease&&y.semver.prerelease.length?y.semver:!1,l=g&&!r.includePrerelease&&g.semver.prerelease.length?g.semver:!1;I&&I.prerelease.length===1&&y.operator==="<"&&I.prerelease[0]===0&&(I=!1);for(const c of n){if(R=R||c.operator===">"||c.operator===">=",E=E||c.operator==="<"||c.operator==="<=",g){if(l&&c.semver.prerelease&&c.semver.prerelease.length&&c.semver.major===l.major&&c.semver.minor===l.minor&&c.semver.patch===l.patch&&(l=!1),c.operator===">"||c.operator===">="){if(m=higherGT(g,c,r),m===c&&m!==g)return!1}else if(g.operator===">="&&!satisfies$1(g.semver,String(c),r))return!1}if(y){if(I&&c.semver.prerelease&&c.semver.prerelease.length&&c.semver.major===I.major&&c.semver.minor===I.minor&&c.semver.patch===I.patch&&(I=!1),c.operator==="<"||c.operator==="<="){if(v=lowerLT(y,c,r),v===c&&v!==y)return!1}else if(y.operator==="<="&&!satisfies$1(y.semver,String(c),r))return!1}if(!c.operator&&(y||g)&&h!==0)return!1}return!(g&&E&&!y&&h!==0||y&&R&&!g&&h!==0||l||I)},higherGT=(a,n,r)=>{if(!a)return n;const u=compare$1(a.semver,n.semver,r);return u>0?a:u<0||n.operator===">"&&a.operator===">="?n:a},lowerLT=(a,n,r)=>{if(!a)return n;const u=compare$1(a.semver,n.semver,r);return u<0?a:u>0||n.operator==="<"&&a.operator==="<="?n:a};var subset_1=subset$1;const internalRe=reExports,constants=constants$1,SemVer=semver$1,identifiers=identifiers$1,parse$1=parse_1,valid=valid_1,clean=clean_1,inc=inc_1,diff=diff_1,major=major_1,minor=minor_1,patch=patch_1,prerelease=prerelease_1,compare=compare_1,rcompare=rcompare_1,compareLoose=compareLoose_1,compareBuild=compareBuild_1,sort=sort_1,rsort=rsort_1,gt=gt_1,lt=lt_1,eq=eq_1,neq=neq_1,gte=gte_1,lte=lte_1,cmp=cmp_1,coerce=coerce_1,Comparator=requireComparator(),Range=requireRange(),satisfies=satisfies_1,toComparators=toComparators_1,maxSatisfying=maxSatisfying_1,minSatisfying=minSatisfying_1,minVersion=minVersion_1,validRange=valid$1,outside=outside_1,gtr=gtr_1,ltr=ltr_1,intersects=intersects_1,simplifyRange=simplify,subset=subset_1;var semver={parse:parse$1,valid,clean,inc,diff,major,minor,patch,prerelease,compare,rcompare,compareLoose,compareBuild,sort,rsort,gt,lt,eq,neq,gte,lte,cmp,coerce,Comparator,Range,satisfies,toComparators,maxSatisfying,minSatisfying,minVersion,validRange,outside,gtr,ltr,intersects,simplifyRange,subset,SemVer,re:internalRe.re,src:internalRe.src,tokens:internalRe.t,SEMVER_SPEC_VERSION:constants.SEMVER_SPEC_VERSION,RELEASE_TYPES:constants.RELEASE_TYPES,compareIdentifiers:identifiers.compareIdentifiers,rcompareIdentifiers:identifiers.rcompareIdentifiers},dist$5={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.EFirmwareType=void 0,function(J){J.Universal="universal",J.BitcoinOnly="bitcoinonly"}(a.EFirmwareType||(a.EFirmwareType={}));function n(J,N){if(typeof J!="string"||J.indexOf("{")===-1)return J;let ie="",be=0;const ye=N;for(;be<J.length;){const Ce=J.indexOf("{",be);if(Ce===-1){ie+=J.slice(be);break}const K=J.indexOf("}",Ce+1);if(K===-1){ie+=J.slice(be);break}ie+=J.slice(be,Ce);const ve=J.slice(Ce+1,K);if(ve.length===0)ie+="{}";else{const de=ye[ve];ie+=de?String(de):"?"}be=K+1}return ie}class r extends Error{constructor(N){var ie;super(),this.errorCode=u.UnknownError,this.message="",this.params={};const be=g;if(this.message=be[u.UnknownError],typeof N=="string")this.errorCode=u.UnknownError,this.message=N;else{const ye=(ie=N.message||be[N.errorCode])!==null&&ie!==void 0?ie:"";ye&&(this.message=n(ye,N)),this.params=N.params,this.errorCode=N.errorCode}this.name="HardwareError"}}const u={UnknownError:0,DeviceFwException:101,DeviceUnexpectedMode:102,DeviceListNotInitialized:103,SelectDevice:104,DeviceNotFound:105,DeviceInitializeFailed:106,DeviceInterruptedFromOutside:107,RequiredButInBootloaderMode:108,DeviceInterruptedFromUser:109,DeviceCheckDeviceIdError:110,DeviceNotSupportPassphrase:111,DeviceCheckPassphraseStateError:112,DeviceNotOpenedPassphrase:113,DeviceOpenedPassphrase:114,DeviceDetectInBootloaderMode:115,NotAllowInBootloaderMode:116,DeviceBusy:117,DeviceCheckUnlockTypeError:118,NotInitialized:200,IFrameNotInitialized:300,IFrameAleradyInitialized:301,IFrameLoadFail:302,IframeTimeout:303,IframeBlocked:304,IframeDistrust:305,CallMethodError:400,CallMethodNotResponse:404,CallMethodInvalidParameter:405,FirmwareUpdateDownloadFailed:406,CallMethodNeedUpgradeFirmware:407,CallMethodDeprecated:408,FirmwareUpdateLimitOneDevice:409,FirmwareUpdateManuallyEnterBoot:410,FirmwareUpdateAutoEnterBootFailure:411,NewFirmwareUnRelease:412,UseDesktopToUpdateFirmware:413,NewFirmwareForceUpdate:414,DeviceNotSupportMethod:415,ForbiddenKeyPath:416,RepeatUnlocking:417,DefectiveFirmware:418,NetworkError:500,TransportNotConfigured:600,TransportCallInProgress:601,TransportNotFound:602,TransportInvalidProtobuf:603,BleScanError:700,BlePermissionError:701,BleLocationError:702,BleRequiredUUID:703,BleConnectedError:704,BleDeviceNotBonded:705,BleServiceNotFound:706,BleCharacteristicNotFound:707,BleMonitorError:708,BleCharacteristicNotifyError:709,BleWriteCharacteristicError:710,BleAlreadyConnected:711,BleLocationServicesDisabled:712,BleTimeoutError:713,BleForceCleanRunPromise:714,BleDeviceBondError:715,BleCharacteristicNotifyChangeFailure:716,BleTransportCallCanceled:717,BleDeviceBondedCanceled:718,BlePeerRemovedPairingInformation:719,BleDeviceDisconnected:720,BlePoweredOff:721,BleUnsupported:722,RuntimeError:800,PinInvalid:801,PinCancelled:802,ActionCancelled:803,FirmwareError:804,ResponseUnexpectTypeError:805,BridgeNetworkError:806,BridgeTimeoutError:807,BridgeNotInstalled:808,PollingTimeout:809,PollingStop:810,BlindSignDisabled:811,UnexpectPassphrase:812,FileAlreadyExists:813,CheckDownloadFileError:814,NotInSigningMode:815,DataOverload:816,BridgeDeviceDisconnected:817,BTCPsbtTooManyUtxos:818,EmmcFileWriteFirmwareError:819,FirmwareVerificationFailed:820,BridgeNeedsPermission:821,CallQueueActionCancelled:822,FirmwareDowngradeNotAllowed:823,CosmosInvalidJsonMessage:824,DeviceSettingsNotProvided:825,DeviceSettingsLanguageNotSupport:826,LowlevelTrasnportConnectError:900,WebDeviceNotFoundOrNeedsPermission:901,WebDevicePromptAccessError:902},g={[u.UnknownError]:"Unknown error occurred. Check message property.",[u.DeviceFwException]:"Firmware version mismatch",[u.DeviceUnexpectedMode]:"Device unexpected mode",[u.DeviceListNotInitialized]:"Device list is not initialized",[u.SelectDevice]:"Please select the connected device",[u.DeviceNotFound]:"Device not found",[u.DeviceInitializeFailed]:"Device initialization failed",[u.DeviceInterruptedFromOutside]:"Device interrupted",[u.DeviceInterruptedFromUser]:"Device interrupted",[u.RequiredButInBootloaderMode]:"Device should be in bootloader mode",[u.DeviceCheckDeviceIdError]:"Device Id in the features is not same.",[u.DeviceNotSupportPassphrase]:"Device not support passphrase",[u.DeviceCheckPassphraseStateError]:"Device passphrase state error",[u.DeviceNotOpenedPassphrase]:"Device not opened passphrase",[u.DeviceOpenedPassphrase]:"Device opened passphrase",[u.DeviceDetectInBootloaderMode]:"Device in bootloader mode",[u.NotAllowInBootloaderMode]:"Device not allow in bootloader mode",[u.DeviceBusy]:"Device is busy",[u.DeviceCheckUnlockTypeError]:"Device check unlock type not match error",[u.NotInitialized]:"Not initialized",[u.IFrameNotInitialized]:"IFrame not initialized",[u.IFrameAleradyInitialized]:"IFrame alerady initialized",[u.IFrameLoadFail]:"IFrame load fail",[u.IframeTimeout]:"init iframe time out",[u.IframeBlocked]:"IFrame blocked",[u.IframeDistrust]:"IFrame host not trust",[u.CallMethodError]:"Runtime errors during method execution",[u.CallMethodNotResponse]:"Method does not responding",[u.CallMethodInvalidParameter]:"Call method invalid parameter",[u.FirmwareUpdateDownloadFailed]:"Firmware update download failed",[u.CallMethodNeedUpgradeFirmware]:"Call method need upgrade firmware",[u.CallMethodDeprecated]:"Call method is deprecated",[u.FirmwareUpdateLimitOneDevice]:"Only one device can be connected during firmware upgrade",[u.FirmwareUpdateManuallyEnterBoot]:"You need to manually enter boot",[u.FirmwareUpdateAutoEnterBootFailure]:"Description Failed to automatically enter boot",[u.NewFirmwareUnRelease]:"new firmware has not been released yet",[u.NewFirmwareForceUpdate]:"new firmware has been released, please update",[u.UseDesktopToUpdateFirmware]:"Please use OneKey desktop client to update the firmware",[u.DeviceNotSupportMethod]:"Device not support this method",[u.ForbiddenKeyPath]:"Forbidden key path",[u.RepeatUnlocking]:"Repeat unlocking",[u.DefectiveFirmware]:"Device firmware is defective, please update immediately",[u.NetworkError]:"Network request error",[u.TransportNotConfigured]:"Transport not configured",[u.TransportCallInProgress]:"Transport call in progress",[u.TransportNotFound]:"Transport not found",[u.TransportInvalidProtobuf]:"Transport invalid protobuf",[u.BleScanError]:"BLE scan error",[u.BlePermissionError]:"Bluetooth required to be turned on",[u.BleLocationError]:"Location permissions for the application are not available",[u.BleRequiredUUID]:"uuid is required",[u.BleConnectedError]:"connected error is always runtime error",[u.BleDeviceNotBonded]:"device is not bonded",[u.BleDeviceBondedCanceled]:"device is canceled bonding",[u.BlePeerRemovedPairingInformation]:"need to delete pairing information",[u.BleServiceNotFound]:"BLEServiceNotFound: service not found",[u.BleCharacteristicNotFound]:"BLEServiceNotFound: service not found",[u.BleMonitorError]:"Monitor Error: characteristic not found",[u.BleCharacteristicNotifyError]:"Characteristic Notify Error",[u.BleWriteCharacteristicError]:"Write Characteristic Error",[u.BleAlreadyConnected]:"Already connected to device",[u.BleLocationServicesDisabled]:"Location Services disabled",[u.BleTimeoutError]:"The connection has timed out unexpectedly.",[u.BleForceCleanRunPromise]:"Force clean Bluetooth run promise",[u.BleDeviceBondError]:"Bluetooth pairing failed",[u.BleCharacteristicNotifyChangeFailure]:"Characteristic Notify Change Failure",[u.BleTransportCallCanceled]:"Ble Transport call canceled",[u.BleDeviceDisconnected]:"Device disconnected",[u.BlePoweredOff]:"Bluetooth is turned off",[u.BleUnsupported]:"Bluetooth is not supported on this device",[u.RuntimeError]:"Runtime error",[u.PinInvalid]:"Pin invalid",[u.PinCancelled]:"Pin cancelled",[u.ActionCancelled]:"Action cancelled by user",[u.CallQueueActionCancelled]:"Action cancelled by user on call queue",[u.FirmwareError]:"Firmware installation failed",[u.ResponseUnexpectTypeError]:"Response type is not expected",[u.BridgeNetworkError]:"Bridge network error",[u.BridgeTimeoutError]:"Bridge network timeout",[u.BridgeNotInstalled]:"Bridge not installed",[u.BridgeDeviceDisconnected]:"Bridge device disconnected during action",[u.PollingTimeout]:"Polling timeout",[u.PollingStop]:"Polling stop",[u.BlindSignDisabled]:"Please confirm the BlindSign enabled",[u.UnexpectPassphrase]:"Unexpect passphrase",[u.FileAlreadyExists]:"File already exists",[u.CheckDownloadFileError]:"Check download file error",[u.NotInSigningMode]:"not in signing mode",[u.DataOverload]:"Params data overload",[u.BTCPsbtTooManyUtxos]:"PSBT too many utxos",[u.EmmcFileWriteFirmwareError]:"EMMC file write firmware error",[u.FirmwareVerificationFailed]:"Firmware verification failed",[u.BridgeNeedsPermission]:"Bridge needs permission",[u.FirmwareDowngradeNotAllowed]:"Firmware downgrade not allowed",[u.CosmosInvalidJsonMessage]:"Cosmos invalid JSON message, Only support Amino msgs.",[u.DeviceSettingsNotProvided]:"No setting provided",[u.DeviceSettingsLanguageNotSupport]:"Language not supported",[u.LowlevelTrasnportConnectError]:"Lowlevel transport connect error",[u.WebDeviceNotFoundOrNeedsPermission]:"Web-USB or Web-Bluetooth device not found or needs permission",[u.WebDevicePromptAccessError]:"Web-USB or Web-Bluetooth device prompt access error"},y=(J,N,ie)=>typeof J=="string"?new r(J):new r({errorCode:J,message:N??"",params:ie}),h=J=>J&&J.error instanceof r?{error:J.error.message,code:J.error.errorCode,params:J.error.params}:J&&J.error&&J.error.name==="AxiosError"?{error:J.error.message,code:u.BridgeNetworkError}:J&&J.error instanceof Error?{error:J.error.message,code:J.error.code}:J,m=J=>{for(const N of Object.values(u))if(g[N]===J)return y(N);return new r(J)},v=J=>{const N=String(J||"");return N.includes("LIBUSB_ERROR_ACCESS")?y(u.BridgeNeedsPermission,"LIBUSB_ERROR_ACCESS"):y(u.BridgeNetworkError,N)},E=({currentVersion:J,requireVersion:N,methodName:ie,firmwareType:be})=>{if((ie==null?void 0:ie.startsWith("btc"))===!1&&be===a.EFirmwareType.BitcoinOnly)return T(ie??"",be);const ye=ie?` for method '${ie}'`:"";return y(u.NewFirmwareUnRelease,`Device firmware version is too low${ye}, please update to the latest version`,{current:J,require:N,method:ie})},R=({currentVersion:J,requireVersion:N,methodName:ie,firmwareType:be})=>{if((ie==null?void 0:ie.startsWith("btc"))===!1&&be===a.EFirmwareType.BitcoinOnly)return T(ie??"",be);const ye=ie?` for method '${ie}'`:"";return y(u.CallMethodNeedUpgradeFirmware,`Device firmware version is too low${ye}, please update to ${N}`,{current:J,require:N,method:ie})},I=(J,N,ie,be)=>{const ye=ie||[],Ce={firmware:"firmware",ble:"BLE firmware"},K=ye.filter(Se=>Se in Ce),ve=()=>{const Se=[];return be!=null&&be.firmware&&Se.push(`firmware version: ${be.firmware}`),be!=null&&be.ble&&Se.push(`BLE version: ${be.ble}`),Se.length>0?` (${Se.join(", ")})`:""},fe=`Device ${K.map(Se=>Ce[Se]).join(" and ")} version is too low. ${ve()}`;return y(u.NewFirmwareForceUpdate,fe,{connectId:J,deviceId:N,versionTypes:ie,currentVersions:be})},l=(J,N,ie)=>{const be=ie?` Method '${ie}'`:"This method";return y(u.CallMethodDeprecated,`Device firmware version is too high. ${be} has been deprecated in ${N}`,{current:J,deprecated:N,method:ie})},c=(J,N,ie,be,ye)=>{const Ce=`Defective firmware detected (Serial: ${J}, SE: ${N}). Please update immediately.`;return y(u.DefectiveFirmware,Ce,{serialNo:J,seVersion:N,deviceType:ie,connectId:be,deviceId:ye})},T=(J,N)=>y(u.DeviceNotSupportMethod,"Device not support this method",{firmwareType:N.toString(),method:J});var w=Object.freeze({__proto__:null,HardwareError:r,HardwareErrorCode:u,HardwareErrorCodeMessage:g,TypedError:y,serializeError:h,CreateErrorByMessage:m,CreateHardwareErrorByBridgeError:v,createNewFirmwareUnReleaseHardwareError:E,createNeedUpgradeFirmwareHardwareError:R,createNewFirmwareForceUpdateHardwareError:I,createDeprecatedHardwareError:l,createDefectiveFirmwareError:c,createDeviceNotSupportMethodError:T});const A=[{vendorId:4617,productId:21440},{vendorId:4617,productId:21441},{vendorId:4617,productId:20298},{vendorId:4617,productId:20299}],M=[u.DeviceInitializeFailed,u.DeviceInterruptedFromOutside,u.DeviceInterruptedFromUser,u.DeviceCheckPassphraseStateError,u.ResponseUnexpectTypeError,u.PinInvalid,u.PinCancelled,u.UnexpectPassphrase],P=[u.DeviceInitializeFailed,u.ResponseUnexpectTypeError];a.EOneKeyBleMessageKeys=void 0,function(J){J.BLE_SELECT="$onekey-ble-select",J.BLE_SELECT_RESULT="$onekey-ble-select-result",J.BLE_STOP_SCAN="$onekey-ble-stop-scan",J.BLE_CANCEL_REQUEST="$onekey-ble-cancel-request",J.BLE_PRE_SELECT="$onekey-ble-pre-select",J.BLE_CLEAR_PRE_SELECT="$onekey-ble-clear-pre-select",J.BLE_PAIRING_REQUEST="$onekey-ble-pairing-request",J.BLE_PAIRING_RESPONSE="$onekey-ble-pairing-response",J.BLE_ENUMERATE="$onekey-ble-enumerate",J.BLE_ENUMERATE_RESULT="$onekey-ble-enumerate-result",J.BLE_DEVICE_DISCONNECTED="$onekey-ble-device-disconnected",J.BLE_AVAILABILITY_CHECK="$onekey-ble-availability-check",J.NOBLE_BLE_ENUMERATE="$onekey-noble-ble-enumerate",J.NOBLE_BLE_STOP_SCAN="$onekey-noble-ble-stop-scan",J.NOBLE_BLE_GET_DEVICE="$onekey-noble-ble-get-device",J.NOBLE_BLE_CONNECT="$onekey-noble-ble-connect",J.NOBLE_BLE_DISCONNECT="$onekey-noble-ble-disconnect",J.NOBLE_BLE_WRITE="$onekey-noble-ble-write",J.NOBLE_BLE_SUBSCRIBE="$onekey-noble-ble-subscribe",J.NOBLE_BLE_UNSUBSCRIBE="$onekey-noble-ble-unsubscribe",J.NOBLE_BLE_NOTIFICATION="$onekey-noble-ble-notification",J.NOBLE_BLE_CANCEL_PAIRING="$onekey-noble-ble-cancel-pairing"}(a.EOneKeyBleMessageKeys||(a.EOneKeyBleMessageKeys={}));const q="00000001-0000-1000-8000-00805f9b34fb",W="00000002-0000-1000-8000-00805f9b34fb",X="00000003-0000-1000-8000-00805f9b34fb",L=63,ue=35,Te=J=>{if(J.length<9)return!1;const[N,ie,be]=J;return String.fromCharCode(N)===String.fromCharCode(L)&&String.fromCharCode(ie)===String.fromCharCode(ue)&&String.fromCharCode(be)===String.fromCharCode(ue)},ne=(J,N)=>{var ie;return!!(!((ie=N==null?void 0:N.startsWith)===null||ie===void 0)&&ie.call(N,"MI")||J&&/(BixinKey\d{10})|(K\d{4})|(T\d{4})|(Touch\s\w{4})|(Pro\s\w{4})/i.exec(J))};function Q(J,N,ie,be){function ye(Ce){return Ce instanceof ie?Ce:new ie(function(K){K(Ce)})}return new(ie||(ie=Promise))(function(Ce,K){function ve(Se){try{fe(be.next(Se))}catch(_e){K(_e)}}function de(Se){try{fe(be.throw(Se))}catch(_e){K(_e)}}function fe(Se){Se.done?Ce(Se.value):ye(Se.value).then(ve,de)}fe((be=be.apply(J,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;function te(J,N){let ie=K=>{},be=K=>{},ye;const Ce=new Promise((K,ve)=>Q(this,void 0,void 0,function*(){if(ie=K,be=ve,typeof J=="function")try{yield J()}catch(de){ve(de)}typeof J=="string"&&(ye=J)}));return{id:ye,data:N,resolve:ie,reject:be,promise:Ce}}const Z=J=>new Promise(N=>{setTimeout(N,J)});a.EDeviceType=void 0,function(J){J.Unknown="unknown",J.Classic="classic",J.Classic1s="classic1s",J.ClassicPure="classicpure",J.Mini="mini",J.Touch="touch",J.Pro="pro"}(a.EDeviceType||(a.EDeviceType={})),a.CreateErrorByMessage=m,a.CreateHardwareErrorByBridgeError=v,a.ERRORS=w,a.ERROR_CODES_REQUIRE_DISCONNECT=P,a.ERROR_CODES_REQUIRE_RELEASE=M,a.HardwareError=r,a.HardwareErrorCode=u,a.HardwareErrorCodeMessage=g,a.ONEKEY_NOTIFY_CHARACTERISTIC_UUID=X,a.ONEKEY_SERVICE_UUID=q,a.ONEKEY_WEBUSB_FILTER=A,a.ONEKEY_WRITE_CHARACTERISTIC_UUID=W,a.TypedError=y,a.createDefectiveFirmwareError=c,a.createDeferred=te,a.createDeprecatedHardwareError=l,a.createDeviceNotSupportMethodError=T,a.createNeedUpgradeFirmwareHardwareError=R,a.createNewFirmwareForceUpdateHardwareError=I,a.createNewFirmwareUnReleaseHardwareError=E,a.isHeaderChunk=Te,a.isOnekeyDevice=ne,a.serializeError=h,a.wait=Z})(dist$5);/*! Axios v1.12.2 Copyright (c) 2025 Matt Zabriskie and contributors */function bind(a,n){return function(){return a.apply(n,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(a=>n=>{const r=toString.call(n);return a[r]||(a[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=a=>(a=a.toLowerCase(),n=>kindOf(n)===a),typeOfTest=a=>n=>typeof n===a,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(a){return a!==null&&!isUndefined(a)&&a.constructor!==null&&!isUndefined(a.constructor)&&isFunction$1(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(a){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(a):n=a&&a.buffer&&isArrayBuffer(a.buffer),n}const isString=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=a=>a!==null&&typeof a=="object",isBoolean=a=>a===!0||a===!1,isPlainObject=a=>{if(kindOf(a)!=="object")return!1;const n=getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(toStringTag in a)&&!(iterator in a)},isEmptyObject=a=>{if(!isObject(a)||isBuffer(a))return!1;try{return Object.keys(a).length===0&&Object.getPrototypeOf(a)===Object.prototype}catch{return!1}},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=a=>isObject(a)&&isFunction$1(a.pipe),isFormData=a=>{let n;return a&&(typeof FormData=="function"&&a instanceof FormData||isFunction$1(a.append)&&((n=kindOf(a))==="formdata"||n==="object"&&isFunction$1(a.toString)&&a.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(a,n,{allOwnKeys:r=!1}={}){if(a===null||typeof a>"u")return;let u,g;if(typeof a!="object"&&(a=[a]),isArray(a))for(u=0,g=a.length;u<g;u++)n.call(null,a[u],u,a);else{if(isBuffer(a))return;const y=r?Object.getOwnPropertyNames(a):Object.keys(a),h=y.length;let m;for(u=0;u<h;u++)m=y[u],n.call(null,a[m],m,a)}}function findKey(a,n){if(isBuffer(a))return null;n=n.toLowerCase();const r=Object.keys(a);let u=r.length,g;for(;u-- >0;)if(g=r[u],n===g.toLowerCase())return g;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal,isContextDefined=a=>!isUndefined(a)&&a!==_global;function merge(){const{caseless:a,skipUndefined:n}=isContextDefined(this)&&this||{},r={},u=(g,y)=>{const h=a&&findKey(r,y)||y;isPlainObject(r[h])&&isPlainObject(g)?r[h]=merge(r[h],g):isPlainObject(g)?r[h]=merge({},g):isArray(g)?r[h]=g.slice():(!n||!isUndefined(g))&&(r[h]=g)};for(let g=0,y=arguments.length;g<y;g++)arguments[g]&&forEach(arguments[g],u);return r}const extend=(a,n,r,{allOwnKeys:u}={})=>(forEach(n,(g,y)=>{r&&isFunction$1(g)?a[y]=bind(g,r):a[y]=g},{allOwnKeys:u}),a),stripBOM=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),inherits=(a,n,r,u)=>{a.prototype=Object.create(n.prototype,u),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:n.prototype}),r&&Object.assign(a.prototype,r)},toFlatObject=(a,n,r,u)=>{let g,y,h;const m={};if(n=n||{},a==null)return n;do{for(g=Object.getOwnPropertyNames(a),y=g.length;y-- >0;)h=g[y],(!u||u(h,a,n))&&!m[h]&&(n[h]=a[h],m[h]=!0);a=r!==!1&&getPrototypeOf(a)}while(a&&(!r||r(a,n))&&a!==Object.prototype);return n},endsWith=(a,n,r)=>{a=String(a),(r===void 0||r>a.length)&&(r=a.length),r-=n.length;const u=a.indexOf(n,r);return u!==-1&&u===r},toArray=a=>{if(!a)return null;if(isArray(a))return a;let n=a.length;if(!isNumber(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=a[n];return r},isTypedArray=(a=>n=>a&&n instanceof a)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(a,n)=>{const u=(a&&a[iterator]).call(a);let g;for(;(g=u.next())&&!g.done;){const y=g.value;n.call(a,y[0],y[1])}},matchAll=(a,n)=>{let r;const u=[];for(;(r=a.exec(n))!==null;)u.push(r);return u},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,u,g){return u.toUpperCase()+g}),hasOwnProperty=(({hasOwnProperty:a})=>(n,r)=>a.call(n,r))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(a,n)=>{const r=Object.getOwnPropertyDescriptors(a),u={};forEach(r,(g,y)=>{let h;(h=n(g,y,a))!==!1&&(u[y]=h||g)}),Object.defineProperties(a,u)},freezeMethods=a=>{reduceDescriptors(a,(n,r)=>{if(isFunction$1(a)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const u=a[r];if(isFunction$1(u)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet=(a,n)=>{const r={},u=g=>{g.forEach(y=>{r[y]=!0})};return isArray(a)?u(a):u(String(a).split(n)),r},noop$1=()=>{},toFiniteNumber=(a,n)=>a!=null&&Number.isFinite(a=+a)?a:n;function isSpecCompliantForm(a){return!!(a&&isFunction$1(a.append)&&a[toStringTag]==="FormData"&&a[iterator])}const toJSONObject=a=>{const n=new Array(10),r=(u,g)=>{if(isObject(u)){if(n.indexOf(u)>=0)return;if(isBuffer(u))return u;if(!("toJSON"in u)){n[g]=u;const y=isArray(u)?[]:{};return forEach(u,(h,m)=>{const v=r(h,g+1);!isUndefined(v)&&(y[m]=v)}),n[g]=void 0,y}}return u};return r(a,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=a=>a&&(isObject(a)||isFunction$1(a))&&isFunction$1(a.then)&&isFunction$1(a.catch),_setImmediate=((a,n)=>a?setImmediate:n?((r,u)=>(_global.addEventListener("message",({source:g,data:y})=>{g===_global&&y===r&&u.length&&u.shift()()},!1),g=>{u.push(g),_global.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",isFunction$1(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=a=>a!=null&&isFunction$1(a[iterator]);var utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isEmptyObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$1,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError(a,n,r,u,g){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),u&&(this.request=u),g&&(this.response=g,this.status=g.status?g.status:null)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{descriptors[a]={value:a}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(a,n,r,u,g,y)=>{const h=Object.create(prototype$1);utils$1.toFlatObject(a,h,function(R){return R!==Error.prototype},E=>E!=="isAxiosError");const m=a&&a.message?a.message:"Error",v=n==null&&a?a.code:n;return AxiosError.call(h,m,v,r,u,g),a&&h.cause==null&&Object.defineProperty(h,"cause",{value:a,configurable:!0}),h.name=a&&a.name||"Error",y&&Object.assign(h,y),h};var httpAdapter=null;function isVisitable(a){return utils$1.isPlainObject(a)||utils$1.isArray(a)}function removeBrackets(a){return utils$1.endsWith(a,"[]")?a.slice(0,-2):a}function renderKey(a,n,r){return a?a.concat(n).map(function(g,y){return g=removeBrackets(g),!r&&y?"["+g+"]":g}).join(r?".":""):n}function isFlatArray(a){return utils$1.isArray(a)&&!a.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(n){return/^is[A-Z]/.test(n)});function toFormData(a,n,r){if(!utils$1.isObject(a))throw new TypeError("target must be an object");n=n||new FormData,r=utils$1.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,A){return!utils$1.isUndefined(A[w])});const u=r.metaTokens,g=r.visitor||R,y=r.dots,h=r.indexes,v=(r.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(n);if(!utils$1.isFunction(g))throw new TypeError("visitor must be a function");function E(T){if(T===null)return"";if(utils$1.isDate(T))return T.toISOString();if(utils$1.isBoolean(T))return T.toString();if(!v&&utils$1.isBlob(T))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(T)||utils$1.isTypedArray(T)?v&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function R(T,w,A){let M=T;if(T&&!A&&typeof T=="object"){if(utils$1.endsWith(w,"{}"))w=u?w:w.slice(0,-2),T=JSON.stringify(T);else if(utils$1.isArray(T)&&isFlatArray(T)||(utils$1.isFileList(T)||utils$1.endsWith(w,"[]"))&&(M=utils$1.toArray(T)))return w=removeBrackets(w),M.forEach(function(q,W){!(utils$1.isUndefined(q)||q===null)&&n.append(h===!0?renderKey([w],W,y):h===null?w:w+"[]",E(q))}),!1}return isVisitable(T)?!0:(n.append(renderKey(A,w,y),E(T)),!1)}const I=[],l=Object.assign(predicates,{defaultVisitor:R,convertValue:E,isVisitable});function c(T,w){if(!utils$1.isUndefined(T)){if(I.indexOf(T)!==-1)throw Error("Circular reference detected in "+w.join("."));I.push(T),utils$1.forEach(T,function(M,P){(!(utils$1.isUndefined(M)||M===null)&&g.call(n,M,utils$1.isString(P)?P.trim():P,w,l))===!0&&c(M,w?w.concat(P):[P])}),I.pop()}}if(!utils$1.isObject(a))throw new TypeError("data must be an object");return c(a),n}function encode$1(a){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(u){return n[u]})}function AxiosURLSearchParams(a,n){this._pairs=[],a&&toFormData(a,this,n)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(n,r){this._pairs.push([n,r])};prototype.toString=function(n){const r=n?function(u){return n.call(this,u,encode$1)}:encode$1;return this._pairs.map(function(g){return r(g[0])+"="+r(g[1])},"").join("&")};function encode(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function buildURL(a,n,r){if(!n)return a;const u=r&&r.encode||encode;utils$1.isFunction(r)&&(r={serialize:r});const g=r&&r.serialize;let y;if(g?y=g(n,r):y=utils$1.isURLSearchParams(n)?n.toString():new AxiosURLSearchParams(n,r).toString(u),y){const h=a.indexOf("#");h!==-1&&(a=a.slice(0,h)),a+=(a.indexOf("?")===-1?"?":"&")+y}return a}class InterceptorManager{constructor(){this.handlers=[]}use(n,r,u){return this.handlers.push({fulfilled:n,rejected:r,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){utils$1.forEach(this.handlers,function(u){u!==null&&n(u)})}}var InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]};const hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost";var utils$2=Object.freeze({__proto__:null,hasBrowserEnv,hasStandardBrowserWebWorkerEnv,hasStandardBrowserEnv,navigator:_navigator,origin}),platform={...utils$2,...platform$1};function toURLEncodedForm(a,n){return toFormData(a,new platform.classes.URLSearchParams,{visitor:function(r,u,g,y){return platform.isNode&&utils$1.isBuffer(r)?(this.append(u,r.toString("base64")),!1):y.defaultVisitor.apply(this,arguments)},...n})}function parsePropPath(a){return utils$1.matchAll(/\w+|\[(\w*)]/g,a).map(n=>n[0]==="[]"?"":n[1]||n[0])}function arrayToObject(a){const n={},r=Object.keys(a);let u;const g=r.length;let y;for(u=0;u<g;u++)y=r[u],n[y]=a[y];return n}function formDataToJSON(a){function n(r,u,g,y){let h=r[y++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),v=y>=r.length;return h=!h&&utils$1.isArray(g)?g.length:h,v?(utils$1.hasOwnProp(g,h)?g[h]=[g[h],u]:g[h]=u,!m):((!g[h]||!utils$1.isObject(g[h]))&&(g[h]=[]),n(r,u,g[h],y)&&utils$1.isArray(g[h])&&(g[h]=arrayToObject(g[h])),!m)}if(utils$1.isFormData(a)&&utils$1.isFunction(a.entries)){const r={};return utils$1.forEachEntry(a,(u,g)=>{n(parsePropPath(u),g,r,0)}),r}return null}function stringifySafely(a,n,r){if(utils$1.isString(a))try{return(n||JSON.parse)(a),utils$1.trim(a)}catch(u){if(u.name!=="SyntaxError")throw u}return(r||JSON.stringify)(a)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(n,r){const u=r.getContentType()||"",g=u.indexOf("application/json")>-1,y=utils$1.isObject(n);if(y&&utils$1.isHTMLForm(n)&&(n=new FormData(n)),utils$1.isFormData(n))return g?JSON.stringify(formDataToJSON(n)):n;if(utils$1.isArrayBuffer(n)||utils$1.isBuffer(n)||utils$1.isStream(n)||utils$1.isFile(n)||utils$1.isBlob(n)||utils$1.isReadableStream(n))return n;if(utils$1.isArrayBufferView(n))return n.buffer;if(utils$1.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let m;if(y){if(u.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(n,this.formSerializer).toString();if((m=utils$1.isFileList(n))||u.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return toFormData(m?{"files[]":n}:n,v&&new v,this.formSerializer)}}return y||g?(r.setContentType("application/json",!1),stringifySafely(n)):n}],transformResponse:[function(n){const r=this.transitional||defaults.transitional,u=r&&r.forcedJSONParsing,g=this.responseType==="json";if(utils$1.isResponse(n)||utils$1.isReadableStream(n))return n;if(n&&utils$1.isString(n)&&(u&&!this.responseType||g)){const h=!(r&&r.silentJSONParsing)&&g;try{return JSON.parse(n,this.parseReviver)}catch(m){if(h)throw m.name==="SyntaxError"?AxiosError.from(m,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):m}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],a=>{defaults.headers[a]={}});var defaults$1=defaults;const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var parseHeaders=a=>{const n={};let r,u,g;return a&&a.split(`
`).forEach(function(h){g=h.indexOf(":"),r=h.substring(0,g).trim().toLowerCase(),u=h.substring(g+1).trim(),!(!r||n[r]&&ignoreDuplicateOf[r])&&(r==="set-cookie"?n[r]?n[r].push(u):n[r]=[u]:n[r]=n[r]?n[r]+", "+u:u)}),n};const $internals=Symbol("internals");function normalizeHeader(a){return a&&String(a).trim().toLowerCase()}function normalizeValue(a){return a===!1||a==null?a:utils$1.isArray(a)?a.map(normalizeValue):String(a)}function parseTokens(a){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let u;for(;u=r.exec(a);)n[u[1]]=u[2];return n}const isValidHeaderName=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function matchHeaderValue(a,n,r,u,g){if(utils$1.isFunction(u))return u.call(this,n,r);if(g&&(n=r),!!utils$1.isString(n)){if(utils$1.isString(u))return n.indexOf(u)!==-1;if(utils$1.isRegExp(u))return u.test(n)}}function formatHeader(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,u)=>r.toUpperCase()+u)}function buildAccessors(a,n){const r=utils$1.toCamelCase(" "+n);["get","set","has"].forEach(u=>{Object.defineProperty(a,u+r,{value:function(g,y,h){return this[u].call(this,n,g,y,h)},configurable:!0})})}class AxiosHeaders{constructor(n){n&&this.set(n)}set(n,r,u){const g=this;function y(m,v,E){const R=normalizeHeader(v);if(!R)throw new Error("header name must be a non-empty string");const I=utils$1.findKey(g,R);(!I||g[I]===void 0||E===!0||E===void 0&&g[I]!==!1)&&(g[I||v]=normalizeValue(m))}const h=(m,v)=>utils$1.forEach(m,(E,R)=>y(E,R,v));if(utils$1.isPlainObject(n)||n instanceof this.constructor)h(n,r);else if(utils$1.isString(n)&&(n=n.trim())&&!isValidHeaderName(n))h(parseHeaders(n),r);else if(utils$1.isObject(n)&&utils$1.isIterable(n)){let m={},v,E;for(const R of n){if(!utils$1.isArray(R))throw TypeError("Object iterator must return a key-value pair");m[E=R[0]]=(v=m[E])?utils$1.isArray(v)?[...v,R[1]]:[v,R[1]]:R[1]}h(m,r)}else n!=null&&y(r,n,u);return this}get(n,r){if(n=normalizeHeader(n),n){const u=utils$1.findKey(this,n);if(u){const g=this[u];if(!r)return g;if(r===!0)return parseTokens(g);if(utils$1.isFunction(r))return r.call(this,g,u);if(utils$1.isRegExp(r))return r.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=normalizeHeader(n),n){const u=utils$1.findKey(this,n);return!!(u&&this[u]!==void 0&&(!r||matchHeaderValue(this,this[u],u,r)))}return!1}delete(n,r){const u=this;let g=!1;function y(h){if(h=normalizeHeader(h),h){const m=utils$1.findKey(u,h);m&&(!r||matchHeaderValue(u,u[m],m,r))&&(delete u[m],g=!0)}}return utils$1.isArray(n)?n.forEach(y):y(n),g}clear(n){const r=Object.keys(this);let u=r.length,g=!1;for(;u--;){const y=r[u];(!n||matchHeaderValue(this,this[y],y,n,!0))&&(delete this[y],g=!0)}return g}normalize(n){const r=this,u={};return utils$1.forEach(this,(g,y)=>{const h=utils$1.findKey(u,y);if(h){r[h]=normalizeValue(g),delete r[y];return}const m=n?formatHeader(y):String(y).trim();m!==y&&delete r[y],r[m]=normalizeValue(g),u[m]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return utils$1.forEach(this,(u,g)=>{u!=null&&u!==!1&&(r[g]=n&&utils$1.isArray(u)?u.join(", "):u)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const u=new this(n);return r.forEach(g=>u.set(g)),u}static accessor(n){const u=(this[$internals]=this[$internals]={accessors:{}}).accessors,g=this.prototype;function y(h){const m=normalizeHeader(h);u[m]||(buildAccessors(g,h),u[m]=!0)}return utils$1.isArray(n)?n.forEach(y):y(n),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:a},n)=>{let r=n[0].toUpperCase()+n.slice(1);return{get:()=>a,set(u){this[r]=u}}});utils$1.freezeMethods(AxiosHeaders);var AxiosHeaders$1=AxiosHeaders;function transformData(a,n){const r=this||defaults$1,u=n||r,g=AxiosHeaders$1.from(u.headers);let y=u.data;return utils$1.forEach(a,function(m){y=m.call(r,y,g.normalize(),n?n.status:void 0)}),g.normalize(),y}function isCancel(a){return!!(a&&a.__CANCEL__)}function CanceledError(a,n,r){AxiosError.call(this,a??"canceled",AxiosError.ERR_CANCELED,n,r),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(a,n,r){const u=r.config.validateStatus;!r.status||!u||u(r.status)?a(r):n(new AxiosError("Request failed with status code "+r.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function parseProtocol(a){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return n&&n[1]||""}function speedometer(a,n){a=a||10;const r=new Array(a),u=new Array(a);let g=0,y=0,h;return n=n!==void 0?n:1e3,function(v){const E=Date.now(),R=u[y];h||(h=E),r[g]=v,u[g]=E;let I=y,l=0;for(;I!==g;)l+=r[I++],I=I%a;if(g=(g+1)%a,g===y&&(y=(y+1)%a),E-h<n)return;const c=R&&E-R;return c?Math.round(l*1e3/c):void 0}}function throttle(a,n){let r=0,u=1e3/n,g,y;const h=(E,R=Date.now())=>{r=R,g=null,y&&(clearTimeout(y),y=null),a(...E)};return[(...E)=>{const R=Date.now(),I=R-r;I>=u?h(E,R):(g=E,y||(y=setTimeout(()=>{y=null,h(g)},u-I)))},()=>g&&h(g)]}const progressEventReducer=(a,n,r=3)=>{let u=0;const g=speedometer(50,250);return throttle(y=>{const h=y.loaded,m=y.lengthComputable?y.total:void 0,v=h-u,E=g(v),R=h<=m;u=h;const I={loaded:h,total:m,progress:m?h/m:void 0,bytes:v,rate:E||void 0,estimated:E&&m&&R?(m-h)/E:void 0,event:y,lengthComputable:m!=null,[n?"download":"upload"]:!0};a(I)},r)},progressEventDecorator=(a,n)=>{const r=a!=null;return[u=>n[0]({lengthComputable:r,total:a,loaded:u}),n[1]]},asyncDecorator=a=>(...n)=>utils$1.asap(()=>a(...n));var isURLSameOrigin=platform.hasStandardBrowserEnv?((a,n)=>r=>(r=new URL(r,platform.origin),a.protocol===r.protocol&&a.host===r.host&&(n||a.port===r.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(a,n,r,u,g,y){const h=[a+"="+encodeURIComponent(n)];utils$1.isNumber(r)&&h.push("expires="+new Date(r).toGMTString()),utils$1.isString(u)&&h.push("path="+u),utils$1.isString(g)&&h.push("domain="+g),y===!0&&h.push("secure"),document.cookie=h.join("; ")},read(a){const n=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function combineURLs(a,n){return n?a.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):a}function buildFullPath(a,n,r){let u=!isAbsoluteURL(n);return a&&(u||r==!1)?combineURLs(a,n):n}const headersToObject=a=>a instanceof AxiosHeaders$1?{...a}:a;function mergeConfig(a,n){n=n||{};const r={};function u(E,R,I,l){return utils$1.isPlainObject(E)&&utils$1.isPlainObject(R)?utils$1.merge.call({caseless:l},E,R):utils$1.isPlainObject(R)?utils$1.merge({},R):utils$1.isArray(R)?R.slice():R}function g(E,R,I,l){if(utils$1.isUndefined(R)){if(!utils$1.isUndefined(E))return u(void 0,E,I,l)}else return u(E,R,I,l)}function y(E,R){if(!utils$1.isUndefined(R))return u(void 0,R)}function h(E,R){if(utils$1.isUndefined(R)){if(!utils$1.isUndefined(E))return u(void 0,E)}else return u(void 0,R)}function m(E,R,I){if(I in n)return u(E,R);if(I in a)return u(void 0,E)}const v={url:y,method:y,data:y,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(E,R,I)=>g(headersToObject(E),headersToObject(R),I,!0)};return utils$1.forEach(Object.keys({...a,...n}),function(R){const I=v[R]||g,l=I(a[R],n[R],R);utils$1.isUndefined(l)&&I!==m||(r[R]=l)}),r}var resolveConfig=a=>{const n=mergeConfig({},a);let{data:r,withXSRFToken:u,xsrfHeaderName:g,xsrfCookieName:y,headers:h,auth:m}=n;if(n.headers=h=AxiosHeaders$1.from(h),n.url=buildURL(buildFullPath(n.baseURL,n.url,n.allowAbsoluteUrls),a.params,a.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),utils$1.isFormData(r)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(utils$1.isFunction(r.getHeaders)){const v=r.getHeaders(),E=["content-type","content-length"];Object.entries(v).forEach(([R,I])=>{E.includes(R.toLowerCase())&&h.set(R,I)})}}if(platform.hasStandardBrowserEnv&&(u&&utils$1.isFunction(u)&&(u=u(n)),u||u!==!1&&isURLSameOrigin(n.url))){const v=g&&y&&cookies.read(y);v&&h.set(g,v)}return n};const isXHRAdapterSupported=typeof XMLHttpRequest<"u";var xhrAdapter=isXHRAdapterSupported&&function(a){return new Promise(function(r,u){const g=resolveConfig(a);let y=g.data;const h=AxiosHeaders$1.from(g.headers).normalize();let{responseType:m,onUploadProgress:v,onDownloadProgress:E}=g,R,I,l,c,T;function w(){c&&c(),T&&T(),g.cancelToken&&g.cancelToken.unsubscribe(R),g.signal&&g.signal.removeEventListener("abort",R)}let A=new XMLHttpRequest;A.open(g.method.toUpperCase(),g.url,!0),A.timeout=g.timeout;function M(){if(!A)return;const q=AxiosHeaders$1.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),X={data:!m||m==="text"||m==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:q,config:a,request:A};settle(function(ue){r(ue),w()},function(ue){u(ue),w()},X),A=null}"onloadend"in A?A.onloadend=M:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(M)},A.onabort=function(){A&&(u(new AxiosError("Request aborted",AxiosError.ECONNABORTED,a,A)),A=null)},A.onerror=function(W){const X=W&&W.message?W.message:"Network Error",L=new AxiosError(X,AxiosError.ERR_NETWORK,a,A);L.event=W||null,u(L),A=null},A.ontimeout=function(){let W=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const X=g.transitional||transitionalDefaults;g.timeoutErrorMessage&&(W=g.timeoutErrorMessage),u(new AxiosError(W,X.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,a,A)),A=null},y===void 0&&h.setContentType(null),"setRequestHeader"in A&&utils$1.forEach(h.toJSON(),function(W,X){A.setRequestHeader(X,W)}),utils$1.isUndefined(g.withCredentials)||(A.withCredentials=!!g.withCredentials),m&&m!=="json"&&(A.responseType=g.responseType),E&&([l,T]=progressEventReducer(E,!0),A.addEventListener("progress",l)),v&&A.upload&&([I,c]=progressEventReducer(v),A.upload.addEventListener("progress",I),A.upload.addEventListener("loadend",c)),(g.cancelToken||g.signal)&&(R=q=>{A&&(u(!q||q.type?new CanceledError(null,a,A):q),A.abort(),A=null)},g.cancelToken&&g.cancelToken.subscribe(R),g.signal&&(g.signal.aborted?R():g.signal.addEventListener("abort",R)));const P=parseProtocol(g.url);if(P&&platform.protocols.indexOf(P)===-1){u(new AxiosError("Unsupported protocol "+P+":",AxiosError.ERR_BAD_REQUEST,a));return}A.send(y||null)})};const composeSignals=(a,n)=>{const{length:r}=a=a?a.filter(Boolean):[];if(n||r){let u=new AbortController,g;const y=function(E){if(!g){g=!0,m();const R=E instanceof Error?E:this.reason;u.abort(R instanceof AxiosError?R:new CanceledError(R instanceof Error?R.message:R))}};let h=n&&setTimeout(()=>{h=null,y(new AxiosError(`timeout ${n} of ms exceeded`,AxiosError.ETIMEDOUT))},n);const m=()=>{a&&(h&&clearTimeout(h),h=null,a.forEach(E=>{E.unsubscribe?E.unsubscribe(y):E.removeEventListener("abort",y)}),a=null)};a.forEach(E=>E.addEventListener("abort",y));const{signal:v}=u;return v.unsubscribe=()=>utils$1.asap(m),v}};var composeSignals$1=composeSignals;const streamChunk=function*(a,n){let r=a.byteLength;if(r<n){yield a;return}let u=0,g;for(;u<r;)g=u+n,yield a.slice(u,g),u=g},readBytes=async function*(a,n){for await(const r of readStream(a))yield*streamChunk(r,n)},readStream=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const n=a.getReader();try{for(;;){const{done:r,value:u}=await n.read();if(r)break;yield u}}finally{await n.cancel()}},trackStream=(a,n,r,u)=>{const g=readBytes(a,n);let y=0,h,m=v=>{h||(h=!0,u&&u(v))};return new ReadableStream({async pull(v){try{const{done:E,value:R}=await g.next();if(E){m(),v.close();return}let I=R.byteLength;if(r){let l=y+=I;r(l)}v.enqueue(new Uint8Array(R))}catch(E){throw m(E),E}},cancel(v){return m(v),g.return()}},{highWaterMark:2})},DEFAULT_CHUNK_SIZE=64*1024,{isFunction}=utils$1,globalFetchAPI=(({Request:a,Response:n})=>({Request:a,Response:n}))(utils$1.global),{ReadableStream:ReadableStream$1,TextEncoder:TextEncoder$1}=utils$1.global,test=(a,...n)=>{try{return!!a(...n)}catch{return!1}},factory$1=a=>{a=utils$1.merge.call({skipUndefined:!0},globalFetchAPI,a);const{fetch:n,Request:r,Response:u}=a,g=n?isFunction(n):typeof fetch=="function",y=isFunction(r),h=isFunction(u);if(!g)return!1;const m=g&&isFunction(ReadableStream$1),v=g&&(typeof TextEncoder$1=="function"?(T=>w=>T.encode(w))(new TextEncoder$1):async T=>new Uint8Array(await new r(T).arrayBuffer())),E=y&&m&&test(()=>{let T=!1;const w=new r(platform.origin,{body:new ReadableStream$1,method:"POST",get duplex(){return T=!0,"half"}}).headers.has("Content-Type");return T&&!w}),R=h&&m&&test(()=>utils$1.isReadableStream(new u("").body)),I={stream:R&&(T=>T.body)};g&&["text","arrayBuffer","blob","formData","stream"].forEach(T=>{!I[T]&&(I[T]=(w,A)=>{let M=w&&w[T];if(M)return M.call(w);throw new AxiosError(`Response type '${T}' is not supported`,AxiosError.ERR_NOT_SUPPORT,A)})});const l=async T=>{if(T==null)return 0;if(utils$1.isBlob(T))return T.size;if(utils$1.isSpecCompliantForm(T))return(await new r(platform.origin,{method:"POST",body:T}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(T)||utils$1.isArrayBuffer(T))return T.byteLength;if(utils$1.isURLSearchParams(T)&&(T=T+""),utils$1.isString(T))return(await v(T)).byteLength},c=async(T,w)=>{const A=utils$1.toFiniteNumber(T.getContentLength());return A??l(w)};return async T=>{let{url:w,method:A,data:M,signal:P,cancelToken:q,timeout:W,onDownloadProgress:X,onUploadProgress:L,responseType:ue,headers:Te,withCredentials:ne="same-origin",fetchOptions:Q}=resolveConfig(T),te=n||fetch;ue=ue?(ue+"").toLowerCase():"text";let Z=composeSignals$1([P,q&&q.toAbortSignal()],W),J=null;const N=Z&&Z.unsubscribe&&(()=>{Z.unsubscribe()});let ie;try{if(L&&E&&A!=="get"&&A!=="head"&&(ie=await c(Te,M))!==0){let de=new r(w,{method:"POST",body:M,duplex:"half"}),fe;if(utils$1.isFormData(M)&&(fe=de.headers.get("content-type"))&&Te.setContentType(fe),de.body){const[Se,_e]=progressEventDecorator(ie,progressEventReducer(asyncDecorator(L)));M=trackStream(de.body,DEFAULT_CHUNK_SIZE,Se,_e)}}utils$1.isString(ne)||(ne=ne?"include":"omit");const be=y&&"credentials"in r.prototype,ye={...Q,signal:Z,method:A.toUpperCase(),headers:Te.normalize().toJSON(),body:M,duplex:"half",credentials:be?ne:void 0};J=y&&new r(w,ye);let Ce=await(y?te(J,Q):te(w,ye));const K=R&&(ue==="stream"||ue==="response");if(R&&(X||K&&N)){const de={};["status","statusText","headers"].forEach(Ne=>{de[Ne]=Ce[Ne]});const fe=utils$1.toFiniteNumber(Ce.headers.get("content-length")),[Se,_e]=X&&progressEventDecorator(fe,progressEventReducer(asyncDecorator(X),!0))||[];Ce=new u(trackStream(Ce.body,DEFAULT_CHUNK_SIZE,Se,()=>{_e&&_e(),N&&N()}),de)}ue=ue||"text";let ve=await I[utils$1.findKey(I,ue)||"text"](Ce,T);return!K&&N&&N(),await new Promise((de,fe)=>{settle(de,fe,{data:ve,headers:AxiosHeaders$1.from(Ce.headers),status:Ce.status,statusText:Ce.statusText,config:T,request:J})})}catch(be){throw N&&N(),be&&be.name==="TypeError"&&/Load failed|fetch/i.test(be.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,T,J),{cause:be.cause||be}):AxiosError.from(be,be&&be.code,T,J)}}},seedCache=new Map,getFetch=a=>{let n=a?a.env:{};const{fetch:r,Request:u,Response:g}=n,y=[u,g,r];let h=y.length,m=h,v,E,R=seedCache;for(;m--;)v=y[m],E=R.get(v),E===void 0&&R.set(v,E=m?new Map:factory$1(n)),R=E;return E};getFetch();const knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:{get:getFetch}};utils$1.forEach(knownAdapters,(a,n)=>{if(a){try{Object.defineProperty(a,"name",{value:n})}catch{}Object.defineProperty(a,"adapterName",{value:n})}});const renderReason=a=>`- ${a}`,isResolvedHandle=a=>utils$1.isFunction(a)||a===null||a===!1;var adapters={getAdapter:(a,n)=>{a=utils$1.isArray(a)?a:[a];const{length:r}=a;let u,g;const y={};for(let h=0;h<r;h++){u=a[h];let m;if(g=u,!isResolvedHandle(u)&&(g=knownAdapters[(m=String(u)).toLowerCase()],g===void 0))throw new AxiosError(`Unknown adapter '${m}'`);if(g&&(utils$1.isFunction(g)||(g=g.get(n))))break;y[m||"#"+h]=g}if(!g){const h=Object.entries(y).map(([v,E])=>`adapter ${v} `+(E===!1?"is not supported by the environment":"is not available in the build"));let m=r?h.length>1?`since :
`+h.map(renderReason).join(`
`):" "+renderReason(h[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return g},adapters:knownAdapters};function throwIfCancellationRequested(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new CanceledError(null,a)}function dispatchRequest(a){return throwIfCancellationRequested(a),a.headers=AxiosHeaders$1.from(a.headers),a.data=transformData.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(a.adapter||defaults$1.adapter,a)(a).then(function(u){return throwIfCancellationRequested(a),u.data=transformData.call(a,a.transformResponse,u),u.headers=AxiosHeaders$1.from(u.headers),u},function(u){return isCancel(u)||(throwIfCancellationRequested(a),u&&u.response&&(u.response.data=transformData.call(a,a.transformResponse,u.response),u.response.headers=AxiosHeaders$1.from(u.response.headers))),Promise.reject(u)})}const VERSION="1.12.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((a,n)=>{validators$1[a]=function(u){return typeof u===a||"a"+(n<1?"n ":" ")+a}});const deprecatedWarnings={};validators$1.transitional=function(n,r,u){function g(y,h){return"[Axios v"+VERSION+"] Transitional option '"+y+"'"+h+(u?". "+u:"")}return(y,h,m)=>{if(n===!1)throw new AxiosError(g(h," has been removed"+(r?" in "+r:"")),AxiosError.ERR_DEPRECATED);return r&&!deprecatedWarnings[h]&&(deprecatedWarnings[h]=!0,console.warn(g(h," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(y,h,m):!0}};validators$1.spelling=function(n){return(r,u)=>(console.warn(`${u} is likely a misspelling of ${n}`),!0)};function assertOptions(a,n,r){if(typeof a!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const u=Object.keys(a);let g=u.length;for(;g-- >0;){const y=u[g],h=n[y];if(h){const m=a[y],v=m===void 0||h(m,y,a);if(v!==!0)throw new AxiosError("option "+y+" must be "+v,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new AxiosError("Unknown option "+y,AxiosError.ERR_BAD_OPTION)}}var validator={assertOptions,validators:validators$1};const validators=validator.validators;class Axios{constructor(n){this.defaults=n||{},this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}async request(n,r){try{return await this._request(n,r)}catch(u){if(u instanceof Error){let g={};Error.captureStackTrace?Error.captureStackTrace(g):g=new Error;const y=g.stack?g.stack.replace(/^.+\n/,""):"";try{u.stack?y&&!String(u.stack).endsWith(y.replace(/^.+\n.+\n/,""))&&(u.stack+=`
`+y):u.stack=y}catch{}}throw u}}_request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=mergeConfig(this.defaults,r);const{transitional:u,paramsSerializer:g,headers:y}=r;u!==void 0&&validator.assertOptions(u,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),g!=null&&(utils$1.isFunction(g)?r.paramsSerializer={serialize:g}:validator.assertOptions(g,{encode:validators.function,serialize:validators.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),validator.assertOptions(r,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let h=y&&utils$1.merge(y.common,y[r.method]);y&&utils$1.forEach(["delete","get","head","post","put","patch","common"],T=>{delete y[T]}),r.headers=AxiosHeaders$1.concat(h,y);const m=[];let v=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(v=v&&w.synchronous,m.unshift(w.fulfilled,w.rejected))});const E=[];this.interceptors.response.forEach(function(w){E.push(w.fulfilled,w.rejected)});let R,I=0,l;if(!v){const T=[dispatchRequest.bind(this),void 0];for(T.unshift(...m),T.push(...E),l=T.length,R=Promise.resolve(r);I<l;)R=R.then(T[I++],T[I++]);return R}l=m.length;let c=r;for(;I<l;){const T=m[I++],w=m[I++];try{c=T(c)}catch(A){w.call(this,A);break}}try{R=dispatchRequest.call(this,c)}catch(T){return Promise.reject(T)}for(I=0,l=E.length;I<l;)R=R.then(E[I++],E[I++]);return R}getUri(n){n=mergeConfig(this.defaults,n);const r=buildFullPath(n.baseURL,n.url,n.allowAbsoluteUrls);return buildURL(r,n.params,n.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function(n){Axios.prototype[n]=function(r,u){return this.request(mergeConfig(u||{},{method:n,url:r,data:(u||{}).data}))}});utils$1.forEach(["post","put","patch"],function(n){function r(u){return function(y,h,m){return this.request(mergeConfig(m||{},{method:n,headers:u?{"Content-Type":"multipart/form-data"}:{},url:y,data:h}))}}Axios.prototype[n]=r(),Axios.prototype[n+"Form"]=r(!0)});var Axios$1=Axios;class CancelToken{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(y){r=y});const u=this;this.promise.then(g=>{if(!u._listeners)return;let y=u._listeners.length;for(;y-- >0;)u._listeners[y](g);u._listeners=null}),this.promise.then=g=>{let y;const h=new Promise(m=>{u.subscribe(m),y=m}).then(g);return h.cancel=function(){u.unsubscribe(y)},h},n(function(y,h,m){u.reason||(u.reason=new CanceledError(y,h,m),r(u.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const n=new AbortController,r=u=>{n.abort(u)};return this.subscribe(r),n.signal.unsubscribe=()=>this.unsubscribe(r),n.signal}static source(){let n;return{token:new CancelToken(function(g){n=g}),cancel:n}}}var CancelToken$1=CancelToken;function spread(a){return function(r){return a.apply(null,r)}}function isAxiosError(a){return utils$1.isObject(a)&&a.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([a,n])=>{HttpStatusCode[n]=a});var HttpStatusCode$1=HttpStatusCode;function createInstance(a){const n=new Axios$1(a),r=bind(Axios$1.prototype.request,n);return utils$1.extend(r,Axios$1.prototype,n,{allOwnKeys:!0}),utils$1.extend(r,n,null,{allOwnKeys:!0}),r.create=function(g){return createInstance(mergeConfig(a,g))},r}const axios$2=createInstance(defaults$1);axios$2.Axios=Axios$1;axios$2.CanceledError=CanceledError;axios$2.CancelToken=CancelToken$1;axios$2.isCancel=isCancel;axios$2.VERSION=VERSION;axios$2.toFormData=toFormData;axios$2.AxiosError=AxiosError;axios$2.Cancel=axios$2.CanceledError;axios$2.all=function(n){return Promise.all(n)};axios$2.spread=spread;axios$2.isAxiosError=isAxiosError;axios$2.mergeConfig=mergeConfig;axios$2.AxiosHeaders=AxiosHeaders$1;axios$2.formToJSON=a=>formDataToJSON(utils$1.isHTMLForm(a)?new FormData(a):a);axios$2.getAdapter=adapters.getAdapter;axios$2.HttpStatusCode=HttpStatusCode$1;axios$2.default=axios$2;var axios_1=axios$2,lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(a,n){(function(){var r,u="4.17.23",g=200,y="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",m="Invalid `variable` option passed into `_.template`",v="__lodash_hash_undefined__",E=500,R="__lodash_placeholder__",I=1,l=2,c=4,T=1,w=2,A=1,M=2,P=4,q=8,W=16,X=32,L=64,ue=128,Te=256,ne=512,Q=30,te="...",Z=800,J=16,N=1,ie=2,be=3,ye=1/0,Ce=9007199254740991,K=17976931348623157e292,ve=NaN,de=4294967295,fe=de-1,Se=de>>>1,_e=[["ary",ue],["bind",A],["bindKey",M],["curry",q],["curryRight",W],["flip",ne],["partial",X],["partialRight",L],["rearg",Te]],Ne="[object Arguments]",d0="[object Array]",x0="[object AsyncFunction]",Je="[object Boolean]",e0="[object Date]",Y="[object DOMException]",oe="[object Error]",b="[object Function]",ce="[object GeneratorFunction]",O="[object Map]",j="[object Number]",G="[object Null]",k="[object Object]",D="[object Promise]",F="[object Proxy]",$="[object RegExp]",ae="[object Set]",ee="[object String]",me="[object Symbol]",xe="[object Undefined]",Me="[object WeakMap]",Be="[object WeakSet]",$e="[object ArrayBuffer]",Ge="[object DataView]",R0="[object Float32Array]",at="[object Float64Array]",X0="[object Int8Array]",yt="[object Int16Array]",h0="[object Int32Array]",ut="[object Uint8Array]",c0="[object Uint8ClampedArray]",D0="[object Uint16Array]",I0="[object Uint32Array]",Wr=/\b__p \+= '';/g,zr=/\b(__p \+=) '' \+/g,Vs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Kr=/&(?:amp|lt|gt|quot|#39);/g,Xt=/[&<>"']/g,br=RegExp(Kr.source),Gs=RegExp(Xt.source),wd=/<%-([\s\S]+?)%>/g,na=/<%([\s\S]+?)%>/g,aa=/<%=([\s\S]+?)%>/g,oa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,da=/^\w*$/,fa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tr=/[\\^$.*+?()[\]{}|]/g,mi=RegExp(Tr.source),Er=/^\s+/,ua=/\s/,Ws=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zs=/\{\n\/\* \[wrapped with (.+)\] \*/,Gi=/,? & /,Wi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Zr=/[()=,{}\[\]\/\s]/,ca=/\\(\\)?/g,w0=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zi=/\w*$/,Ki=/^[-+]0x[0-9a-f]+$/i,Ze=/^0b[01]+$/i,la=/^\[object .+?Constructor\]$/,Ks=/^0o[0-7]+$/i,ur=/^(?:0|[1-9]\d*)$/,pa=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qt=/($^)/,U0=/['\n\r\u2028\u2029\\]/g,y0="\\ud800-\\udfff",Yr="\\u0300-\\u036f",xr="\\ufe20-\\ufe2f",Sd="\\u20d0-\\u20ff",_i=Yr+xr+Sd,rt="\\u2700-\\u27bf",Zi="a-z\\xdf-\\xf6\\xf8-\\xff",vi="\\xac\\xb1\\xd7\\xf7",ha="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ya="\\u2000-\\u206f",Rd=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ga="A-Z\\xc0-\\xd6\\xd8-\\xde",ma="\\ufe0e\\ufe0f",Zs=vi+ha+ya+Rd,Xr="[']",_a="["+y0+"]",Ye="["+Zs+"]",He="["+_i+"]",va="\\d+",Ad="["+rt+"]",ba="["+Zi+"]",Ta="[^"+y0+Zs+va+rt+Zi+ga+"]",Yi="\\ud83c[\\udffb-\\udfff]",Ys="(?:"+He+"|"+Yi+")",wr="[^"+y0+"]",Q0="(?:\\ud83c[\\udde6-\\uddff]){2}",Ft="[\\ud800-\\udbff][\\udc00-\\udfff]",Jr="["+ga+"]",Ea="\\u200d",wa="(?:"+ba+"|"+Ta+")",qe="(?:"+Jr+"|"+Ta+")",Xs="(?:"+Xr+"(?:d|ll|m|re|s|t|ve))?",Sa="(?:"+Xr+"(?:D|LL|M|RE|S|T|VE))?",Xi=Ys+"?",Ra="["+ma+"]?",Aa="(?:"+Ea+"(?:"+[wr,Q0,Ft].join("|")+")"+Ra+Xi+")*",Id="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Js=Ra+Xi+Aa,Ia="(?:"+[Ad,Q0,Ft].join("|")+")"+Js,Jt="(?:"+[wr+He+"?",He,Q0,Ft,_a].join("|")+")",Od=RegExp(Xr,"g"),Qs=RegExp(He,"g"),en=RegExp(Yi+"(?="+Yi+")|"+Jt+Js,"g"),Cd=RegExp([Jr+"?"+ba+"+"+Xs+"(?="+[Ye,Jr,"$"].join("|")+")",qe+"+"+Sa+"(?="+[Ye,Jr+wa,"$"].join("|")+")",Jr+"?"+wa+"+"+Xs,Jr+"+"+Sa,bi,Id,va,Ia].join("|"),"g"),Oa=RegExp("["+Ea+y0+_i+ma+"]"),tn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xd=-1,P0={};P0[R0]=P0[at]=P0[X0]=P0[yt]=P0[h0]=P0[ut]=P0[c0]=P0[D0]=P0[I0]=!0,P0[Ne]=P0[d0]=P0[$e]=P0[Je]=P0[Ge]=P0[e0]=P0[oe]=P0[b]=P0[O]=P0[j]=P0[k]=P0[$]=P0[ae]=P0[ee]=P0[Me]=!1;var N0={};N0[Ne]=N0[d0]=N0[$e]=N0[Ge]=N0[Je]=N0[e0]=N0[R0]=N0[at]=N0[X0]=N0[yt]=N0[h0]=N0[O]=N0[j]=N0[k]=N0[$]=N0[ae]=N0[ee]=N0[me]=N0[ut]=N0[c0]=N0[D0]=N0[I0]=!0,N0[oe]=N0[b]=N0[Me]=!1;var Dd={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Ca={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ka={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Md={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pd=parseFloat,Nd=parseInt,rn=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,xa=typeof self=="object"&&self&&self.Object===Object&&self,et=rn||xa||Function("return this")(),sn=n&&!n.nodeType&&n,Ut=sn&&!0&&a&&!a.nodeType&&a,Da=Ut&&Ut.exports===sn,nn=Da&&rn.process,Rt=function(){try{var Ee=Ut&&Ut.require&&Ut.require("util").types;return Ee||nn&&nn.binding&&nn.binding("util")}catch{}}(),an=Rt&&Rt.isArrayBuffer,on=Rt&&Rt.isDate,Ti=Rt&&Rt.isMap,Ma=Rt&&Rt.isRegExp,Pa=Rt&&Rt.isSet,Na=Rt&&Rt.isTypedArray;function mt(Ee,Pe,ke){switch(ke.length){case 0:return Ee.call(Pe);case 1:return Ee.call(Pe,ke[0]);case 2:return Ee.call(Pe,ke[0],ke[1]);case 3:return Ee.call(Pe,ke[0],ke[1],ke[2])}return Ee.apply(Pe,ke)}function _t(Ee,Pe,ke,ze){for(var f0=-1,C0=Ee==null?0:Ee.length;++f0<C0;){var W0=Ee[f0];Pe(ze,W0,ke(W0),Ee)}return ze}function vt(Ee,Pe){for(var ke=-1,ze=Ee==null?0:Ee.length;++ke<ze&&Pe(Ee[ke],ke,Ee)!==!1;);return Ee}function Bd(Ee,Pe){for(var ke=Ee==null?0:Ee.length;ke--&&Pe(Ee[ke],ke,Ee)!==!1;);return Ee}function dn(Ee,Pe){for(var ke=-1,ze=Ee==null?0:Ee.length;++ke<ze;)if(!Pe(Ee[ke],ke,Ee))return!1;return!0}function Sr(Ee,Pe){for(var ke=-1,ze=Ee==null?0:Ee.length,f0=0,C0=[];++ke<ze;){var W0=Ee[ke];Pe(W0,ke,Ee)&&(C0[f0++]=W0)}return C0}function Ji(Ee,Pe){var ke=Ee==null?0:Ee.length;return!!ke&&jt(Ee,Pe,0)>-1}function Qr(Ee,Pe,ke){for(var ze=-1,f0=Ee==null?0:Ee.length;++ze<f0;)if(ke(Pe,Ee[ze]))return!0;return!1}function Ie(Ee,Pe){for(var ke=-1,ze=Ee==null?0:Ee.length,f0=Array(ze);++ke<ze;)f0[ke]=Pe(Ee[ke],ke,Ee);return f0}function O0(Ee,Pe){for(var ke=-1,ze=Pe.length,f0=Ee.length;++ke<ze;)Ee[f0+ke]=Pe[ke];return Ee}function bt(Ee,Pe,ke,ze){var f0=-1,C0=Ee==null?0:Ee.length;for(ze&&C0&&(ke=Ee[++f0]);++f0<C0;)ke=Pe(ke,Ee[f0],f0,Ee);return ke}function Ld(Ee,Pe,ke,ze){var f0=Ee==null?0:Ee.length;for(ze&&f0&&(ke=Ee[--f0]);f0--;)ke=Pe(ke,Ee[f0],f0,Ee);return ke}function Ei(Ee,Pe){for(var ke=-1,ze=Ee==null?0:Ee.length;++ke<ze;)if(Pe(Ee[ke],ke,Ee))return!0;return!1}var Ht=un("length");function $t(Ee){return Ee.split("")}function qd(Ee){return Ee.match(Wi)||[]}function fn(Ee,Pe,ke){var ze;return ke(Ee,function(f0,C0,W0){if(Pe(f0,C0,W0))return ze=C0,!1}),ze}function a0(Ee,Pe,ke,ze){for(var f0=Ee.length,C0=ke+(ze?1:-1);ze?C0--:++C0<f0;)if(Pe(Ee[C0],C0,Ee))return C0;return-1}function jt(Ee,Pe,ke){return Pe===Pe?De(Ee,Pe,ke):a0(Ee,Qi,ke)}function Ba(Ee,Pe,ke,ze){for(var f0=ke-1,C0=Ee.length;++f0<C0;)if(ze(Ee[f0],Pe))return f0;return-1}function Qi(Ee){return Ee!==Ee}function es(Ee,Pe){var ke=Ee==null?0:Ee.length;return ke?At(Ee,Pe)/ke:ve}function un(Ee){return function(Pe){return Pe==null?r:Pe[Ee]}}function Qt(Ee){return function(Pe){return Ee==null?r:Ee[Pe]}}function La(Ee,Pe,ke,ze,f0){return f0(Ee,function(C0,W0,B0){ke=ze?(ze=!1,C0):Pe(ke,C0,W0,B0)}),ke}function g0(Ee,Pe){var ke=Ee.length;for(Ee.sort(Pe);ke--;)Ee[ke]=Ee[ke].value;return Ee}function At(Ee,Pe){for(var ke,ze=-1,f0=Ee.length;++ze<f0;){var C0=Pe(Ee[ze]);C0!==r&&(ke=ke===r?C0:ke+C0)}return ke}function cn(Ee,Pe){for(var ke=-1,ze=Array(Ee);++ke<Ee;)ze[ke]=Pe(ke);return ze}function Fd(Ee,Pe){return Ie(Pe,function(ke){return[ke,Ee[ke]]})}function qa(Ee){return Ee&&Ee.slice(0,Ha(Ee)+1).replace(Er,"")}function Tt(Ee){return function(Pe){return Ee(Pe)}}function ln(Ee,Pe){return Ie(Pe,function(ke){return Ee[ke]})}function q0(Ee,Pe){return Ee.has(Pe)}function Fa(Ee,Pe){for(var ke=-1,ze=Ee.length;++ke<ze&&jt(Pe,Ee[ke],0)>-1;);return ke}function wi(Ee,Pe){for(var ke=Ee.length;ke--&&jt(Pe,Ee[ke],0)>-1;);return ke}function Ua(Ee,Pe){for(var ke=Ee.length,ze=0;ke--;)Ee[ke]===Pe&&++ze;return ze}var Rr=Qt(Dd),Si=Qt(Ca);function Ud(Ee){return"\\"+Md[Ee]}function Hd(Ee,Pe){return Ee==null?r:Ee[Pe]}function F0(Ee){return Oa.test(Ee)}function Vt(Ee){return tn.test(Ee)}function ts(Ee){for(var Pe,ke=[];!(Pe=Ee.next()).done;)ke.push(Pe.value);return ke}function pn(Ee){var Pe=-1,ke=Array(Ee.size);return Ee.forEach(function(ze,f0){ke[++Pe]=[f0,ze]}),ke}function rs(Ee,Pe){return function(ke){return Ee(Pe(ke))}}function er(Ee,Pe){for(var ke=-1,ze=Ee.length,f0=0,C0=[];++ke<ze;){var W0=Ee[ke];(W0===Pe||W0===R)&&(Ee[ke]=R,C0[f0++]=ke)}return C0}function Ri(Ee){var Pe=-1,ke=Array(Ee.size);return Ee.forEach(function(ze){ke[++Pe]=ze}),ke}function hn(Ee){var Pe=-1,ke=Array(Ee.size);return Ee.forEach(function(ze){ke[++Pe]=[ze,ze]}),ke}function De(Ee,Pe,ke){for(var ze=ke-1,f0=Ee.length;++ze<f0;)if(Ee[ze]===Pe)return ze;return-1}function $d(Ee,Pe,ke){for(var ze=ke+1;ze--;)if(Ee[ze]===Pe)return ze;return ze}function ei(Ee){return F0(Ee)?Vd(Ee):Ht(Ee)}function Gt(Ee){return F0(Ee)?Gd(Ee):$t(Ee)}function Ha(Ee){for(var Pe=Ee.length;Pe--&&ua.test(Ee.charAt(Pe)););return Pe}var jd=Qt(ka);function Vd(Ee){for(var Pe=en.lastIndex=0;en.test(Ee);)++Pe;return Pe}function Gd(Ee){return Ee.match(en)||[]}function Wd(Ee){return Ee.match(Cd)||[]}var zd=function Ee(Pe){Pe=Pe==null?et:Dr.defaults(et.Object(),Pe,Dr.pick(et,kd));var ke=Pe.Array,ze=Pe.Date,f0=Pe.Error,C0=Pe.Function,W0=Pe.Math,B0=Pe.Object,is=Pe.RegExp,tr=Pe.String,Et=Pe.TypeError,ss=ke.prototype,k0=C0.prototype,ti=B0.prototype,Qe=Pe["__core-js_shared__"],ns=k0.toString,b0=ti.hasOwnProperty,Ai=0,$a=function(){var s=/[^.]+$/.exec(Qe&&Qe.keys&&Qe.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),ct=ti.toString,as=ns.call(B0),we=et._,T0=is("^"+ns.call(b0).replace(Tr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),os=Da?Pe.Buffer:r,Ar=Pe.Symbol,ds=Pe.Uint8Array,ja=os?os.allocUnsafe:r,us=rs(B0.getPrototypeOf,B0),Va=B0.create,Ga=ti.propertyIsEnumerable,cs=ss.splice,ri=Ar?Ar.isConcatSpreadable:r,Ii=Ar?Ar.iterator:r,Mr=Ar?Ar.toStringTag:r,ls=function(){try{var s=yr(B0,"defineProperty");return s({},"",{}),s}catch{}}(),Kd=Pe.clearTimeout!==et.clearTimeout&&Pe.clearTimeout,ps=ze&&ze.now!==et.Date.now&&ze.now,Oi=Pe.setTimeout!==et.setTimeout&&Pe.setTimeout,Ci=W0.ceil,hs=W0.floor,ii=B0.getOwnPropertySymbols,yn=os?os.isBuffer:r,Wt=Pe.isFinite,Wa=ss.join,gn=rs(B0.keys,B0),L0=W0.max,it=W0.min,It=ze.now,za=Pe.parseInt,mn=W0.random,Zd=ss.reverse,_n=yr(Pe,"DataView"),ki=yr(Pe,"Map"),ys=yr(Pe,"Promise"),Pr=yr(Pe,"Set"),si=yr(Pe,"WeakMap"),xi=yr(B0,"create"),gs=si&&new si,Ot={},ms=Fr(_n),Yd=Fr(ki),Xd=Fr(ys),Ka=Fr(Pr),Jd=Fr(si),_s=Ar?Ar.prototype:r,Di=_s?_s.valueOf:r,Za=_s?_s.toString:r;function V(s){if(G0(s)&&!l0(s)&&!(s instanceof p0)){if(s instanceof Ct)return s;if(b0.call(s,"__wrapped__"))return id(s)}return new Ct(s)}var ni=function(){function s(){}return function(f){if(!V0(f))return{};if(Va)return Va(f);s.prototype=f;var _=new s;return s.prototype=r,_}}();function ai(){}function Ct(s,f){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=r}V.templateSettings={escape:wd,evaluate:na,interpolate:aa,variable:"",imports:{_:V}},V.prototype=ai.prototype,V.prototype.constructor=V,Ct.prototype=ni(ai.prototype),Ct.prototype.constructor=Ct;function p0(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=de,this.__views__=[]}function Qd(){var s=new p0(this.__wrapped__);return s.__actions__=pt(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=pt(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=pt(this.__views__),s}function oi(){if(this.__filtered__){var s=new p0(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function ef(){var s=this.__wrapped__.value(),f=this.__dir__,_=l0(s),x=f<0,H=_?s.length:0,z=hi(0,H,this.__views__),le=z.start,ge=z.end,Re=ge-le,Le=x?ge:le-1,Fe=this.__iteratees__,Ue=Fe.length,We=0,Xe=it(Re,this.__takeCount__);if(!_||!x&&H==Re&&Xe==Re)return So(s,this.__actions__);var s0=[];e:for(;Re--&&We<Xe;){Le+=f;for(var v0=-1,n0=s[Le];++v0<Ue;){var S0=Fe[v0],A0=S0.iteratee,Zt=S0.type,St=A0(n0);if(Zt==ie)n0=St;else if(!St){if(Zt==N)continue e;break e}}s0[We++]=n0}return s0}p0.prototype=ni(ai.prototype),p0.prototype.constructor=p0;function Nr(s){var f=-1,_=s==null?0:s.length;for(this.clear();++f<_;){var x=s[f];this.set(x[0],x[1])}}function tf(){this.__data__=xi?xi(null):{},this.size=0}function rf(s){var f=this.has(s)&&delete this.__data__[s];return this.size-=f?1:0,f}function sf(s){var f=this.__data__;if(xi){var _=f[s];return _===v?r:_}return b0.call(f,s)?f[s]:r}function Ya(s){var f=this.__data__;return xi?f[s]!==r:b0.call(f,s)}function nf(s,f){var _=this.__data__;return this.size+=this.has(s)?0:1,_[s]=xi&&f===r?v:f,this}Nr.prototype.clear=tf,Nr.prototype.delete=rf,Nr.prototype.get=sf,Nr.prototype.has=Ya,Nr.prototype.set=nf;function cr(s){var f=-1,_=s==null?0:s.length;for(this.clear();++f<_;){var x=s[f];this.set(x[0],x[1])}}function Xa(){this.__data__=[],this.size=0}function af(s){var f=this.__data__,_=bs(f,s);if(_<0)return!1;var x=f.length-1;return _==x?f.pop():cs.call(f,_,1),--this.size,!0}function of(s){var f=this.__data__,_=bs(f,s);return _<0?r:f[_][1]}function df(s){return bs(this.__data__,s)>-1}function ff(s,f){var _=this.__data__,x=bs(_,s);return x<0?(++this.size,_.push([s,f])):_[x][1]=f,this}cr.prototype.clear=Xa,cr.prototype.delete=af,cr.prototype.get=of,cr.prototype.has=df,cr.prototype.set=ff;function rr(s){var f=-1,_=s==null?0:s.length;for(this.clear();++f<_;){var x=s[f];this.set(x[0],x[1])}}function di(){this.size=0,this.__data__={hash:new Nr,map:new(ki||cr),string:new Nr}}function uf(s){var f=Ns(this,s).delete(s);return this.size-=f?1:0,f}function cf(s){return Ns(this,s).get(s)}function Mi(s){return Ns(this,s).has(s)}function lf(s,f){var _=Ns(this,s),x=_.size;return _.set(s,f),this.size+=_.size==x?0:1,this}rr.prototype.clear=di,rr.prototype.delete=uf,rr.prototype.get=cf,rr.prototype.has=Mi,rr.prototype.set=lf;function Br(s){var f=-1,_=s==null?0:s.length;for(this.__data__=new rr;++f<_;)this.add(s[f])}function lr(s){return this.__data__.set(s,v),this}function vs(s){return this.__data__.has(s)}Br.prototype.add=Br.prototype.push=lr,Br.prototype.has=vs;function kt(s){var f=this.__data__=new cr(s);this.size=f.size}function pf(){this.__data__=new cr,this.size=0}function hf(s){var f=this.__data__,_=f.delete(s);return this.size=f.size,_}function yf(s){return this.__data__.get(s)}function gf(s){return this.__data__.has(s)}function mf(s,f){var _=this.__data__;if(_ instanceof cr){var x=_.__data__;if(!ki||x.length<g-1)return x.push([s,f]),this.size=++_.size,this;_=this.__data__=new rr(x)}return _.set(s,f),this.size=_.size,this}kt.prototype.clear=pf,kt.prototype.delete=hf,kt.prototype.get=yf,kt.prototype.has=gf,kt.prototype.set=mf;function Ja(s,f){var _=l0(s),x=!_&&Vi(s),H=!_&&!x&&gi(s),z=!_&&!x&&!H&&$s(s),le=_||x||H||z,ge=le?cn(s.length,tr):[],Re=ge.length;for(var Le in s)(f||b0.call(s,Le))&&!(le&&(Le=="length"||H&&(Le=="offset"||Le=="parent")||z&&(Le=="buffer"||Le=="byteLength"||Le=="byteOffset")||gr(Le,Re)))&&ge.push(Le);return ge}function Qa(s){var f=s.length;return f?s[On(0,f-1)]:r}function _f(s,f){return Ls(pt(s),Lr(f,0,s.length))}function vf(s){return Ls(pt(s))}function vn(s,f,_){(_!==r&&!_r(s[f],_)||_===r&&!(f in s))&&pr(s,f,_)}function fi(s,f,_){var x=s[f];(!(b0.call(s,f)&&_r(x,_))||_===r&&!(f in s))&&pr(s,f,_)}function bs(s,f){for(var _=s.length;_--;)if(_r(s[_][0],f))return _;return-1}function bf(s,f,_,x){return ot(s,function(H,z,le){f(x,H,_(H),le)}),x}function eo(s,f){return s&&nr(f,nt(f),s)}function Tf(s,f){return s&&nr(f,Bt(f),s)}function pr(s,f,_){f=="__proto__"&&ls?ls(s,f,{configurable:!0,enumerable:!0,value:_,writable:!0}):s[f]=_}function Ts(s,f){for(var _=-1,x=f.length,H=ke(x),z=s==null;++_<x;)H[_]=z?r:Zu(s,f[_]);return H}function Lr(s,f,_){return s===s&&(_!==r&&(s=s<=_?s:_),f!==r&&(s=s>=f?s:f)),s}function xt(s,f,_,x,H,z){var le,ge=f&I,Re=f&l,Le=f&c;if(_&&(le=H?_(s,x,H,z):_(s)),le!==r)return le;if(!V0(s))return s;var Fe=l0(s);if(Fe){if(le=Go(s),!ge)return pt(s,le)}else{var Ue=$0(s),We=Ue==b||Ue==ce;if(gi(s))return Oo(s,ge);if(Ue==k||Ue==Ne||We&&!H){if(le=Re||We?{}:Vn(s),!ge)return Re?Wf(s,Tf(le,s)):Gf(s,eo(le,s))}else{if(!N0[Ue])return H?s:{};le=Wo(s,Ue,ge)}}z||(z=new kt);var Xe=z.get(s);if(Xe)return Xe;z.set(s,le),hc(s)?s.forEach(function(n0){le.add(xt(n0,f,_,n0,s,z))}):lc(s)&&s.forEach(function(n0,S0){le.set(S0,xt(n0,f,_,S0,s,z))});var s0=Le?Re?$n:Li:Re?Bt:nt,v0=Fe?r:s0(s);return vt(v0||s,function(n0,S0){v0&&(S0=n0,n0=s[S0]),fi(le,S0,xt(n0,f,_,S0,s,z))}),le}function Ef(s){var f=nt(s);return function(_){return to(_,s,f)}}function to(s,f,_){var x=_.length;if(s==null)return!x;for(s=B0(s);x--;){var H=_[x],z=f[H],le=s[H];if(le===r&&!(H in s)||!z(le))return!1}return!0}function ro(s,f,_){if(typeof s!="function")throw new Et(h);return Ui(function(){s.apply(r,_)},f)}function Pi(s,f,_,x){var H=-1,z=Ji,le=!0,ge=s.length,Re=[],Le=f.length;if(!ge)return Re;_&&(f=Ie(f,Tt(_))),x?(z=Qr,le=!1):f.length>=g&&(z=q0,le=!1,f=new Br(f));e:for(;++H<ge;){var Fe=s[H],Ue=_==null?Fe:_(Fe);if(Fe=x||Fe!==0?Fe:0,le&&Ue===Ue){for(var We=Le;We--;)if(f[We]===Ue)continue e;Re.push(Fe)}else z(f,Ue,x)||Re.push(Fe)}return Re}var ot=Do(ir),io=Do(Tn,!0);function wf(s,f){var _=!0;return ot(s,function(x,H,z){return _=!!f(x,H,z),_}),_}function Es(s,f,_){for(var x=-1,H=s.length;++x<H;){var z=s[x],le=f(z);if(le!=null&&(ge===r?le===le&&!Kt(le):_(le,ge)))var ge=le,Re=z}return Re}function Sf(s,f,_,x){var H=s.length;for(_=_0(_),_<0&&(_=-_>H?0:H+_),x=x===r||x>H?H:_0(x),x<0&&(x+=H),x=_>x?0:gc(x);_<x;)s[_++]=f;return s}function so(s,f){var _=[];return ot(s,function(x,H,z){f(x,H,z)&&_.push(x)}),_}function tt(s,f,_,x,H){var z=-1,le=s.length;for(_||(_=Qf),H||(H=[]);++z<le;){var ge=s[z];f>0&&_(ge)?f>1?tt(ge,f-1,_,x,H):O0(H,ge):x||(H[H.length]=ge)}return H}var bn=Ln(),no=Ln(!0);function ir(s,f){return s&&bn(s,f,nt)}function Tn(s,f){return s&&no(s,f,nt)}function ws(s,f){return Sr(f,function(_){return jr(s[_])})}function sr(s,f){f=Or(f,s);for(var _=0,x=f.length;s!=null&&_<x;)s=s[dr(f[_++])];return _&&_==x?s:r}function En(s,f,_){var x=f(s);return l0(s)?x:O0(x,_(s))}function st(s){return s==null?s===r?xe:G:Mr&&Mr in B0(s)?$o(s):nu(s)}function Ss(s,f){return s>f}function Rf(s,f){return s!=null&&b0.call(s,f)}function Af(s,f){return s!=null&&f in B0(s)}function If(s,f,_){return s>=it(f,_)&&s<L0(f,_)}function wn(s,f,_){for(var x=_?Qr:Ji,H=s[0].length,z=s.length,le=z,ge=ke(z),Re=1/0,Le=[];le--;){var Fe=s[le];le&&f&&(Fe=Ie(Fe,Tt(f))),Re=it(Fe.length,Re),ge[le]=!_&&(f||H>=120&&Fe.length>=120)?new Br(le&&Fe):r}Fe=s[0];var Ue=-1,We=ge[0];e:for(;++Ue<H&&Le.length<Re;){var Xe=Fe[Ue],s0=f?f(Xe):Xe;if(Xe=_||Xe!==0?Xe:0,!(We?q0(We,s0):x(Le,s0,_))){for(le=z;--le;){var v0=ge[le];if(!(v0?q0(v0,s0):x(s[le],s0,_)))continue e}We&&We.push(s0),Le.push(Xe)}}return Le}function Of(s,f,_,x){return ir(s,function(H,z,le){f(x,_(H),z,le)}),x}function Ni(s,f,_){f=Or(f,s),s=Xo(s,f);var x=s==null?s:s[dr(z0(f))];return x==null?r:mt(x,s,_)}function ao(s){return G0(s)&&st(s)==Ne}function Cf(s){return G0(s)&&st(s)==$e}function kf(s){return G0(s)&&st(s)==e0}function ui(s,f,_,x,H){return s===f?!0:s==null||f==null||!G0(s)&&!G0(f)?s!==s&&f!==f:oo(s,f,_,x,ui,H)}function oo(s,f,_,x,H,z){var le=l0(s),ge=l0(f),Re=le?d0:$0(s),Le=ge?d0:$0(f);Re=Re==Ne?k:Re,Le=Le==Ne?k:Le;var Fe=Re==k,Ue=Le==k,We=Re==Le;if(We&&gi(s)){if(!gi(f))return!1;le=!0,Fe=!1}if(We&&!Fe)return z||(z=new kt),le||$s(s)?Ho(s,f,_,x,H,z):Xf(s,f,Re,_,x,H,z);if(!(_&T)){var Xe=Fe&&b0.call(s,"__wrapped__"),s0=Ue&&b0.call(f,"__wrapped__");if(Xe||s0){var v0=Xe?s.value():s,n0=s0?f.value():f;return z||(z=new kt),H(v0,n0,_,x,z)}}return We?(z||(z=new kt),Mt(s,f,_,x,H,z)):!1}function fo(s){return G0(s)&&$0(s)==O}function Sn(s,f,_,x){var H=_.length,z=H,le=!x;if(s==null)return!z;for(s=B0(s);H--;){var ge=_[H];if(le&&ge[2]?ge[1]!==s[ge[0]]:!(ge[0]in s))return!1}for(;++H<z;){ge=_[H];var Re=ge[0],Le=s[Re],Fe=ge[1];if(le&&ge[2]){if(Le===r&&!(Re in s))return!1}else{var Ue=new kt;if(x)var We=x(Le,Fe,Re,s,f,Ue);if(!(We===r?ui(Fe,Le,T|w,x,Ue):We))return!1}}return!0}function Rn(s){if(!V0(s)||eu(s))return!1;var f=jr(s)?T0:la;return f.test(Fr(s))}function xf(s){return G0(s)&&st(s)==$}function uo(s){return G0(s)&&$0(s)==ae}function Df(s){return G0(s)&&bd(s.length)&&!!P0[st(s)]}function co(s){return typeof s=="function"?s:s==null?Lt:typeof s=="object"?l0(s)?ho(s[0],s[1]):po(s):Ic(s)}function An(s){if(!Fi(s))return gn(s);var f=[];for(var _ in B0(s))b0.call(s,_)&&_!="constructor"&&f.push(_);return f}function Mf(s){if(!V0(s))return su(s);var f=Fi(s),_=[];for(var x in s)x=="constructor"&&(f||!b0.call(s,x))||_.push(x);return _}function In(s,f){return s<f}function lo(s,f){var _=-1,x=Nt(s)?ke(s.length):[];return ot(s,function(H,z,le){x[++_]=f(H,z,le)}),x}function po(s){var f=or(s);return f.length==1&&f[0][2]?Zo(f[0][0],f[0][1]):function(_){return _===s||Sn(_,s,f)}}function ho(s,f){return Gn(s)&&Ko(f)?Zo(dr(s),f):function(_){var x=Zu(_,s);return x===r&&x===f?Yu(_,s):ui(f,x,T|w)}}function Rs(s,f,_,x,H){s!==f&&bn(f,function(z,le){if(H||(H=new kt),V0(z))Pf(s,f,le,_,Rs,x,H);else{var ge=x?x(zn(s,le),z,le+"",s,f,H):r;ge===r&&(ge=z),vn(s,le,ge)}},Bt)}function Pf(s,f,_,x,H,z,le){var ge=zn(s,_),Re=zn(f,_),Le=le.get(Re);if(Le){vn(s,_,Le);return}var Fe=z?z(ge,Re,_+"",s,f,le):r,Ue=Fe===r;if(Ue){var We=l0(Re),Xe=!We&&gi(Re),s0=!We&&!Xe&&$s(Re);Fe=Re,We||Xe||s0?l0(ge)?Fe=ge:Z0(ge)?Fe=pt(ge):Xe?(Ue=!1,Fe=Oo(Re,!0)):s0?(Ue=!1,Fe=Co(Re,!0)):Fe=[]:sa(Re)||Vi(Re)?(Fe=ge,Vi(ge)?Fe=mc(ge):(!V0(ge)||jr(ge))&&(Fe=Vn(Re))):Ue=!1}Ue&&(le.set(Re,Fe),H(Fe,Re,x,z,le),le.delete(Re)),vn(s,_,Fe)}function yo(s,f){var _=s.length;if(_)return f+=f<0?_:0,gr(f,_)?s[f]:r}function go(s,f,_){f.length?f=Ie(f,function(z){return l0(z)?function(le){return sr(le,z.length===1?z[0]:z)}:z}):f=[Lt];var x=-1;f=Ie(f,Tt(t0()));var H=lo(s,function(z,le,ge){var Re=Ie(f,function(Le){return Le(z)});return{criteria:Re,index:++x,value:z}});return g0(H,function(z,le){return Bn(z,le,_)})}function mo(s,f){return _o(s,f,function(_,x){return Yu(s,x)})}function _o(s,f,_){for(var x=-1,H=f.length,z={};++x<H;){var le=f[x],ge=sr(s,le);_(ge,le)&&Bi(z,Or(le,s),ge)}return z}function Nf(s){return function(f){return sr(f,s)}}function As(s,f,_,x){var H=x?Ba:jt,z=-1,le=f.length,ge=s;for(s===f&&(f=pt(f)),_&&(ge=Ie(s,Tt(_)));++z<le;)for(var Re=0,Le=f[z],Fe=_?_(Le):Le;(Re=H(ge,Fe,Re,x))>-1;)ge!==s&&cs.call(ge,Re,1),cs.call(s,Re,1);return s}function vo(s,f){for(var _=s?f.length:0,x=_-1;_--;){var H=f[_];if(_==x||H!==z){var z=H;gr(H)?cs.call(s,H,1):xn(s,H)}}return s}function On(s,f){return s+hs(mn()*(f-s+1))}function Bf(s,f,_,x){for(var H=-1,z=L0(Ci((f-s)/(_||1)),0),le=ke(z);z--;)le[x?z:++H]=s,s+=_;return le}function Cn(s,f){var _="";if(!s||f<1||f>Ce)return _;do f%2&&(_+=s),f=hs(f/2),f&&(s+=s);while(f);return _}function m0(s,f){return Kn(Yo(s,f,Lt),s+"")}function Lf(s){return Qa(js(s))}function qf(s,f){var _=js(s);return Ls(_,Lr(f,0,_.length))}function Bi(s,f,_,x){if(!V0(s))return s;f=Or(f,s);for(var H=-1,z=f.length,le=z-1,ge=s;ge!=null&&++H<z;){var Re=dr(f[H]),Le=_;if(Re==="__proto__"||Re==="constructor"||Re==="prototype")return s;if(H!=le){var Fe=ge[Re];Le=x?x(Fe,Re,ge):r,Le===r&&(Le=V0(Fe)?Fe:gr(f[H+1])?[]:{})}fi(ge,Re,Le),ge=ge[Re]}return s}var bo=gs?function(s,f){return gs.set(s,f),s}:Lt,Ff=ls?function(s,f){return ls(s,"toString",{configurable:!0,enumerable:!1,value:Ju(f),writable:!0})}:Lt;function Uf(s){return Ls(js(s))}function Dt(s,f,_){var x=-1,H=s.length;f<0&&(f=-f>H?0:H+f),_=_>H?H:_,_<0&&(_+=H),H=f>_?0:_-f>>>0,f>>>=0;for(var z=ke(H);++x<H;)z[x]=s[x+f];return z}function Hf(s,f){var _;return ot(s,function(x,H,z){return _=f(x,H,z),!_}),!!_}function Is(s,f,_){var x=0,H=s==null?x:s.length;if(typeof f=="number"&&f===f&&H<=Se){for(;x<H;){var z=x+H>>>1,le=s[z];le!==null&&!Kt(le)&&(_?le<=f:le<f)?x=z+1:H=z}return H}return kn(s,f,Lt,_)}function kn(s,f,_,x){var H=0,z=s==null?0:s.length;if(z===0)return 0;f=_(f);for(var le=f!==f,ge=f===null,Re=Kt(f),Le=f===r;H<z;){var Fe=hs((H+z)/2),Ue=_(s[Fe]),We=Ue!==r,Xe=Ue===null,s0=Ue===Ue,v0=Kt(Ue);if(le)var n0=x||s0;else Le?n0=s0&&(x||We):ge?n0=s0&&We&&(x||!Xe):Re?n0=s0&&We&&!Xe&&(x||!v0):Xe||v0?n0=!1:n0=x?Ue<=f:Ue<f;n0?H=Fe+1:z=Fe}return it(z,fe)}function To(s,f){for(var _=-1,x=s.length,H=0,z=[];++_<x;){var le=s[_],ge=f?f(le):le;if(!_||!_r(ge,Re)){var Re=ge;z[H++]=le===0?0:le}}return z}function Eo(s){return typeof s=="number"?s:Kt(s)?ve:+s}function wt(s){if(typeof s=="string")return s;if(l0(s))return Ie(s,wt)+"";if(Kt(s))return Za?Za.call(s):"";var f=s+"";return f=="0"&&1/s==-ye?"-0":f}function Ir(s,f,_){var x=-1,H=Ji,z=s.length,le=!0,ge=[],Re=ge;if(_)le=!1,H=Qr;else if(z>=g){var Le=f?null:Zf(s);if(Le)return Ri(Le);le=!1,H=q0,Re=new Br}else Re=f?[]:ge;e:for(;++x<z;){var Fe=s[x],Ue=f?f(Fe):Fe;if(Fe=_||Fe!==0?Fe:0,le&&Ue===Ue){for(var We=Re.length;We--;)if(Re[We]===Ue)continue e;f&&Re.push(Ue),ge.push(Fe)}else H(Re,Ue,_)||(Re!==ge&&Re.push(Ue),ge.push(Fe))}return ge}function xn(s,f){f=Or(f,s);var _=-1,x=f.length;if(!x)return!0;for(var H=s==null||typeof s!="object"&&typeof s!="function";++_<x;){var z=f[_];if(typeof z=="string"){if(z==="__proto__"&&!b0.call(s,"__proto__"))return!1;if(z==="constructor"&&_+1<x&&typeof f[_+1]=="string"&&f[_+1]==="prototype"){if(H&&_===0)continue;return!1}}}var le=Xo(s,f);return le==null||delete le[dr(z0(f))]}function wo(s,f,_,x){return Bi(s,f,_(sr(s,f)),x)}function Os(s,f,_,x){for(var H=s.length,z=x?H:-1;(x?z--:++z<H)&&f(s[z],z,s););return _?Dt(s,x?0:z,x?z+1:H):Dt(s,x?z+1:0,x?H:z)}function So(s,f){var _=s;return _ instanceof p0&&(_=_.value()),bt(f,function(x,H){return H.func.apply(H.thisArg,O0([x],H.args))},_)}function Dn(s,f,_){var x=s.length;if(x<2)return x?Ir(s[0]):[];for(var H=-1,z=ke(x);++H<x;)for(var le=s[H],ge=-1;++ge<x;)ge!=H&&(z[H]=Pi(z[H]||le,s[ge],f,_));return Ir(tt(z,1),f,_)}function Ro(s,f,_){for(var x=-1,H=s.length,z=f.length,le={};++x<H;){var ge=x<z?f[x]:r;_(le,s[x],ge)}return le}function Mn(s){return Z0(s)?s:[]}function Pn(s){return typeof s=="function"?s:Lt}function Or(s,f){return l0(s)?s:Gn(s,f)?[s]:td(M0(s))}var Ao=m0;function Cr(s,f,_){var x=s.length;return _=_===r?x:_,!f&&_>=x?s:Dt(s,f,_)}var Io=Kd||function(s){return et.clearTimeout(s)};function Oo(s,f){if(f)return s.slice();var _=s.length,x=ja?ja(_):new s.constructor(_);return s.copy(x),x}function Nn(s){var f=new s.constructor(s.byteLength);return new ds(f).set(new ds(s)),f}function $f(s,f){var _=f?Nn(s.buffer):s.buffer;return new s.constructor(_,s.byteOffset,s.byteLength)}function jf(s){var f=new s.constructor(s.source,zi.exec(s));return f.lastIndex=s.lastIndex,f}function Vf(s){return Di?B0(Di.call(s)):{}}function Co(s,f){var _=f?Nn(s.buffer):s.buffer;return new s.constructor(_,s.byteOffset,s.length)}function Cs(s,f){if(s!==f){var _=s!==r,x=s===null,H=s===s,z=Kt(s),le=f!==r,ge=f===null,Re=f===f,Le=Kt(f);if(!ge&&!Le&&!z&&s>f||z&&le&&Re&&!ge&&!Le||x&&le&&Re||!_&&Re||!H)return 1;if(!x&&!z&&!Le&&s<f||Le&&_&&H&&!x&&!z||ge&&_&&H||!le&&H||!Re)return-1}return 0}function Bn(s,f,_){for(var x=-1,H=s.criteria,z=f.criteria,le=H.length,ge=_.length;++x<le;){var Re=Cs(H[x],z[x]);if(Re){if(x>=ge)return Re;var Le=_[x];return Re*(Le=="desc"?-1:1)}}return s.index-f.index}function ko(s,f,_,x){for(var H=-1,z=s.length,le=_.length,ge=-1,Re=f.length,Le=L0(z-le,0),Fe=ke(Re+Le),Ue=!x;++ge<Re;)Fe[ge]=f[ge];for(;++H<le;)(Ue||H<z)&&(Fe[_[H]]=s[H]);for(;Le--;)Fe[ge++]=s[H++];return Fe}function xo(s,f,_,x){for(var H=-1,z=s.length,le=-1,ge=_.length,Re=-1,Le=f.length,Fe=L0(z-ge,0),Ue=ke(Fe+Le),We=!x;++H<Fe;)Ue[H]=s[H];for(var Xe=H;++Re<Le;)Ue[Xe+Re]=f[Re];for(;++le<ge;)(We||H<z)&&(Ue[Xe+_[le]]=s[H++]);return Ue}function pt(s,f){var _=-1,x=s.length;for(f||(f=ke(x));++_<x;)f[_]=s[_];return f}function nr(s,f,_,x){var H=!_;_||(_={});for(var z=-1,le=f.length;++z<le;){var ge=f[z],Re=x?x(_[ge],s[ge],ge,_,s):r;Re===r&&(Re=s[ge]),H?pr(_,ge,Re):fi(_,ge,Re)}return _}function Gf(s,f){return nr(s,zt(s),f)}function Wf(s,f){return nr(s,jo(s),f)}function ks(s,f){return function(_,x){var H=l0(_)?_t:bf,z=f?f():{};return H(_,s,t0(x,2),z)}}function ci(s){return m0(function(f,_){var x=-1,H=_.length,z=H>1?_[H-1]:r,le=H>2?_[2]:r;for(z=s.length>3&&typeof z=="function"?(H--,z):r,le&&dt(_[0],_[1],le)&&(z=H<3?r:z,H=1),f=B0(f);++x<H;){var ge=_[x];ge&&s(f,ge,x,z)}return f})}function Do(s,f){return function(_,x){if(_==null)return _;if(!Nt(_))return s(_,x);for(var H=_.length,z=f?H:-1,le=B0(_);(f?z--:++z<H)&&x(le[z],z,le)!==!1;);return _}}function Ln(s){return function(f,_,x){for(var H=-1,z=B0(f),le=x(f),ge=le.length;ge--;){var Re=le[s?ge:++H];if(_(z[Re],Re,z)===!1)break}return f}}function zf(s,f,_){var x=f&A,H=li(s);function z(){var le=this&&this!==et&&this instanceof z?H:s;return le.apply(x?_:this,arguments)}return z}function qn(s){return function(f){f=M0(f);var _=F0(f)?Gt(f):r,x=_?_[0]:f.charAt(0),H=_?Cr(_,1).join(""):f.slice(1);return x[s]()+H}}function qr(s){return function(f){return bt(Rc(Sc(f).replace(Od,"")),s,"")}}function li(s){return function(){var f=arguments;switch(f.length){case 0:return new s;case 1:return new s(f[0]);case 2:return new s(f[0],f[1]);case 3:return new s(f[0],f[1],f[2]);case 4:return new s(f[0],f[1],f[2],f[3]);case 5:return new s(f[0],f[1],f[2],f[3],f[4]);case 6:return new s(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new s(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var _=ni(s.prototype),x=s.apply(_,f);return V0(x)?x:_}}function Mo(s,f,_){var x=li(s);function H(){for(var z=arguments.length,le=ke(z),ge=z,Re=pi(H);ge--;)le[ge]=arguments[ge];var Le=z<3&&le[0]!==Re&&le[z-1]!==Re?[]:er(le,Re);if(z-=Le.length,z<_)return Un(s,f,xs,H.placeholder,r,le,Le,r,r,_-z);var Fe=this&&this!==et&&this instanceof H?x:s;return mt(Fe,this,le)}return H}function Po(s){return function(f,_,x){var H=B0(f);if(!Nt(f)){var z=t0(_,3);f=nt(f),_=function(ge){return z(H[ge],ge,H)}}var le=s(f,_,x);return le>-1?H[z?f[le]:le]:r}}function No(s){return ar(function(f){var _=f.length,x=_,H=Ct.prototype.thru;for(s&&f.reverse();x--;){var z=f[x];if(typeof z!="function")throw new Et(h);if(H&&!le&&qi(z)=="wrapper")var le=new Ct([],!0)}for(x=le?x:_;++x<_;){z=f[x];var ge=qi(z),Re=ge=="wrapper"?jn(z):r;Re&&Wn(Re[0])&&Re[1]==(ue|q|X|Te)&&!Re[4].length&&Re[9]==1?le=le[qi(Re[0])].apply(le,Re[3]):le=z.length==1&&Wn(z)?le[ge]():le.thru(z)}return function(){var Le=arguments,Fe=Le[0];if(le&&Le.length==1&&l0(Fe))return le.plant(Fe).value();for(var Ue=0,We=_?f[Ue].apply(this,Le):Fe;++Ue<_;)We=f[Ue].call(this,We);return We}})}function xs(s,f,_,x,H,z,le,ge,Re,Le){var Fe=f&ue,Ue=f&A,We=f&M,Xe=f&(q|W),s0=f&ne,v0=We?r:li(s);function n0(){for(var S0=arguments.length,A0=ke(S0),Zt=S0;Zt--;)A0[Zt]=arguments[Zt];if(Xe)var St=pi(n0),Yt=Ua(A0,St);if(x&&(A0=ko(A0,x,H,Xe)),z&&(A0=xo(A0,z,le,Xe)),S0-=Yt,Xe&&S0<Le){var Y0=er(A0,St);return Un(s,f,xs,n0.placeholder,_,A0,Y0,ge,Re,Le-S0)}var vr=Ue?_:this,Gr=We?vr[s]:s;return S0=A0.length,ge?A0=au(A0,ge):s0&&S0>1&&A0.reverse(),Fe&&Re<S0&&(A0.length=Re),this&&this!==et&&this instanceof n0&&(Gr=v0||li(Gr)),Gr.apply(vr,A0)}return n0}function Bo(s,f){return function(_,x){return Of(_,s,f(x),{})}}function Ds(s,f){return function(_,x){var H;if(_===r&&x===r)return f;if(_!==r&&(H=_),x!==r){if(H===r)return x;typeof _=="string"||typeof x=="string"?(_=wt(_),x=wt(x)):(_=Eo(_),x=Eo(x)),H=s(_,x)}return H}}function Fn(s){return ar(function(f){return f=Ie(f,Tt(t0())),m0(function(_){var x=this;return s(f,function(H){return mt(H,x,_)})})})}function Ms(s,f){f=f===r?" ":wt(f);var _=f.length;if(_<2)return _?Cn(f,s):f;var x=Cn(f,Ci(s/ei(f)));return F0(f)?Cr(Gt(x),0,s).join(""):x.slice(0,s)}function Kf(s,f,_,x){var H=f&A,z=li(s);function le(){for(var ge=-1,Re=arguments.length,Le=-1,Fe=x.length,Ue=ke(Fe+Re),We=this&&this!==et&&this instanceof le?z:s;++Le<Fe;)Ue[Le]=x[Le];for(;Re--;)Ue[Le++]=arguments[++ge];return mt(We,H?_:this,Ue)}return le}function Lo(s){return function(f,_,x){return x&&typeof x!="number"&&dt(f,_,x)&&(_=x=r),f=Vr(f),_===r?(_=f,f=0):_=Vr(_),x=x===r?f<_?1:-1:Vr(x),Bf(f,_,x,s)}}function Ps(s){return function(f,_){return typeof f=="string"&&typeof _=="string"||(f=fr(f),_=fr(_)),s(f,_)}}function Un(s,f,_,x,H,z,le,ge,Re,Le){var Fe=f&q,Ue=Fe?le:r,We=Fe?r:le,Xe=Fe?z:r,s0=Fe?r:z;f|=Fe?X:L,f&=~(Fe?L:X),f&P||(f&=-4);var v0=[s,f,H,Xe,Ue,s0,We,ge,Re,Le],n0=_.apply(r,v0);return Wn(s)&&Jo(n0,v0),n0.placeholder=x,Qo(n0,s,f)}function Hn(s){var f=W0[s];return function(_,x){if(_=fr(_),x=x==null?0:it(_0(x),292),x&&Wt(_)){var H=(M0(_)+"e").split("e"),z=f(H[0]+"e"+(+H[1]+x));return H=(M0(z)+"e").split("e"),+(H[0]+"e"+(+H[1]-x))}return f(_)}}var Zf=Pr&&1/Ri(new Pr([,-0]))[1]==ye?function(s){return new Pr(s)}:tc;function qo(s){return function(f){var _=$0(f);return _==O?pn(f):_==ae?hn(f):Fd(f,s(f))}}function hr(s,f,_,x,H,z,le,ge){var Re=f&M;if(!Re&&typeof s!="function")throw new Et(h);var Le=x?x.length:0;if(Le||(f&=-97,x=H=r),le=le===r?le:L0(_0(le),0),ge=ge===r?ge:_0(ge),Le-=H?H.length:0,f&L){var Fe=x,Ue=H;x=H=r}var We=Re?r:jn(s),Xe=[s,f,_,x,H,Fe,Ue,z,le,ge];if(We&&iu(Xe,We),s=Xe[0],f=Xe[1],_=Xe[2],x=Xe[3],H=Xe[4],ge=Xe[9]=Xe[9]===r?Re?0:s.length:L0(Xe[9]-Le,0),!ge&&f&(q|W)&&(f&=-25),!f||f==A)var s0=zf(s,f,_);else f==q||f==W?s0=Mo(s,f,ge):(f==X||f==(A|X))&&!H.length?s0=Kf(s,f,_,x):s0=xs.apply(r,Xe);var v0=We?bo:Jo;return Qo(v0(s0,Xe),s,f)}function Fo(s,f,_,x){return s===r||_r(s,ti[_])&&!b0.call(x,_)?f:s}function Uo(s,f,_,x,H,z){return V0(s)&&V0(f)&&(z.set(f,s),Rs(s,f,r,Uo,z),z.delete(f)),s}function Yf(s){return sa(s)?r:s}function Ho(s,f,_,x,H,z){var le=_&T,ge=s.length,Re=f.length;if(ge!=Re&&!(le&&Re>ge))return!1;var Le=z.get(s),Fe=z.get(f);if(Le&&Fe)return Le==f&&Fe==s;var Ue=-1,We=!0,Xe=_&w?new Br:r;for(z.set(s,f),z.set(f,s);++Ue<ge;){var s0=s[Ue],v0=f[Ue];if(x)var n0=le?x(v0,s0,Ue,f,s,z):x(s0,v0,Ue,s,f,z);if(n0!==r){if(n0)continue;We=!1;break}if(Xe){if(!Ei(f,function(S0,A0){if(!q0(Xe,A0)&&(s0===S0||H(s0,S0,_,x,z)))return Xe.push(A0)})){We=!1;break}}else if(!(s0===v0||H(s0,v0,_,x,z))){We=!1;break}}return z.delete(s),z.delete(f),We}function Xf(s,f,_,x,H,z,le){switch(_){case Ge:if(s.byteLength!=f.byteLength||s.byteOffset!=f.byteOffset)return!1;s=s.buffer,f=f.buffer;case $e:return!(s.byteLength!=f.byteLength||!z(new ds(s),new ds(f)));case Je:case e0:case j:return _r(+s,+f);case oe:return s.name==f.name&&s.message==f.message;case $:case ee:return s==f+"";case O:var ge=pn;case ae:var Re=x&T;if(ge||(ge=Ri),s.size!=f.size&&!Re)return!1;var Le=le.get(s);if(Le)return Le==f;x|=w,le.set(s,f);var Fe=Ho(ge(s),ge(f),x,H,z,le);return le.delete(s),Fe;case me:if(Di)return Di.call(s)==Di.call(f)}return!1}function Mt(s,f,_,x,H,z){var le=_&T,ge=Li(s),Re=ge.length,Le=Li(f),Fe=Le.length;if(Re!=Fe&&!le)return!1;for(var Ue=Re;Ue--;){var We=ge[Ue];if(!(le?We in f:b0.call(f,We)))return!1}var Xe=z.get(s),s0=z.get(f);if(Xe&&s0)return Xe==f&&s0==s;var v0=!0;z.set(s,f),z.set(f,s);for(var n0=le;++Ue<Re;){We=ge[Ue];var S0=s[We],A0=f[We];if(x)var Zt=le?x(A0,S0,We,f,s,z):x(S0,A0,We,s,f,z);if(!(Zt===r?S0===A0||H(S0,A0,_,x,z):Zt)){v0=!1;break}n0||(n0=We=="constructor")}if(v0&&!n0){var St=s.constructor,Yt=f.constructor;St!=Yt&&"constructor"in s&&"constructor"in f&&!(typeof St=="function"&&St instanceof St&&typeof Yt=="function"&&Yt instanceof Yt)&&(v0=!1)}return z.delete(s),z.delete(f),v0}function ar(s){return Kn(Yo(s,r,Ur),s+"")}function Li(s){return En(s,nt,zt)}function $n(s){return En(s,Bt,jo)}var jn=gs?function(s){return gs.get(s)}:tc;function qi(s){for(var f=s.name+"",_=Ot[f],x=b0.call(Ot,f)?_.length:0;x--;){var H=_[x],z=H.func;if(z==null||z==s)return H.name}return f}function pi(s){var f=b0.call(V,"placeholder")?V:s;return f.placeholder}function t0(){var s=V.iteratee||Qu;return s=s===Qu?co:s,arguments.length?s(arguments[0],arguments[1]):s}function Ns(s,f){var _=s.__data__;return zo(f)?_[typeof f=="string"?"string":"hash"]:_.map}function or(s){for(var f=nt(s),_=f.length;_--;){var x=f[_],H=s[x];f[_]=[x,H,Ko(H)]}return f}function yr(s,f){var _=Hd(s,f);return Rn(_)?_:r}function $o(s){var f=b0.call(s,Mr),_=s[Mr];try{s[Mr]=r;var x=!0}catch{}var H=ct.call(s);return x&&(f?s[Mr]=_:delete s[Mr]),H}var zt=ii?function(s){return s==null?[]:(s=B0(s),Sr(ii(s),function(f){return Ga.call(s,f)}))}:rc,jo=ii?function(s){for(var f=[];s;)O0(f,zt(s)),s=us(s);return f}:rc,$0=st;(_n&&$0(new _n(new ArrayBuffer(1)))!=Ge||ki&&$0(new ki)!=O||ys&&$0(ys.resolve())!=D||Pr&&$0(new Pr)!=ae||si&&$0(new si)!=Me)&&($0=function(s){var f=st(s),_=f==k?s.constructor:r,x=_?Fr(_):"";if(x)switch(x){case ms:return Ge;case Yd:return O;case Xd:return D;case Ka:return ae;case Jd:return Me}return f});function hi(s,f,_){for(var x=-1,H=_.length;++x<H;){var z=_[x],le=z.size;switch(z.type){case"drop":s+=le;break;case"dropRight":f-=le;break;case"take":f=it(f,s+le);break;case"takeRight":s=L0(s,f-le);break}}return{start:s,end:f}}function Vo(s){var f=s.match(zs);return f?f[1].split(Gi):[]}function Bs(s,f,_){f=Or(f,s);for(var x=-1,H=f.length,z=!1;++x<H;){var le=dr(f[x]);if(!(z=s!=null&&_(s,le)))break;s=s[le]}return z||++x!=H?z:(H=s==null?0:s.length,!!H&&bd(H)&&gr(le,H)&&(l0(s)||Vi(s)))}function Go(s){var f=s.length,_=new s.constructor(f);return f&&typeof s[0]=="string"&&b0.call(s,"index")&&(_.index=s.index,_.input=s.input),_}function Vn(s){return typeof s.constructor=="function"&&!Fi(s)?ni(us(s)):{}}function Wo(s,f,_){var x=s.constructor;switch(f){case $e:return Nn(s);case Je:case e0:return new x(+s);case Ge:return $f(s,_);case R0:case at:case X0:case yt:case h0:case ut:case c0:case D0:case I0:return Co(s,_);case O:return new x;case j:case ee:return new x(s);case $:return jf(s);case ae:return new x;case me:return Vf(s)}}function Jf(s,f){var _=f.length;if(!_)return s;var x=_-1;return f[x]=(_>1?"& ":"")+f[x],f=f.join(_>2?", ":" "),s.replace(Ws,`{
/* [wrapped with `+f+`] */
`)}function Qf(s){return l0(s)||Vi(s)||!!(ri&&s&&s[ri])}function gr(s,f){var _=typeof s;return f=f??Ce,!!f&&(_=="number"||_!="symbol"&&ur.test(s))&&s>-1&&s%1==0&&s<f}function dt(s,f,_){if(!V0(_))return!1;var x=typeof f;return(x=="number"?Nt(_)&&gr(f,_.length):x=="string"&&f in _)?_r(_[f],s):!1}function Gn(s,f){if(l0(s))return!1;var _=typeof s;return _=="number"||_=="symbol"||_=="boolean"||s==null||Kt(s)?!0:da.test(s)||!oa.test(s)||f!=null&&s in B0(f)}function zo(s){var f=typeof s;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?s!=="__proto__":s===null}function Wn(s){var f=qi(s),_=V[f];if(typeof _!="function"||!(f in p0.prototype))return!1;if(s===_)return!0;var x=jn(_);return!!x&&s===x[0]}function eu(s){return!!$a&&$a in s}var tu=Qe?jr:ic;function Fi(s){var f=s&&s.constructor,_=typeof f=="function"&&f.prototype||ti;return s===_}function Ko(s){return s===s&&!V0(s)}function Zo(s,f){return function(_){return _==null?!1:_[s]===f&&(f!==r||s in B0(_))}}function ru(s){var f=_d(s,function(x){return _.size===E&&_.clear(),x}),_=f.cache;return f}function iu(s,f){var _=s[1],x=f[1],H=_|x,z=H<(A|M|ue),le=x==ue&&_==q||x==ue&&_==Te&&s[7].length<=f[8]||x==(ue|Te)&&f[7].length<=f[8]&&_==q;if(!(z||le))return s;x&A&&(s[2]=f[2],H|=_&A?0:P);var ge=f[3];if(ge){var Re=s[3];s[3]=Re?ko(Re,ge,f[4]):ge,s[4]=Re?er(s[3],R):f[4]}return ge=f[5],ge&&(Re=s[5],s[5]=Re?xo(Re,ge,f[6]):ge,s[6]=Re?er(s[5],R):f[6]),ge=f[7],ge&&(s[7]=ge),x&ue&&(s[8]=s[8]==null?f[8]:it(s[8],f[8])),s[9]==null&&(s[9]=f[9]),s[0]=f[0],s[1]=H,s}function su(s){var f=[];if(s!=null)for(var _ in B0(s))f.push(_);return f}function nu(s){return ct.call(s)}function Yo(s,f,_){return f=L0(f===r?s.length-1:f,0),function(){for(var x=arguments,H=-1,z=L0(x.length-f,0),le=ke(z);++H<z;)le[H]=x[f+H];H=-1;for(var ge=ke(f+1);++H<f;)ge[H]=x[H];return ge[f]=_(le),mt(s,this,ge)}}function Xo(s,f){return f.length<2?s:sr(s,Dt(f,0,-1))}function au(s,f){for(var _=s.length,x=it(f.length,_),H=pt(s);x--;){var z=f[x];s[x]=gr(z,_)?H[z]:r}return s}function zn(s,f){if(!(f==="constructor"&&typeof s[f]=="function")&&f!="__proto__")return s[f]}var Jo=ed(bo),Ui=Oi||function(s,f){return et.setTimeout(s,f)},Kn=ed(Ff);function Qo(s,f,_){var x=f+"";return Kn(s,Jf(x,rd(Vo(x),_)))}function ed(s){var f=0,_=0;return function(){var x=It(),H=J-(x-_);if(_=x,H>0){if(++f>=Z)return arguments[0]}else f=0;return s.apply(r,arguments)}}function Ls(s,f){var _=-1,x=s.length,H=x-1;for(f=f===r?x:f;++_<f;){var z=On(_,H),le=s[z];s[z]=s[_],s[_]=le}return s.length=f,s}var td=ru(function(s){var f=[];return s.charCodeAt(0)===46&&f.push(""),s.replace(fa,function(_,x,H,z){f.push(H?z.replace(ca,"$1"):x||_)}),f});function dr(s){if(typeof s=="string"||Kt(s))return s;var f=s+"";return f=="0"&&1/s==-ye?"-0":f}function Fr(s){if(s!=null){try{return ns.call(s)}catch{}try{return s+""}catch{}}return""}function rd(s,f){return vt(_e,function(_){var x="_."+_[0];f&_[1]&&!Ji(s,x)&&s.push(x)}),s.sort()}function id(s){if(s instanceof p0)return s.clone();var f=new Ct(s.__wrapped__,s.__chain__);return f.__actions__=pt(s.__actions__),f.__index__=s.__index__,f.__values__=s.__values__,f}function ou(s,f,_){(_?dt(s,f,_):f===r)?f=1:f=L0(_0(f),0);var x=s==null?0:s.length;if(!x||f<1)return[];for(var H=0,z=0,le=ke(Ci(x/f));H<x;)le[z++]=Dt(s,H,H+=f);return le}function du(s){for(var f=-1,_=s==null?0:s.length,x=0,H=[];++f<_;){var z=s[f];z&&(H[x++]=z)}return H}function fu(){var s=arguments.length;if(!s)return[];for(var f=ke(s-1),_=arguments[0],x=s;x--;)f[x-1]=arguments[x];return O0(l0(_)?pt(_):[_],tt(f,1))}var sd=m0(function(s,f){return Z0(s)?Pi(s,tt(f,1,Z0,!0)):[]}),uu=m0(function(s,f){var _=z0(f);return Z0(_)&&(_=r),Z0(s)?Pi(s,tt(f,1,Z0,!0),t0(_,2)):[]}),cu=m0(function(s,f){var _=z0(f);return Z0(_)&&(_=r),Z0(s)?Pi(s,tt(f,1,Z0,!0),r,_):[]});function lu(s,f,_){var x=s==null?0:s.length;return x?(f=_||f===r?1:_0(f),Dt(s,f<0?0:f,x)):[]}function pu(s,f,_){var x=s==null?0:s.length;return x?(f=_||f===r?1:_0(f),f=x-f,Dt(s,0,f<0?0:f)):[]}function hu(s,f){return s&&s.length?Os(s,t0(f,3),!0,!0):[]}function yu(s,f){return s&&s.length?Os(s,t0(f,3),!0):[]}function gu(s,f,_,x){var H=s==null?0:s.length;return H?(_&&typeof _!="number"&&dt(s,f,_)&&(_=0,x=H),Sf(s,f,_,x)):[]}function Zn(s,f,_){var x=s==null?0:s.length;if(!x)return-1;var H=_==null?0:_0(_);return H<0&&(H=L0(x+H,0)),a0(s,t0(f,3),H)}function nd(s,f,_){var x=s==null?0:s.length;if(!x)return-1;var H=x-1;return _!==r&&(H=_0(_),H=_<0?L0(x+H,0):it(H,x-1)),a0(s,t0(f,3),H,!0)}function Ur(s){var f=s==null?0:s.length;return f?tt(s,1):[]}function mu(s){var f=s==null?0:s.length;return f?tt(s,ye):[]}function Yn(s,f){var _=s==null?0:s.length;return _?(f=f===r?1:_0(f),tt(s,f)):[]}function _u(s){for(var f=-1,_=s==null?0:s.length,x={};++f<_;){var H=s[f];x[H[0]]=H[1]}return x}function ad(s){return s&&s.length?s[0]:r}function vu(s,f,_){var x=s==null?0:s.length;if(!x)return-1;var H=_==null?0:_0(_);return H<0&&(H=L0(x+H,0)),jt(s,f,H)}function u0(s){var f=s==null?0:s.length;return f?Dt(s,0,-1):[]}var bu=m0(function(s){var f=Ie(s,Mn);return f.length&&f[0]===s[0]?wn(f):[]}),Xn=m0(function(s){var f=z0(s),_=Ie(s,Mn);return f===z0(_)?f=r:_.pop(),_.length&&_[0]===s[0]?wn(_,t0(f,2)):[]}),Hi=m0(function(s){var f=z0(s),_=Ie(s,Mn);return f=typeof f=="function"?f:r,f&&_.pop(),_.length&&_[0]===s[0]?wn(_,r,f):[]});function ft(s,f){return s==null?"":Wa.call(s,f)}function z0(s){var f=s==null?0:s.length;return f?s[f-1]:r}function $i(s,f,_){var x=s==null?0:s.length;if(!x)return-1;var H=x;return _!==r&&(H=_0(_),H=H<0?L0(x+H,0):it(H,x-1)),f===f?$d(s,f,H):a0(s,Qi,H,!0)}function Jn(s,f){return s&&s.length?yo(s,_0(f)):r}var qs=m0(ji);function ji(s,f){return s&&s.length&&f&&f.length?As(s,f):s}function od(s,f,_){return s&&s.length&&f&&f.length?As(s,f,t0(_,2)):s}function Tu(s,f,_){return s&&s.length&&f&&f.length?As(s,f,r,_):s}var Qn=ar(function(s,f){var _=s==null?0:s.length,x=Ts(s,f);return vo(s,Ie(f,function(H){return gr(H,_)?+H:H}).sort(Cs)),x});function Hr(s,f){var _=[];if(!(s&&s.length))return _;var x=-1,H=[],z=s.length;for(f=t0(f,3);++x<z;){var le=s[x];f(le,x,s)&&(_.push(le),H.push(x))}return vo(s,H),_}function ea(s){return s==null?s:Zd.call(s)}function Eu(s,f,_){var x=s==null?0:s.length;return x?(_&&typeof _!="number"&&dt(s,f,_)?(f=0,_=x):(f=f==null?0:_0(f),_=_===r?x:_0(_)),Dt(s,f,_)):[]}function dd(s,f){return Is(s,f)}function wu(s,f,_){return kn(s,f,t0(_,2))}function Su(s,f){var _=s==null?0:s.length;if(_){var x=Is(s,f);if(x<_&&_r(s[x],f))return x}return-1}function fd(s,f){return Is(s,f,!0)}function Ru(s,f,_){return kn(s,f,t0(_,2),!0)}function Fs(s,f){var _=s==null?0:s.length;if(_){var x=Is(s,f,!0)-1;if(_r(s[x],f))return x}return-1}function ud(s){return s&&s.length?To(s):[]}function Au(s,f){return s&&s.length?To(s,t0(f,2)):[]}function Iu(s){var f=s==null?0:s.length;return f?Dt(s,1,f):[]}function cd(s,f,_){return s&&s.length?(f=_||f===r?1:_0(f),Dt(s,0,f<0?0:f)):[]}function ld(s,f,_){var x=s==null?0:s.length;return x?(f=_||f===r?1:_0(f),f=x-f,Dt(s,f<0?0:f,x)):[]}function Ou(s,f){return s&&s.length?Os(s,t0(f,3),!1,!0):[]}function pd(s,f){return s&&s.length?Os(s,t0(f,3)):[]}var Cu=m0(function(s){return Ir(tt(s,1,Z0,!0))}),ku=m0(function(s){var f=z0(s);return Z0(f)&&(f=r),Ir(tt(s,1,Z0,!0),t0(f,2))}),xu=m0(function(s){var f=z0(s);return f=typeof f=="function"?f:r,Ir(tt(s,1,Z0,!0),r,f)});function hd(s){return s&&s.length?Ir(s):[]}function Du(s,f){return s&&s.length?Ir(s,t0(f,2)):[]}function Mu(s,f){return f=typeof f=="function"?f:r,s&&s.length?Ir(s,r,f):[]}function ta(s){if(!(s&&s.length))return[];var f=0;return s=Sr(s,function(_){if(Z0(_))return f=L0(_.length,f),!0}),cn(f,function(_){return Ie(s,un(_))})}function yd(s,f){if(!(s&&s.length))return[];var _=ta(s);return f==null?_:Ie(_,function(x){return mt(f,r,x)})}var Pu=m0(function(s,f){return Z0(s)?Pi(s,f):[]}),Nu=m0(function(s){return Dn(Sr(s,Z0))}),K0=m0(function(s){var f=z0(s);return Z0(f)&&(f=r),Dn(Sr(s,Z0),t0(f,2))}),Us=m0(function(s){var f=z0(s);return f=typeof f=="function"?f:r,Dn(Sr(s,Z0),r,f)}),Bu=m0(ta);function Lu(s,f){return Ro(s||[],f||[],fi)}function gd(s,f){return Ro(s||[],f||[],Bi)}var qu=m0(function(s){var f=s.length,_=f>1?s[f-1]:r;return _=typeof _=="function"?(s.pop(),_):r,yd(s,_)});function ra(s){var f=V(s);return f.__chain__=!0,f}function Fu(s,f){return f(s),s}function Hs(s,f){return f(s)}var Uu=ar(function(s){var f=s.length,_=f?s[0]:0,x=this.__wrapped__,H=function(z){return Ts(z,s)};return f>1||this.__actions__.length||!(x instanceof p0)||!gr(_)?this.thru(H):(x=x.slice(_,+_+(f?1:0)),x.__actions__.push({func:Hs,args:[H],thisArg:r}),new Ct(x,this.__chain__).thru(function(z){return f&&!z.length&&z.push(r),z}))});function Hu(){return ra(this)}function $u(){return new Ct(this.value(),this.__chain__)}function ju(){this.__values__===r&&(this.__values__=yc(this.value()));var s=this.__index__>=this.__values__.length,f=s?r:this.__values__[this.__index__++];return{done:s,value:f}}function d(){return this}function e(s){for(var f,_=this;_ instanceof ai;){var x=id(_);x.__index__=0,x.__values__=r,f?H.__wrapped__=x:f=x;var H=x;_=_.__wrapped__}return H.__wrapped__=s,f}function i(){var s=this.__wrapped__;if(s instanceof p0){var f=s;return this.__actions__.length&&(f=new p0(this)),f=f.reverse(),f.__actions__.push({func:Hs,args:[ea],thisArg:r}),new Ct(f,this.__chain__)}return this.thru(ea)}function o(){return So(this.__wrapped__,this.__actions__)}var p=ks(function(s,f,_){b0.call(s,_)?++s[_]:pr(s,_,1)});function S(s,f,_){var x=l0(s)?dn:wf;return _&&dt(s,f,_)&&(f=r),x(s,t0(f,3))}function C(s,f){var _=l0(s)?Sr:so;return _(s,t0(f,3))}var B=Po(Zn),U=Po(nd);function se(s,f){return tt(Ke(s,f),1)}function pe(s,f){return tt(Ke(s,f),ye)}function he(s,f,_){return _=_===r?1:_0(_),tt(Ke(s,f),_)}function Ae(s,f){var _=l0(s)?vt:ot;return _(s,t0(f,3))}function Oe(s,f){var _=l0(s)?Bd:io;return _(s,t0(f,3))}var je=ks(function(s,f,_){b0.call(s,_)?s[_].push(f):pr(s,_,[f])});function Ve(s,f,_,x){s=Nt(s)?s:js(s),_=_&&!x?_0(_):0;var H=s.length;return _<0&&(_=L0(H+_,0)),Td(s)?_<=H&&s.indexOf(f,_)>-1:!!H&&jt(s,f,_)>-1}var r0=m0(function(s,f,_){var x=-1,H=typeof f=="function",z=Nt(s)?ke(s.length):[];return ot(s,function(le){z[++x]=H?mt(f,le,_):Ni(le,f,_)}),z}),i0=ks(function(s,f,_){pr(s,_,f)});function Ke(s,f){var _=l0(s)?Ie:lo;return _(s,t0(f,3))}function o0(s,f,_,x){return s==null?[]:(l0(f)||(f=f==null?[]:[f]),_=x?r:_,l0(_)||(_=_==null?[]:[_]),go(s,f,_))}var E0=ks(function(s,f,_){s[_?0:1].push(f)},function(){return[[],[]]});function J0(s,f,_){var x=l0(s)?bt:La,H=arguments.length<3;return x(s,t0(f,4),_,H,ot)}function j0(s,f,_){var x=l0(s)?Ld:La,H=arguments.length<3;return x(s,t0(f,4),_,H,io)}function ht(s,f){var _=l0(s)?Sr:so;return _(s,vd(t0(f,3)))}function Pt(s){var f=l0(s)?Qa:Lf;return f(s)}function H0(s,f,_){(_?dt(s,f,_):f===r)?f=1:f=_0(f);var x=l0(s)?_f:qf;return x(s,f)}function $r(s){var f=l0(s)?vf:Uf;return f(s)}function md(s){if(s==null)return 0;if(Nt(s))return Td(s)?ei(s):s.length;var f=$0(s);return f==O||f==ae?s.size:An(s).length}function yi(s,f,_){var x=l0(s)?Ei:Hf;return _&&dt(s,f,_)&&(f=r),x(s,t0(f,3))}var Vu=m0(function(s,f){if(s==null)return[];var _=f.length;return _>1&&dt(s,f[0],f[1])?f=[]:_>2&&dt(f[0],f[1],f[2])&&(f=[f[0]]),go(s,tt(f,1),[])}),mr=ps||function(){return et.Date.now()};function ia(s,f){if(typeof f!="function")throw new Et(h);return s=_0(s),function(){if(--s<1)return f.apply(this,arguments)}}function sc(s,f,_){return f=_?r:f,f=s&&f==null?s.length:f,hr(s,ue,r,r,r,r,f)}function nc(s,f){var _;if(typeof f!="function")throw new Et(h);return s=_0(s),function(){return--s>0&&(_=f.apply(this,arguments)),s<=1&&(f=r),_}}var Gu=m0(function(s,f,_){var x=A;if(_.length){var H=er(_,pi(Gu));x|=X}return hr(s,x,f,_,H)}),ac=m0(function(s,f,_){var x=A|M;if(_.length){var H=er(_,pi(ac));x|=X}return hr(f,x,s,_,H)});function oc(s,f,_){f=_?r:f;var x=hr(s,q,r,r,r,r,r,f);return x.placeholder=oc.placeholder,x}function dc(s,f,_){f=_?r:f;var x=hr(s,W,r,r,r,r,r,f);return x.placeholder=dc.placeholder,x}function fc(s,f,_){var x,H,z,le,ge,Re,Le=0,Fe=!1,Ue=!1,We=!0;if(typeof s!="function")throw new Et(h);f=fr(f)||0,V0(_)&&(Fe=!!_.leading,Ue="maxWait"in _,z=Ue?L0(fr(_.maxWait)||0,f):z,We="trailing"in _?!!_.trailing:We);function Xe(Y0){var vr=x,Gr=H;return x=H=r,Le=Y0,le=s.apply(Gr,vr),le}function s0(Y0){return Le=Y0,ge=Ui(S0,f),Fe?Xe(Y0):le}function v0(Y0){var vr=Y0-Re,Gr=Y0-Le,Oc=f-vr;return Ue?it(Oc,z-Gr):Oc}function n0(Y0){var vr=Y0-Re,Gr=Y0-Le;return Re===r||vr>=f||vr<0||Ue&&Gr>=z}function S0(){var Y0=mr();if(n0(Y0))return A0(Y0);ge=Ui(S0,v0(Y0))}function A0(Y0){return ge=r,We&&x?Xe(Y0):(x=H=r,le)}function Zt(){ge!==r&&Io(ge),Le=0,x=Re=H=ge=r}function St(){return ge===r?le:A0(mr())}function Yt(){var Y0=mr(),vr=n0(Y0);if(x=arguments,H=this,Re=Y0,vr){if(ge===r)return s0(Re);if(Ue)return Io(ge),ge=Ui(S0,f),Xe(Re)}return ge===r&&(ge=Ui(S0,f)),le}return Yt.cancel=Zt,Yt.flush=St,Yt}var Cc=m0(function(s,f){return ro(s,1,f)}),kc=m0(function(s,f,_){return ro(s,fr(f)||0,_)});function xc(s){return hr(s,ne)}function _d(s,f){if(typeof s!="function"||f!=null&&typeof f!="function")throw new Et(h);var _=function(){var x=arguments,H=f?f.apply(this,x):x[0],z=_.cache;if(z.has(H))return z.get(H);var le=s.apply(this,x);return _.cache=z.set(H,le)||z,le};return _.cache=new(_d.Cache||rr),_}_d.Cache=rr;function vd(s){if(typeof s!="function")throw new Et(h);return function(){var f=arguments;switch(f.length){case 0:return!s.call(this);case 1:return!s.call(this,f[0]);case 2:return!s.call(this,f[0],f[1]);case 3:return!s.call(this,f[0],f[1],f[2])}return!s.apply(this,f)}}function Dc(s){return nc(2,s)}var Mc=Ao(function(s,f){f=f.length==1&&l0(f[0])?Ie(f[0],Tt(t0())):Ie(tt(f,1),Tt(t0()));var _=f.length;return m0(function(x){for(var H=-1,z=it(x.length,_);++H<z;)x[H]=f[H].call(this,x[H]);return mt(s,this,x)})}),Wu=m0(function(s,f){var _=er(f,pi(Wu));return hr(s,X,r,f,_)}),uc=m0(function(s,f){var _=er(f,pi(uc));return hr(s,L,r,f,_)}),Pc=ar(function(s,f){return hr(s,Te,r,r,r,f)});function Nc(s,f){if(typeof s!="function")throw new Et(h);return f=f===r?f:_0(f),m0(s,f)}function Bc(s,f){if(typeof s!="function")throw new Et(h);return f=f==null?0:L0(_0(f),0),m0(function(_){var x=_[f],H=Cr(_,0,f);return x&&O0(H,x),mt(s,this,H)})}function Lc(s,f,_){var x=!0,H=!0;if(typeof s!="function")throw new Et(h);return V0(_)&&(x="leading"in _?!!_.leading:x,H="trailing"in _?!!_.trailing:H),fc(s,f,{leading:x,maxWait:f,trailing:H})}function qc(s){return sc(s,1)}function Fc(s,f){return Wu(Pn(f),s)}function Uc(){if(!arguments.length)return[];var s=arguments[0];return l0(s)?s:[s]}function Hc(s){return xt(s,c)}function $c(s,f){return f=typeof f=="function"?f:r,xt(s,c,f)}function jc(s){return xt(s,I|c)}function Vc(s,f){return f=typeof f=="function"?f:r,xt(s,I|c,f)}function Gc(s,f){return f==null||to(s,f,nt(f))}function _r(s,f){return s===f||s!==s&&f!==f}var Wc=Ps(Ss),zc=Ps(function(s,f){return s>=f}),Vi=ao(function(){return arguments}())?ao:function(s){return G0(s)&&b0.call(s,"callee")&&!Ga.call(s,"callee")},l0=ke.isArray,Kc=an?Tt(an):Cf;function Nt(s){return s!=null&&bd(s.length)&&!jr(s)}function Z0(s){return G0(s)&&Nt(s)}function Zc(s){return s===!0||s===!1||G0(s)&&st(s)==Je}var gi=yn||ic,Yc=on?Tt(on):kf;function Xc(s){return G0(s)&&s.nodeType===1&&!sa(s)}function Jc(s){if(s==null)return!0;if(Nt(s)&&(l0(s)||typeof s=="string"||typeof s.splice=="function"||gi(s)||$s(s)||Vi(s)))return!s.length;var f=$0(s);if(f==O||f==ae)return!s.size;if(Fi(s))return!An(s).length;for(var _ in s)if(b0.call(s,_))return!1;return!0}function Qc(s,f){return ui(s,f)}function el(s,f,_){_=typeof _=="function"?_:r;var x=_?_(s,f):r;return x===r?ui(s,f,r,_):!!x}function zu(s){if(!G0(s))return!1;var f=st(s);return f==oe||f==Y||typeof s.message=="string"&&typeof s.name=="string"&&!sa(s)}function tl(s){return typeof s=="number"&&Wt(s)}function jr(s){if(!V0(s))return!1;var f=st(s);return f==b||f==ce||f==x0||f==F}function cc(s){return typeof s=="number"&&s==_0(s)}function bd(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=Ce}function V0(s){var f=typeof s;return s!=null&&(f=="object"||f=="function")}function G0(s){return s!=null&&typeof s=="object"}var lc=Ti?Tt(Ti):fo;function rl(s,f){return s===f||Sn(s,f,or(f))}function il(s,f,_){return _=typeof _=="function"?_:r,Sn(s,f,or(f),_)}function sl(s){return pc(s)&&s!=+s}function nl(s){if(tu(s))throw new f0(y);return Rn(s)}function al(s){return s===null}function ol(s){return s==null}function pc(s){return typeof s=="number"||G0(s)&&st(s)==j}function sa(s){if(!G0(s)||st(s)!=k)return!1;var f=us(s);if(f===null)return!0;var _=b0.call(f,"constructor")&&f.constructor;return typeof _=="function"&&_ instanceof _&&ns.call(_)==as}var Ku=Ma?Tt(Ma):xf;function dl(s){return cc(s)&&s>=-Ce&&s<=Ce}var hc=Pa?Tt(Pa):uo;function Td(s){return typeof s=="string"||!l0(s)&&G0(s)&&st(s)==ee}function Kt(s){return typeof s=="symbol"||G0(s)&&st(s)==me}var $s=Na?Tt(Na):Df;function fl(s){return s===r}function ul(s){return G0(s)&&$0(s)==Me}function cl(s){return G0(s)&&st(s)==Be}var ll=Ps(In),pl=Ps(function(s,f){return s<=f});function yc(s){if(!s)return[];if(Nt(s))return Td(s)?Gt(s):pt(s);if(Ii&&s[Ii])return ts(s[Ii]());var f=$0(s),_=f==O?pn:f==ae?Ri:js;return _(s)}function Vr(s){if(!s)return s===0?s:0;if(s=fr(s),s===ye||s===-ye){var f=s<0?-1:1;return f*K}return s===s?s:0}function _0(s){var f=Vr(s),_=f%1;return f===f?_?f-_:f:0}function gc(s){return s?Lr(_0(s),0,de):0}function fr(s){if(typeof s=="number")return s;if(Kt(s))return ve;if(V0(s)){var f=typeof s.valueOf=="function"?s.valueOf():s;s=V0(f)?f+"":f}if(typeof s!="string")return s===0?s:+s;s=qa(s);var _=Ze.test(s);return _||Ks.test(s)?Nd(s.slice(2),_?2:8):Ki.test(s)?ve:+s}function mc(s){return nr(s,Bt(s))}function hl(s){return s?Lr(_0(s),-Ce,Ce):s===0?s:0}function M0(s){return s==null?"":wt(s)}var yl=ci(function(s,f){if(Fi(f)||Nt(f)){nr(f,nt(f),s);return}for(var _ in f)b0.call(f,_)&&fi(s,_,f[_])}),_c=ci(function(s,f){nr(f,Bt(f),s)}),Ed=ci(function(s,f,_,x){nr(f,Bt(f),s,x)}),gl=ci(function(s,f,_,x){nr(f,nt(f),s,x)}),ml=ar(Ts);function _l(s,f){var _=ni(s);return f==null?_:eo(_,f)}var vl=m0(function(s,f){s=B0(s);var _=-1,x=f.length,H=x>2?f[2]:r;for(H&&dt(f[0],f[1],H)&&(x=1);++_<x;)for(var z=f[_],le=Bt(z),ge=-1,Re=le.length;++ge<Re;){var Le=le[ge],Fe=s[Le];(Fe===r||_r(Fe,ti[Le])&&!b0.call(s,Le))&&(s[Le]=z[Le])}return s}),bl=m0(function(s){return s.push(r,Uo),mt(vc,r,s)});function Tl(s,f){return fn(s,t0(f,3),ir)}function El(s,f){return fn(s,t0(f,3),Tn)}function wl(s,f){return s==null?s:bn(s,t0(f,3),Bt)}function Sl(s,f){return s==null?s:no(s,t0(f,3),Bt)}function Rl(s,f){return s&&ir(s,t0(f,3))}function Al(s,f){return s&&Tn(s,t0(f,3))}function Il(s){return s==null?[]:ws(s,nt(s))}function Ol(s){return s==null?[]:ws(s,Bt(s))}function Zu(s,f,_){var x=s==null?r:sr(s,f);return x===r?_:x}function Cl(s,f){return s!=null&&Bs(s,f,Rf)}function Yu(s,f){return s!=null&&Bs(s,f,Af)}var kl=Bo(function(s,f,_){f!=null&&typeof f.toString!="function"&&(f=ct.call(f)),s[f]=_},Ju(Lt)),xl=Bo(function(s,f,_){f!=null&&typeof f.toString!="function"&&(f=ct.call(f)),b0.call(s,f)?s[f].push(_):s[f]=[_]},t0),Dl=m0(Ni);function nt(s){return Nt(s)?Ja(s):An(s)}function Bt(s){return Nt(s)?Ja(s,!0):Mf(s)}function Ml(s,f){var _={};return f=t0(f,3),ir(s,function(x,H,z){pr(_,f(x,H,z),x)}),_}function Pl(s,f){var _={};return f=t0(f,3),ir(s,function(x,H,z){pr(_,H,f(x,H,z))}),_}var Nl=ci(function(s,f,_){Rs(s,f,_)}),vc=ci(function(s,f,_,x){Rs(s,f,_,x)}),Bl=ar(function(s,f){var _={};if(s==null)return _;var x=!1;f=Ie(f,function(z){return z=Or(z,s),x||(x=z.length>1),z}),nr(s,$n(s),_),x&&(_=xt(_,I|l|c,Yf));for(var H=f.length;H--;)xn(_,f[H]);return _});function Ll(s,f){return bc(s,vd(t0(f)))}var ql=ar(function(s,f){return s==null?{}:mo(s,f)});function bc(s,f){if(s==null)return{};var _=Ie($n(s),function(x){return[x]});return f=t0(f),_o(s,_,function(x,H){return f(x,H[0])})}function Fl(s,f,_){f=Or(f,s);var x=-1,H=f.length;for(H||(H=1,s=r);++x<H;){var z=s==null?r:s[dr(f[x])];z===r&&(x=H,z=_),s=jr(z)?z.call(s):z}return s}function Ul(s,f,_){return s==null?s:Bi(s,f,_)}function Hl(s,f,_,x){return x=typeof x=="function"?x:r,s==null?s:Bi(s,f,_,x)}var Tc=qo(nt),Ec=qo(Bt);function $l(s,f,_){var x=l0(s),H=x||gi(s)||$s(s);if(f=t0(f,4),_==null){var z=s&&s.constructor;H?_=x?new z:[]:V0(s)?_=jr(z)?ni(us(s)):{}:_={}}return(H?vt:ir)(s,function(le,ge,Re){return f(_,le,ge,Re)}),_}function jl(s,f){return s==null?!0:xn(s,f)}function Vl(s,f,_){return s==null?s:wo(s,f,Pn(_))}function Gl(s,f,_,x){return x=typeof x=="function"?x:r,s==null?s:wo(s,f,Pn(_),x)}function js(s){return s==null?[]:ln(s,nt(s))}function Wl(s){return s==null?[]:ln(s,Bt(s))}function zl(s,f,_){return _===r&&(_=f,f=r),_!==r&&(_=fr(_),_=_===_?_:0),f!==r&&(f=fr(f),f=f===f?f:0),Lr(fr(s),f,_)}function Kl(s,f,_){return f=Vr(f),_===r?(_=f,f=0):_=Vr(_),s=fr(s),If(s,f,_)}function Zl(s,f,_){if(_&&typeof _!="boolean"&&dt(s,f,_)&&(f=_=r),_===r&&(typeof f=="boolean"?(_=f,f=r):typeof s=="boolean"&&(_=s,s=r)),s===r&&f===r?(s=0,f=1):(s=Vr(s),f===r?(f=s,s=0):f=Vr(f)),s>f){var x=s;s=f,f=x}if(_||s%1||f%1){var H=mn();return it(s+H*(f-s+Pd("1e-"+((H+"").length-1))),f)}return On(s,f)}var Yl=qr(function(s,f,_){return f=f.toLowerCase(),s+(_?wc(f):f)});function wc(s){return Xu(M0(s).toLowerCase())}function Sc(s){return s=M0(s),s&&s.replace(pa,Rr).replace(Qs,"")}function Xl(s,f,_){s=M0(s),f=wt(f);var x=s.length;_=_===r?x:Lr(_0(_),0,x);var H=_;return _-=f.length,_>=0&&s.slice(_,H)==f}function Jl(s){return s=M0(s),s&&Gs.test(s)?s.replace(Xt,Si):s}function Ql(s){return s=M0(s),s&&mi.test(s)?s.replace(Tr,"\\$&"):s}var ep=qr(function(s,f,_){return s+(_?"-":"")+f.toLowerCase()}),tp=qr(function(s,f,_){return s+(_?" ":"")+f.toLowerCase()}),rp=qn("toLowerCase");function ip(s,f,_){s=M0(s),f=_0(f);var x=f?ei(s):0;if(!f||x>=f)return s;var H=(f-x)/2;return Ms(hs(H),_)+s+Ms(Ci(H),_)}function sp(s,f,_){s=M0(s),f=_0(f);var x=f?ei(s):0;return f&&x<f?s+Ms(f-x,_):s}function np(s,f,_){s=M0(s),f=_0(f);var x=f?ei(s):0;return f&&x<f?Ms(f-x,_)+s:s}function ap(s,f,_){return _||f==null?f=0:f&&(f=+f),za(M0(s).replace(Er,""),f||0)}function op(s,f,_){return(_?dt(s,f,_):f===r)?f=1:f=_0(f),Cn(M0(s),f)}function dp(){var s=arguments,f=M0(s[0]);return s.length<3?f:f.replace(s[1],s[2])}var fp=qr(function(s,f,_){return s+(_?"_":"")+f.toLowerCase()});function up(s,f,_){return _&&typeof _!="number"&&dt(s,f,_)&&(f=_=r),_=_===r?de:_>>>0,_?(s=M0(s),s&&(typeof f=="string"||f!=null&&!Ku(f))&&(f=wt(f),!f&&F0(s))?Cr(Gt(s),0,_):s.split(f,_)):[]}var cp=qr(function(s,f,_){return s+(_?" ":"")+Xu(f)});function lp(s,f,_){return s=M0(s),_=_==null?0:Lr(_0(_),0,s.length),f=wt(f),s.slice(_,_+f.length)==f}function pp(s,f,_){var x=V.templateSettings;_&&dt(s,f,_)&&(f=r),s=M0(s),f=Ed({},f,x,Fo);var H=Ed({},f.imports,x.imports,Fo),z=nt(H),le=ln(H,z),ge,Re,Le=0,Fe=f.interpolate||qt,Ue="__p += '",We=is((f.escape||qt).source+"|"+Fe.source+"|"+(Fe===aa?w0:qt).source+"|"+(f.evaluate||qt).source+"|$","g"),Xe="//# sourceURL="+(b0.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xd+"]")+`
`;s.replace(We,function(n0,S0,A0,Zt,St,Yt){return A0||(A0=Zt),Ue+=s.slice(Le,Yt).replace(U0,Ud),S0&&(ge=!0,Ue+=`' +
__e(`+S0+`) +
'`),St&&(Re=!0,Ue+=`';
`+St+`;
__p += '`),A0&&(Ue+=`' +
((__t = (`+A0+`)) == null ? '' : __t) +
'`),Le=Yt+n0.length,n0}),Ue+=`';
`;var s0=b0.call(f,"variable")&&f.variable;if(!s0)Ue=`with (obj) {
`+Ue+`
}
`;else if(Zr.test(s0))throw new f0(m);Ue=(Re?Ue.replace(Wr,""):Ue).replace(zr,"$1").replace(Vs,"$1;"),Ue="function("+(s0||"obj")+`) {
`+(s0?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ge?", __e = _.escape":"")+(Re?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ue+`return __p
}`;var v0=Ac(function(){return C0(z,Xe+"return "+Ue).apply(r,le)});if(v0.source=Ue,zu(v0))throw v0;return v0}function hp(s){return M0(s).toLowerCase()}function yp(s){return M0(s).toUpperCase()}function gp(s,f,_){if(s=M0(s),s&&(_||f===r))return qa(s);if(!s||!(f=wt(f)))return s;var x=Gt(s),H=Gt(f),z=Fa(x,H),le=wi(x,H)+1;return Cr(x,z,le).join("")}function mp(s,f,_){if(s=M0(s),s&&(_||f===r))return s.slice(0,Ha(s)+1);if(!s||!(f=wt(f)))return s;var x=Gt(s),H=wi(x,Gt(f))+1;return Cr(x,0,H).join("")}function _p(s,f,_){if(s=M0(s),s&&(_||f===r))return s.replace(Er,"");if(!s||!(f=wt(f)))return s;var x=Gt(s),H=Fa(x,Gt(f));return Cr(x,H).join("")}function vp(s,f){var _=Q,x=te;if(V0(f)){var H="separator"in f?f.separator:H;_="length"in f?_0(f.length):_,x="omission"in f?wt(f.omission):x}s=M0(s);var z=s.length;if(F0(s)){var le=Gt(s);z=le.length}if(_>=z)return s;var ge=_-ei(x);if(ge<1)return x;var Re=le?Cr(le,0,ge).join(""):s.slice(0,ge);if(H===r)return Re+x;if(le&&(ge+=Re.length-ge),Ku(H)){if(s.slice(ge).search(H)){var Le,Fe=Re;for(H.global||(H=is(H.source,M0(zi.exec(H))+"g")),H.lastIndex=0;Le=H.exec(Fe);)var Ue=Le.index;Re=Re.slice(0,Ue===r?ge:Ue)}}else if(s.indexOf(wt(H),ge)!=ge){var We=Re.lastIndexOf(H);We>-1&&(Re=Re.slice(0,We))}return Re+x}function bp(s){return s=M0(s),s&&br.test(s)?s.replace(Kr,jd):s}var Tp=qr(function(s,f,_){return s+(_?" ":"")+f.toUpperCase()}),Xu=qn("toUpperCase");function Rc(s,f,_){return s=M0(s),f=_?r:f,f===r?Vt(s)?Wd(s):qd(s):s.match(f)||[]}var Ac=m0(function(s,f){try{return mt(s,r,f)}catch(_){return zu(_)?_:new f0(_)}}),Ep=ar(function(s,f){return vt(f,function(_){_=dr(_),pr(s,_,Gu(s[_],s))}),s});function wp(s){var f=s==null?0:s.length,_=t0();return s=f?Ie(s,function(x){if(typeof x[1]!="function")throw new Et(h);return[_(x[0]),x[1]]}):[],m0(function(x){for(var H=-1;++H<f;){var z=s[H];if(mt(z[0],this,x))return mt(z[1],this,x)}})}function Sp(s){return Ef(xt(s,I))}function Ju(s){return function(){return s}}function Rp(s,f){return s==null||s!==s?f:s}var Ap=No(),Ip=No(!0);function Lt(s){return s}function Qu(s){return co(typeof s=="function"?s:xt(s,I))}function Cp(s){return po(xt(s,I))}function kp(s,f){return ho(s,xt(f,I))}var xp=m0(function(s,f){return function(_){return Ni(_,s,f)}}),Dp=m0(function(s,f){return function(_){return Ni(s,_,f)}});function ec(s,f,_){var x=nt(f),H=ws(f,x);_==null&&!(V0(f)&&(H.length||!x.length))&&(_=f,f=s,s=this,H=ws(f,nt(f)));var z=!(V0(_)&&"chain"in _)||!!_.chain,le=jr(s);return vt(H,function(ge){var Re=f[ge];s[ge]=Re,le&&(s.prototype[ge]=function(){var Le=this.__chain__;if(z||Le){var Fe=s(this.__wrapped__),Ue=Fe.__actions__=pt(this.__actions__);return Ue.push({func:Re,args:arguments,thisArg:s}),Fe.__chain__=Le,Fe}return Re.apply(s,O0([this.value()],arguments))})}),s}function Mp(){return et._===this&&(et._=we),this}function tc(){}function Pp(s){return s=_0(s),m0(function(f){return yo(f,s)})}var Np=Fn(Ie),Bp=Fn(dn),Lp=Fn(Ei);function Ic(s){return Gn(s)?un(dr(s)):Nf(s)}function qp(s){return function(f){return s==null?r:sr(s,f)}}var Fp=Lo(),Up=Lo(!0);function rc(){return[]}function ic(){return!1}function Hp(){return{}}function $p(){return""}function jp(){return!0}function Vp(s,f){if(s=_0(s),s<1||s>Ce)return[];var _=de,x=it(s,de);f=t0(f),s-=de;for(var H=cn(x,f);++_<s;)f(_);return H}function Gp(s){return l0(s)?Ie(s,dr):Kt(s)?[s]:pt(td(M0(s)))}function Wp(s){var f=++Ai;return M0(s)+f}var zp=Ds(function(s,f){return s+f},0),Kp=Hn("ceil"),Zp=Ds(function(s,f){return s/f},1),Yp=Hn("floor");function Xp(s){return s&&s.length?Es(s,Lt,Ss):r}function Jp(s,f){return s&&s.length?Es(s,t0(f,2),Ss):r}function Qp(s){return es(s,Lt)}function eh(s,f){return es(s,t0(f,2))}function th(s){return s&&s.length?Es(s,Lt,In):r}function rh(s,f){return s&&s.length?Es(s,t0(f,2),In):r}var ih=Ds(function(s,f){return s*f},1),sh=Hn("round"),nh=Ds(function(s,f){return s-f},0);function ah(s){return s&&s.length?At(s,Lt):0}function oh(s,f){return s&&s.length?At(s,t0(f,2)):0}return V.after=ia,V.ary=sc,V.assign=yl,V.assignIn=_c,V.assignInWith=Ed,V.assignWith=gl,V.at=ml,V.before=nc,V.bind=Gu,V.bindAll=Ep,V.bindKey=ac,V.castArray=Uc,V.chain=ra,V.chunk=ou,V.compact=du,V.concat=fu,V.cond=wp,V.conforms=Sp,V.constant=Ju,V.countBy=p,V.create=_l,V.curry=oc,V.curryRight=dc,V.debounce=fc,V.defaults=vl,V.defaultsDeep=bl,V.defer=Cc,V.delay=kc,V.difference=sd,V.differenceBy=uu,V.differenceWith=cu,V.drop=lu,V.dropRight=pu,V.dropRightWhile=hu,V.dropWhile=yu,V.fill=gu,V.filter=C,V.flatMap=se,V.flatMapDeep=pe,V.flatMapDepth=he,V.flatten=Ur,V.flattenDeep=mu,V.flattenDepth=Yn,V.flip=xc,V.flow=Ap,V.flowRight=Ip,V.fromPairs=_u,V.functions=Il,V.functionsIn=Ol,V.groupBy=je,V.initial=u0,V.intersection=bu,V.intersectionBy=Xn,V.intersectionWith=Hi,V.invert=kl,V.invertBy=xl,V.invokeMap=r0,V.iteratee=Qu,V.keyBy=i0,V.keys=nt,V.keysIn=Bt,V.map=Ke,V.mapKeys=Ml,V.mapValues=Pl,V.matches=Cp,V.matchesProperty=kp,V.memoize=_d,V.merge=Nl,V.mergeWith=vc,V.method=xp,V.methodOf=Dp,V.mixin=ec,V.negate=vd,V.nthArg=Pp,V.omit=Bl,V.omitBy=Ll,V.once=Dc,V.orderBy=o0,V.over=Np,V.overArgs=Mc,V.overEvery=Bp,V.overSome=Lp,V.partial=Wu,V.partialRight=uc,V.partition=E0,V.pick=ql,V.pickBy=bc,V.property=Ic,V.propertyOf=qp,V.pull=qs,V.pullAll=ji,V.pullAllBy=od,V.pullAllWith=Tu,V.pullAt=Qn,V.range=Fp,V.rangeRight=Up,V.rearg=Pc,V.reject=ht,V.remove=Hr,V.rest=Nc,V.reverse=ea,V.sampleSize=H0,V.set=Ul,V.setWith=Hl,V.shuffle=$r,V.slice=Eu,V.sortBy=Vu,V.sortedUniq=ud,V.sortedUniqBy=Au,V.split=up,V.spread=Bc,V.tail=Iu,V.take=cd,V.takeRight=ld,V.takeRightWhile=Ou,V.takeWhile=pd,V.tap=Fu,V.throttle=Lc,V.thru=Hs,V.toArray=yc,V.toPairs=Tc,V.toPairsIn=Ec,V.toPath=Gp,V.toPlainObject=mc,V.transform=$l,V.unary=qc,V.union=Cu,V.unionBy=ku,V.unionWith=xu,V.uniq=hd,V.uniqBy=Du,V.uniqWith=Mu,V.unset=jl,V.unzip=ta,V.unzipWith=yd,V.update=Vl,V.updateWith=Gl,V.values=js,V.valuesIn=Wl,V.without=Pu,V.words=Rc,V.wrap=Fc,V.xor=Nu,V.xorBy=K0,V.xorWith=Us,V.zip=Bu,V.zipObject=Lu,V.zipObjectDeep=gd,V.zipWith=qu,V.entries=Tc,V.entriesIn=Ec,V.extend=_c,V.extendWith=Ed,ec(V,V),V.add=zp,V.attempt=Ac,V.camelCase=Yl,V.capitalize=wc,V.ceil=Kp,V.clamp=zl,V.clone=Hc,V.cloneDeep=jc,V.cloneDeepWith=Vc,V.cloneWith=$c,V.conformsTo=Gc,V.deburr=Sc,V.defaultTo=Rp,V.divide=Zp,V.endsWith=Xl,V.eq=_r,V.escape=Jl,V.escapeRegExp=Ql,V.every=S,V.find=B,V.findIndex=Zn,V.findKey=Tl,V.findLast=U,V.findLastIndex=nd,V.findLastKey=El,V.floor=Yp,V.forEach=Ae,V.forEachRight=Oe,V.forIn=wl,V.forInRight=Sl,V.forOwn=Rl,V.forOwnRight=Al,V.get=Zu,V.gt=Wc,V.gte=zc,V.has=Cl,V.hasIn=Yu,V.head=ad,V.identity=Lt,V.includes=Ve,V.indexOf=vu,V.inRange=Kl,V.invoke=Dl,V.isArguments=Vi,V.isArray=l0,V.isArrayBuffer=Kc,V.isArrayLike=Nt,V.isArrayLikeObject=Z0,V.isBoolean=Zc,V.isBuffer=gi,V.isDate=Yc,V.isElement=Xc,V.isEmpty=Jc,V.isEqual=Qc,V.isEqualWith=el,V.isError=zu,V.isFinite=tl,V.isFunction=jr,V.isInteger=cc,V.isLength=bd,V.isMap=lc,V.isMatch=rl,V.isMatchWith=il,V.isNaN=sl,V.isNative=nl,V.isNil=ol,V.isNull=al,V.isNumber=pc,V.isObject=V0,V.isObjectLike=G0,V.isPlainObject=sa,V.isRegExp=Ku,V.isSafeInteger=dl,V.isSet=hc,V.isString=Td,V.isSymbol=Kt,V.isTypedArray=$s,V.isUndefined=fl,V.isWeakMap=ul,V.isWeakSet=cl,V.join=ft,V.kebabCase=ep,V.last=z0,V.lastIndexOf=$i,V.lowerCase=tp,V.lowerFirst=rp,V.lt=ll,V.lte=pl,V.max=Xp,V.maxBy=Jp,V.mean=Qp,V.meanBy=eh,V.min=th,V.minBy=rh,V.stubArray=rc,V.stubFalse=ic,V.stubObject=Hp,V.stubString=$p,V.stubTrue=jp,V.multiply=ih,V.nth=Jn,V.noConflict=Mp,V.noop=tc,V.now=mr,V.pad=ip,V.padEnd=sp,V.padStart=np,V.parseInt=ap,V.random=Zl,V.reduce=J0,V.reduceRight=j0,V.repeat=op,V.replace=dp,V.result=Fl,V.round=sh,V.runInContext=Ee,V.sample=Pt,V.size=md,V.snakeCase=fp,V.some=yi,V.sortedIndex=dd,V.sortedIndexBy=wu,V.sortedIndexOf=Su,V.sortedLastIndex=fd,V.sortedLastIndexBy=Ru,V.sortedLastIndexOf=Fs,V.startCase=cp,V.startsWith=lp,V.subtract=nh,V.sum=ah,V.sumBy=oh,V.template=pp,V.times=Vp,V.toFinite=Vr,V.toInteger=_0,V.toLength=gc,V.toLower=hp,V.toNumber=fr,V.toSafeInteger=hl,V.toString=M0,V.toUpper=yp,V.trim=gp,V.trimEnd=mp,V.trimStart=_p,V.truncate=vp,V.unescape=bp,V.uniqueId=Wp,V.upperCase=Tp,V.upperFirst=Xu,V.each=Ae,V.eachRight=Oe,V.first=ad,ec(V,function(){var s={};return ir(V,function(f,_){b0.call(V.prototype,_)||(s[_]=f)}),s}(),{chain:!1}),V.VERSION=u,vt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){V[s].placeholder=V}),vt(["drop","take"],function(s,f){p0.prototype[s]=function(_){_=_===r?1:L0(_0(_),0);var x=this.__filtered__&&!f?new p0(this):this.clone();return x.__filtered__?x.__takeCount__=it(_,x.__takeCount__):x.__views__.push({size:it(_,de),type:s+(x.__dir__<0?"Right":"")}),x},p0.prototype[s+"Right"]=function(_){return this.reverse()[s](_).reverse()}}),vt(["filter","map","takeWhile"],function(s,f){var _=f+1,x=_==N||_==be;p0.prototype[s]=function(H){var z=this.clone();return z.__iteratees__.push({iteratee:t0(H,3),type:_}),z.__filtered__=z.__filtered__||x,z}}),vt(["head","last"],function(s,f){var _="take"+(f?"Right":"");p0.prototype[s]=function(){return this[_](1).value()[0]}}),vt(["initial","tail"],function(s,f){var _="drop"+(f?"":"Right");p0.prototype[s]=function(){return this.__filtered__?new p0(this):this[_](1)}}),p0.prototype.compact=function(){return this.filter(Lt)},p0.prototype.find=function(s){return this.filter(s).head()},p0.prototype.findLast=function(s){return this.reverse().find(s)},p0.prototype.invokeMap=m0(function(s,f){return typeof s=="function"?new p0(this):this.map(function(_){return Ni(_,s,f)})}),p0.prototype.reject=function(s){return this.filter(vd(t0(s)))},p0.prototype.slice=function(s,f){s=_0(s);var _=this;return _.__filtered__&&(s>0||f<0)?new p0(_):(s<0?_=_.takeRight(-s):s&&(_=_.drop(s)),f!==r&&(f=_0(f),_=f<0?_.dropRight(-f):_.take(f-s)),_)},p0.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},p0.prototype.toArray=function(){return this.take(de)},ir(p0.prototype,function(s,f){var _=/^(?:filter|find|map|reject)|While$/.test(f),x=/^(?:head|last)$/.test(f),H=V[x?"take"+(f=="last"?"Right":""):f],z=x||/^find/.test(f);H&&(V.prototype[f]=function(){var le=this.__wrapped__,ge=x?[1]:arguments,Re=le instanceof p0,Le=ge[0],Fe=Re||l0(le),Ue=function(S0){var A0=H.apply(V,O0([S0],ge));return x&&We?A0[0]:A0};Fe&&_&&typeof Le=="function"&&Le.length!=1&&(Re=Fe=!1);var We=this.__chain__,Xe=!!this.__actions__.length,s0=z&&!We,v0=Re&&!Xe;if(!z&&Fe){le=v0?le:new p0(this);var n0=s.apply(le,ge);return n0.__actions__.push({func:Hs,args:[Ue],thisArg:r}),new Ct(n0,We)}return s0&&v0?s.apply(this,ge):(n0=this.thru(Ue),s0?x?n0.value()[0]:n0.value():n0)})}),vt(["pop","push","shift","sort","splice","unshift"],function(s){var f=ss[s],_=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",x=/^(?:pop|shift)$/.test(s);V.prototype[s]=function(){var H=arguments;if(x&&!this.__chain__){var z=this.value();return f.apply(l0(z)?z:[],H)}return this[_](function(le){return f.apply(l0(le)?le:[],H)})}}),ir(p0.prototype,function(s,f){var _=V[f];if(_){var x=_.name+"";b0.call(Ot,x)||(Ot[x]=[]),Ot[x].push({name:f,func:_})}}),Ot[xs(r,M).name]=[{name:"wrapper",func:r}],p0.prototype.clone=Qd,p0.prototype.reverse=oi,p0.prototype.value=ef,V.prototype.at=Uu,V.prototype.chain=Hu,V.prototype.commit=$u,V.prototype.next=ju,V.prototype.plant=e,V.prototype.reverse=i,V.prototype.toJSON=V.prototype.valueOf=V.prototype.value=o,V.prototype.first=V.prototype.head,Ii&&(V.prototype[Ii]=d),V},Dr=zd();Ut?((Ut.exports=Dr)._=Dr,sn._=Dr):et._=Dr}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports,dist$4={},indexLight={exports:{}},indexMinimal={},minimal={},aspromise=asPromise$1;function asPromise$1(a,n){for(var r=new Array(arguments.length-1),u=0,g=2,y=!0;g<arguments.length;)r[u++]=arguments[g++];return new Promise(function(m,v){r[u]=function(R){if(y)if(y=!1,R)v(R);else{for(var I=new Array(arguments.length-1),l=0;l<I.length;)I[l++]=arguments[l];m.apply(null,I)}};try{a.apply(n||null,r)}catch(E){y&&(y=!1,v(E))}})}var base64$1={};(function(a){var n=a;n.length=function(m){var v=m.length;if(!v)return 0;for(var E=0;--v%4>1&&m.charAt(v)==="=";)++E;return Math.ceil(m.length*3)/4-E};for(var r=new Array(64),u=new Array(123),g=0;g<64;)u[r[g]=g<26?g+65:g<52?g+71:g<62?g-4:g-59|43]=g++;n.encode=function(m,v,E){for(var R=null,I=[],l=0,c=0,T;v<E;){var w=m[v++];switch(c){case 0:I[l++]=r[w>>2],T=(w&3)<<4,c=1;break;case 1:I[l++]=r[T|w>>4],T=(w&15)<<2,c=2;break;case 2:I[l++]=r[T|w>>6],I[l++]=r[w&63],c=0;break}l>8191&&((R||(R=[])).push(String.fromCharCode.apply(String,I)),l=0)}return c&&(I[l++]=r[T],I[l++]=61,c===1&&(I[l++]=61)),R?(l&&R.push(String.fromCharCode.apply(String,I.slice(0,l))),R.join("")):String.fromCharCode.apply(String,I.slice(0,l))};var y="invalid encoding";n.decode=function(m,v,E){for(var R=E,I=0,l,c=0;c<m.length;){var T=m.charCodeAt(c++);if(T===61&&I>1)break;if((T=u[T])===void 0)throw Error(y);switch(I){case 0:l=T,I=1;break;case 1:v[E++]=l<<2|(T&48)>>4,l=T,I=2;break;case 2:v[E++]=(l&15)<<4|(T&60)>>2,l=T,I=3;break;case 3:v[E++]=(l&3)<<6|T,I=0;break}}if(I===1)throw Error(y);return E-R},n.test=function(m){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(m)}})(base64$1);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(n,r,u){return(this._listeners[n]||(this._listeners[n]=[])).push({fn:r,ctx:u||this}),this};EventEmitter.prototype.off=function(n,r){if(n===void 0)this._listeners={};else if(r===void 0)this._listeners[n]=[];else for(var u=this._listeners[n],g=0;g<u.length;)u[g].fn===r?u.splice(g,1):++g;return this};EventEmitter.prototype.emit=function(n){var r=this._listeners[n];if(r){for(var u=[],g=1;g<arguments.length;)u.push(arguments[g++]);for(g=0;g<r.length;)r[g].fn.apply(r[g++].ctx,u)}return this};var float=factory(factory);function factory(a){return typeof Float32Array<"u"?function(){var n=new Float32Array([-0]),r=new Uint8Array(n.buffer),u=r[3]===128;function g(v,E,R){n[0]=v,E[R]=r[0],E[R+1]=r[1],E[R+2]=r[2],E[R+3]=r[3]}function y(v,E,R){n[0]=v,E[R]=r[3],E[R+1]=r[2],E[R+2]=r[1],E[R+3]=r[0]}a.writeFloatLE=u?g:y,a.writeFloatBE=u?y:g;function h(v,E){return r[0]=v[E],r[1]=v[E+1],r[2]=v[E+2],r[3]=v[E+3],n[0]}function m(v,E){return r[3]=v[E],r[2]=v[E+1],r[1]=v[E+2],r[0]=v[E+3],n[0]}a.readFloatLE=u?h:m,a.readFloatBE=u?m:h}():function(){function n(u,g,y,h){var m=g<0?1:0;if(m&&(g=-g),g===0)u(1/g>0?0:2147483648,y,h);else if(isNaN(g))u(2143289344,y,h);else if(g>34028234663852886e22)u((m<<31|2139095040)>>>0,y,h);else if(g<11754943508222875e-54)u((m<<31|Math.round(g/1401298464324817e-60))>>>0,y,h);else{var v=Math.floor(Math.log(g)/Math.LN2),E=Math.round(g*Math.pow(2,-v)*8388608)&8388607;u((m<<31|v+127<<23|E)>>>0,y,h)}}a.writeFloatLE=n.bind(null,writeUintLE),a.writeFloatBE=n.bind(null,writeUintBE);function r(u,g,y){var h=u(g,y),m=(h>>31)*2+1,v=h>>>23&255,E=h&8388607;return v===255?E?NaN:m*(1/0):v===0?m*1401298464324817e-60*E:m*Math.pow(2,v-150)*(E+8388608)}a.readFloatLE=r.bind(null,readUintLE),a.readFloatBE=r.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var n=new Float64Array([-0]),r=new Uint8Array(n.buffer),u=r[7]===128;function g(v,E,R){n[0]=v,E[R]=r[0],E[R+1]=r[1],E[R+2]=r[2],E[R+3]=r[3],E[R+4]=r[4],E[R+5]=r[5],E[R+6]=r[6],E[R+7]=r[7]}function y(v,E,R){n[0]=v,E[R]=r[7],E[R+1]=r[6],E[R+2]=r[5],E[R+3]=r[4],E[R+4]=r[3],E[R+5]=r[2],E[R+6]=r[1],E[R+7]=r[0]}a.writeDoubleLE=u?g:y,a.writeDoubleBE=u?y:g;function h(v,E){return r[0]=v[E],r[1]=v[E+1],r[2]=v[E+2],r[3]=v[E+3],r[4]=v[E+4],r[5]=v[E+5],r[6]=v[E+6],r[7]=v[E+7],n[0]}function m(v,E){return r[7]=v[E],r[6]=v[E+1],r[5]=v[E+2],r[4]=v[E+3],r[3]=v[E+4],r[2]=v[E+5],r[1]=v[E+6],r[0]=v[E+7],n[0]}a.readDoubleLE=u?h:m,a.readDoubleBE=u?m:h}():function(){function n(u,g,y,h,m,v){var E=h<0?1:0;if(E&&(h=-h),h===0)u(0,m,v+g),u(1/h>0?0:2147483648,m,v+y);else if(isNaN(h))u(0,m,v+g),u(2146959360,m,v+y);else if(h>17976931348623157e292)u(0,m,v+g),u((E<<31|2146435072)>>>0,m,v+y);else{var R;if(h<22250738585072014e-324)R=h/5e-324,u(R>>>0,m,v+g),u((E<<31|R/4294967296)>>>0,m,v+y);else{var I=Math.floor(Math.log(h)/Math.LN2);I===1024&&(I=1023),R=h*Math.pow(2,-I),u(R*4503599627370496>>>0,m,v+g),u((E<<31|I+1023<<20|R*1048576&1048575)>>>0,m,v+y)}}}a.writeDoubleLE=n.bind(null,writeUintLE,0,4),a.writeDoubleBE=n.bind(null,writeUintBE,4,0);function r(u,g,y,h,m){var v=u(h,m+g),E=u(h,m+y),R=(E>>31)*2+1,I=E>>>20&2047,l=4294967296*(E&1048575)+v;return I===2047?l?NaN:R*(1/0):I===0?R*5e-324*l:R*Math.pow(2,I-1075)*(l+4503599627370496)}a.readDoubleLE=r.bind(null,readUintLE,0,4),a.readDoubleBE=r.bind(null,readUintBE,4,0)}(),a}function writeUintLE(a,n,r){n[r]=a&255,n[r+1]=a>>>8&255,n[r+2]=a>>>16&255,n[r+3]=a>>>24}function writeUintBE(a,n,r){n[r]=a>>>24,n[r+1]=a>>>16&255,n[r+2]=a>>>8&255,n[r+3]=a&255}function readUintLE(a,n){return(a[n]|a[n+1]<<8|a[n+2]<<16|a[n+3]<<24)>>>0}function readUintBE(a,n){return(a[n]<<24|a[n+1]<<16|a[n+2]<<8|a[n+3])>>>0}var inquire_1=inquire$1;function inquire$1(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(a){}return null}var utf8$2={};(function(a){var n=a;n.length=function(u){for(var g=0,y=0,h=0;h<u.length;++h)y=u.charCodeAt(h),y<128?g+=1:y<2048?g+=2:(y&64512)===55296&&(u.charCodeAt(h+1)&64512)===56320?(++h,g+=4):g+=3;return g},n.read=function(u,g,y){var h=y-g;if(h<1)return"";for(var m=null,v=[],E=0,R;g<y;)R=u[g++],R<128?v[E++]=R:R>191&&R<224?v[E++]=(R&31)<<6|u[g++]&63:R>239&&R<365?(R=((R&7)<<18|(u[g++]&63)<<12|(u[g++]&63)<<6|u[g++]&63)-65536,v[E++]=55296+(R>>10),v[E++]=56320+(R&1023)):v[E++]=(R&15)<<12|(u[g++]&63)<<6|u[g++]&63,E>8191&&((m||(m=[])).push(String.fromCharCode.apply(String,v)),E=0);return m?(E&&m.push(String.fromCharCode.apply(String,v.slice(0,E))),m.join("")):String.fromCharCode.apply(String,v.slice(0,E))},n.write=function(u,g,y){for(var h=y,m,v,E=0;E<u.length;++E)m=u.charCodeAt(E),m<128?g[y++]=m:m<2048?(g[y++]=m>>6|192,g[y++]=m&63|128):(m&64512)===55296&&((v=u.charCodeAt(E+1))&64512)===56320?(m=65536+((m&1023)<<10)+(v&1023),++E,g[y++]=m>>18|240,g[y++]=m>>12&63|128,g[y++]=m>>6&63|128,g[y++]=m&63|128):(g[y++]=m>>12|224,g[y++]=m>>6&63|128,g[y++]=m&63|128);return y-h}})(utf8$2);var pool_1=pool;function pool(a,n,r){var u=r||8192,g=u>>>1,y=null,h=u;return function(v){if(v<1||v>g)return a(v);h+v>u&&(y=a(u),h=0);var E=n.call(y,h,h+=v);return h&7&&(h=(h|7)+1),E}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=n;var a=requireMinimal();function n(y,h){this.lo=y>>>0,this.hi=h>>>0}var r=n.zero=new n(0,0);r.toNumber=function(){return 0},r.zzEncode=r.zzDecode=function(){return this},r.length=function(){return 1};var u=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(h){if(h===0)return r;var m=h<0;m&&(h=-h);var v=h>>>0,E=(h-v)/4294967296>>>0;return m&&(E=~E>>>0,v=~v>>>0,++v>4294967295&&(v=0,++E>4294967295&&(E=0))),new n(v,E)},n.from=function(h){if(typeof h=="number")return n.fromNumber(h);if(a.isString(h))if(a.Long)h=a.Long.fromString(h);else return n.fromNumber(parseInt(h,10));return h.low||h.high?new n(h.low>>>0,h.high>>>0):r},n.prototype.toNumber=function(h){if(!h&&this.hi>>>31){var m=~this.lo+1>>>0,v=~this.hi>>>0;return m||(v=v+1>>>0),-(m+v*4294967296)}return this.lo+this.hi*4294967296},n.prototype.toLong=function(h){return a.Long?new a.Long(this.lo|0,this.hi|0,!!h):{low:this.lo|0,high:this.hi|0,unsigned:!!h}};var g=String.prototype.charCodeAt;return n.fromHash=function(h){return h===u?r:new n((g.call(h,0)|g.call(h,1)<<8|g.call(h,2)<<16|g.call(h,3)<<24)>>>0,(g.call(h,4)|g.call(h,5)<<8|g.call(h,6)<<16|g.call(h,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var h=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^h)>>>0,this.lo=(this.lo<<1^h)>>>0,this},n.prototype.zzDecode=function(){var h=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^h)>>>0,this.hi=(this.hi>>>1^h)>>>0,this},n.prototype.length=function(){var h=this.lo,m=(this.lo>>>28|this.hi<<4)>>>0,v=this.hi>>>24;return v===0?m===0?h<16384?h<128?1:2:h<2097152?3:4:m<16384?m<128?5:6:m<2097152?7:8:v<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(a){var n=a;n.asPromise=aspromise,n.base64=base64$1,n.EventEmitter=eventemitter,n.float=float,n.inquire=inquire_1,n.utf8=utf8$2,n.pool=pool_1,n.LongBits=requireLongbits(),n.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),n.global=n.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(y){return typeof y=="number"&&isFinite(y)&&Math.floor(y)===y},n.isString=function(y){return typeof y=="string"||y instanceof String},n.isObject=function(y){return y&&typeof y=="object"},n.isset=n.isSet=function(y,h){var m=y[h];return m!=null&&y.hasOwnProperty(h)?typeof m!="object"||(Array.isArray(m)?m.length:Object.keys(m).length)>0:!1},n.Buffer=function(){try{var g=n.inquire("buffer").Buffer;return g.prototype.utf8Write?g:null}catch{return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(y){return typeof y=="number"?n.Buffer?n._Buffer_allocUnsafe(y):new n.Array(y):n.Buffer?n._Buffer_from(y):typeof Uint8Array>"u"?y:new Uint8Array(y)},n.Array=typeof Uint8Array<"u"?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(y){return y?n.LongBits.from(y).toHash():n.LongBits.zeroHash},n.longFromHash=function(y,h){var m=n.LongBits.fromHash(y);return n.Long?n.Long.fromBits(m.lo,m.hi,h):m.toNumber(!!h)};function r(g,y,h){for(var m=Object.keys(y),v=0;v<m.length;++v)(g[m[v]]===void 0||!h)&&(g[m[v]]=y[m[v]]);return g}n.merge=r,n.lcFirst=function(y){return y.charAt(0).toLowerCase()+y.substring(1)};function u(g){function y(h,m){if(!(this instanceof y))return new y(h,m);Object.defineProperty(this,"message",{get:function(){return h}}),Error.captureStackTrace?Error.captureStackTrace(this,y):Object.defineProperty(this,"stack",{value:new Error().stack||""}),m&&r(this,m)}return(y.prototype=Object.create(Error.prototype)).constructor=y,Object.defineProperty(y.prototype,"name",{get:function(){return g}}),y.prototype.toString=function(){return this.name+": "+this.message},y}n.newError=u,n.ProtocolError=u("ProtocolError"),n.oneOfGetter=function(y){for(var h={},m=0;m<y.length;++m)h[y[m]]=1;return function(){for(var v=Object.keys(this),E=v.length-1;E>-1;--E)if(h[v[E]]===1&&this[v[E]]!==void 0&&this[v[E]]!==null)return v[E]}},n.oneOfSetter=function(y){return function(h){for(var m=0;m<y.length;++m)y[m]!==h&&delete this[y[m]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var g=n.Buffer;if(!g){n._Buffer_from=n._Buffer_allocUnsafe=null;return}n._Buffer_from=g.from!==Uint8Array.from&&g.from||function(h,m){return new g(h,m)},n._Buffer_allocUnsafe=g.allocUnsafe||function(h){return new g(h)}}}(minimal)),minimal}var writer=Writer$1,util$6=requireMinimal(),BufferWriter$1,LongBits$1=util$6.LongBits,base64=util$6.base64,utf8$1=util$6.utf8;function Op(a,n,r){this.fn=a,this.len=n,this.next=void 0,this.val=r}function noop(){}function State(a){this.head=a.head,this.tail=a.tail,this.len=a.len,this.next=a.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function a(){return util$6.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function a(n){return new util$6.Array(n)};util$6.Array!==Array&&(Writer$1.alloc=util$6.pool(Writer$1.alloc,util$6.Array.prototype.subarray));Writer$1.prototype._push=function a(n,r,u){return this.tail=this.tail.next=new Op(n,r,u),this.len+=r,this};function writeByte(a,n,r){n[r]=a&255}function writeVarint32(a,n,r){for(;a>127;)n[r++]=a&127|128,a>>>=7;n[r]=a}function VarintOp(a,n){this.len=a,this.next=void 0,this.val=n}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function a(n){return this.len+=(this.tail=this.tail.next=new VarintOp((n=n>>>0)<128?1:n<16384?2:n<2097152?3:n<268435456?4:5,n)).len,this};Writer$1.prototype.int32=function a(n){return n<0?this._push(writeVarint64,10,LongBits$1.fromNumber(n)):this.uint32(n)};Writer$1.prototype.sint32=function a(n){return this.uint32((n<<1^n>>31)>>>0)};function writeVarint64(a,n,r){for(;a.hi;)n[r++]=a.lo&127|128,a.lo=(a.lo>>>7|a.hi<<25)>>>0,a.hi>>>=7;for(;a.lo>127;)n[r++]=a.lo&127|128,a.lo=a.lo>>>7;n[r++]=a.lo}Writer$1.prototype.uint64=function a(n){var r=LongBits$1.from(n);return this._push(writeVarint64,r.length(),r)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function a(n){var r=LongBits$1.from(n).zzEncode();return this._push(writeVarint64,r.length(),r)};Writer$1.prototype.bool=function a(n){return this._push(writeByte,1,n?1:0)};function writeFixed32(a,n,r){n[r]=a&255,n[r+1]=a>>>8&255,n[r+2]=a>>>16&255,n[r+3]=a>>>24}Writer$1.prototype.fixed32=function a(n){return this._push(writeFixed32,4,n>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function a(n){var r=LongBits$1.from(n);return this._push(writeFixed32,4,r.lo)._push(writeFixed32,4,r.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function a(n){return this._push(util$6.float.writeFloatLE,4,n)};Writer$1.prototype.double=function a(n){return this._push(util$6.float.writeDoubleLE,8,n)};var writeBytes=util$6.Array.prototype.set?function a(n,r,u){r.set(n,u)}:function a(n,r,u){for(var g=0;g<n.length;++g)r[u+g]=n[g]};Writer$1.prototype.bytes=function a(n){var r=n.length>>>0;if(!r)return this._push(writeByte,1,0);if(util$6.isString(n)){var u=Writer$1.alloc(r=base64.length(n));base64.decode(n,u,0),n=u}return this.uint32(r)._push(writeBytes,r,n)};Writer$1.prototype.string=function a(n){var r=utf8$1.length(n);return r?this.uint32(r)._push(utf8$1.write,r,n):this._push(writeByte,1,0)};Writer$1.prototype.fork=function a(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function a(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function a(){var n=this.head,r=this.tail,u=this.len;return this.reset().uint32(u),u&&(this.tail.next=n.next,this.tail=r,this.len+=u),this};Writer$1.prototype.finish=function a(){for(var n=this.head.next,r=this.constructor.alloc(this.len),u=0;n;)n.fn(n.val,r,u),u+=n.len,n=n.next;return r};Writer$1._configure=function(a){BufferWriter$1=a,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$5=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$5._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$5.Buffer&&util$5.Buffer.prototype instanceof Uint8Array&&util$5.Buffer.prototype.set.name==="set"?function(n,r,u){r.set(n,u)}:function(n,r,u){if(n.copy)n.copy(r,u,0,n.length);else for(var g=0;g<n.length;)r[u++]=n[g++]}};BufferWriter.prototype.bytes=function a(n){util$5.isString(n)&&(n=util$5._Buffer_from(n,"base64"));var r=n.length>>>0;return this.uint32(r),r&&this._push(BufferWriter.writeBytesBuffer,r,n),this};function writeStringBuffer(a,n,r){a.length<40?util$5.utf8.write(a,n,r):n.utf8Write?n.utf8Write(a,r):n.write(a,r)}BufferWriter.prototype.string=function a(n){var r=util$5.Buffer.byteLength(n);return this.uint32(r),r&&this._push(writeStringBuffer,r,n),this};BufferWriter._configure();var reader=Reader$1,util$4=requireMinimal(),BufferReader$1,LongBits=util$4.LongBits,utf8=util$4.utf8;function indexOutOfRange(a,n){return RangeError("index out of range: "+a.pos+" + "+(n||1)+" > "+a.len)}function Reader$1(a){this.buf=a,this.pos=0,this.len=a.length}var create_array=typeof Uint8Array<"u"?function a(n){if(n instanceof Uint8Array||Array.isArray(n))return new Reader$1(n);throw Error("illegal buffer")}:function a(n){if(Array.isArray(n))return new Reader$1(n);throw Error("illegal buffer")},create=function a(){return util$4.Buffer?function(r){return(Reader$1.create=function(g){return util$4.Buffer.isBuffer(g)?new BufferReader$1(g):create_array(g)})(r)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$4.Array.prototype.subarray||util$4.Array.prototype.slice;Reader$1.prototype.uint32=function a(){var n=4294967295;return function(){if(n=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(n=(n|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return n;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return n}}();Reader$1.prototype.int32=function a(){return this.uint32()|0};Reader$1.prototype.sint32=function a(){var n=this.uint32();return n>>>1^-(n&1)|0};function readLongVarint(){var a=new LongBits(0,0),n=0;if(this.len-this.pos>4){for(;n<4;++n)if(a.lo=(a.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return a;if(a.lo=(a.lo|(this.buf[this.pos]&127)<<28)>>>0,a.hi=(a.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return a;n=0}else{for(;n<3;++n){if(this.pos>=this.len)throw indexOutOfRange(this);if(a.lo=(a.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return a}return a.lo=(a.lo|(this.buf[this.pos++]&127)<<n*7)>>>0,a}if(this.len-this.pos>4){for(;n<5;++n)if(a.hi=(a.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return a}else for(;n<5;++n){if(this.pos>=this.len)throw indexOutOfRange(this);if(a.hi=(a.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return a}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function a(){return this.uint32()!==0};function readFixed32_end(a,n){return(a[n-4]|a[n-3]<<8|a[n-2]<<16|a[n-1]<<24)>>>0}Reader$1.prototype.fixed32=function a(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function a(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function a(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var n=util$4.float.readFloatLE(this.buf,this.pos);return this.pos+=4,n};Reader$1.prototype.double=function a(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var n=util$4.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,n};Reader$1.prototype.bytes=function a(){var n=this.uint32(),r=this.pos,u=this.pos+n;if(u>this.len)throw indexOutOfRange(this,n);return this.pos+=n,Array.isArray(this.buf)?this.buf.slice(r,u):r===u?new this.buf.constructor(0):this._slice.call(this.buf,r,u)};Reader$1.prototype.string=function a(){var n=this.bytes();return utf8.read(n,0,n.length)};Reader$1.prototype.skip=function a(n){if(typeof n=="number"){if(this.pos+n>this.len)throw indexOutOfRange(this,n);this.pos+=n}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(a){switch(a){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(a=this.uint32()&7)!==4;)this.skipType(a);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+a+" at offset "+this.pos)}return this};Reader$1._configure=function(a){BufferReader$1=a,Reader$1.create=create(),BufferReader$1._configure();var n=util$4.Long?"toLong":"toNumber";util$4.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[n](!1)},uint64:function(){return readLongVarint.call(this)[n](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[n](!1)},fixed64:function(){return readFixed64.call(this)[n](!0)},sfixed64:function(){return readFixed64.call(this)[n](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$3=requireMinimal();function BufferReader(a){Reader.call(this,a)}BufferReader._configure=function(){util$3.Buffer&&(BufferReader.prototype._slice=util$3.Buffer.prototype.slice)};BufferReader.prototype.string=function a(){var n=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+n,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+n,this.len))};BufferReader._configure();var rpc={},service$1=Service,util$2=requireMinimal();(Service.prototype=Object.create(util$2.EventEmitter.prototype)).constructor=Service;function Service(a,n,r){if(typeof a!="function")throw TypeError("rpcImpl must be a function");util$2.EventEmitter.call(this),this.rpcImpl=a,this.requestDelimited=!!n,this.responseDelimited=!!r}Service.prototype.rpcCall=function a(n,r,u,g,y){if(!g)throw TypeError("request must be specified");var h=this;if(!y)return util$2.asPromise(a,h,n,r,u,g);if(!h.rpcImpl){setTimeout(function(){y(Error("already ended"))},0);return}try{return h.rpcImpl(n,r[h.requestDelimited?"encodeDelimited":"encode"](g).finish(),function(v,E){if(v)return h.emit("error",v,n),y(v);if(E===null){h.end(!0);return}if(!(E instanceof u))try{E=u[h.responseDelimited?"decodeDelimited":"decode"](E)}catch(R){return h.emit("error",R,n),y(R)}return h.emit("data",E,n),y(null,E)})}catch(m){h.emit("error",m,n),setTimeout(function(){y(m)},0);return}};Service.prototype.end=function a(n){return this.rpcImpl&&(n||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(a){var n=a;n.Service=service$1})(rpc);var roots={};(function(a){var n=a;n.build="minimal",n.Writer=writer,n.BufferWriter=writer_buffer,n.Reader=reader,n.BufferReader=reader_buffer,n.util=requireMinimal(),n.rpc=rpc,n.roots=roots,n.configure=r;function r(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}r()})(indexMinimal);var util$1={exports:{}},codegen_1=codegen;function codegen(a,n){typeof a=="string"&&(n=a,a=void 0);var r=[];function u(y){if(typeof y!="string"){var h=g();if(codegen.verbose&&console.log("codegen: "+h),h="return "+h,y){for(var m=Object.keys(y),v=new Array(m.length+1),E=new Array(m.length),R=0;R<m.length;)v[R]=m[R],E[R]=y[m[R++]];return v[R]=h,Function.apply(null,v).apply(null,E)}return Function(h)()}for(var I=new Array(arguments.length-1),l=0;l<I.length;)I[l]=arguments[++l];if(l=0,y=y.replace(/%([%dfijs])/g,function(T,w){var A=I[l++];switch(w){case"d":case"f":return String(Number(A));case"i":return String(Math.floor(A));case"j":return JSON.stringify(A);case"s":return String(A)}return"%"}),l!==I.length)throw Error("parameter count mismatch");return r.push(y),u}function g(y){return"function "+(y||n||"")+"("+(a&&a.join(",")||"")+`){
  `+r.join(`
  `)+`
}`}return u.toString=g,u}codegen.verbose=!1;var fetch_1=fetch$1,asPromise=aspromise,inquire=inquire_1,fs=inquire("fs");function fetch$1(a,n,r){return typeof n=="function"?(r=n,n={}):n||(n={}),r?!n.xhr&&fs&&fs.readFile?fs.readFile(a,function(g,y){return g&&typeof XMLHttpRequest<"u"?fetch$1.xhr(a,n,r):g?r(g):r(null,n.binary?y:y.toString("utf8"))}):fetch$1.xhr(a,n,r):asPromise(fetch$1,this,a,n)}fetch$1.xhr=function a(n,r,u){var g=new XMLHttpRequest;g.onreadystatechange=function(){if(g.readyState===4){if(g.status!==0&&g.status!==200)return u(Error("status "+g.status));if(r.binary){var h=g.response;if(!h){h=[];for(var m=0;m<g.responseText.length;++m)h.push(g.responseText.charCodeAt(m)&255)}return u(null,typeof Uint8Array<"u"?new Uint8Array(h):h)}return u(null,g.responseText)}},r.binary&&("overrideMimeType"in g&&g.overrideMimeType("text/plain; charset=x-user-defined"),g.responseType="arraybuffer"),g.open("GET",n),g.send()};var path={};(function(a){var n=a,r=n.isAbsolute=function(y){return/^(?:\/|\w+:)/.test(y)},u=n.normalize=function(y){y=y.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var h=y.split("/"),m=r(y),v="";m&&(v=h.shift()+"/");for(var E=0;E<h.length;)h[E]===".."?E>0&&h[E-1]!==".."?h.splice(--E,2):m?h.splice(E,1):++E:h[E]==="."?h.splice(E,1):++E;return v+h.join("/")};n.resolve=function(y,h,m){return m||(h=u(h)),r(h)?h:(m||(y=u(y)),(y=y.replace(/(?:\/|^)[^/]+$/,"")).length?u(y+"/"+h):h)}})(path);var types={},hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(a){var n=a,r=requireUtil(),u=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function g(y,h){var m=0,v={};for(h|=0;m<y.length;)v[u[m+h]]=y[m++];return v}n.basic=g([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=g([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",r.emptyArray,null]),n.long=g([0,0,0,1,1],7),n.mapKey=g([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=g([1,5,0,0,0,5,5,0,0,0,1,1,0])}(types)),types}var field,hasRequiredField;function requireField(){if(hasRequiredField)return field;hasRequiredField=1,field=h;var a=requireObject();((h.prototype=Object.create(a.prototype)).constructor=h).className="Field";var n=require_enum(),r=requireTypes(),u=requireUtil(),g,y=/^required|optional|repeated$/;h.fromJSON=function(v,E){return new h(v,E.id,E.type,E.rule,E.extend,E.options,E.comment)};function h(m,v,E,R,I,l,c){if(u.isObject(R)?(c=I,l=R,R=I=void 0):u.isObject(I)&&(c=l,l=I,I=void 0),a.call(this,m,l),!u.isInteger(v)||v<0)throw TypeError("id must be a non-negative integer");if(!u.isString(E))throw TypeError("type must be a string");if(R!==void 0&&!y.test(R=R.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(I!==void 0&&!u.isString(I))throw TypeError("extend must be a string");R==="proto3_optional"&&(R="optional"),this.rule=R&&R!=="optional"?R:void 0,this.type=E,this.id=v,this.extend=I||void 0,this.required=R==="required",this.optional=!this.required,this.repeated=R==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=u.Long?r.long[E]!==void 0:!1,this.bytes=E==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=c}return Object.defineProperty(h.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),h.prototype.setOption=function(v,E,R){return v==="packed"&&(this._packed=null),a.prototype.setOption.call(this,v,E,R)},h.prototype.toJSON=function(v){var E=v?!!v.keepComments:!1;return u.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",E?this.comment:void 0])},h.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=r.defaults[this.type])===void 0&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof g?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof n&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof n))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=u.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var v;u.base64.test(this.typeDefault)?u.base64.decode(this.typeDefault,v=u.newBuffer(u.base64.length(this.typeDefault)),0):u.utf8.write(this.typeDefault,v=u.newBuffer(u.utf8.length(this.typeDefault)),0),this.typeDefault=v}return this.map?this.defaultValue=u.emptyObject:this.repeated?this.defaultValue=u.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof g&&(this.parent.ctor.prototype[this.name]=this.defaultValue),a.prototype.resolve.call(this)},h.d=function(v,E,R,I){return typeof E=="function"?E=u.decorateType(E).name:E&&typeof E=="object"&&(E=u.decorateEnum(E).name),function(c,T){u.decorateType(c.constructor).add(new h(T,v,E,R,{default:I}))}},h._configure=function(v){g=v},field}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=u;var a=requireObject();((u.prototype=Object.create(a.prototype)).constructor=u).className="OneOf";var n=requireField(),r=requireUtil();function u(y,h,m,v){if(Array.isArray(h)||(m=h,h=void 0),a.call(this,y,m),!(h===void 0||Array.isArray(h)))throw TypeError("fieldNames must be an Array");this.oneof=h||[],this.fieldsArray=[],this.comment=v}u.fromJSON=function(h,m){return new u(h,m.oneof,m.options,m.comment)},u.prototype.toJSON=function(h){var m=h?!!h.keepComments:!1;return r.toObject(["options",this.options,"oneof",this.oneof,"comment",m?this.comment:void 0])};function g(y){if(y.parent)for(var h=0;h<y.fieldsArray.length;++h)y.fieldsArray[h].parent||y.parent.add(y.fieldsArray[h])}return u.prototype.add=function(h){if(!(h instanceof n))throw TypeError("field must be a Field");return h.parent&&h.parent!==this.parent&&h.parent.remove(h),this.oneof.push(h.name),this.fieldsArray.push(h),h.partOf=this,g(this),this},u.prototype.remove=function(h){if(!(h instanceof n))throw TypeError("field must be a Field");var m=this.fieldsArray.indexOf(h);if(m<0)throw Error(h+" is not a member of "+this);return this.fieldsArray.splice(m,1),m=this.oneof.indexOf(h.name),m>-1&&this.oneof.splice(m,1),h.partOf=null,this},u.prototype.onAdd=function(h){a.prototype.onAdd.call(this,h);for(var m=this,v=0;v<this.oneof.length;++v){var E=h.get(this.oneof[v]);E&&!E.partOf&&(E.partOf=m,m.fieldsArray.push(E))}g(this)},u.prototype.onRemove=function(h){for(var m=0,v;m<this.fieldsArray.length;++m)(v=this.fieldsArray[m]).parent&&v.parent.remove(v);a.prototype.onRemove.call(this,h)},u.d=function(){for(var h=new Array(arguments.length),m=0;m<arguments.length;)h[m]=arguments[m++];return function(E,R){r.decorateType(E.constructor).add(new u(R,h)),Object.defineProperty(E,R,{get:r.oneOfGetter(h),set:r.oneOfSetter(h)})}},oneof}var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=v;var a=requireObject();((v.prototype=Object.create(a.prototype)).constructor=v).className="Namespace";var n=requireField(),r=requireOneof(),u=requireUtil(),g,y,h;v.fromJSON=function(I,l){return new v(I,l.options).addJSON(l.nested)};function m(R,I){if(R&&R.length){for(var l={},c=0;c<R.length;++c)l[R[c].name]=R[c].toJSON(I);return l}}v.arrayToJSON=m,v.isReservedId=function(I,l){if(I){for(var c=0;c<I.length;++c)if(typeof I[c]!="string"&&I[c][0]<=l&&I[c][1]>l)return!0}return!1},v.isReservedName=function(I,l){if(I){for(var c=0;c<I.length;++c)if(I[c]===l)return!0}return!1};function v(R,I){a.call(this,R,I),this.nested=void 0,this._nestedArray=null}function E(R){return R._nestedArray=null,R}return Object.defineProperty(v.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=u.toArray(this.nested))}}),v.prototype.toJSON=function(I){return u.toObject(["options",this.options,"nested",m(this.nestedArray,I)])},v.prototype.addJSON=function(I){var l=this;if(I)for(var c=Object.keys(I),T=0,w;T<c.length;++T)w=I[c[T]],l.add((w.fields!==void 0?g.fromJSON:w.values!==void 0?h.fromJSON:w.methods!==void 0?y.fromJSON:w.id!==void 0?n.fromJSON:v.fromJSON)(c[T],w));return this},v.prototype.get=function(I){return this.nested&&this.nested[I]||null},v.prototype.getEnum=function(I){if(this.nested&&this.nested[I]instanceof h)return this.nested[I].values;throw Error("no such enum: "+I)},v.prototype.add=function(I){if(!(I instanceof n&&I.extend!==void 0||I instanceof g||I instanceof h||I instanceof y||I instanceof v||I instanceof r))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var l=this.get(I.name);if(l)if(l instanceof v&&I instanceof v&&!(l instanceof g||l instanceof y)){for(var c=l.nestedArray,T=0;T<c.length;++T)I.add(c[T]);this.remove(l),this.nested||(this.nested={}),I.setOptions(l.options,!0)}else throw Error("duplicate name '"+I.name+"' in "+this)}return this.nested[I.name]=I,I.onAdd(this),E(this)},v.prototype.remove=function(I){if(!(I instanceof a))throw TypeError("object must be a ReflectionObject");if(I.parent!==this)throw Error(I+" is not a member of "+this);return delete this.nested[I.name],Object.keys(this.nested).length||(this.nested=void 0),I.onRemove(this),E(this)},v.prototype.define=function(I,l){if(u.isString(I))I=I.split(".");else if(!Array.isArray(I))throw TypeError("illegal path");if(I&&I.length&&I[0]==="")throw Error("path must be relative");for(var c=this;I.length>0;){var T=I.shift();if(c.nested&&c.nested[T]){if(c=c.nested[T],!(c instanceof v))throw Error("path conflicts with non-namespace objects")}else c.add(c=new v(T))}return l&&c.addJSON(l),c},v.prototype.resolveAll=function(){for(var I=this.nestedArray,l=0;l<I.length;)I[l]instanceof v?I[l++].resolveAll():I[l++].resolve();return this.resolve()},v.prototype.lookup=function(I,l,c){if(typeof l=="boolean"?(c=l,l=void 0):l&&!Array.isArray(l)&&(l=[l]),u.isString(I)&&I.length){if(I===".")return this.root;I=I.split(".")}else if(!I.length)return this;if(I[0]==="")return this.root.lookup(I.slice(1),l);var T=this.get(I[0]);if(T){if(I.length===1){if(!l||l.indexOf(T.constructor)>-1)return T}else if(T instanceof v&&(T=T.lookup(I.slice(1),l,!0)))return T}else for(var w=0;w<this.nestedArray.length;++w)if(this._nestedArray[w]instanceof v&&(T=this._nestedArray[w].lookup(I,l,!0)))return T;return this.parent===null||c?null:this.parent.lookup(I,l)},v.prototype.lookupType=function(I){var l=this.lookup(I,[g]);if(!l)throw Error("no such type: "+I);return l},v.prototype.lookupEnum=function(I){var l=this.lookup(I,[h]);if(!l)throw Error("no such Enum '"+I+"' in "+this);return l},v.prototype.lookupTypeOrEnum=function(I){var l=this.lookup(I,[g,h]);if(!l)throw Error("no such Type or Enum '"+I+"' in "+this);return l},v.prototype.lookupService=function(I){var l=this.lookup(I,[y]);if(!l)throw Error("no such Service '"+I+"' in "+this);return l},v._configure=function(R,I,l){g=R,y=I,h=l},namespace}var mapfield,hasRequiredMapfield;function requireMapfield(){if(hasRequiredMapfield)return mapfield;hasRequiredMapfield=1,mapfield=u;var a=requireField();((u.prototype=Object.create(a.prototype)).constructor=u).className="MapField";var n=requireTypes(),r=requireUtil();function u(g,y,h,m,v,E){if(a.call(this,g,y,m,void 0,void 0,v,E),!r.isString(h))throw TypeError("keyType must be a string");this.keyType=h,this.resolvedKeyType=null,this.map=!0}return u.fromJSON=function(y,h){return new u(y,h.id,h.keyType,h.type,h.options,h.comment)},u.prototype.toJSON=function(y){var h=y?!!y.keepComments:!1;return r.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",h?this.comment:void 0])},u.prototype.resolve=function(){if(this.resolved)return this;if(n.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return a.prototype.resolve.call(this)},u.d=function(y,h,m){return typeof m=="function"?m=r.decorateType(m).name:m&&typeof m=="object"&&(m=r.decorateEnum(m).name),function(E,R){r.decorateType(E.constructor).add(new u(R,y,h,m))}},mapfield}var method,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method;hasRequiredMethod=1,method=r;var a=requireObject();((r.prototype=Object.create(a.prototype)).constructor=r).className="Method";var n=requireUtil();function r(u,g,y,h,m,v,E,R,I){if(n.isObject(m)?(E=m,m=v=void 0):n.isObject(v)&&(E=v,v=void 0),!(g===void 0||n.isString(g)))throw TypeError("type must be a string");if(!n.isString(y))throw TypeError("requestType must be a string");if(!n.isString(h))throw TypeError("responseType must be a string");a.call(this,u,E),this.type=g||"rpc",this.requestType=y,this.requestStream=m?!0:void 0,this.responseType=h,this.responseStream=v?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=R,this.parsedOptions=I}return r.fromJSON=function(g,y){return new r(g,y.type,y.requestType,y.responseType,y.requestStream,y.responseStream,y.options,y.comment,y.parsedOptions)},r.prototype.toJSON=function(g){var y=g?!!g.keepComments:!1;return n.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",y?this.comment:void 0,"parsedOptions",this.parsedOptions])},r.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),a.prototype.resolve.call(this))},method}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=g;var a=requireNamespace();((g.prototype=Object.create(a.prototype)).constructor=g).className="Service";var n=requireMethod(),r=requireUtil(),u=rpc;function g(h,m){a.call(this,h,m),this.methods={},this._methodsArray=null}g.fromJSON=function(m,v){var E=new g(m,v.options);if(v.methods)for(var R=Object.keys(v.methods),I=0;I<R.length;++I)E.add(n.fromJSON(R[I],v.methods[R[I]]));return v.nested&&E.addJSON(v.nested),E.comment=v.comment,E},g.prototype.toJSON=function(m){var v=a.prototype.toJSON.call(this,m),E=m?!!m.keepComments:!1;return r.toObject(["options",v&&v.options||void 0,"methods",a.arrayToJSON(this.methodsArray,m)||{},"nested",v&&v.nested||void 0,"comment",E?this.comment:void 0])},Object.defineProperty(g.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=r.toArray(this.methods))}});function y(h){return h._methodsArray=null,h}return g.prototype.get=function(m){return this.methods[m]||a.prototype.get.call(this,m)},g.prototype.resolveAll=function(){for(var m=this.methodsArray,v=0;v<m.length;++v)m[v].resolve();return a.prototype.resolve.call(this)},g.prototype.add=function(m){if(this.get(m.name))throw Error("duplicate name '"+m.name+"' in "+this);return m instanceof n?(this.methods[m.name]=m,m.parent=this,y(this)):a.prototype.add.call(this,m)},g.prototype.remove=function(m){if(m instanceof n){if(this.methods[m.name]!==m)throw Error(m+" is not a member of "+this);return delete this.methods[m.name],m.parent=null,y(this)}return a.prototype.remove.call(this,m)},g.prototype.create=function(m,v,E){for(var R=new u.Service(m,v,E),I=0,l;I<this.methodsArray.length;++I){var c=r.lcFirst((l=this._methodsArray[I]).resolve().name).replace(/[^$\w_]/g,"");R[c]=r.codegen(["r","c"],r.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:l,q:l.resolvedRequestType.ctor,s:l.resolvedResponseType.ctor})}return R},service}var message=Message,util=requireMinimal();function Message(a){if(a)for(var n=Object.keys(a),r=0;r<n.length;++r)this[n[r]]=a[n[r]]}Message.create=function a(n){return this.$type.create(n)};Message.encode=function a(n,r){return this.$type.encode(n,r)};Message.encodeDelimited=function a(n,r){return this.$type.encodeDelimited(n,r)};Message.decode=function a(n){return this.$type.decode(n)};Message.decodeDelimited=function a(n){return this.$type.decodeDelimited(n)};Message.verify=function a(n){return this.$type.verify(n)};Message.fromObject=function a(n){return this.$type.fromObject(n)};Message.toObject=function a(n,r){return this.$type.toObject(n,r)};Message.prototype.toJSON=function a(){return this.$type.toObject(this,util.toJSONOptions)};var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=g;var a=require_enum(),n=requireTypes(),r=requireUtil();function u(y){return"missing required '"+y.name+"'"}function g(y){var h=r.codegen(["r","l"],y.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(y.fieldsArray.filter(function(l){return l.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");y.group&&h("if((t&7)===4)")("break"),h("switch(t>>>3){");for(var m=0;m<y.fieldsArray.length;++m){var v=y._fieldsArray[m].resolve(),E=v.resolvedType instanceof a?"int32":v.type,R="m"+r.safeProp(v.name);h("case %i:",v.id),v.map?(h("if(%s===util.emptyObject)",R)("%s={}",R)("var c2 = r.uint32()+r.pos"),n.defaults[v.keyType]!==void 0?h("k=%j",n.defaults[v.keyType]):h("k=null"),n.defaults[E]!==void 0?h("value=%j",n.defaults[E]):h("value=null"),h("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",v.keyType)("case 2:"),n.basic[E]===void 0?h("value=types[%i].decode(r,r.uint32())",m):h("value=r.%s()",E),h("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),n.long[v.keyType]!==void 0?h('%s[typeof k==="object"?util.longToHash(k):k]=value',R):h("%s[k]=value",R)):v.repeated?(h("if(!(%s&&%s.length))",R,R)("%s=[]",R),n.packed[E]!==void 0&&h("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",R,E)("}else"),n.basic[E]===void 0?h(v.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",R,m):h("%s.push(r.%s())",R,E)):n.basic[E]===void 0?h(v.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",R,m):h("%s=r.%s()",R,E),h("break")}for(h("default:")("r.skipType(t&7)")("break")("}")("}"),m=0;m<y._fieldsArray.length;++m){var I=y._fieldsArray[m];I.required&&h("if(!m.hasOwnProperty(%j))",I.name)("throw util.ProtocolError(%j,{instance:m})",u(I))}return h("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=y;var a=require_enum(),n=requireUtil();function r(h,m){return h.name+": "+m+(h.repeated&&m!=="array"?"[]":h.map&&m!=="object"?"{k:"+h.keyType+"}":"")+" expected"}function u(h,m,v,E){if(m.resolvedType)if(m.resolvedType instanceof a){h("switch(%s){",E)("default:")("return%j",r(m,"enum value"));for(var R=Object.keys(m.resolvedType.values),I=0;I<R.length;++I)h("case %i:",m.resolvedType.values[R[I]]);h("break")("}")}else h("{")("var e=types[%i].verify(%s);",v,E)("if(e)")("return%j+e",m.name+".")("}");else switch(m.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":h("if(!util.isInteger(%s))",E)("return%j",r(m,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":h("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",E,E,E,E)("return%j",r(m,"integer|Long"));break;case"float":case"double":h('if(typeof %s!=="number")',E)("return%j",r(m,"number"));break;case"bool":h('if(typeof %s!=="boolean")',E)("return%j",r(m,"boolean"));break;case"string":h("if(!util.isString(%s))",E)("return%j",r(m,"string"));break;case"bytes":h('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',E,E,E)("return%j",r(m,"buffer"));break}return h}function g(h,m,v){switch(m.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":h("if(!util.key32Re.test(%s))",v)("return%j",r(m,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":h("if(!util.key64Re.test(%s))",v)("return%j",r(m,"integer|Long key"));break;case"bool":h("if(!util.key2Re.test(%s))",v)("return%j",r(m,"boolean key"));break}return h}function y(h){var m=n.codegen(["m"],h.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),v=h.oneofsArray,E={};v.length&&m("var p={}");for(var R=0;R<h.fieldsArray.length;++R){var I=h._fieldsArray[R].resolve(),l="m"+n.safeProp(I.name);if(I.optional&&m("if(%s!=null&&m.hasOwnProperty(%j)){",l,I.name),I.map)m("if(!util.isObject(%s))",l)("return%j",r(I,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),g(m,I,"k[i]"),u(m,I,R,l+"[k[i]]")("}");else if(I.repeated)m("if(!Array.isArray(%s))",l)("return%j",r(I,"array"))("for(var i=0;i<%s.length;++i){",l),u(m,I,R,l+"[i]")("}");else{if(I.partOf){var c=n.safeProp(I.partOf.name);E[I.partOf.name]===1&&m("if(p%s===1)",c)("return%j",I.partOf.name+": multiple values"),E[I.partOf.name]=1,m("p%s=1",c)}u(m,I,R,l)}I.optional&&m("}")}return m("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,function(a){var n=a,r=require_enum(),u=requireUtil();function g(h,m,v,E){if(m.resolvedType)if(m.resolvedType instanceof r){h("switch(d%s){",E);for(var R=m.resolvedType.values,I=Object.keys(R),l=0;l<I.length;++l)m.repeated&&R[I[l]]===m.typeDefault&&h("default:"),h("case%j:",I[l])("case %i:",R[I[l]])("m%s=%j",E,R[I[l]])("break");h("}")}else h('if(typeof d%s!=="object")',E)("throw TypeError(%j)",m.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",E,v,E);else{var c=!1;switch(m.type){case"double":case"float":h("m%s=Number(d%s)",E,E);break;case"uint32":case"fixed32":h("m%s=d%s>>>0",E,E);break;case"int32":case"sint32":case"sfixed32":h("m%s=d%s|0",E,E);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":h("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",E,E,c)('else if(typeof d%s==="string")',E)("m%s=parseInt(d%s,10)",E,E)('else if(typeof d%s==="number")',E)("m%s=d%s",E,E)('else if(typeof d%s==="object")',E)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",E,E,E,c?"true":"");break;case"bytes":h('if(typeof d%s==="string")',E)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",E,E,E)("else if(d%s.length)",E)("m%s=d%s",E,E);break;case"string":h("m%s=String(d%s)",E,E);break;case"bool":h("m%s=Boolean(d%s)",E,E);break}}return h}n.fromObject=function(m){var v=m.fieldsArray,E=u.codegen(["d"],m.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!v.length)return E("return new this.ctor");E("var m=new this.ctor");for(var R=0;R<v.length;++R){var I=v[R].resolve(),l=u.safeProp(I.name);I.map?(E("if(d%s){",l)('if(typeof d%s!=="object")',l)("throw TypeError(%j)",I.fullName+": object expected")("m%s={}",l)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",l),g(E,I,R,l+"[ks[i]]")("}")("}")):I.repeated?(E("if(d%s){",l)("if(!Array.isArray(d%s))",l)("throw TypeError(%j)",I.fullName+": array expected")("m%s=[]",l)("for(var i=0;i<d%s.length;++i){",l),g(E,I,R,l+"[i]")("}")("}")):(I.resolvedType instanceof r||E("if(d%s!=null){",l),g(E,I,R,l),I.resolvedType instanceof r||E("}"))}return E("return m")};function y(h,m,v,E){if(m.resolvedType)m.resolvedType instanceof r?h("d%s=o.enums===String?types[%i].values[m%s]:m%s",E,v,E,E):h("d%s=types[%i].toObject(m%s,o)",E,v,E);else{var R=!1;switch(m.type){case"double":case"float":h("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",E,E,E,E);break;case"uint64":R=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":h('if(typeof m%s==="number")',E)("d%s=o.longs===String?String(m%s):m%s",E,E,E)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",E,E,E,E,R?"true":"",E);break;case"bytes":h("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",E,E,E,E,E);break;default:h("d%s=m%s",E,E);break}}return h}n.toObject=function(m){var v=m.fieldsArray.slice().sort(u.compareFieldsById);if(!v.length)return u.codegen()("return {}");for(var E=u.codegen(["m","o"],m.name+"$toObject")("if(!o)")("o={}")("var d={}"),R=[],I=[],l=[],c=0;c<v.length;++c)v[c].partOf||(v[c].resolve().repeated?R:v[c].map?I:l).push(v[c]);if(R.length){for(E("if(o.arrays||o.defaults){"),c=0;c<R.length;++c)E("d%s=[]",u.safeProp(R[c].name));E("}")}if(I.length){for(E("if(o.objects||o.defaults){"),c=0;c<I.length;++c)E("d%s={}",u.safeProp(I[c].name));E("}")}if(l.length){for(E("if(o.defaults){"),c=0;c<l.length;++c){var T=l[c],w=u.safeProp(T.name);if(T.resolvedType instanceof r)E("d%s=o.enums===String?%j:%j",w,T.resolvedType.valuesById[T.typeDefault],T.typeDefault);else if(T.long)E("if(util.Long){")("var n=new util.Long(%i,%i,%j)",T.typeDefault.low,T.typeDefault.high,T.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",w)("}else")("d%s=o.longs===String?%j:%i",w,T.typeDefault.toString(),T.typeDefault.toNumber());else if(T.bytes){var A="["+Array.prototype.slice.call(T.typeDefault).join(",")+"]";E("if(o.bytes===String)d%s=%j",w,String.fromCharCode.apply(String,T.typeDefault))("else{")("d%s=%s",w,A)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",w,w)("}")}else E("d%s=%j",w,T.typeDefault)}E("}")}var M=!1;for(c=0;c<v.length;++c){var T=v[c],P=m._fieldsArray.indexOf(T),w=u.safeProp(T.name);T.map?(M||(M=!0,E("var ks2")),E("if(m%s&&(ks2=Object.keys(m%s)).length){",w,w)("d%s={}",w)("for(var j=0;j<ks2.length;++j){"),y(E,T,P,w+"[ks2[j]]")("}")):T.repeated?(E("if(m%s&&m%s.length){",w,w)("d%s=[]",w)("for(var j=0;j<m%s.length;++j){",w),y(E,T,P,w+"[j]")("}")):(E("if(m%s!=null&&m.hasOwnProperty(%j)){",w,T.name),y(E,T,P,w),T.partOf&&E("if(o.oneofs)")("d%s=%j",u.safeProp(T.partOf.name),T.name)),E("}")}return E("return d")}}(converter)),converter}var wrappers={};(function(a){var n=a,r=message;n[".google.protobuf.Any"]={fromObject:function(u){if(u&&u["@type"]){var g=u["@type"].substring(u["@type"].lastIndexOf("/")+1),y=this.lookup(g);if(y){var h=u["@type"].charAt(0)==="."?u["@type"].substr(1):u["@type"];return h.indexOf("/")===-1&&(h="/"+h),this.create({type_url:h,value:y.encode(y.fromObject(u)).finish()})}}return this.fromObject(u)},toObject:function(u,g){var y="type.googleapis.com/",h="",m="";if(g&&g.json&&u.type_url&&u.value){m=u.type_url.substring(u.type_url.lastIndexOf("/")+1),h=u.type_url.substring(0,u.type_url.lastIndexOf("/")+1);var v=this.lookup(m);v&&(u=v.decode(u.value))}if(!(u instanceof this.ctor)&&u instanceof r){var E=u.$type.toObject(u,g),R=u.$type.fullName[0]==="."?u.$type.fullName.substr(1):u.$type.fullName;return h===""&&(h=y),m=h+R,E["@type"]=m,E}return this.toObject(u,g)}}})(wrappers);var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1,type=w;var a=requireNamespace();((w.prototype=Object.create(a.prototype)).constructor=w).className="Type";var n=require_enum(),r=requireOneof(),u=requireField(),g=requireMapfield(),y=requireService(),h=message,m=reader,v=writer,E=requireUtil(),R=requireEncoder(),I=requireDecoder(),l=requireVerifier(),c=requireConverter(),T=wrappers;function w(M,P){a.call(this,M,P),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(w.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var M=Object.keys(this.fields),P=0;P<M.length;++P){var q=this.fields[M[P]],W=q.id;if(this._fieldsById[W])throw Error("duplicate id "+W+" in "+this);this._fieldsById[W]=q}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=E.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=E.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=w.generateConstructor(this)())},set:function(M){var P=M.prototype;P instanceof h||((M.prototype=new h).constructor=M,E.merge(M.prototype,P)),M.$type=M.prototype.$type=this,E.merge(M,h,!0),this._ctor=M;for(var q=0;q<this.fieldsArray.length;++q)this._fieldsArray[q].resolve();var W={};for(q=0;q<this.oneofsArray.length;++q)W[this._oneofsArray[q].resolve().name]={get:E.oneOfGetter(this._oneofsArray[q].oneof),set:E.oneOfSetter(this._oneofsArray[q].oneof)};q&&Object.defineProperties(M.prototype,W)}}}),w.generateConstructor=function(P){for(var q=E.codegen(["p"],P.name),W=0,X;W<P.fieldsArray.length;++W)(X=P._fieldsArray[W]).map?q("this%s={}",E.safeProp(X.name)):X.repeated&&q("this%s=[]",E.safeProp(X.name));return q("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function A(M){return M._fieldsById=M._fieldsArray=M._oneofsArray=null,delete M.encode,delete M.decode,delete M.verify,M}return w.fromJSON=function(P,q){var W=new w(P,q.options);W.extensions=q.extensions,W.reserved=q.reserved;for(var X=Object.keys(q.fields),L=0;L<X.length;++L)W.add((typeof q.fields[X[L]].keyType<"u"?g.fromJSON:u.fromJSON)(X[L],q.fields[X[L]]));if(q.oneofs)for(X=Object.keys(q.oneofs),L=0;L<X.length;++L)W.add(r.fromJSON(X[L],q.oneofs[X[L]]));if(q.nested)for(X=Object.keys(q.nested),L=0;L<X.length;++L){var ue=q.nested[X[L]];W.add((ue.id!==void 0?u.fromJSON:ue.fields!==void 0?w.fromJSON:ue.values!==void 0?n.fromJSON:ue.methods!==void 0?y.fromJSON:a.fromJSON)(X[L],ue))}return q.extensions&&q.extensions.length&&(W.extensions=q.extensions),q.reserved&&q.reserved.length&&(W.reserved=q.reserved),q.group&&(W.group=!0),q.comment&&(W.comment=q.comment),W},w.prototype.toJSON=function(P){var q=a.prototype.toJSON.call(this,P),W=P?!!P.keepComments:!1;return E.toObject(["options",q&&q.options||void 0,"oneofs",a.arrayToJSON(this.oneofsArray,P),"fields",a.arrayToJSON(this.fieldsArray.filter(function(X){return!X.declaringField}),P)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",q&&q.nested||void 0,"comment",W?this.comment:void 0])},w.prototype.resolveAll=function(){for(var P=this.fieldsArray,q=0;q<P.length;)P[q++].resolve();var W=this.oneofsArray;for(q=0;q<W.length;)W[q++].resolve();return a.prototype.resolveAll.call(this)},w.prototype.get=function(P){return this.fields[P]||this.oneofs&&this.oneofs[P]||this.nested&&this.nested[P]||null},w.prototype.add=function(P){if(this.get(P.name))throw Error("duplicate name '"+P.name+"' in "+this);if(P instanceof u&&P.extend===void 0){if(this._fieldsById?this._fieldsById[P.id]:this.fieldsById[P.id])throw Error("duplicate id "+P.id+" in "+this);if(this.isReservedId(P.id))throw Error("id "+P.id+" is reserved in "+this);if(this.isReservedName(P.name))throw Error("name '"+P.name+"' is reserved in "+this);return P.parent&&P.parent.remove(P),this.fields[P.name]=P,P.message=this,P.onAdd(this),A(this)}return P instanceof r?(this.oneofs||(this.oneofs={}),this.oneofs[P.name]=P,P.onAdd(this),A(this)):a.prototype.add.call(this,P)},w.prototype.remove=function(P){if(P instanceof u&&P.extend===void 0){if(!this.fields||this.fields[P.name]!==P)throw Error(P+" is not a member of "+this);return delete this.fields[P.name],P.parent=null,P.onRemove(this),A(this)}if(P instanceof r){if(!this.oneofs||this.oneofs[P.name]!==P)throw Error(P+" is not a member of "+this);return delete this.oneofs[P.name],P.parent=null,P.onRemove(this),A(this)}return a.prototype.remove.call(this,P)},w.prototype.isReservedId=function(P){return a.isReservedId(this.reserved,P)},w.prototype.isReservedName=function(P){return a.isReservedName(this.reserved,P)},w.prototype.create=function(P){return new this.ctor(P)},w.prototype.setup=function(){for(var P=this.fullName,q=[],W=0;W<this.fieldsArray.length;++W)q.push(this._fieldsArray[W].resolve().resolvedType);this.encode=R(this)({Writer:v,types:q,util:E}),this.decode=I(this)({Reader:m,types:q,util:E}),this.verify=l(this)({types:q,util:E}),this.fromObject=c.fromObject(this)({types:q,util:E}),this.toObject=c.toObject(this)({types:q,util:E});var X=T[P];if(X){var L=Object.create(this);L.fromObject=this.fromObject,this.fromObject=X.fromObject.bind(L),L.toObject=this.toObject,this.toObject=X.toObject.bind(L)}return this},w.prototype.encode=function(P,q){return this.setup().encode(P,q)},w.prototype.encodeDelimited=function(P,q){return this.encode(P,q&&q.len?q.fork():q).ldelim()},w.prototype.decode=function(P,q){return this.setup().decode(P,q)},w.prototype.decodeDelimited=function(P){return P instanceof m||(P=m.create(P)),this.decode(P,P.uint32())},w.prototype.verify=function(P){return this.setup().verify(P)},w.prototype.fromObject=function(P){return this.setup().fromObject(P)},w.prototype.toObject=function(P,q){return this.setup().toObject(P,q)},w.d=function(P){return function(W){E.decorateType(W,P)}},type}var root,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root;hasRequiredRoot=1,root=v;var a=requireNamespace();((v.prototype=Object.create(a.prototype)).constructor=v).className="Root";var n=requireField(),r=require_enum(),u=requireOneof(),g=requireUtil(),y,h,m;function v(l){a.call(this,"",l),this.deferred=[],this.files=[]}v.fromJSON=function(c,T){return T||(T=new v),c.options&&T.setOptions(c.options),T.addJSON(c.nested)},v.prototype.resolvePath=g.path.resolve,v.prototype.fetch=g.fetch;function E(){}v.prototype.load=function l(c,T,w){typeof T=="function"&&(w=T,T=void 0);var A=this;if(!w)return g.asPromise(l,A,c,T);var M=w===E;function P(ne,Q){if(w){var te=w;if(w=null,M)throw ne;te(ne,Q)}}function q(ne){var Q=ne.lastIndexOf("google/protobuf/");if(Q>-1){var te=ne.substring(Q);if(te in m)return te}return null}function W(ne,Q){try{if(g.isString(Q)&&Q.charAt(0)==="{"&&(Q=JSON.parse(Q)),!g.isString(Q))A.setOptions(Q.options).addJSON(Q.nested);else{h.filename=ne;var te=h(Q,A,T),Z,J=0;if(te.imports)for(;J<te.imports.length;++J)(Z=q(te.imports[J])||A.resolvePath(ne,te.imports[J]))&&X(Z);if(te.weakImports)for(J=0;J<te.weakImports.length;++J)(Z=q(te.weakImports[J])||A.resolvePath(ne,te.weakImports[J]))&&X(Z,!0)}}catch(N){P(N)}!M&&!L&&P(null,A)}function X(ne,Q){if(!(A.files.indexOf(ne)>-1)){if(A.files.push(ne),ne in m){M?W(ne,m[ne]):(++L,setTimeout(function(){--L,W(ne,m[ne])}));return}if(M){var te;try{te=g.fs.readFileSync(ne).toString("utf8")}catch(Z){Q||P(Z);return}W(ne,te)}else++L,A.fetch(ne,function(Z,J){if(--L,!!w){if(Z){Q?L||P(null,A):P(Z);return}W(ne,J)}})}}var L=0;g.isString(c)&&(c=[c]);for(var ue=0,Te;ue<c.length;++ue)(Te=A.resolvePath("",c[ue]))&&X(Te);if(M)return A;L||P(null,A)},v.prototype.loadSync=function(c,T){if(!g.isNode)throw Error("not supported");return this.load(c,T,E)},v.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(c){return"'extend "+c.extend+"' in "+c.parent.fullName}).join(", "));return a.prototype.resolveAll.call(this)};var R=/^[A-Z]/;function I(l,c){var T=c.parent.lookup(c.extend);if(T){var w=new n(c.fullName,c.id,c.type,c.rule,void 0,c.options);return w.declaringField=c,c.extensionField=w,T.add(w),!0}return!1}return v.prototype._handleAdd=function(c){if(c instanceof n)c.extend!==void 0&&!c.extensionField&&(I(this,c)||this.deferred.push(c));else if(c instanceof r)R.test(c.name)&&(c.parent[c.name]=c.values);else if(!(c instanceof u)){if(c instanceof y)for(var T=0;T<this.deferred.length;)I(this,this.deferred[T])?this.deferred.splice(T,1):++T;for(var w=0;w<c.nestedArray.length;++w)this._handleAdd(c._nestedArray[w]);R.test(c.name)&&(c.parent[c.name]=c)}},v.prototype._handleRemove=function(c){if(c instanceof n){if(c.extend!==void 0)if(c.extensionField)c.extensionField.parent.remove(c.extensionField),c.extensionField=null;else{var T=this.deferred.indexOf(c);T>-1&&this.deferred.splice(T,1)}}else if(c instanceof r)R.test(c.name)&&delete c.parent[c.name];else if(c instanceof a){for(var w=0;w<c.nestedArray.length;++w)this._handleRemove(c._nestedArray[w]);R.test(c.name)&&delete c.parent[c.name]}},v._configure=function(l,c,T){y=l,h=c,m=T},root}var hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$1.exports;hasRequiredUtil=1;var a=util$1.exports=requireMinimal(),n=roots,r,u;a.codegen=codegen_1,a.fetch=fetch_1,a.path=path,a.fs=a.inquire("fs"),a.toArray=function(E){if(E){for(var R=Object.keys(E),I=new Array(R.length),l=0;l<R.length;)I[l]=E[R[l++]];return I}return[]},a.toObject=function(E){for(var R={},I=0;I<E.length;){var l=E[I++],c=E[I++];c!==void 0&&(R[l]=c)}return R};var g=/\\/g,y=/"/g;a.isReserved=function(E){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(E)},a.safeProp=function(E){return!/^[$\w_]+$/.test(E)||a.isReserved(E)?'["'+E.replace(g,"\\\\").replace(y,'\\"')+'"]':"."+E},a.ucFirst=function(E){return E.charAt(0).toUpperCase()+E.substring(1)};var h=/_([a-z])/g;a.camelCase=function(E){return E.substring(0,1)+E.substring(1).replace(h,function(R,I){return I.toUpperCase()})},a.compareFieldsById=function(E,R){return E.id-R.id},a.decorateType=function(E,R){if(E.$type)return R&&E.$type.name!==R&&(a.decorateRoot.remove(E.$type),E.$type.name=R,a.decorateRoot.add(E.$type)),E.$type;r||(r=requireType());var I=new r(R||E.name);return a.decorateRoot.add(I),I.ctor=E,Object.defineProperty(E,"$type",{value:I,enumerable:!1}),Object.defineProperty(E.prototype,"$type",{value:I,enumerable:!1}),I};var m=0;return a.decorateEnum=function(E){if(E.$type)return E.$type;u||(u=require_enum());var R=new u("Enum"+m++,E);return a.decorateRoot.add(R),Object.defineProperty(E,"$type",{value:R,enumerable:!1}),R},a.setProperty=function(E,R,I){function l(c,T,w){var A=T.shift();if(A==="__proto__"||A==="prototype")return c;if(T.length>0)c[A]=l(c[A]||{},T,w);else{var M=c[A];M&&(w=[].concat(M).concat(w)),c[A]=w}return c}if(typeof E!="object")throw TypeError("dst must be an object");if(!R)throw TypeError("path must be specified");return R=R.split("."),l(E,R,I)},Object.defineProperty(a,"decorateRoot",{get:function(){return n.decorated||(n.decorated=new(requireRoot()))}}),util$1.exports}var object,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object;hasRequiredObject=1,object=r,r.className="ReflectionObject";var a=requireUtil(),n;function r(u,g){if(!a.isString(u))throw TypeError("name must be a string");if(g&&!a.isObject(g))throw TypeError("options must be an object");this.options=g,this.parsedOptions=null,this.name=u,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(r.prototype,{root:{get:function(){for(var u=this;u.parent!==null;)u=u.parent;return u}},fullName:{get:function(){for(var u=[this.name],g=this.parent;g;)u.unshift(g.name),g=g.parent;return u.join(".")}}}),r.prototype.toJSON=function(){throw Error()},r.prototype.onAdd=function(g){this.parent&&this.parent!==g&&this.parent.remove(this),this.parent=g,this.resolved=!1;var y=g.root;y instanceof n&&y._handleAdd(this)},r.prototype.onRemove=function(g){var y=g.root;y instanceof n&&y._handleRemove(this),this.parent=null,this.resolved=!1},r.prototype.resolve=function(){return this.resolved?this:(this.root instanceof n&&(this.resolved=!0),this)},r.prototype.getOption=function(g){if(this.options)return this.options[g]},r.prototype.setOption=function(g,y,h){return(!h||!this.options||this.options[g]===void 0)&&((this.options||(this.options={}))[g]=y),this},r.prototype.setParsedOption=function(g,y,h){this.parsedOptions||(this.parsedOptions=[]);var m=this.parsedOptions;if(h){var v=m.find(function(I){return Object.prototype.hasOwnProperty.call(I,g)});if(v){var E=v[g];a.setProperty(E,h,y)}else v={},v[g]=a.setProperty({},h,y),m.push(v)}else{var R={};R[g]=y,m.push(R)}return this},r.prototype.setOptions=function(g,y){if(g)for(var h=Object.keys(g),m=0;m<h.length;++m)this.setOption(h[m],g[h[m]],y);return this},r.prototype.toString=function(){var g=this.constructor.className,y=this.fullName;return y.length?g+" "+y:g},r._configure=function(u){n=u},object}var _enum,hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,_enum=u;var a=requireObject();((u.prototype=Object.create(a.prototype)).constructor=u).className="Enum";var n=requireNamespace(),r=requireUtil();function u(g,y,h,m,v){if(a.call(this,g,h),y&&typeof y!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=m,this.comments=v||{},this.reserved=void 0,y)for(var E=Object.keys(y),R=0;R<E.length;++R)typeof y[E[R]]=="number"&&(this.valuesById[this.values[E[R]]=y[E[R]]]=E[R])}return u.fromJSON=function(y,h){var m=new u(y,h.values,h.options,h.comment,h.comments);return m.reserved=h.reserved,m},u.prototype.toJSON=function(y){var h=y?!!y.keepComments:!1;return r.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",h?this.comment:void 0,"comments",h?this.comments:void 0])},u.prototype.add=function(y,h,m){if(!r.isString(y))throw TypeError("name must be a string");if(!r.isInteger(h))throw TypeError("id must be an integer");if(this.values[y]!==void 0)throw Error("duplicate name '"+y+"' in "+this);if(this.isReservedId(h))throw Error("id "+h+" is reserved in "+this);if(this.isReservedName(y))throw Error("name '"+y+"' is reserved in "+this);if(this.valuesById[h]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+h+" in "+this);this.values[y]=h}else this.valuesById[this.values[y]=h]=y;return this.comments[y]=m||null,this},u.prototype.remove=function(y){if(!r.isString(y))throw TypeError("name must be a string");var h=this.values[y];if(h==null)throw Error("name '"+y+"' does not exist in "+this);return delete this.valuesById[h],delete this.values[y],delete this.comments[y],this},u.prototype.isReservedId=function(y){return n.isReservedId(this.reserved,y)},u.prototype.isReservedName=function(y){return n.isReservedName(this.reserved,y)},_enum}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=g;var a=require_enum(),n=requireTypes(),r=requireUtil();function u(y,h,m,v){return h.resolvedType.group?y("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",m,v,(h.id<<3|3)>>>0,(h.id<<3|4)>>>0):y("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",m,v,(h.id<<3|2)>>>0)}function g(y){for(var h=r.codegen(["m","w"],y.name+"$encode")("if(!w)")("w=Writer.create()"),m,v,E=y.fieldsArray.slice().sort(r.compareFieldsById),m=0;m<E.length;++m){var R=E[m].resolve(),I=y._fieldsArray.indexOf(R),l=R.resolvedType instanceof a?"int32":R.type,c=n.basic[l];v="m"+r.safeProp(R.name),R.map?(h("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",v,R.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",v)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(R.id<<3|2)>>>0,8|n.mapKey[R.keyType],R.keyType),c===void 0?h("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",I,v):h(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|c,l,v),h("}")("}")):R.repeated?(h("if(%s!=null&&%s.length){",v,v),R.packed&&n.packed[l]!==void 0?h("w.uint32(%i).fork()",(R.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",v)("w.%s(%s[i])",l,v)("w.ldelim()"):(h("for(var i=0;i<%s.length;++i)",v),c===void 0?u(h,R,I,v+"[i]"):h("w.uint32(%i).%s(%s[i])",(R.id<<3|c)>>>0,l,v)),h("}")):(R.optional&&h("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",v,R.name),c===void 0?u(h,R,I,v):h("w.uint32(%i).%s(%s)",(R.id<<3|c)>>>0,l,v))}return h("return w")}return encoder_1}var protobuf=indexLight.exports=indexMinimal;protobuf.build="light";function load(a,n,r){return typeof n=="function"?(r=n,n=new protobuf.Root):n||(n=new protobuf.Root),n.load(a,r)}protobuf.load=load;function loadSync(a,n){return n||(n=new protobuf.Root),n.loadSync(a)}protobuf.loadSync=loadSync;protobuf.encoder=requireEncoder();protobuf.decoder=requireDecoder();protobuf.verifier=requireVerifier();protobuf.converter=requireConverter();protobuf.ReflectionObject=requireObject();protobuf.Namespace=requireNamespace();protobuf.Root=requireRoot();protobuf.Enum=require_enum();protobuf.Type=requireType();protobuf.Field=requireField();protobuf.OneOf=requireOneof();protobuf.MapField=requireMapfield();protobuf.Service=requireService();protobuf.Method=requireMethod();protobuf.Message=message;protobuf.wrappers=wrappers;protobuf.types=requireTypes();protobuf.util=requireUtil();protobuf.ReflectionObject._configure(protobuf.Root);protobuf.Namespace._configure(protobuf.Type,protobuf.Service,protobuf.Enum);protobuf.Root._configure(protobuf.Type);protobuf.Field._configure(protobuf.Type);var indexLightExports=indexLight.exports,light=indexLightExports,long$1=Long,wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(a){}function Long(a,n,r){this.low=a|0,this.high=n|0,this.unsigned=!!r}Long.prototype.__isLong__;Object.defineProperty(Long.prototype,"__isLong__",{value:!0});function isLong(a){return(a&&a.__isLong__)===!0}Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(a,n){var r,u,g;return n?(a>>>=0,(g=0<=a&&a<256)&&(u=UINT_CACHE[a],u)?u:(r=fromBits(a,(a|0)<0?-1:0,!0),g&&(UINT_CACHE[a]=r),r)):(a|=0,(g=-128<=a&&a<128)&&(u=INT_CACHE[a],u)?u:(r=fromBits(a,a<0?-1:0,!1),g&&(INT_CACHE[a]=r),r))}Long.fromInt=fromInt;function fromNumber(a,n){if(isNaN(a))return n?UZERO:ZERO;if(n){if(a<0)return UZERO;if(a>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(a<=-TWO_PWR_63_DBL)return MIN_VALUE;if(a+1>=TWO_PWR_63_DBL)return MAX_VALUE}return a<0?fromNumber(-a,n).neg():fromBits(a%TWO_PWR_32_DBL|0,a/TWO_PWR_32_DBL|0,n)}Long.fromNumber=fromNumber;function fromBits(a,n,r){return new Long(a,n,r)}Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(a,n,r){if(a.length===0)throw Error("empty string");if(a==="NaN"||a==="Infinity"||a==="+Infinity"||a==="-Infinity")return ZERO;if(typeof n=="number"?(r=n,n=!1):n=!!n,r=r||10,r<2||36<r)throw RangeError("radix");var u;if((u=a.indexOf("-"))>0)throw Error("interior hyphen");if(u===0)return fromString(a.substring(1),n,r).neg();for(var g=fromNumber(pow_dbl(r,8)),y=ZERO,h=0;h<a.length;h+=8){var m=Math.min(8,a.length-h),v=parseInt(a.substring(h,h+m),r);if(m<8){var E=fromNumber(pow_dbl(r,m));y=y.mul(E).add(fromNumber(v))}else y=y.mul(g),y=y.add(fromNumber(v))}return y.unsigned=n,y}Long.fromString=fromString;function fromValue(a,n){return typeof a=="number"?fromNumber(a,n):typeof a=="string"?fromString(a,n):fromBits(a.low,a.high,typeof n=="boolean"?n:a.unsigned)}Long.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function a(){return this.unsigned?this.low>>>0:this.low};LongPrototype.toNumber=function a(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)};LongPrototype.toString=function a(n){if(n=n||10,n<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(MIN_VALUE)){var r=fromNumber(n),u=this.div(r),g=u.mul(r).sub(this);return u.toString(n)+g.toInt().toString(n)}else return"-"+this.neg().toString(n);for(var y=fromNumber(pow_dbl(n,6),this.unsigned),h=this,m="";;){var v=h.div(y),E=h.sub(v.mul(y)).toInt()>>>0,R=E.toString(n);if(h=v,h.isZero())return R+m;for(;R.length<6;)R="0"+R;m=""+R+m}};LongPrototype.getHighBits=function a(){return this.high};LongPrototype.getHighBitsUnsigned=function a(){return this.high>>>0};LongPrototype.getLowBits=function a(){return this.low};LongPrototype.getLowBitsUnsigned=function a(){return this.low>>>0};LongPrototype.getNumBitsAbs=function a(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var n=this.high!=0?this.high:this.low,r=31;r>0&&!(n&1<<r);r--);return this.high!=0?r+33:r+1};LongPrototype.isZero=function a(){return this.high===0&&this.low===0};LongPrototype.eqz=LongPrototype.isZero;LongPrototype.isNegative=function a(){return!this.unsigned&&this.high<0};LongPrototype.isPositive=function a(){return this.unsigned||this.high>=0};LongPrototype.isOdd=function a(){return(this.low&1)===1};LongPrototype.isEven=function a(){return(this.low&1)===0};LongPrototype.equals=function a(n){return isLong(n)||(n=fromValue(n)),this.unsigned!==n.unsigned&&this.high>>>31===1&&n.high>>>31===1?!1:this.high===n.high&&this.low===n.low};LongPrototype.eq=LongPrototype.equals;LongPrototype.notEquals=function a(n){return!this.eq(n)};LongPrototype.neq=LongPrototype.notEquals;LongPrototype.ne=LongPrototype.notEquals;LongPrototype.lessThan=function a(n){return this.comp(n)<0};LongPrototype.lt=LongPrototype.lessThan;LongPrototype.lessThanOrEqual=function a(n){return this.comp(n)<=0};LongPrototype.lte=LongPrototype.lessThanOrEqual;LongPrototype.le=LongPrototype.lessThanOrEqual;LongPrototype.greaterThan=function a(n){return this.comp(n)>0};LongPrototype.gt=LongPrototype.greaterThan;LongPrototype.greaterThanOrEqual=function a(n){return this.comp(n)>=0};LongPrototype.gte=LongPrototype.greaterThanOrEqual;LongPrototype.ge=LongPrototype.greaterThanOrEqual;LongPrototype.compare=function a(n){if(isLong(n)||(n=fromValue(n)),this.eq(n))return 0;var r=this.isNegative(),u=n.isNegative();return r&&!u?-1:!r&&u?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1};LongPrototype.comp=LongPrototype.compare;LongPrototype.negate=function a(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)};LongPrototype.neg=LongPrototype.negate;LongPrototype.add=function a(n){isLong(n)||(n=fromValue(n));var r=this.high>>>16,u=this.high&65535,g=this.low>>>16,y=this.low&65535,h=n.high>>>16,m=n.high&65535,v=n.low>>>16,E=n.low&65535,R=0,I=0,l=0,c=0;return c+=y+E,l+=c>>>16,c&=65535,l+=g+v,I+=l>>>16,l&=65535,I+=u+m,R+=I>>>16,I&=65535,R+=r+h,R&=65535,fromBits(l<<16|c,R<<16|I,this.unsigned)};LongPrototype.subtract=function a(n){return isLong(n)||(n=fromValue(n)),this.add(n.neg())};LongPrototype.sub=LongPrototype.subtract;LongPrototype.multiply=function a(n){if(this.isZero())return ZERO;if(isLong(n)||(n=fromValue(n)),wasm){var r=wasm.mul(this.low,this.high,n.low,n.high);return fromBits(r,wasm.get_high(),this.unsigned)}if(n.isZero())return ZERO;if(this.eq(MIN_VALUE))return n.isOdd()?MIN_VALUE:ZERO;if(n.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(TWO_PWR_24)&&n.lt(TWO_PWR_24))return fromNumber(this.toNumber()*n.toNumber(),this.unsigned);var u=this.high>>>16,g=this.high&65535,y=this.low>>>16,h=this.low&65535,m=n.high>>>16,v=n.high&65535,E=n.low>>>16,R=n.low&65535,I=0,l=0,c=0,T=0;return T+=h*R,c+=T>>>16,T&=65535,c+=y*R,l+=c>>>16,c&=65535,c+=h*E,l+=c>>>16,c&=65535,l+=g*R,I+=l>>>16,l&=65535,l+=y*E,I+=l>>>16,l&=65535,l+=h*v,I+=l>>>16,l&=65535,I+=u*R+g*E+y*v+h*m,I&=65535,fromBits(c<<16|T,I<<16|l,this.unsigned)};LongPrototype.mul=LongPrototype.multiply;LongPrototype.divide=function a(n){if(isLong(n)||(n=fromValue(n)),n.isZero())throw Error("division by zero");if(wasm){if(!this.unsigned&&this.high===-2147483648&&n.low===-1&&n.high===-1)return this;var r=(this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,n.low,n.high);return fromBits(r,wasm.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?UZERO:ZERO;var u,g,y;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return UZERO;if(n.gt(this.shru(1)))return UONE;y=UZERO}else{if(this.eq(MIN_VALUE)){if(n.eq(ONE)||n.eq(NEG_ONE))return MIN_VALUE;if(n.eq(MIN_VALUE))return ONE;var h=this.shr(1);return u=h.div(n).shl(1),u.eq(ZERO)?n.isNegative()?ONE:NEG_ONE:(g=this.sub(n.mul(u)),y=u.add(g.div(n)),y)}else if(n.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();y=ZERO}for(g=this;g.gte(n);){u=Math.max(1,Math.floor(g.toNumber()/n.toNumber()));for(var m=Math.ceil(Math.log(u)/Math.LN2),v=m<=48?1:pow_dbl(2,m-48),E=fromNumber(u),R=E.mul(n);R.isNegative()||R.gt(g);)u-=v,E=fromNumber(u,this.unsigned),R=E.mul(n);E.isZero()&&(E=ONE),y=y.add(E),g=g.sub(R)}return y};LongPrototype.div=LongPrototype.divide;LongPrototype.modulo=function a(n){if(isLong(n)||(n=fromValue(n)),wasm){var r=(this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,n.low,n.high);return fromBits(r,wasm.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))};LongPrototype.mod=LongPrototype.modulo;LongPrototype.rem=LongPrototype.modulo;LongPrototype.not=function a(){return fromBits(~this.low,~this.high,this.unsigned)};LongPrototype.and=function a(n){return isLong(n)||(n=fromValue(n)),fromBits(this.low&n.low,this.high&n.high,this.unsigned)};LongPrototype.or=function a(n){return isLong(n)||(n=fromValue(n)),fromBits(this.low|n.low,this.high|n.high,this.unsigned)};LongPrototype.xor=function a(n){return isLong(n)||(n=fromValue(n)),fromBits(this.low^n.low,this.high^n.high,this.unsigned)};LongPrototype.shiftLeft=function a(n){return isLong(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?fromBits(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):fromBits(0,this.low<<n-32,this.unsigned)};LongPrototype.shl=LongPrototype.shiftLeft;LongPrototype.shiftRight=function a(n){return isLong(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?fromBits(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):fromBits(this.high>>n-32,this.high>=0?0:-1,this.unsigned)};LongPrototype.shr=LongPrototype.shiftRight;LongPrototype.shiftRightUnsigned=function a(n){if(isLong(n)&&(n=n.toInt()),n&=63,n===0)return this;var r=this.high;if(n<32){var u=this.low;return fromBits(u>>>n|r<<32-n,r>>>n,this.unsigned)}else return n===32?fromBits(r,0,this.unsigned):fromBits(r>>>n-32,0,this.unsigned)};LongPrototype.shru=LongPrototype.shiftRightUnsigned;LongPrototype.shr_u=LongPrototype.shiftRightUnsigned;LongPrototype.toSigned=function a(){return this.unsigned?fromBits(this.low,this.high,!1):this};LongPrototype.toUnsigned=function a(){return this.unsigned?this:fromBits(this.low,this.high,!0)};LongPrototype.toBytes=function a(n){return n?this.toBytesLE():this.toBytesBE()};LongPrototype.toBytesLE=function a(){var n=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]};LongPrototype.toBytesBE=function a(){var n=this.high,r=this.low;return[n>>>24,n>>>16&255,n>>>8&255,n&255,r>>>24,r>>>16&255,r>>>8&255,r&255]};Long.fromBytes=function a(n,r,u){return u?Long.fromBytesLE(n,r):Long.fromBytesBE(n,r)};Long.fromBytesLE=function a(n,r){return new Long(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,r)};Long.fromBytesBE=function a(n,r){return new Long(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],r)};function commonjsRequire(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var bytebuffer={exports:{}},long={exports:{}},hasRequiredLong;function requireLong(){return hasRequiredLong||(hasRequiredLong=1,function(a){/**
 * @license long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/long.js for details
 */(function(n,r){typeof commonjsRequire=="function"&&a&&a.exports?a.exports=r():(n.dcodeIO=n.dcodeIO||{}).Long=r()})(commonjsGlobal,function(){function n(Q,te,Z){this.low=Q|0,this.high=te|0,this.unsigned=!!Z}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1});function r(Q){return(Q&&Q.__isLong__)===!0}n.isLong=r;var u={},g={};function y(Q,te){var Z,J,N;return te?(Q>>>=0,(N=0<=Q&&Q<256)&&(J=g[Q],J)?J:(Z=m(Q,(Q|0)<0?-1:0,!0),N&&(g[Q]=Z),Z)):(Q|=0,(N=-128<=Q&&Q<128)&&(J=u[Q],J)?J:(Z=m(Q,Q<0?-1:0,!1),N&&(u[Q]=Z),Z))}n.fromInt=y;function h(Q,te){if(isNaN(Q)||!isFinite(Q))return te?P:M;if(te){if(Q<0)return P;if(Q>=T)return ue}else{if(Q<=-w)return Te;if(Q+1>=w)return L}return Q<0?h(-Q,te).neg():m(Q%c|0,Q/c|0,te)}n.fromNumber=h;function m(Q,te,Z){return new n(Q,te,Z)}n.fromBits=m;var v=Math.pow;function E(Q,te,Z){if(Q.length===0)throw Error("empty string");if(Q==="NaN"||Q==="Infinity"||Q==="+Infinity"||Q==="-Infinity")return M;if(typeof te=="number"?(Z=te,te=!1):te=!!te,Z=Z||10,Z<2||36<Z)throw RangeError("radix");var J;if((J=Q.indexOf("-"))>0)throw Error("interior hyphen");if(J===0)return E(Q.substring(1),te,Z).neg();for(var N=h(v(Z,8)),ie=M,be=0;be<Q.length;be+=8){var ye=Math.min(8,Q.length-be),Ce=parseInt(Q.substring(be,be+ye),Z);if(ye<8){var K=h(v(Z,ye));ie=ie.mul(K).add(h(Ce))}else ie=ie.mul(N),ie=ie.add(h(Ce))}return ie.unsigned=te,ie}n.fromString=E;function R(Q){return Q instanceof n?Q:typeof Q=="number"?h(Q):typeof Q=="string"?E(Q):m(Q.low,Q.high,Q.unsigned)}n.fromValue=R;var I=65536,l=1<<24,c=I*I,T=c*c,w=T/2,A=y(l),M=y(0);n.ZERO=M;var P=y(0,!0);n.UZERO=P;var q=y(1);n.ONE=q;var W=y(1,!0);n.UONE=W;var X=y(-1);n.NEG_ONE=X;var L=m(-1,2147483647,!1);n.MAX_VALUE=L;var ue=m(-1,-1,!0);n.MAX_UNSIGNED_VALUE=ue;var Te=m(0,-2147483648,!1);n.MIN_VALUE=Te;var ne=n.prototype;return ne.toInt=function(){return this.unsigned?this.low>>>0:this.low},ne.toNumber=function(){return this.unsigned?(this.high>>>0)*c+(this.low>>>0):this.high*c+(this.low>>>0)},ne.toString=function(te){if(te=te||10,te<2||36<te)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Te)){var Z=h(te),J=this.div(Z),N=J.mul(Z).sub(this);return J.toString(te)+N.toInt().toString(te)}else return"-"+this.neg().toString(te);for(var ie=h(v(te,6),this.unsigned),be=this,ye="";;){var Ce=be.div(ie),K=be.sub(Ce.mul(ie)).toInt()>>>0,ve=K.toString(te);if(be=Ce,be.isZero())return ve+ye;for(;ve.length<6;)ve="0"+ve;ye=""+ve+ye}},ne.getHighBits=function(){return this.high},ne.getHighBitsUnsigned=function(){return this.high>>>0},ne.getLowBits=function(){return this.low},ne.getLowBitsUnsigned=function(){return this.low>>>0},ne.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Te)?64:this.neg().getNumBitsAbs();for(var te=this.high!=0?this.high:this.low,Z=31;Z>0&&!(te&1<<Z);Z--);return this.high!=0?Z+33:Z+1},ne.isZero=function(){return this.high===0&&this.low===0},ne.isNegative=function(){return!this.unsigned&&this.high<0},ne.isPositive=function(){return this.unsigned||this.high>=0},ne.isOdd=function(){return(this.low&1)===1},ne.isEven=function(){return(this.low&1)===0},ne.equals=function(te){return r(te)||(te=R(te)),this.unsigned!==te.unsigned&&this.high>>>31===1&&te.high>>>31===1?!1:this.high===te.high&&this.low===te.low},ne.eq=ne.equals,ne.notEquals=function(te){return!this.eq(te)},ne.neq=ne.notEquals,ne.lessThan=function(te){return this.comp(te)<0},ne.lt=ne.lessThan,ne.lessThanOrEqual=function(te){return this.comp(te)<=0},ne.lte=ne.lessThanOrEqual,ne.greaterThan=function(te){return this.comp(te)>0},ne.gt=ne.greaterThan,ne.greaterThanOrEqual=function(te){return this.comp(te)>=0},ne.gte=ne.greaterThanOrEqual,ne.compare=function(te){if(r(te)||(te=R(te)),this.eq(te))return 0;var Z=this.isNegative(),J=te.isNegative();return Z&&!J?-1:!Z&&J?1:this.unsigned?te.high>>>0>this.high>>>0||te.high===this.high&&te.low>>>0>this.low>>>0?-1:1:this.sub(te).isNegative()?-1:1},ne.comp=ne.compare,ne.negate=function(){return!this.unsigned&&this.eq(Te)?Te:this.not().add(q)},ne.neg=ne.negate,ne.add=function(te){r(te)||(te=R(te));var Z=this.high>>>16,J=this.high&65535,N=this.low>>>16,ie=this.low&65535,be=te.high>>>16,ye=te.high&65535,Ce=te.low>>>16,K=te.low&65535,ve=0,de=0,fe=0,Se=0;return Se+=ie+K,fe+=Se>>>16,Se&=65535,fe+=N+Ce,de+=fe>>>16,fe&=65535,de+=J+ye,ve+=de>>>16,de&=65535,ve+=Z+be,ve&=65535,m(fe<<16|Se,ve<<16|de,this.unsigned)},ne.subtract=function(te){return r(te)||(te=R(te)),this.add(te.neg())},ne.sub=ne.subtract,ne.multiply=function(te){if(this.isZero()||(r(te)||(te=R(te)),te.isZero()))return M;if(this.eq(Te))return te.isOdd()?Te:M;if(te.eq(Te))return this.isOdd()?Te:M;if(this.isNegative())return te.isNegative()?this.neg().mul(te.neg()):this.neg().mul(te).neg();if(te.isNegative())return this.mul(te.neg()).neg();if(this.lt(A)&&te.lt(A))return h(this.toNumber()*te.toNumber(),this.unsigned);var Z=this.high>>>16,J=this.high&65535,N=this.low>>>16,ie=this.low&65535,be=te.high>>>16,ye=te.high&65535,Ce=te.low>>>16,K=te.low&65535,ve=0,de=0,fe=0,Se=0;return Se+=ie*K,fe+=Se>>>16,Se&=65535,fe+=N*K,de+=fe>>>16,fe&=65535,fe+=ie*Ce,de+=fe>>>16,fe&=65535,de+=J*K,ve+=de>>>16,de&=65535,de+=N*Ce,ve+=de>>>16,de&=65535,de+=ie*ye,ve+=de>>>16,de&=65535,ve+=Z*K+J*Ce+N*ye+ie*be,ve&=65535,m(fe<<16|Se,ve<<16|de,this.unsigned)},ne.mul=ne.multiply,ne.divide=function(te){if(r(te)||(te=R(te)),te.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?P:M;var Z,J,N;if(this.unsigned){if(te.unsigned||(te=te.toUnsigned()),te.gt(this))return P;if(te.gt(this.shru(1)))return W;N=P}else{if(this.eq(Te)){if(te.eq(q)||te.eq(X))return Te;if(te.eq(Te))return q;var ie=this.shr(1);return Z=ie.div(te).shl(1),Z.eq(M)?te.isNegative()?q:X:(J=this.sub(te.mul(Z)),N=Z.add(J.div(te)),N)}else if(te.eq(Te))return this.unsigned?P:M;if(this.isNegative())return te.isNegative()?this.neg().div(te.neg()):this.neg().div(te).neg();if(te.isNegative())return this.div(te.neg()).neg();N=M}for(J=this;J.gte(te);){Z=Math.max(1,Math.floor(J.toNumber()/te.toNumber()));for(var be=Math.ceil(Math.log(Z)/Math.LN2),ye=be<=48?1:v(2,be-48),Ce=h(Z),K=Ce.mul(te);K.isNegative()||K.gt(J);)Z-=ye,Ce=h(Z,this.unsigned),K=Ce.mul(te);Ce.isZero()&&(Ce=q),N=N.add(Ce),J=J.sub(K)}return N},ne.div=ne.divide,ne.modulo=function(te){return r(te)||(te=R(te)),this.sub(this.div(te).mul(te))},ne.mod=ne.modulo,ne.not=function(){return m(~this.low,~this.high,this.unsigned)},ne.and=function(te){return r(te)||(te=R(te)),m(this.low&te.low,this.high&te.high,this.unsigned)},ne.or=function(te){return r(te)||(te=R(te)),m(this.low|te.low,this.high|te.high,this.unsigned)},ne.xor=function(te){return r(te)||(te=R(te)),m(this.low^te.low,this.high^te.high,this.unsigned)},ne.shiftLeft=function(te){return r(te)&&(te=te.toInt()),(te&=63)===0?this:te<32?m(this.low<<te,this.high<<te|this.low>>>32-te,this.unsigned):m(0,this.low<<te-32,this.unsigned)},ne.shl=ne.shiftLeft,ne.shiftRight=function(te){return r(te)&&(te=te.toInt()),(te&=63)===0?this:te<32?m(this.low>>>te|this.high<<32-te,this.high>>te,this.unsigned):m(this.high>>te-32,this.high>=0?0:-1,this.unsigned)},ne.shr=ne.shiftRight,ne.shiftRightUnsigned=function(te){if(r(te)&&(te=te.toInt()),te&=63,te===0)return this;var Z=this.high;if(te<32){var J=this.low;return m(J>>>te|Z<<32-te,Z>>>te,this.unsigned)}else return te===32?m(Z,0,this.unsigned):m(Z>>>te-32,0,this.unsigned)},ne.shru=ne.shiftRightUnsigned,ne.toSigned=function(){return this.unsigned?m(this.low,this.high,!1):this},ne.toUnsigned=function(){return this.unsigned?this:m(this.low,this.high,!0)},ne.toBytes=function(Q){return Q?this.toBytesLE():this.toBytesBE()},ne.toBytesLE=function(){var Q=this.high,te=this.low;return[te&255,te>>>8&255,te>>>16&255,te>>>24&255,Q&255,Q>>>8&255,Q>>>16&255,Q>>>24&255]},ne.toBytesBE=function(){var Q=this.high,te=this.low;return[Q>>>24&255,Q>>>16&255,Q>>>8&255,Q&255,te>>>24&255,te>>>16&255,te>>>8&255,te&255]},n})}(long)),long.exports}(function(a){/**
 * @license bytebuffer.js (c) 2015 Daniel Wirtz <dcode@dcode.io>
 * Backing buffer: ArrayBuffer, Accessor: Uint8Array
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bytebuffer.js for details
 */(function(n,r){typeof commonjsRequire=="function"&&a&&a.exports?a.exports=function(){var u;try{u=requireLong()}catch{}return r(u)}():(n.dcodeIO=n.dcodeIO||{}).ByteBuffer=r(n.dcodeIO.Long)})(commonjsGlobal,function(n){var r=function(l,c,T){if(typeof l>"u"&&(l=r.DEFAULT_CAPACITY),typeof c>"u"&&(c=r.DEFAULT_ENDIAN),typeof T>"u"&&(T=r.DEFAULT_NOASSERT),!T){if(l=l|0,l<0)throw RangeError("Illegal capacity");c=!!c,T=!!T}this.buffer=l===0?g:new ArrayBuffer(l),this.view=l===0?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=l,this.littleEndian=c,this.noAssert=T};r.VERSION="5.0.1",r.LITTLE_ENDIAN=!0,r.BIG_ENDIAN=!1,r.DEFAULT_CAPACITY=16,r.DEFAULT_ENDIAN=r.BIG_ENDIAN,r.DEFAULT_NOASSERT=!1,r.Long=n||null;var u=r.prototype;u.__isByteBuffer__,Object.defineProperty(u,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var g=new ArrayBuffer(0),y=String.fromCharCode;function h(l){var c=0;return function(){return c<l.length?l.charCodeAt(c++):null}}function m(){var l=[],c=[];return function(){if(arguments.length===0)return c.join("")+y.apply(String,l);l.length+arguments.length>1024&&(c.push(y.apply(String,l)),l.length=0),Array.prototype.push.apply(l,arguments)}}r.accessor=function(){return Uint8Array},r.allocate=function(l,c,T){return new r(l,c,T)},r.concat=function(l,c,T,w){(typeof c=="boolean"||typeof c!="string")&&(w=T,T=c,c=void 0);for(var A=0,M=0,P=l.length,q;M<P;++M)r.isByteBuffer(l[M])||(l[M]=r.wrap(l[M],c)),q=l[M].limit-l[M].offset,q>0&&(A+=q);if(A===0)return new r(0,T,w);var W=new r(A,T,w),X;for(M=0;M<P;)X=l[M++],q=X.limit-X.offset,!(q<=0)&&(W.view.set(X.view.subarray(X.offset,X.limit),W.offset),W.offset+=q);return W.limit=W.offset,W.offset=0,W},r.isByteBuffer=function(l){return(l&&l.__isByteBuffer__)===!0},r.type=function(){return ArrayBuffer},r.wrap=function(l,c,T,w){if(typeof c!="string"&&(w=T,T=c,c=void 0),typeof l=="string")switch(typeof c>"u"&&(c="utf8"),c){case"base64":return r.fromBase64(l,T);case"hex":return r.fromHex(l,T);case"binary":return r.fromBinary(l,T);case"utf8":return r.fromUTF8(l,T);case"debug":return r.fromDebug(l,T);default:throw Error("Unsupported encoding: "+c)}if(l===null||typeof l!="object")throw TypeError("Illegal buffer");var A;if(r.isByteBuffer(l))return A=u.clone.call(l),A.markedOffset=-1,A;if(l instanceof Uint8Array)A=new r(0,T,w),l.length>0&&(A.buffer=l.buffer,A.offset=l.byteOffset,A.limit=l.byteOffset+l.byteLength,A.view=new Uint8Array(l.buffer));else if(l instanceof ArrayBuffer)A=new r(0,T,w),l.byteLength>0&&(A.buffer=l,A.offset=0,A.limit=l.byteLength,A.view=l.byteLength>0?new Uint8Array(l):null);else if(Object.prototype.toString.call(l)==="[object Array]"){A=new r(l.length,T,w),A.limit=l.length;for(var M=0;M<l.length;++M)A.view[M]=l[M]}else throw TypeError("Illegal buffer");return A},u.writeBitSet=function(l,c){var T=typeof c>"u";if(T&&(c=this.offset),!this.noAssert){if(!(l instanceof Array))throw TypeError("Illegal BitSet: Not an array");if(typeof c!="number"||c%1!==0)throw TypeError("Illegal offset: "+c+" (not an integer)");if(c>>>=0,c<0||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}var w=c,A=l.length,M=A>>3,P=0,q;for(c+=this.writeVarint32(A,c);M--;)q=!!l[P++]&1|(!!l[P++]&1)<<1|(!!l[P++]&1)<<2|(!!l[P++]&1)<<3|(!!l[P++]&1)<<4|(!!l[P++]&1)<<5|(!!l[P++]&1)<<6|(!!l[P++]&1)<<7,this.writeByte(q,c++);if(P<A){var W=0;for(q=0;P<A;)q=q|(!!l[P++]&1)<<W++;this.writeByte(q,c++)}return T?(this.offset=c,this):c-w},u.readBitSet=function(l){var c=typeof l>"u";c&&(l=this.offset);var T=this.readVarint32(l),w=T.value,A=w>>3,M=0,P=[],q;for(l+=T.length;A--;)q=this.readByte(l++),P[M++]=!!(q&1),P[M++]=!!(q&2),P[M++]=!!(q&4),P[M++]=!!(q&8),P[M++]=!!(q&16),P[M++]=!!(q&32),P[M++]=!!(q&64),P[M++]=!!(q&128);if(M<w){var W=0;for(q=this.readByte(l++);M<w;)P[M++]=!!(q>>W++&1)}return c&&(this.offset=l),P},u.readBytes=function(l,c){var T=typeof c>"u";if(T&&(c=this.offset),!this.noAssert){if(typeof c!="number"||c%1!==0)throw TypeError("Illegal offset: "+c+" (not an integer)");if(c>>>=0,c<0||c+l>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+"+l+") <= "+this.buffer.byteLength)}var w=this.slice(c,c+l);return T&&(this.offset+=l),w},u.writeBytes=u.append,u.writeInt8=function(l,c){var T=typeof c>"u";if(T&&(c=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal value: "+l+" (not an integer)");if(l|=0,typeof c!="number"||c%1!==0)throw TypeError("Illegal offset: "+c+" (not an integer)");if(c>>>=0,c<0||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}c+=1;var w=this.buffer.byteLength;return c>w&&this.resize((w*=2)>c?w:c),c-=1,this.view[c]=l,T&&(this.offset+=1),this},u.writeByte=u.writeInt8,u.readInt8=function(l){var c=typeof l>"u";if(c&&(l=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal offset: "+l+" (not an integer)");if(l>>>=0,l<0||l+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+l+" (+1) <= "+this.buffer.byteLength)}var T=this.view[l];return(T&128)===128&&(T=-(255-T+1)),c&&(this.offset+=1),T},u.readByte=u.readInt8,u.writeUint8=function(l,c){var T=typeof c>"u";if(T&&(c=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal value: "+l+" (not an integer)");if(l>>>=0,typeof c!="number"||c%1!==0)throw TypeError("Illegal offset: "+c+" (not an integer)");if(c>>>=0,c<0||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}c+=1;var w=this.buffer.byteLength;return c>w&&this.resize((w*=2)>c?w:c),c-=1,this.view[c]=l,T&&(this.offset+=1),this},u.writeUInt8=u.writeUint8,u.readUint8=function(l){var c=typeof l>"u";if(c&&(l=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal offset: "+l+" (not an integer)");if(l>>>=0,l<0||l+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+l+" (+1) <= "+this.buffer.byteLength)}var T=this.view[l];return c&&(this.offset+=1),T},u.readUInt8=u.readUint8,u.writeInt16=function(l,c){var T=typeof c>"u";if(T&&(c=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal value: "+l+" (not an integer)");if(l|=0,typeof c!="number"||c%1!==0)throw TypeError("Illegal offset: "+c+" (not an integer)");if(c>>>=0,c<0||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}c+=2;var w=this.buffer.byteLength;return c>w&&this.resize((w*=2)>c?w:c),c-=2,this.littleEndian?(this.view[c+1]=(l&65280)>>>8,this.view[c]=l&255):(this.view[c]=(l&65280)>>>8,this.view[c+1]=l&255),T&&(this.offset+=2),this},u.writeShort=u.writeInt16,u.readInt16=function(l){var c=typeof l>"u";if(c&&(l=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal offset: "+l+" (not an integer)");if(l>>>=0,l<0||l+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+l+" (+2) <= "+this.buffer.byteLength)}var T=0;return this.littleEndian?(T=this.view[l],T|=this.view[l+1]<<8):(T=this.view[l]<<8,T|=this.view[l+1]),(T&32768)===32768&&(T=-(65535-T+1)),c&&(this.offset+=2),T},u.readShort=u.readInt16,u.writeUint16=function(l,c){var T=typeof c>"u";if(T&&(c=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal value: "+l+" (not an integer)");if(l>>>=0,typeof c!="number"||c%1!==0)throw TypeError("Illegal offset: "+c+" (not an integer)");if(c>>>=0,c<0||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}c+=2;var w=this.buffer.byteLength;return c>w&&this.resize((w*=2)>c?w:c),c-=2,this.littleEndian?(this.view[c+1]=(l&65280)>>>8,this.view[c]=l&255):(this.view[c]=(l&65280)>>>8,this.view[c+1]=l&255),T&&(this.offset+=2),this},u.writeUInt16=u.writeUint16,u.readUint16=function(l){var c=typeof l>"u";if(c&&(l=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal offset: "+l+" (not an integer)");if(l>>>=0,l<0||l+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+l+" (+2) <= "+this.buffer.byteLength)}var T=0;return this.littleEndian?(T=this.view[l],T|=this.view[l+1]<<8):(T=this.view[l]<<8,T|=this.view[l+1]),c&&(this.offset+=2),T},u.readUInt16=u.readUint16,u.writeInt32=function(l,c){var T=typeof c>"u";if(T&&(c=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal value: "+l+" (not an integer)");if(l|=0,typeof c!="number"||c%1!==0)throw TypeError("Illegal offset: "+c+" (not an integer)");if(c>>>=0,c<0||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}c+=4;var w=this.buffer.byteLength;return c>w&&this.resize((w*=2)>c?w:c),c-=4,this.littleEndian?(this.view[c+3]=l>>>24&255,this.view[c+2]=l>>>16&255,this.view[c+1]=l>>>8&255,this.view[c]=l&255):(this.view[c]=l>>>24&255,this.view[c+1]=l>>>16&255,this.view[c+2]=l>>>8&255,this.view[c+3]=l&255),T&&(this.offset+=4),this},u.writeInt=u.writeInt32,u.readInt32=function(l){var c=typeof l>"u";if(c&&(l=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal offset: "+l+" (not an integer)");if(l>>>=0,l<0||l+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+l+" (+4) <= "+this.buffer.byteLength)}var T=0;return this.littleEndian?(T=this.view[l+2]<<16,T|=this.view[l+1]<<8,T|=this.view[l],T+=this.view[l+3]<<24>>>0):(T=this.view[l+1]<<16,T|=this.view[l+2]<<8,T|=this.view[l+3],T+=this.view[l]<<24>>>0),T|=0,c&&(this.offset+=4),T},u.readInt=u.readInt32,u.writeUint32=function(l,c){var T=typeof c>"u";if(T&&(c=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal value: "+l+" (not an integer)");if(l>>>=0,typeof c!="number"||c%1!==0)throw TypeError("Illegal offset: "+c+" (not an integer)");if(c>>>=0,c<0||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}c+=4;var w=this.buffer.byteLength;return c>w&&this.resize((w*=2)>c?w:c),c-=4,this.littleEndian?(this.view[c+3]=l>>>24&255,this.view[c+2]=l>>>16&255,this.view[c+1]=l>>>8&255,this.view[c]=l&255):(this.view[c]=l>>>24&255,this.view[c+1]=l>>>16&255,this.view[c+2]=l>>>8&255,this.view[c+3]=l&255),T&&(this.offset+=4),this},u.writeUInt32=u.writeUint32,u.readUint32=function(l){var c=typeof l>"u";if(c&&(l=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal offset: "+l+" (not an integer)");if(l>>>=0,l<0||l+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+l+" (+4) <= "+this.buffer.byteLength)}var T=0;return this.littleEndian?(T=this.view[l+2]<<16,T|=this.view[l+1]<<8,T|=this.view[l],T+=this.view[l+3]<<24>>>0):(T=this.view[l+1]<<16,T|=this.view[l+2]<<8,T|=this.view[l+3],T+=this.view[l]<<24>>>0),c&&(this.offset+=4),T},u.readUInt32=u.readUint32,n&&(u.writeInt64=function(l,c){var T=typeof c>"u";if(T&&(c=this.offset),!this.noAssert){if(typeof l=="number")l=n.fromNumber(l);else if(typeof l=="string")l=n.fromString(l);else if(!(l&&l instanceof n))throw TypeError("Illegal value: "+l+" (not an integer or Long)");if(typeof c!="number"||c%1!==0)throw TypeError("Illegal offset: "+c+" (not an integer)");if(c>>>=0,c<0||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}typeof l=="number"?l=n.fromNumber(l):typeof l=="string"&&(l=n.fromString(l)),c+=8;var w=this.buffer.byteLength;c>w&&this.resize((w*=2)>c?w:c),c-=8;var A=l.low,M=l.high;return this.littleEndian?(this.view[c+3]=A>>>24&255,this.view[c+2]=A>>>16&255,this.view[c+1]=A>>>8&255,this.view[c]=A&255,c+=4,this.view[c+3]=M>>>24&255,this.view[c+2]=M>>>16&255,this.view[c+1]=M>>>8&255,this.view[c]=M&255):(this.view[c]=M>>>24&255,this.view[c+1]=M>>>16&255,this.view[c+2]=M>>>8&255,this.view[c+3]=M&255,c+=4,this.view[c]=A>>>24&255,this.view[c+1]=A>>>16&255,this.view[c+2]=A>>>8&255,this.view[c+3]=A&255),T&&(this.offset+=8),this},u.writeLong=u.writeInt64,u.readInt64=function(l){var c=typeof l>"u";if(c&&(l=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal offset: "+l+" (not an integer)");if(l>>>=0,l<0||l+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+l+" (+8) <= "+this.buffer.byteLength)}var T=0,w=0;this.littleEndian?(T=this.view[l+2]<<16,T|=this.view[l+1]<<8,T|=this.view[l],T+=this.view[l+3]<<24>>>0,l+=4,w=this.view[l+2]<<16,w|=this.view[l+1]<<8,w|=this.view[l],w+=this.view[l+3]<<24>>>0):(w=this.view[l+1]<<16,w|=this.view[l+2]<<8,w|=this.view[l+3],w+=this.view[l]<<24>>>0,l+=4,T=this.view[l+1]<<16,T|=this.view[l+2]<<8,T|=this.view[l+3],T+=this.view[l]<<24>>>0);var A=new n(T,w,!1);return c&&(this.offset+=8),A},u.readLong=u.readInt64,u.writeUint64=function(l,c){var T=typeof c>"u";if(T&&(c=this.offset),!this.noAssert){if(typeof l=="number")l=n.fromNumber(l);else if(typeof l=="string")l=n.fromString(l);else if(!(l&&l instanceof n))throw TypeError("Illegal value: "+l+" (not an integer or Long)");if(typeof c!="number"||c%1!==0)throw TypeError("Illegal offset: "+c+" (not an integer)");if(c>>>=0,c<0||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}typeof l=="number"?l=n.fromNumber(l):typeof l=="string"&&(l=n.fromString(l)),c+=8;var w=this.buffer.byteLength;c>w&&this.resize((w*=2)>c?w:c),c-=8;var A=l.low,M=l.high;return this.littleEndian?(this.view[c+3]=A>>>24&255,this.view[c+2]=A>>>16&255,this.view[c+1]=A>>>8&255,this.view[c]=A&255,c+=4,this.view[c+3]=M>>>24&255,this.view[c+2]=M>>>16&255,this.view[c+1]=M>>>8&255,this.view[c]=M&255):(this.view[c]=M>>>24&255,this.view[c+1]=M>>>16&255,this.view[c+2]=M>>>8&255,this.view[c+3]=M&255,c+=4,this.view[c]=A>>>24&255,this.view[c+1]=A>>>16&255,this.view[c+2]=A>>>8&255,this.view[c+3]=A&255),T&&(this.offset+=8),this},u.writeUInt64=u.writeUint64,u.readUint64=function(l){var c=typeof l>"u";if(c&&(l=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal offset: "+l+" (not an integer)");if(l>>>=0,l<0||l+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+l+" (+8) <= "+this.buffer.byteLength)}var T=0,w=0;this.littleEndian?(T=this.view[l+2]<<16,T|=this.view[l+1]<<8,T|=this.view[l],T+=this.view[l+3]<<24>>>0,l+=4,w=this.view[l+2]<<16,w|=this.view[l+1]<<8,w|=this.view[l],w+=this.view[l+3]<<24>>>0):(w=this.view[l+1]<<16,w|=this.view[l+2]<<8,w|=this.view[l+3],w+=this.view[l]<<24>>>0,l+=4,T=this.view[l+1]<<16,T|=this.view[l+2]<<8,T|=this.view[l+3],T+=this.view[l]<<24>>>0);var A=new n(T,w,!0);return c&&(this.offset+=8),A},u.readUInt64=u.readUint64);function v(l,c,T,w,A){var M,P,q=A*8-w-1,W=(1<<q)-1,X=W>>1,L=-7,ue=T?A-1:0,Te=T?-1:1,ne=l[c+ue];for(ue+=Te,M=ne&(1<<-L)-1,ne>>=-L,L+=q;L>0;M=M*256+l[c+ue],ue+=Te,L-=8);for(P=M&(1<<-L)-1,M>>=-L,L+=w;L>0;P=P*256+l[c+ue],ue+=Te,L-=8);if(M===0)M=1-X;else{if(M===W)return P?NaN:(ne?-1:1)*(1/0);P=P+Math.pow(2,w),M=M-X}return(ne?-1:1)*P*Math.pow(2,M-w)}function E(l,c,T,w,A,M){var P,q,W,X=M*8-A-1,L=(1<<X)-1,ue=L>>1,Te=A===23?Math.pow(2,-24)-Math.pow(2,-77):0,ne=w?0:M-1,Q=w?1:-1,te=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(q=isNaN(c)?1:0,P=L):(P=Math.floor(Math.log(c)/Math.LN2),c*(W=Math.pow(2,-P))<1&&(P--,W*=2),P+ue>=1?c+=Te/W:c+=Te*Math.pow(2,1-ue),c*W>=2&&(P++,W/=2),P+ue>=L?(q=0,P=L):P+ue>=1?(q=(c*W-1)*Math.pow(2,A),P=P+ue):(q=c*Math.pow(2,ue-1)*Math.pow(2,A),P=0));A>=8;l[T+ne]=q&255,ne+=Q,q/=256,A-=8);for(P=P<<A|q,X+=A;X>0;l[T+ne]=P&255,ne+=Q,P/=256,X-=8);l[T+ne-Q]|=te*128}u.writeFloat32=function(l,c){var T=typeof c>"u";if(T&&(c=this.offset),!this.noAssert){if(typeof l!="number")throw TypeError("Illegal value: "+l+" (not a number)");if(typeof c!="number"||c%1!==0)throw TypeError("Illegal offset: "+c+" (not an integer)");if(c>>>=0,c<0||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}c+=4;var w=this.buffer.byteLength;return c>w&&this.resize((w*=2)>c?w:c),c-=4,E(this.view,l,c,this.littleEndian,23,4),T&&(this.offset+=4),this},u.writeFloat=u.writeFloat32,u.readFloat32=function(l){var c=typeof l>"u";if(c&&(l=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal offset: "+l+" (not an integer)");if(l>>>=0,l<0||l+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+l+" (+4) <= "+this.buffer.byteLength)}var T=v(this.view,l,this.littleEndian,23,4);return c&&(this.offset+=4),T},u.readFloat=u.readFloat32,u.writeFloat64=function(l,c){var T=typeof c>"u";if(T&&(c=this.offset),!this.noAssert){if(typeof l!="number")throw TypeError("Illegal value: "+l+" (not a number)");if(typeof c!="number"||c%1!==0)throw TypeError("Illegal offset: "+c+" (not an integer)");if(c>>>=0,c<0||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}c+=8;var w=this.buffer.byteLength;return c>w&&this.resize((w*=2)>c?w:c),c-=8,E(this.view,l,c,this.littleEndian,52,8),T&&(this.offset+=8),this},u.writeDouble=u.writeFloat64,u.readFloat64=function(l){var c=typeof l>"u";if(c&&(l=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal offset: "+l+" (not an integer)");if(l>>>=0,l<0||l+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+l+" (+8) <= "+this.buffer.byteLength)}var T=v(this.view,l,this.littleEndian,52,8);return c&&(this.offset+=8),T},u.readDouble=u.readFloat64,r.MAX_VARINT32_BYTES=5,r.calculateVarint32=function(l){return l=l>>>0,l<128?1:l<16384?2:l<1<<21?3:l<1<<28?4:5},r.zigZagEncode32=function(l){return((l|=0)<<1^l>>31)>>>0},r.zigZagDecode32=function(l){return l>>>1^-(l&1)|0},u.writeVarint32=function(l,c){var T=typeof c>"u";if(T&&(c=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal value: "+l+" (not an integer)");if(l|=0,typeof c!="number"||c%1!==0)throw TypeError("Illegal offset: "+c+" (not an integer)");if(c>>>=0,c<0||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}var w=r.calculateVarint32(l),A;c+=w;var M=this.buffer.byteLength;for(c>M&&this.resize((M*=2)>c?M:c),c-=w,l>>>=0;l>=128;)A=l&127|128,this.view[c++]=A,l>>>=7;return this.view[c++]=l,T?(this.offset=c,this):w},u.writeVarint32ZigZag=function(l,c){return this.writeVarint32(r.zigZagEncode32(l),c)},u.readVarint32=function(l){var c=typeof l>"u";if(c&&(l=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal offset: "+l+" (not an integer)");if(l>>>=0,l<0||l+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+l+" (+1) <= "+this.buffer.byteLength)}var T=0,w=0,A;do{if(!this.noAssert&&l>this.limit){var M=Error("Truncated");throw M.truncated=!0,M}A=this.view[l++],T<5&&(w|=(A&127)<<7*T),++T}while(A&128);return w|=0,c?(this.offset=l,w):{value:w,length:T}},u.readVarint32ZigZag=function(l){var c=this.readVarint32(l);return typeof c=="object"?c.value=r.zigZagDecode32(c.value):c=r.zigZagDecode32(c),c},n&&(r.MAX_VARINT64_BYTES=10,r.calculateVarint64=function(l){typeof l=="number"?l=n.fromNumber(l):typeof l=="string"&&(l=n.fromString(l));var c=l.toInt()>>>0,T=l.shiftRightUnsigned(28).toInt()>>>0,w=l.shiftRightUnsigned(56).toInt()>>>0;return w==0?T==0?c<16384?c<128?1:2:c<1<<21?3:4:T<16384?T<128?5:6:T<1<<21?7:8:w<128?9:10},r.zigZagEncode64=function(l){return typeof l=="number"?l=n.fromNumber(l,!1):typeof l=="string"?l=n.fromString(l,!1):l.unsigned!==!1&&(l=l.toSigned()),l.shiftLeft(1).xor(l.shiftRight(63)).toUnsigned()},r.zigZagDecode64=function(l){return typeof l=="number"?l=n.fromNumber(l,!1):typeof l=="string"?l=n.fromString(l,!1):l.unsigned!==!1&&(l=l.toSigned()),l.shiftRightUnsigned(1).xor(l.and(n.ONE).toSigned().negate()).toSigned()},u.writeVarint64=function(l,c){var T=typeof c>"u";if(T&&(c=this.offset),!this.noAssert){if(typeof l=="number")l=n.fromNumber(l);else if(typeof l=="string")l=n.fromString(l);else if(!(l&&l instanceof n))throw TypeError("Illegal value: "+l+" (not an integer or Long)");if(typeof c!="number"||c%1!==0)throw TypeError("Illegal offset: "+c+" (not an integer)");if(c>>>=0,c<0||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}typeof l=="number"?l=n.fromNumber(l,!1):typeof l=="string"?l=n.fromString(l,!1):l.unsigned!==!1&&(l=l.toSigned());var w=r.calculateVarint64(l),A=l.toInt()>>>0,M=l.shiftRightUnsigned(28).toInt()>>>0,P=l.shiftRightUnsigned(56).toInt()>>>0;c+=w;var q=this.buffer.byteLength;switch(c>q&&this.resize((q*=2)>c?q:c),c-=w,w){case 10:this.view[c+9]=P>>>7&1;case 9:this.view[c+8]=w!==9?P|128:P&127;case 8:this.view[c+7]=w!==8?M>>>21|128:M>>>21&127;case 7:this.view[c+6]=w!==7?M>>>14|128:M>>>14&127;case 6:this.view[c+5]=w!==6?M>>>7|128:M>>>7&127;case 5:this.view[c+4]=w!==5?M|128:M&127;case 4:this.view[c+3]=w!==4?A>>>21|128:A>>>21&127;case 3:this.view[c+2]=w!==3?A>>>14|128:A>>>14&127;case 2:this.view[c+1]=w!==2?A>>>7|128:A>>>7&127;case 1:this.view[c]=w!==1?A|128:A&127}return T?(this.offset+=w,this):w},u.writeVarint64ZigZag=function(l,c){return this.writeVarint64(r.zigZagEncode64(l),c)},u.readVarint64=function(l){var c=typeof l>"u";if(c&&(l=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal offset: "+l+" (not an integer)");if(l>>>=0,l<0||l+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+l+" (+1) <= "+this.buffer.byteLength)}var T=l,w=0,A=0,M=0,P=0;if(P=this.view[l++],w=P&127,P&128&&(P=this.view[l++],w|=(P&127)<<7,(P&128||this.noAssert&&typeof P>"u")&&(P=this.view[l++],w|=(P&127)<<14,(P&128||this.noAssert&&typeof P>"u")&&(P=this.view[l++],w|=(P&127)<<21,(P&128||this.noAssert&&typeof P>"u")&&(P=this.view[l++],A=P&127,(P&128||this.noAssert&&typeof P>"u")&&(P=this.view[l++],A|=(P&127)<<7,(P&128||this.noAssert&&typeof P>"u")&&(P=this.view[l++],A|=(P&127)<<14,(P&128||this.noAssert&&typeof P>"u")&&(P=this.view[l++],A|=(P&127)<<21,(P&128||this.noAssert&&typeof P>"u")&&(P=this.view[l++],M=P&127,(P&128||this.noAssert&&typeof P>"u")&&(P=this.view[l++],M|=(P&127)<<7,P&128||this.noAssert&&typeof P>"u"))))))))))throw Error("Buffer overrun");var q=n.fromBits(w|A<<28,A>>>4|M<<24,!1);return c?(this.offset=l,q):{value:q,length:l-T}},u.readVarint64ZigZag=function(l){var c=this.readVarint64(l);return c&&c.value instanceof n?c.value=r.zigZagDecode64(c.value):c=r.zigZagDecode64(c),c}),u.writeCString=function(l,c){var T=typeof c>"u";T&&(c=this.offset);var w,A=l.length;if(!this.noAssert){if(typeof l!="string")throw TypeError("Illegal str: Not a string");for(w=0;w<A;++w)if(l.charCodeAt(w)===0)throw RangeError("Illegal str: Contains NULL-characters");if(typeof c!="number"||c%1!==0)throw TypeError("Illegal offset: "+c+" (not an integer)");if(c>>>=0,c<0||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}A=I.calculateUTF16asUTF8(h(l))[1],c+=A+1;var M=this.buffer.byteLength;return c>M&&this.resize((M*=2)>c?M:c),c-=A+1,I.encodeUTF16toUTF8(h(l),(function(P){this.view[c++]=P}).bind(this)),this.view[c++]=0,T?(this.offset=c,this):A},u.readCString=function(l){var c=typeof l>"u";if(c&&(l=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal offset: "+l+" (not an integer)");if(l>>>=0,l<0||l+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+l+" (+1) <= "+this.buffer.byteLength)}var T=l,w,A=-1;return I.decodeUTF8toUTF16((function(){if(A===0)return null;if(l>=this.limit)throw RangeError("Illegal range: Truncated data, "+l+" < "+this.limit);return A=this.view[l++],A===0?null:A}).bind(this),w=m(),!0),c?(this.offset=l,w()):{string:w(),length:l-T}},u.writeIString=function(l,c){var T=typeof c>"u";if(T&&(c=this.offset),!this.noAssert){if(typeof l!="string")throw TypeError("Illegal str: Not a string");if(typeof c!="number"||c%1!==0)throw TypeError("Illegal offset: "+c+" (not an integer)");if(c>>>=0,c<0||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}var w=c,A;A=I.calculateUTF16asUTF8(h(l),this.noAssert)[1],c+=4+A;var M=this.buffer.byteLength;if(c>M&&this.resize((M*=2)>c?M:c),c-=4+A,this.littleEndian?(this.view[c+3]=A>>>24&255,this.view[c+2]=A>>>16&255,this.view[c+1]=A>>>8&255,this.view[c]=A&255):(this.view[c]=A>>>24&255,this.view[c+1]=A>>>16&255,this.view[c+2]=A>>>8&255,this.view[c+3]=A&255),c+=4,I.encodeUTF16toUTF8(h(l),(function(P){this.view[c++]=P}).bind(this)),c!==w+4+A)throw RangeError("Illegal range: Truncated data, "+c+" == "+(c+4+A));return T?(this.offset=c,this):c-w},u.readIString=function(l){var c=typeof l>"u";if(c&&(l=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal offset: "+l+" (not an integer)");if(l>>>=0,l<0||l+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+l+" (+4) <= "+this.buffer.byteLength)}var T=l,w=this.readUint32(l),A=this.readUTF8String(w,r.METRICS_BYTES,l+=4);return l+=A.length,c?(this.offset=l,A.string):{string:A.string,length:l-T}},r.METRICS_CHARS="c",r.METRICS_BYTES="b",u.writeUTF8String=function(l,c){var T=typeof c>"u";if(T&&(c=this.offset),!this.noAssert){if(typeof c!="number"||c%1!==0)throw TypeError("Illegal offset: "+c+" (not an integer)");if(c>>>=0,c<0||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}var w,A=c;w=I.calculateUTF16asUTF8(h(l))[1],c+=w;var M=this.buffer.byteLength;return c>M&&this.resize((M*=2)>c?M:c),c-=w,I.encodeUTF16toUTF8(h(l),(function(P){this.view[c++]=P}).bind(this)),T?(this.offset=c,this):c-A},u.writeString=u.writeUTF8String,r.calculateUTF8Chars=function(l){return I.calculateUTF16asUTF8(h(l))[0]},r.calculateUTF8Bytes=function(l){return I.calculateUTF16asUTF8(h(l))[1]},r.calculateString=r.calculateUTF8Bytes,u.readUTF8String=function(l,c,T){typeof c=="number"&&(T=c,c=void 0);var w=typeof T>"u";if(w&&(T=this.offset),typeof c>"u"&&(c=r.METRICS_CHARS),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal length: "+l+" (not an integer)");if(l|=0,typeof T!="number"||T%1!==0)throw TypeError("Illegal offset: "+T+" (not an integer)");if(T>>>=0,T<0||T+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+T+" (+0) <= "+this.buffer.byteLength)}var A=0,M=T,P;if(c===r.METRICS_CHARS){if(P=m(),I.decodeUTF8((function(){return A<l&&T<this.limit?this.view[T++]:null}).bind(this),function(W){++A,I.UTF8toUTF16(W,P)}),A!==l)throw RangeError("Illegal range: Truncated data, "+A+" == "+l);return w?(this.offset=T,P()):{string:P(),length:T-M}}else if(c===r.METRICS_BYTES){if(!this.noAssert){if(typeof T!="number"||T%1!==0)throw TypeError("Illegal offset: "+T+" (not an integer)");if(T>>>=0,T<0||T+l>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+T+" (+"+l+") <= "+this.buffer.byteLength)}var q=T+l;if(I.decodeUTF8toUTF16((function(){return T<q?this.view[T++]:null}).bind(this),P=m(),this.noAssert),T!==q)throw RangeError("Illegal range: Truncated data, "+T+" == "+q);return w?(this.offset=T,P()):{string:P(),length:T-M}}else throw TypeError("Unsupported metrics: "+c)},u.readString=u.readUTF8String,u.writeVString=function(l,c){var T=typeof c>"u";if(T&&(c=this.offset),!this.noAssert){if(typeof l!="string")throw TypeError("Illegal str: Not a string");if(typeof c!="number"||c%1!==0)throw TypeError("Illegal offset: "+c+" (not an integer)");if(c>>>=0,c<0||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}var w=c,A,M;A=I.calculateUTF16asUTF8(h(l),this.noAssert)[1],M=r.calculateVarint32(A),c+=M+A;var P=this.buffer.byteLength;if(c>P&&this.resize((P*=2)>c?P:c),c-=M+A,c+=this.writeVarint32(A,c),I.encodeUTF16toUTF8(h(l),(function(q){this.view[c++]=q}).bind(this)),c!==w+A+M)throw RangeError("Illegal range: Truncated data, "+c+" == "+(c+A+M));return T?(this.offset=c,this):c-w},u.readVString=function(l){var c=typeof l>"u";if(c&&(l=this.offset),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal offset: "+l+" (not an integer)");if(l>>>=0,l<0||l+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+l+" (+1) <= "+this.buffer.byteLength)}var T=l,w=this.readVarint32(l),A=this.readUTF8String(w.value,r.METRICS_BYTES,l+=w.length);return l+=A.length,c?(this.offset=l,A.string):{string:A.string,length:l-T}},u.append=function(l,c,T){(typeof c=="number"||typeof c!="string")&&(T=c,c=void 0);var w=typeof T>"u";if(w&&(T=this.offset),!this.noAssert){if(typeof T!="number"||T%1!==0)throw TypeError("Illegal offset: "+T+" (not an integer)");if(T>>>=0,T<0||T+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+T+" (+0) <= "+this.buffer.byteLength)}l instanceof r||(l=r.wrap(l,c));var A=l.limit-l.offset;if(A<=0)return this;T+=A;var M=this.buffer.byteLength;return T>M&&this.resize((M*=2)>T?M:T),T-=A,this.view.set(l.view.subarray(l.offset,l.limit),T),l.offset+=A,w&&(this.offset+=A),this},u.appendTo=function(l,c){return l.append(this,c),this},u.assert=function(l){return this.noAssert=!l,this},u.capacity=function(){return this.buffer.byteLength},u.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},u.clone=function(l){var c=new r(0,this.littleEndian,this.noAssert);return l?(c.buffer=new ArrayBuffer(this.buffer.byteLength),c.view=new Uint8Array(c.buffer)):(c.buffer=this.buffer,c.view=this.view),c.offset=this.offset,c.markedOffset=this.markedOffset,c.limit=this.limit,c},u.compact=function(l,c){if(typeof l>"u"&&(l=this.offset),typeof c>"u"&&(c=this.limit),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal begin: Not an integer");if(l>>>=0,typeof c!="number"||c%1!==0)throw TypeError("Illegal end: Not an integer");if(c>>>=0,l<0||l>c||c>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+l+" <= "+c+" <= "+this.buffer.byteLength)}if(l===0&&c===this.buffer.byteLength)return this;var T=c-l;if(T===0)return this.buffer=g,this.view=null,this.markedOffset>=0&&(this.markedOffset-=l),this.offset=0,this.limit=0,this;var w=new ArrayBuffer(T),A=new Uint8Array(w);return A.set(this.view.subarray(l,c)),this.buffer=w,this.view=A,this.markedOffset>=0&&(this.markedOffset-=l),this.offset=0,this.limit=T,this},u.copy=function(l,c){if(typeof l>"u"&&(l=this.offset),typeof c>"u"&&(c=this.limit),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal begin: Not an integer");if(l>>>=0,typeof c!="number"||c%1!==0)throw TypeError("Illegal end: Not an integer");if(c>>>=0,l<0||l>c||c>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+l+" <= "+c+" <= "+this.buffer.byteLength)}if(l===c)return new r(0,this.littleEndian,this.noAssert);var T=c-l,w=new r(T,this.littleEndian,this.noAssert);return w.offset=0,w.limit=T,w.markedOffset>=0&&(w.markedOffset-=l),this.copyTo(w,0,l,c),w},u.copyTo=function(l,c,T,w){var A,M;if(!this.noAssert&&!r.isByteBuffer(l))throw TypeError("Illegal target: Not a ByteBuffer");if(c=(M=typeof c>"u")?l.offset:c|0,T=(A=typeof T>"u")?this.offset:T|0,w=typeof w>"u"?this.limit:w|0,c<0||c>l.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+c+" <= "+l.buffer.byteLength);if(T<0||w>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+T+" <= "+this.buffer.byteLength);var P=w-T;return P===0?l:(l.ensureCapacity(c+P),l.view.set(this.view.subarray(T,w),c),A&&(this.offset+=P),M&&(l.offset+=P),this)},u.ensureCapacity=function(l){var c=this.buffer.byteLength;return c<l?this.resize((c*=2)>l?c:l):this},u.fill=function(l,c,T){var w=typeof c>"u";if(w&&(c=this.offset),typeof l=="string"&&l.length>0&&(l=l.charCodeAt(0)),typeof c>"u"&&(c=this.offset),typeof T>"u"&&(T=this.limit),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal value: "+l+" (not an integer)");if(l|=0,typeof c!="number"||c%1!==0)throw TypeError("Illegal begin: Not an integer");if(c>>>=0,typeof T!="number"||T%1!==0)throw TypeError("Illegal end: Not an integer");if(T>>>=0,c<0||c>T||T>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+c+" <= "+T+" <= "+this.buffer.byteLength)}if(c>=T)return this;for(;c<T;)this.view[c++]=l;return w&&(this.offset=c),this},u.flip=function(){return this.limit=this.offset,this.offset=0,this},u.mark=function(l){if(l=typeof l>"u"?this.offset:l,!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal offset: "+l+" (not an integer)");if(l>>>=0,l<0||l+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+l+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=l,this},u.order=function(l){if(!this.noAssert&&typeof l!="boolean")throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!l,this},u.LE=function(l){return this.littleEndian=typeof l<"u"?!!l:!0,this},u.BE=function(l){return this.littleEndian=typeof l<"u"?!l:!1,this},u.prepend=function(l,c,T){(typeof c=="number"||typeof c!="string")&&(T=c,c=void 0);var w=typeof T>"u";if(w&&(T=this.offset),!this.noAssert){if(typeof T!="number"||T%1!==0)throw TypeError("Illegal offset: "+T+" (not an integer)");if(T>>>=0,T<0||T+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+T+" (+0) <= "+this.buffer.byteLength)}l instanceof r||(l=r.wrap(l,c));var A=l.limit-l.offset;if(A<=0)return this;var M=A-T;if(M>0){var P=new ArrayBuffer(this.buffer.byteLength+M),q=new Uint8Array(P);q.set(this.view.subarray(T,this.buffer.byteLength),A),this.buffer=P,this.view=q,this.offset+=M,this.markedOffset>=0&&(this.markedOffset+=M),this.limit+=M,T+=M}else new Uint8Array(this.buffer);return this.view.set(l.view.subarray(l.offset,l.limit),T-A),l.offset=l.limit,w&&(this.offset-=A),this},u.prependTo=function(l,c){return l.prepend(this,c),this},u.printDebug=function(l){typeof l!="function"&&(l=console.log.bind(console)),l(this.toString()+`
-------------------------------------------------------------------
`+this.toDebug(!0))},u.remaining=function(){return this.limit-this.offset},u.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},u.resize=function(l){if(!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal capacity: "+l+" (not an integer)");if(l|=0,l<0)throw RangeError("Illegal capacity: 0 <= "+l)}if(this.buffer.byteLength<l){var c=new ArrayBuffer(l),T=new Uint8Array(c);T.set(this.view),this.buffer=c,this.view=T}return this},u.reverse=function(l,c){if(typeof l>"u"&&(l=this.offset),typeof c>"u"&&(c=this.limit),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal begin: Not an integer");if(l>>>=0,typeof c!="number"||c%1!==0)throw TypeError("Illegal end: Not an integer");if(c>>>=0,l<0||l>c||c>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+l+" <= "+c+" <= "+this.buffer.byteLength)}return l===c?this:(Array.prototype.reverse.call(this.view.subarray(l,c)),this)},u.skip=function(l){if(!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal length: "+l+" (not an integer)");l|=0}var c=this.offset+l;if(!this.noAssert&&(c<0||c>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+l+" <= "+this.buffer.byteLength);return this.offset=c,this},u.slice=function(l,c){if(typeof l>"u"&&(l=this.offset),typeof c>"u"&&(c=this.limit),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal begin: Not an integer");if(l>>>=0,typeof c!="number"||c%1!==0)throw TypeError("Illegal end: Not an integer");if(c>>>=0,l<0||l>c||c>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+l+" <= "+c+" <= "+this.buffer.byteLength)}var T=this.clone();return T.offset=l,T.limit=c,T},u.toBuffer=function(l){var c=this.offset,T=this.limit;if(!this.noAssert){if(typeof c!="number"||c%1!==0)throw TypeError("Illegal offset: Not an integer");if(c>>>=0,typeof T!="number"||T%1!==0)throw TypeError("Illegal limit: Not an integer");if(T>>>=0,c<0||c>T||T>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+c+" <= "+T+" <= "+this.buffer.byteLength)}if(!l&&c===0&&T===this.buffer.byteLength)return this.buffer;if(c===T)return g;var w=new ArrayBuffer(T-c);return new Uint8Array(w).set(new Uint8Array(this.buffer).subarray(c,T),0),w},u.toArrayBuffer=u.toBuffer,u.toString=function(l,c,T){if(typeof l>"u")return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch(typeof l=="number"&&(l="utf8",c=l,T=c),l){case"utf8":return this.toUTF8(c,T);case"base64":return this.toBase64(c,T);case"hex":return this.toHex(c,T);case"binary":return this.toBinary(c,T);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+l)}};var R=function(){for(var l={},c=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],T=[],w=0,A=c.length;w<A;++w)T[c[w]]=w;return l.encode=function(M,P){for(var q,W;(q=M())!==null;)P(c[q>>2&63]),W=(q&3)<<4,(q=M())!==null?(W|=q>>4&15,P(c[(W|q>>4&15)&63]),W=(q&15)<<2,(q=M())!==null?(P(c[(W|q>>6&3)&63]),P(c[q&63])):(P(c[W&63]),P(61))):(P(c[W&63]),P(61),P(61))},l.decode=function(M,P){var q,W,X;function L(ue){throw Error("Illegal character code: "+ue)}for(;(q=M())!==null;)if(W=T[q],typeof W>"u"&&L(q),(q=M())!==null&&(X=T[q],typeof X>"u"&&L(q),P(W<<2>>>0|(X&48)>>4),(q=M())!==null)){if(W=T[q],typeof W>"u"){if(q===61)break;L(q)}if(P((X&15)<<4>>>0|(W&60)>>2),(q=M())!==null){if(X=T[q],typeof X>"u"){if(q===61)break;L(q)}P((W&3)<<6>>>0|X)}}},l.test=function(M){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(M)},l}();u.toBase64=function(l,c){if(typeof l>"u"&&(l=this.offset),typeof c>"u"&&(c=this.limit),l=l|0,c=c|0,l<0||c>this.capacity||l>c)throw RangeError("begin, end");var T;return R.encode((function(){return l<c?this.view[l++]:null}).bind(this),T=m()),T()},r.fromBase64=function(l,c){if(typeof l!="string")throw TypeError("str");var T=new r(l.length/4*3,c),w=0;return R.decode(h(l),function(A){T.view[w++]=A}),T.limit=w,T},r.btoa=function(l){return r.fromBinary(l).toBase64()},r.atob=function(l){return r.fromBase64(l).toBinary()},u.toBinary=function(l,c){if(typeof l>"u"&&(l=this.offset),typeof c>"u"&&(c=this.limit),l|=0,c|=0,l<0||c>this.capacity()||l>c)throw RangeError("begin, end");if(l===c)return"";for(var T=[],w=[];l<c;)T.push(this.view[l++]),T.length>=1024&&(w.push(String.fromCharCode.apply(String,T)),T=[]);return w.join("")+String.fromCharCode.apply(String,T)},r.fromBinary=function(l,c){if(typeof l!="string")throw TypeError("str");for(var T=0,w=l.length,A,M=new r(w,c);T<w;){if(A=l.charCodeAt(T),A>255)throw RangeError("illegal char code: "+A);M.view[T++]=A}return M.limit=w,M},u.toDebug=function(l){for(var c=-1,T=this.buffer.byteLength,w,A="",M="",P="";c<T;){if(c!==-1&&(w=this.view[c],w<16?A+="0"+w.toString(16).toUpperCase():A+=w.toString(16).toUpperCase(),l&&(M+=w>32&&w<127?String.fromCharCode(w):".")),++c,l&&c>0&&c%16===0&&c!==T){for(;A.length<3*16+3;)A+=" ";P+=A+M+`
`,A=M=""}c===this.offset&&c===this.limit?A+=c===this.markedOffset?"!":"|":c===this.offset?A+=c===this.markedOffset?"[":"<":c===this.limit?A+=c===this.markedOffset?"]":">":A+=c===this.markedOffset?"'":l||c!==0&&c!==T?" ":""}if(l&&A!==" "){for(;A.length<3*16+3;)A+=" ";P+=A+M+`
`}return l?P:A},r.fromDebug=function(l,c,T){for(var w=l.length,A=new r((w+1)/3|0,c,T),M=0,P=0,q,W,X=!1,L=!1,ue=!1,Te=!1,ne=!1;M<w;){switch(q=l.charAt(M++)){case"!":if(!T){if(L||ue||Te){ne=!0;break}L=ue=Te=!0}A.offset=A.markedOffset=A.limit=P,X=!1;break;case"|":if(!T){if(L||Te){ne=!0;break}L=Te=!0}A.offset=A.limit=P,X=!1;break;case"[":if(!T){if(L||ue){ne=!0;break}L=ue=!0}A.offset=A.markedOffset=P,X=!1;break;case"<":if(!T){if(L){ne=!0;break}L=!0}A.offset=P,X=!1;break;case"]":if(!T){if(Te||ue){ne=!0;break}Te=ue=!0}A.limit=A.markedOffset=P,X=!1;break;case">":if(!T){if(Te){ne=!0;break}Te=!0}A.limit=P,X=!1;break;case"'":if(!T){if(ue){ne=!0;break}ue=!0}A.markedOffset=P,X=!1;break;case" ":X=!1;break;default:if(!T&&X){ne=!0;break}if(W=parseInt(q+l.charAt(M++),16),!T&&(isNaN(W)||W<0||W>255))throw TypeError("Illegal str: Not a debug encoded string");A.view[P++]=W,X=!0}if(ne)throw TypeError("Illegal str: Invalid symbol at "+M)}if(!T){if(!L||!Te)throw TypeError("Illegal str: Missing offset or limit");if(P<A.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+P+" < "+w)}return A},u.toHex=function(l,c){if(l=typeof l>"u"?this.offset:l,c=typeof c>"u"?this.limit:c,!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal begin: Not an integer");if(l>>>=0,typeof c!="number"||c%1!==0)throw TypeError("Illegal end: Not an integer");if(c>>>=0,l<0||l>c||c>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+l+" <= "+c+" <= "+this.buffer.byteLength)}for(var T=new Array(c-l),w;l<c;)w=this.view[l++],w<16?T.push("0",w.toString(16)):T.push(w.toString(16));return T.join("")},r.fromHex=function(l,c,T){if(!T){if(typeof l!="string")throw TypeError("Illegal str: Not a string");if(l.length%2!==0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var w=l.length,A=new r(w/2|0,c),M,P=0,q=0;P<w;P+=2){if(M=parseInt(l.substring(P,P+2),16),!T&&(!isFinite(M)||M<0||M>255))throw TypeError("Illegal str: Contains non-hex characters");A.view[q++]=M}return A.limit=q,A};var I=function(){var l={};return l.MAX_CODEPOINT=1114111,l.encodeUTF8=function(c,T){var w=null;for(typeof c=="number"&&(w=c,c=function(){return null});w!==null||(w=c())!==null;)w<128?T(w&127):w<2048?(T(w>>6&31|192),T(w&63|128)):w<65536?(T(w>>12&15|224),T(w>>6&63|128),T(w&63|128)):(T(w>>18&7|240),T(w>>12&63|128),T(w>>6&63|128),T(w&63|128)),w=null},l.decodeUTF8=function(c,T){for(var w,A,M,P,q=function(W){W=W.slice(0,W.indexOf(null));var X=Error(W.toString());throw X.name="TruncatedError",X.bytes=W,X};(w=c())!==null;)if(!(w&128))T(w);else if((w&224)===192)(A=c())===null&&q([w,A]),T((w&31)<<6|A&63);else if((w&240)===224)((A=c())===null||(M=c())===null)&&q([w,A,M]),T((w&15)<<12|(A&63)<<6|M&63);else if((w&248)===240)((A=c())===null||(M=c())===null||(P=c())===null)&&q([w,A,M,P]),T((w&7)<<18|(A&63)<<12|(M&63)<<6|P&63);else throw RangeError("Illegal starting byte: "+w)},l.UTF16toUTF8=function(c,T){for(var w,A=null;(w=A!==null?A:c())!==null;){if(w>=55296&&w<=57343&&(A=c())!==null&&A>=56320&&A<=57343){T((w-55296)*1024+A-56320+65536),A=null;continue}T(w)}A!==null&&T(A)},l.UTF8toUTF16=function(c,T){var w=null;for(typeof c=="number"&&(w=c,c=function(){return null});w!==null||(w=c())!==null;)w<=65535?T(w):(w-=65536,T((w>>10)+55296),T(w%1024+56320)),w=null},l.encodeUTF16toUTF8=function(c,T){l.UTF16toUTF8(c,function(w){l.encodeUTF8(w,T)})},l.decodeUTF8toUTF16=function(c,T){l.decodeUTF8(c,function(w){l.UTF8toUTF16(w,T)})},l.calculateCodePoint=function(c){return c<128?1:c<2048?2:c<65536?3:4},l.calculateUTF8=function(c){for(var T,w=0;(T=c())!==null;)w+=T<128?1:T<2048?2:T<65536?3:4;return w},l.calculateUTF16asUTF8=function(c){var T=0,w=0;return l.UTF16toUTF8(c,function(A){++T,w+=A<128?1:A<2048?2:A<65536?3:4}),[T,w]},l}();return u.toUTF8=function(l,c){if(typeof l>"u"&&(l=this.offset),typeof c>"u"&&(c=this.limit),!this.noAssert){if(typeof l!="number"||l%1!==0)throw TypeError("Illegal begin: Not an integer");if(l>>>=0,typeof c!="number"||c%1!==0)throw TypeError("Illegal end: Not an integer");if(c>>>=0,l<0||l>c||c>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+l+" <= "+c+" <= "+this.buffer.byteLength)}var T;try{I.decodeUTF8toUTF16((function(){return l<c?this.view[l++]:null}).bind(this),T=m())}catch{if(l!==c)throw RangeError("Illegal range: Truncated data, "+l+" != "+c)}return T()},r.fromUTF8=function(l,c,T){if(!T&&typeof l!="string")throw TypeError("Illegal str: Not a string");var w=new r(I.calculateUTF16asUTF8(h(l),!0)[1],c,T),A=0;return I.encodeUTF16toUTF8(h(l),function(M){w.view[A++]=M}),w.limit=A,w},r})})(bytebuffer);var bytebufferExports=bytebuffer.exports;(function(a){Object.defineProperty(a,"__esModule",{value:!0});var n=light,r=long$1,u=bytebufferExports,g=require("buffer");function y(b){return b&&typeof b=="object"&&"default"in b?b:{default:b}}function h(b){if(b&&b.__esModule)return b;var ce=Object.create(null);return b&&Object.keys(b).forEach(function(O){if(O!=="default"){var j=Object.getOwnPropertyDescriptor(b,O);Object.defineProperty(ce,O,j.get?j:{enumerable:!0,get:function(){return b[O]}})}}),ce.default=b,Object.freeze(ce)}var m=h(n),v=h(r),E=y(u);function R(b,ce){var O={};for(var j in b)Object.prototype.hasOwnProperty.call(b,j)&&ce.indexOf(j)<0&&(O[j]=b[j]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,j=Object.getOwnPropertySymbols(b);G<j.length;G++)ce.indexOf(j[G])<0&&Object.prototype.propertyIsEnumerable.call(b,j[G])&&(O[j[G]]=b[j[G]]);return O}typeof SuppressedError=="function"&&SuppressedError;const I=["bool","string","bytes","int32","int64","uint32","uint64","sint32","sint64","fixed32","fixed64","sfixed32","sfixed64","double","float"],l=b=>I.includes(b),c=(b,ce)=>b!=null&&b.optional&&typeof ce>"u"?null:(b==null?void 0:b.type)==="bytes"?E.default.wrap(ce).toString("hex"):b!=null&&b.long?Number.isSafeInteger(ce.toNumber())?ce.toNumber():ce.toString():ce;function T(b,ce){const O=R(b,[]),j={};return Object.keys(ce).forEach(G=>{const k=ce[G],D=O[G];if(k.repeated)if(l(k.type))j[G]=D.map(F=>c(k,F));else if("valuesById"in k.resolvedType)j[G]=D;else if("fields"in k.resolvedType)j[G]=D.map(F=>T(F,k.resolvedType.fields));else throw new Error(`case not handled for repeated key: ${G}`);else if(l(k.type))j[G]=c(k,D);else if("valuesById"in k.resolvedType)j[G]=k.resolvedType.valuesById[D];else if(k.resolvedType.fields)j[G]=T(D,k.resolvedType.fields);else throw new Error(`case not handled: ${G}`)}),j}const w=(b,ce)=>{const O=ce.toBuffer(),j=new Uint8Array(O);let G;try{G=b.decode(j)}catch(k){if(j.length>1&&j[j.length-1]===255)j[j.length-1]=4,G=b.decode(j);else throw k}return T(G,G.$type.fields)},A=(b,ce)=>{if(b==="bytes")return typeof ce=="string"&&!ce?ce:g.Buffer.from(ce,"hex");if(typeof ce=="number"&&!Number.isSafeInteger(ce))throw new RangeError("field value is not within safe integer range");return ce};function M(b,ce){const O={};return b.fields&&Object.keys(b.fields).forEach(j=>{const G=b.fields[j],k=ce[j];if(!(typeof k>"u")){if(G&&l(G.type)){G.repeated?O[j]=k.map(D=>A(G.type,D)):O[j]=A(G.type,k);return}if(G.repeated){const D=b.lookupTypeOrEnum(G.type);O[j]=k.map(F=>M(D,F))}else if(typeof k=="object"&&k!==null){const D=b.lookupType(G.type);O[j]=M(D,k)}else if(typeof k=="number"){const D=b.lookupEnum(G.type);O[j]=D.values[k]}else O[j]=k}}),O}const P=(b,ce)=>{const O=M(b,ce),j=b.fromObject(O),G=b.encode(j).finish(),k=new E.default(G.byteLength);return k.append(G),k.reset(),k};function q(b){return typeof b=="string"?m.Root.fromJSON(JSON.parse(b)):m.Root.fromJSON(b)}const W=(b,ce)=>{const O=b.lookupType(ce);let G=b.lookupEnum("MessageType").values[`MessageType_${ce}`];return!G&&O.options&&(G=O.options["(wire_type)"]),{Message:O,messageType:G}},X=(b,ce)=>{const j=b.lookupEnum("MessageType").valuesById[ce].replace("MessageType_","");return{Message:b.lookupType(j),messageName:j}},L=63,ue=35,Te=8,ne=63,Q=6,te=b=>{const ce=b.readUint16(),O=b.readUint32();return{typeId:ce,length:O}},Z=b=>{const ce=b.readByte(),O=b.readByte(),j=b.readUint16(),G=b.readUint32();return{sharp1:ce,sharp2:O,typeId:j,length:G}},J=b=>{const{typeId:ce}=te(b);return{typeId:ce,buffer:b}};var ie=Object.freeze({__proto__:null,decode:J,decodeChunked:b=>{const ce=E.default.wrap(b,void 0,void 0,!0),{sharp1:O,sharp2:j,typeId:G,length:k}=Z(ce);if(O!==ue||j!==ue)throw new Error("Didn't receive expected header signature.");return{length:k,typeId:G,restBuffer:ce}}});function be(b,ce){const{addTrezorHeaders:O,chunked:j,messageType:G}=ce,k=(O?Te:Te-2)+b.limit,D=new E.default(k);if(O&&(D.writeByte(ue),D.writeByte(ue)),D.writeUint16(G),D.writeUint32(b.limit),D.append(b.buffer),D.reset(),j===!1)return D;const F=[],$=ne,ae=Math.floor((D.limit-1)/$)+1||1;for(let ee=0;ee<ae;ee++){const me=ee*$,xe=Math.min((ee+1)*$,D.limit),Me=D.slice(me,xe);Me.compact(),F.push(Me.buffer)}return F}function ye(b,ce,O){const{Message:j,messageType:G}=W(b,ce),k=P(j,O);return be(k,{addTrezorHeaders:!1,chunked:!1,messageType:G})}const Ce=(b,ce,O)=>{const{Message:j,messageType:G}=W(b,ce),k=P(j,O);return be(k,{addTrezorHeaders:!0,chunked:!0,messageType:G})},K=(b,ce,O)=>{const j=Ce(b,ce,O),G=[];for(const k of j){const D=new E.default(ne+1);D.writeByte(L),D.append(k),D.reset(),G.push(D)}return G};function ve(b,ce){const O=E.default.wrap(ce,"hex"),{typeId:j,buffer:G}=J(O),{Message:k,messageName:D}=X(b,j);return{message:w(k,G),type:D}}const de="Wrong result type.";function fe(b){if(typeof b!="object"||b==null)throw new Error("Wrong result type.");const{version:ce}=b;if(typeof ce!="string")throw new Error(de);const O=!!b.configured;return{version:ce,configured:O}}function Se(b){if(typeof b!="string")throw new Error(de);return b.trim()}function _e(b){if(b==null)return null;if(typeof b!="string")throw new Error(de);return b}function Ne(b){if(typeof b!="object")throw new Error(de);if(!(b instanceof Array))throw new Error(de);return b.map(ce=>{if(typeof ce!="object"||ce==null)throw new Error(de);const{path:O}=ce;if(typeof O!="string")throw new Error(de);return{path:O.toString(),session:_e(ce.session),debugSession:_e(ce.debugSession),product:ce.product,vendor:ce.vendor,debug:!!ce.debug}})}function d0(b){if(typeof b!="object"||b==null)throw new Error(de);const{session:ce}=b;if(typeof ce!="string"&&typeof ce!="number")throw new Error(de);return ce.toString()}function x0(b){if(typeof b!="object"||b==null)throw new Error(de);const{type:ce}=b;if(typeof ce!="string")throw new Error(de);const{message:O}=b;if(typeof O!="object"||O==null)throw new Error(de);return{type:ce,message:O}}var Je=Object.freeze({__proto__:null,info:fe,version:Se,devices:Ne,acquire:d0,call:x0});a.AptosTransactionType=void 0,function(b){b[b.STANDARD=0]="STANDARD",b[b.WITH_DATA=1]="WITH_DATA"}(a.AptosTransactionType||(a.AptosTransactionType={})),a.BinanceOrderType=void 0,function(b){b[b.OT_UNKNOWN=0]="OT_UNKNOWN",b[b.MARKET=1]="MARKET",b[b.LIMIT=2]="LIMIT",b[b.OT_RESERVED=3]="OT_RESERVED"}(a.BinanceOrderType||(a.BinanceOrderType={})),a.BinanceOrderSide=void 0,function(b){b[b.SIDE_UNKNOWN=0]="SIDE_UNKNOWN",b[b.BUY=1]="BUY",b[b.SELL=2]="SELL"}(a.BinanceOrderSide||(a.BinanceOrderSide={})),a.BinanceTimeInForce=void 0,function(b){b[b.TIF_UNKNOWN=0]="TIF_UNKNOWN",b[b.GTE=1]="GTE",b[b.TIF_RESERVED=2]="TIF_RESERVED",b[b.IOC=3]="IOC"}(a.BinanceTimeInForce||(a.BinanceTimeInForce={})),a.Enum_InputScriptType=void 0,function(b){b[b.SPENDADDRESS=0]="SPENDADDRESS",b[b.SPENDMULTISIG=1]="SPENDMULTISIG",b[b.EXTERNAL=2]="EXTERNAL",b[b.SPENDWITNESS=3]="SPENDWITNESS",b[b.SPENDP2SHWITNESS=4]="SPENDP2SHWITNESS",b[b.SPENDTAPROOT=5]="SPENDTAPROOT"}(a.Enum_InputScriptType||(a.Enum_InputScriptType={})),a.Enum_OutputScriptType=void 0,function(b){b[b.PAYTOADDRESS=0]="PAYTOADDRESS",b[b.PAYTOSCRIPTHASH=1]="PAYTOSCRIPTHASH",b[b.PAYTOMULTISIG=2]="PAYTOMULTISIG",b[b.PAYTOOPRETURN=3]="PAYTOOPRETURN",b[b.PAYTOWITNESS=4]="PAYTOWITNESS",b[b.PAYTOP2SHWITNESS=5]="PAYTOP2SHWITNESS",b[b.PAYTOTAPROOT=6]="PAYTOTAPROOT"}(a.Enum_OutputScriptType||(a.Enum_OutputScriptType={})),a.DecredStakingSpendType=void 0,function(b){b[b.SSGen=0]="SSGen",b[b.SSRTX=1]="SSRTX"}(a.DecredStakingSpendType||(a.DecredStakingSpendType={})),a.AmountUnit=void 0,function(b){b[b.BITCOIN=0]="BITCOIN",b[b.MILLIBITCOIN=1]="MILLIBITCOIN",b[b.MICROBITCOIN=2]="MICROBITCOIN",b[b.SATOSHI=3]="SATOSHI"}(a.AmountUnit||(a.AmountUnit={})),a.Enum_RequestType=void 0,function(b){b[b.TXINPUT=0]="TXINPUT",b[b.TXOUTPUT=1]="TXOUTPUT",b[b.TXMETA=2]="TXMETA",b[b.TXFINISHED=3]="TXFINISHED",b[b.TXEXTRADATA=4]="TXEXTRADATA",b[b.TXORIGINPUT=5]="TXORIGINPUT",b[b.TXORIGOUTPUT=6]="TXORIGOUTPUT"}(a.Enum_RequestType||(a.Enum_RequestType={})),a.RebootType=void 0,function(b){b[b.Normal=0]="Normal",b[b.Boardloader=1]="Boardloader",b[b.BootLoader=2]="BootLoader"}(a.RebootType||(a.RebootType={})),a.CardanoDerivationType=void 0,function(b){b[b.LEDGER=0]="LEDGER",b[b.ICARUS=1]="ICARUS",b[b.ICARUS_TREZOR=2]="ICARUS_TREZOR"}(a.CardanoDerivationType||(a.CardanoDerivationType={})),a.CardanoAddressType=void 0,function(b){b[b.BASE=0]="BASE",b[b.BASE_SCRIPT_KEY=1]="BASE_SCRIPT_KEY",b[b.BASE_KEY_SCRIPT=2]="BASE_KEY_SCRIPT",b[b.BASE_SCRIPT_SCRIPT=3]="BASE_SCRIPT_SCRIPT",b[b.POINTER=4]="POINTER",b[b.POINTER_SCRIPT=5]="POINTER_SCRIPT",b[b.ENTERPRISE=6]="ENTERPRISE",b[b.ENTERPRISE_SCRIPT=7]="ENTERPRISE_SCRIPT",b[b.BYRON=8]="BYRON",b[b.REWARD=14]="REWARD",b[b.REWARD_SCRIPT=15]="REWARD_SCRIPT"}(a.CardanoAddressType||(a.CardanoAddressType={})),a.CardanoNativeScriptType=void 0,function(b){b[b.PUB_KEY=0]="PUB_KEY",b[b.ALL=1]="ALL",b[b.ANY=2]="ANY",b[b.N_OF_K=3]="N_OF_K",b[b.INVALID_BEFORE=4]="INVALID_BEFORE",b[b.INVALID_HEREAFTER=5]="INVALID_HEREAFTER"}(a.CardanoNativeScriptType||(a.CardanoNativeScriptType={})),a.CardanoNativeScriptHashDisplayFormat=void 0,function(b){b[b.HIDE=0]="HIDE",b[b.BECH32=1]="BECH32",b[b.POLICY_ID=2]="POLICY_ID"}(a.CardanoNativeScriptHashDisplayFormat||(a.CardanoNativeScriptHashDisplayFormat={})),a.CardanoTxOutputSerializationFormat=void 0,function(b){b[b.ARRAY_LEGACY=0]="ARRAY_LEGACY",b[b.MAP_BABBAGE=1]="MAP_BABBAGE"}(a.CardanoTxOutputSerializationFormat||(a.CardanoTxOutputSerializationFormat={})),a.CardanoCertificateType=void 0,function(b){b[b.STAKE_REGISTRATION=0]="STAKE_REGISTRATION",b[b.STAKE_DEREGISTRATION=1]="STAKE_DEREGISTRATION",b[b.STAKE_DELEGATION=2]="STAKE_DELEGATION",b[b.STAKE_POOL_REGISTRATION=3]="STAKE_POOL_REGISTRATION",b[b.STAKE_REGISTRATION_CONWAY=7]="STAKE_REGISTRATION_CONWAY",b[b.STAKE_DEREGISTRATION_CONWAY=8]="STAKE_DEREGISTRATION_CONWAY",b[b.VOTE_DELEGATION=9]="VOTE_DELEGATION"}(a.CardanoCertificateType||(a.CardanoCertificateType={})),a.CardanoDRepType=void 0,function(b){b[b.KEY_HASH=0]="KEY_HASH",b[b.SCRIPT_HASH=1]="SCRIPT_HASH",b[b.ABSTAIN=2]="ABSTAIN",b[b.NO_CONFIDENCE=3]="NO_CONFIDENCE"}(a.CardanoDRepType||(a.CardanoDRepType={})),a.CardanoPoolRelayType=void 0,function(b){b[b.SINGLE_HOST_IP=0]="SINGLE_HOST_IP",b[b.SINGLE_HOST_NAME=1]="SINGLE_HOST_NAME",b[b.MULTIPLE_HOST_NAME=2]="MULTIPLE_HOST_NAME"}(a.CardanoPoolRelayType||(a.CardanoPoolRelayType={})),a.CardanoTxAuxiliaryDataSupplementType=void 0,function(b){b[b.NONE=0]="NONE",b[b.CVOTE_REGISTRATION_SIGNATURE=1]="CVOTE_REGISTRATION_SIGNATURE"}(a.CardanoTxAuxiliaryDataSupplementType||(a.CardanoTxAuxiliaryDataSupplementType={})),a.CardanoCVoteRegistrationFormat=void 0,function(b){b[b.CIP15=0]="CIP15",b[b.CIP36=1]="CIP36"}(a.CardanoCVoteRegistrationFormat||(a.CardanoCVoteRegistrationFormat={})),a.CardanoTxSigningMode=void 0,function(b){b[b.ORDINARY_TRANSACTION=0]="ORDINARY_TRANSACTION",b[b.POOL_REGISTRATION_AS_OWNER=1]="POOL_REGISTRATION_AS_OWNER",b[b.MULTISIG_TRANSACTION=2]="MULTISIG_TRANSACTION",b[b.PLUTUS_TRANSACTION=3]="PLUTUS_TRANSACTION"}(a.CardanoTxSigningMode||(a.CardanoTxSigningMode={})),a.CardanoTxWitnessType=void 0,function(b){b[b.BYRON_WITNESS=0]="BYRON_WITNESS",b[b.SHELLEY_WITNESS=1]="SHELLEY_WITNESS"}(a.CardanoTxWitnessType||(a.CardanoTxWitnessType={})),a.FailureType=void 0,function(b){b[b.Failure_UnexpectedMessage=1]="Failure_UnexpectedMessage",b[b.Failure_ButtonExpected=2]="Failure_ButtonExpected",b[b.Failure_DataError=3]="Failure_DataError",b[b.Failure_ActionCancelled=4]="Failure_ActionCancelled",b[b.Failure_PinExpected=5]="Failure_PinExpected",b[b.Failure_PinCancelled=6]="Failure_PinCancelled",b[b.Failure_PinInvalid=7]="Failure_PinInvalid",b[b.Failure_InvalidSignature=8]="Failure_InvalidSignature",b[b.Failure_ProcessError=9]="Failure_ProcessError",b[b.Failure_NotEnoughFunds=10]="Failure_NotEnoughFunds",b[b.Failure_NotInitialized=11]="Failure_NotInitialized",b[b.Failure_PinMismatch=12]="Failure_PinMismatch",b[b.Failure_WipeCodeMismatch=13]="Failure_WipeCodeMismatch",b[b.Failure_InvalidSession=14]="Failure_InvalidSession",b[b.Failure_FirmwareError=99]="Failure_FirmwareError"}(a.FailureType||(a.FailureType={})),a.Enum_ButtonRequestType=void 0,function(b){b[b.ButtonRequest_Other=1]="ButtonRequest_Other",b[b.ButtonRequest_FeeOverThreshold=2]="ButtonRequest_FeeOverThreshold",b[b.ButtonRequest_ConfirmOutput=3]="ButtonRequest_ConfirmOutput",b[b.ButtonRequest_ResetDevice=4]="ButtonRequest_ResetDevice",b[b.ButtonRequest_ConfirmWord=5]="ButtonRequest_ConfirmWord",b[b.ButtonRequest_WipeDevice=6]="ButtonRequest_WipeDevice",b[b.ButtonRequest_ProtectCall=7]="ButtonRequest_ProtectCall",b[b.ButtonRequest_SignTx=8]="ButtonRequest_SignTx",b[b.ButtonRequest_FirmwareCheck=9]="ButtonRequest_FirmwareCheck",b[b.ButtonRequest_Address=10]="ButtonRequest_Address",b[b.ButtonRequest_PublicKey=11]="ButtonRequest_PublicKey",b[b.ButtonRequest_MnemonicWordCount=12]="ButtonRequest_MnemonicWordCount",b[b.ButtonRequest_MnemonicInput=13]="ButtonRequest_MnemonicInput",b[b._Deprecated_ButtonRequest_PassphraseType=14]="_Deprecated_ButtonRequest_PassphraseType",b[b.ButtonRequest_UnknownDerivationPath=15]="ButtonRequest_UnknownDerivationPath",b[b.ButtonRequest_RecoveryHomepage=16]="ButtonRequest_RecoveryHomepage",b[b.ButtonRequest_Success=17]="ButtonRequest_Success",b[b.ButtonRequest_Warning=18]="ButtonRequest_Warning",b[b.ButtonRequest_PassphraseEntry=19]="ButtonRequest_PassphraseEntry",b[b.ButtonRequest_PinEntry=20]="ButtonRequest_PinEntry",b[b.ButtonRequest_AttachPin=8e3]="ButtonRequest_AttachPin"}(a.Enum_ButtonRequestType||(a.Enum_ButtonRequestType={})),a.Enum_PinMatrixRequestType=void 0,function(b){b[b.PinMatrixRequestType_Current=1]="PinMatrixRequestType_Current",b[b.PinMatrixRequestType_NewFirst=2]="PinMatrixRequestType_NewFirst",b[b.PinMatrixRequestType_NewSecond=3]="PinMatrixRequestType_NewSecond",b[b.PinMatrixRequestType_WipeCodeFirst=4]="PinMatrixRequestType_WipeCodeFirst",b[b.PinMatrixRequestType_WipeCodeSecond=5]="PinMatrixRequestType_WipeCodeSecond",b[b.PinMatrixRequestType_BackupFirst=6]="PinMatrixRequestType_BackupFirst",b[b.PinMatrixRequestType_BackupSecond=7]="PinMatrixRequestType_BackupSecond",b[b.PinMatrixRequestType_AttachToPin=8e3]="PinMatrixRequestType_AttachToPin"}(a.Enum_PinMatrixRequestType||(a.Enum_PinMatrixRequestType={})),a.EthereumDefinitionType=void 0,function(b){b[b.NETWORK=0]="NETWORK",b[b.TOKEN=1]="TOKEN"}(a.EthereumDefinitionType||(a.EthereumDefinitionType={})),a.EthereumGnosisSafeTxOperation=void 0,function(b){b[b.CALL=0]="CALL",b[b.DELEGATE_CALL=1]="DELEGATE_CALL"}(a.EthereumGnosisSafeTxOperation||(a.EthereumGnosisSafeTxOperation={})),a.EthereumDataTypeOneKey=void 0,function(b){b[b.UINT=1]="UINT",b[b.INT=2]="INT",b[b.BYTES=3]="BYTES",b[b.STRING=4]="STRING",b[b.BOOL=5]="BOOL",b[b.ADDRESS=6]="ADDRESS",b[b.ARRAY=7]="ARRAY",b[b.STRUCT=8]="STRUCT"}(a.EthereumDataTypeOneKey||(a.EthereumDataTypeOneKey={})),a.EthereumDataType=void 0,function(b){b[b.UINT=1]="UINT",b[b.INT=2]="INT",b[b.BYTES=3]="BYTES",b[b.STRING=4]="STRING",b[b.BOOL=5]="BOOL",b[b.ADDRESS=6]="ADDRESS",b[b.ARRAY=7]="ARRAY",b[b.STRUCT=8]="STRUCT"}(a.EthereumDataType||(a.EthereumDataType={})),a.Enum_BackupType=void 0,function(b){b[b.Bip39=0]="Bip39",b[b.Slip39_Basic=1]="Slip39_Basic",b[b.Slip39_Advanced=2]="Slip39_Advanced"}(a.Enum_BackupType||(a.Enum_BackupType={})),a.Enum_SafetyCheckLevel=void 0,function(b){b[b.Strict=0]="Strict",b[b.PromptAlways=1]="PromptAlways",b[b.PromptTemporarily=2]="PromptTemporarily"}(a.Enum_SafetyCheckLevel||(a.Enum_SafetyCheckLevel={})),a.OneKeyDeviceType=void 0,function(b){b[b.CLASSIC=0]="CLASSIC",b[b.CLASSIC1S=1]="CLASSIC1S",b[b.MINI=2]="MINI",b[b.TOUCH=3]="TOUCH",b[b.PRO=5]="PRO",b[b.PURE=6]="PURE"}(a.OneKeyDeviceType||(a.OneKeyDeviceType={})),a.OneKeySeType=void 0,function(b){b[b.THD89=0]="THD89",b[b.SE608A=1]="SE608A"}(a.OneKeySeType||(a.OneKeySeType={})),a.OneKeySEState=void 0,function(b){b[b.BOOT=0]="BOOT",b[b.APP=1]="APP"}(a.OneKeySEState||(a.OneKeySEState={})),a.Enum_Capability=void 0,function(b){b[b.Capability_Bitcoin=1]="Capability_Bitcoin",b[b.Capability_Bitcoin_like=2]="Capability_Bitcoin_like",b[b.Capability_Binance=3]="Capability_Binance",b[b.Capability_Cardano=4]="Capability_Cardano",b[b.Capability_Crypto=5]="Capability_Crypto",b[b.Capability_EOS=6]="Capability_EOS",b[b.Capability_Ethereum=7]="Capability_Ethereum",b[b.Capability_Lisk=8]="Capability_Lisk",b[b.Capability_Monero=9]="Capability_Monero",b[b.Capability_NEM=10]="Capability_NEM",b[b.Capability_Ripple=11]="Capability_Ripple",b[b.Capability_Stellar=12]="Capability_Stellar",b[b.Capability_Tezos=13]="Capability_Tezos",b[b.Capability_U2F=14]="Capability_U2F",b[b.Capability_Shamir=15]="Capability_Shamir",b[b.Capability_ShamirGroups=16]="Capability_ShamirGroups",b[b.Capability_PassphraseEntry=17]="Capability_PassphraseEntry",b[b.Capability_EthereumTypedData=1e3]="Capability_EthereumTypedData",b[b.Capability_AttachToPin=8e3]="Capability_AttachToPin"}(a.Enum_Capability||(a.Enum_Capability={})),a.ExportType=void 0,function(b){b[b.SeedEncExportType_NO=0]="SeedEncExportType_NO",b[b.SeedEncExportType_YES=1]="SeedEncExportType_YES",b[b.MnemonicPlainExportType_YES=2]="MnemonicPlainExportType_YES"}(a.ExportType||(a.ExportType={})),a.SdProtectOperationType=void 0,function(b){b[b.DISABLE=0]="DISABLE",b[b.ENABLE=1]="ENABLE",b[b.REFRESH=2]="REFRESH"}(a.SdProtectOperationType||(a.SdProtectOperationType={})),a.RecoveryDeviceType=void 0,function(b){b[b.RecoveryDeviceType_ScrambledWords=0]="RecoveryDeviceType_ScrambledWords",b[b.RecoveryDeviceType_Matrix=1]="RecoveryDeviceType_Matrix"}(a.RecoveryDeviceType||(a.RecoveryDeviceType={})),a.Enum_WordRequestType=void 0,function(b){b[b.WordRequestType_Plain=0]="WordRequestType_Plain",b[b.WordRequestType_Matrix9=1]="WordRequestType_Matrix9",b[b.WordRequestType_Matrix6=2]="WordRequestType_Matrix6"}(a.Enum_WordRequestType||(a.Enum_WordRequestType={})),a.SeedRequestType=void 0,function(b){b[b.SeedRequestType_Gen=0]="SeedRequestType_Gen",b[b.SeedRequestType_EncExport=1]="SeedRequestType_EncExport",b[b.SeedRequestType_EncImport=2]="SeedRequestType_EncImport"}(a.SeedRequestType||(a.SeedRequestType={})),a.WL_OperationType=void 0,function(b){b[b.WL_OperationType_Add=0]="WL_OperationType_Add",b[b.WL_OperationType_Delete=1]="WL_OperationType_Delete",b[b.WL_OperationType_Inquire=2]="WL_OperationType_Inquire"}(a.WL_OperationType||(a.WL_OperationType={})),a.ResourceType=void 0,function(b){b[b.WallPaper=0]="WallPaper",b[b.Nft=1]="Nft"}(a.ResourceType||(a.ResourceType={})),a.NEMMosaicLevy=void 0,function(b){b[b.MosaicLevy_Absolute=1]="MosaicLevy_Absolute",b[b.MosaicLevy_Percentile=2]="MosaicLevy_Percentile"}(a.NEMMosaicLevy||(a.NEMMosaicLevy={})),a.NEMSupplyChangeType=void 0,function(b){b[b.SupplyChange_Increase=1]="SupplyChange_Increase",b[b.SupplyChange_Decrease=2]="SupplyChange_Decrease"}(a.NEMSupplyChangeType||(a.NEMSupplyChangeType={})),a.NEMModificationType=void 0,function(b){b[b.CosignatoryModification_Add=1]="CosignatoryModification_Add",b[b.CosignatoryModification_Delete=2]="CosignatoryModification_Delete"}(a.NEMModificationType||(a.NEMModificationType={})),a.NEMImportanceTransferMode=void 0,function(b){b[b.ImportanceTransfer_Activate=1]="ImportanceTransfer_Activate",b[b.ImportanceTransfer_Deactivate=2]="ImportanceTransfer_Deactivate"}(a.NEMImportanceTransferMode||(a.NEMImportanceTransferMode={})),a.SolanaOffChainMessageVersion=void 0,function(b){b[b.MESSAGE_VERSION_0=0]="MESSAGE_VERSION_0"}(a.SolanaOffChainMessageVersion||(a.SolanaOffChainMessageVersion={})),a.SolanaOffChainMessageFormat=void 0,function(b){b[b.V0_RESTRICTED_ASCII=0]="V0_RESTRICTED_ASCII",b[b.V0_LIMITED_UTF8=1]="V0_LIMITED_UTF8"}(a.SolanaOffChainMessageFormat||(a.SolanaOffChainMessageFormat={})),a.StellarAssetType=void 0,function(b){b[b.NATIVE=0]="NATIVE",b[b.ALPHANUM4=1]="ALPHANUM4",b[b.ALPHANUM12=2]="ALPHANUM12"}(a.StellarAssetType||(a.StellarAssetType={})),a.StellarMemoType=void 0,function(b){b[b.NONE=0]="NONE",b[b.TEXT=1]="TEXT",b[b.ID=2]="ID",b[b.HASH=3]="HASH",b[b.RETURN=4]="RETURN"}(a.StellarMemoType||(a.StellarMemoType={})),a.StellarSignerType=void 0,function(b){b[b.ACCOUNT=0]="ACCOUNT",b[b.PRE_AUTH=1]="PRE_AUTH",b[b.HASH=2]="HASH"}(a.StellarSignerType||(a.StellarSignerType={})),a.TezosContractType=void 0,function(b){b[b.Implicit=0]="Implicit",b[b.Originated=1]="Originated"}(a.TezosContractType||(a.TezosContractType={})),a.TezosBallotType=void 0,function(b){b[b.Yay=0]="Yay",b[b.Nay=1]="Nay",b[b.Pass=2]="Pass"}(a.TezosBallotType||(a.TezosBallotType={})),a.TonWalletVersion=void 0,function(b){b[b.V4R2=3]="V4R2"}(a.TonWalletVersion||(a.TonWalletVersion={})),a.TonWorkChain=void 0,function(b){b[b.BASECHAIN=0]="BASECHAIN",b[b.MASTERCHAIN=1]="MASTERCHAIN"}(a.TonWorkChain||(a.TonWorkChain={})),a.TronResourceCode=void 0,function(b){b[b.BANDWIDTH=0]="BANDWIDTH",b[b.ENERGY=1]="ENERGY",b[b.TRON_POWER=2]="TRON_POWER"}(a.TronResourceCode||(a.TronResourceCode={})),a.TronMessageType=void 0,function(b){b[b.V1=1]="V1",b[b.V2=2]="V2"}(a.TronMessageType||(a.TronMessageType={})),a.CommandFlags=void 0,function(b){b[b.Default=0]="Default",b[b.Factory_Only=1]="Factory_Only"}(a.CommandFlags||(a.CommandFlags={}));var e0=Object.freeze({__proto__:null,get AptosTransactionType(){return a.AptosTransactionType},get BinanceOrderType(){return a.BinanceOrderType},get BinanceOrderSide(){return a.BinanceOrderSide},get BinanceTimeInForce(){return a.BinanceTimeInForce},get Enum_InputScriptType(){return a.Enum_InputScriptType},get Enum_OutputScriptType(){return a.Enum_OutputScriptType},get DecredStakingSpendType(){return a.DecredStakingSpendType},get AmountUnit(){return a.AmountUnit},get Enum_RequestType(){return a.Enum_RequestType},get RebootType(){return a.RebootType},get CardanoDerivationType(){return a.CardanoDerivationType},get CardanoAddressType(){return a.CardanoAddressType},get CardanoNativeScriptType(){return a.CardanoNativeScriptType},get CardanoNativeScriptHashDisplayFormat(){return a.CardanoNativeScriptHashDisplayFormat},get CardanoTxOutputSerializationFormat(){return a.CardanoTxOutputSerializationFormat},get CardanoCertificateType(){return a.CardanoCertificateType},get CardanoDRepType(){return a.CardanoDRepType},get CardanoPoolRelayType(){return a.CardanoPoolRelayType},get CardanoTxAuxiliaryDataSupplementType(){return a.CardanoTxAuxiliaryDataSupplementType},get CardanoCVoteRegistrationFormat(){return a.CardanoCVoteRegistrationFormat},get CardanoTxSigningMode(){return a.CardanoTxSigningMode},get CardanoTxWitnessType(){return a.CardanoTxWitnessType},get FailureType(){return a.FailureType},get Enum_ButtonRequestType(){return a.Enum_ButtonRequestType},get Enum_PinMatrixRequestType(){return a.Enum_PinMatrixRequestType},get EthereumDefinitionType(){return a.EthereumDefinitionType},get EthereumGnosisSafeTxOperation(){return a.EthereumGnosisSafeTxOperation},get EthereumDataTypeOneKey(){return a.EthereumDataTypeOneKey},get EthereumDataType(){return a.EthereumDataType},get Enum_BackupType(){return a.Enum_BackupType},get Enum_SafetyCheckLevel(){return a.Enum_SafetyCheckLevel},get OneKeyDeviceType(){return a.OneKeyDeviceType},get OneKeySeType(){return a.OneKeySeType},get OneKeySEState(){return a.OneKeySEState},get Enum_Capability(){return a.Enum_Capability},get ExportType(){return a.ExportType},get SdProtectOperationType(){return a.SdProtectOperationType},get RecoveryDeviceType(){return a.RecoveryDeviceType},get Enum_WordRequestType(){return a.Enum_WordRequestType},get SeedRequestType(){return a.SeedRequestType},get WL_OperationType(){return a.WL_OperationType},get ResourceType(){return a.ResourceType},get NEMMosaicLevy(){return a.NEMMosaicLevy},get NEMSupplyChangeType(){return a.NEMSupplyChangeType},get NEMModificationType(){return a.NEMModificationType},get NEMImportanceTransferMode(){return a.NEMImportanceTransferMode},get SolanaOffChainMessageVersion(){return a.SolanaOffChainMessageVersion},get SolanaOffChainMessageFormat(){return a.SolanaOffChainMessageFormat},get StellarAssetType(){return a.StellarAssetType},get StellarMemoType(){return a.StellarMemoType},get StellarSignerType(){return a.StellarSignerType},get TezosContractType(){return a.TezosContractType},get TezosBallotType(){return a.TezosBallotType},get TonWalletVersion(){return a.TonWalletVersion},get TonWorkChain(){return a.TonWorkChain},get TronResourceCode(){return a.TronResourceCode},get TronMessageType(){return a.TronMessageType},get CommandFlags(){return a.CommandFlags}});const Y=new Set(["PassphraseAck","PinMatrixAck"]);m.util.Long=v,m.configure();var oe={check:Je,buildOne:ye,buildBuffers:K,buildEncodeBuffers:Ce,receiveOne:ve,parseConfigure:q,decodeProtocol:ie};a.BUFFER_SIZE=ne,a.COMMON_HEADER_SIZE=Q,a.HEADER_SIZE=Te,a.LogBlockCommand=Y,a.MESSAGE_HEADER_BYTE=ue,a.MESSAGE_TOP_CHAR=L,a.Messages=e0,a.default=oe})(dist$4);var bignumber={exports:{}};(function(a){(function(n){var r,u=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,g=Math.ceil,y=Math.floor,h="[BigNumber Error] ",m=h+"Number primitive has more than 15 significant digits: ",v=1e14,E=14,R=9007199254740991,I=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],l=1e7,c=1e9;function T(L){var ue,Te,ne,Q=_e.prototype={constructor:_e,toString:null,valueOf:null},te=new _e(1),Z=20,J=4,N=-7,ie=21,be=-1e7,ye=1e7,Ce=!1,K=1,ve=0,de={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},fe="0123456789abcdefghijklmnopqrstuvwxyz",Se=!0;function _e(Y,oe){var b,ce,O,j,G,k,D,F,$=this;if(!($ instanceof _e))return new _e(Y,oe);if(oe==null){if(Y&&Y._isBigNumber===!0){$.s=Y.s,!Y.c||Y.e>ye?$.c=$.e=null:Y.e<be?$.c=[$.e=0]:($.e=Y.e,$.c=Y.c.slice());return}if((k=typeof Y=="number")&&Y*0==0){if($.s=1/Y<0?(Y=-Y,-1):1,Y===~~Y){for(j=0,G=Y;G>=10;G/=10,j++);j>ye?$.c=$.e=null:($.e=j,$.c=[Y]);return}F=String(Y)}else{if(!u.test(F=String(Y)))return ne($,F,k);$.s=F.charCodeAt(0)==45?(F=F.slice(1),-1):1}(j=F.indexOf("."))>-1&&(F=F.replace(".","")),(G=F.search(/e/i))>0?(j<0&&(j=G),j+=+F.slice(G+1),F=F.substring(0,G)):j<0&&(j=F.length)}else{if(P(oe,2,fe.length,"Base"),oe==10&&Se)return $=new _e(Y),Je($,Z+$.e+1,J);if(F=String(Y),k=typeof Y=="number"){if(Y*0!=0)return ne($,F,k,oe);if($.s=1/Y<0?(F=F.slice(1),-1):1,_e.DEBUG&&F.replace(/^0\.0*|\./,"").length>15)throw Error(m+Y)}else $.s=F.charCodeAt(0)===45?(F=F.slice(1),-1):1;for(b=fe.slice(0,oe),j=G=0,D=F.length;G<D;G++)if(b.indexOf(ce=F.charAt(G))<0){if(ce=="."){if(G>j){j=D;continue}}else if(!O&&(F==F.toUpperCase()&&(F=F.toLowerCase())||F==F.toLowerCase()&&(F=F.toUpperCase()))){O=!0,G=-1,j=0;continue}return ne($,String(Y),k,oe)}k=!1,F=Te(F,oe,10,$.s),(j=F.indexOf("."))>-1?F=F.replace(".",""):j=F.length}for(G=0;F.charCodeAt(G)===48;G++);for(D=F.length;F.charCodeAt(--D)===48;);if(F=F.slice(G,++D)){if(D-=G,k&&_e.DEBUG&&D>15&&(Y>R||Y!==y(Y)))throw Error(m+$.s*Y);if((j=j-G-1)>ye)$.c=$.e=null;else if(j<be)$.c=[$.e=0];else{if($.e=j,$.c=[],G=(j+1)%E,j<0&&(G+=E),G<D){for(G&&$.c.push(+F.slice(0,G)),D-=E;G<D;)$.c.push(+F.slice(G,G+=E));G=E-(F=F.slice(G)).length}else G-=D;for(;G--;F+="0");$.c.push(+F)}}else $.c=[$.e=0]}_e.clone=T,_e.ROUND_UP=0,_e.ROUND_DOWN=1,_e.ROUND_CEIL=2,_e.ROUND_FLOOR=3,_e.ROUND_HALF_UP=4,_e.ROUND_HALF_DOWN=5,_e.ROUND_HALF_EVEN=6,_e.ROUND_HALF_CEIL=7,_e.ROUND_HALF_FLOOR=8,_e.EUCLID=9,_e.config=_e.set=function(Y){var oe,b;if(Y!=null)if(typeof Y=="object"){if(Y.hasOwnProperty(oe="DECIMAL_PLACES")&&(b=Y[oe],P(b,0,c,oe),Z=b),Y.hasOwnProperty(oe="ROUNDING_MODE")&&(b=Y[oe],P(b,0,8,oe),J=b),Y.hasOwnProperty(oe="EXPONENTIAL_AT")&&(b=Y[oe],b&&b.pop?(P(b[0],-c,0,oe),P(b[1],0,c,oe),N=b[0],ie=b[1]):(P(b,-c,c,oe),N=-(ie=b<0?-b:b))),Y.hasOwnProperty(oe="RANGE"))if(b=Y[oe],b&&b.pop)P(b[0],-c,-1,oe),P(b[1],1,c,oe),be=b[0],ye=b[1];else if(P(b,-c,c,oe),b)be=-(ye=b<0?-b:b);else throw Error(h+oe+" cannot be zero: "+b);if(Y.hasOwnProperty(oe="CRYPTO"))if(b=Y[oe],b===!!b)if(b)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Ce=b;else throw Ce=!b,Error(h+"crypto unavailable");else Ce=b;else throw Error(h+oe+" not true or false: "+b);if(Y.hasOwnProperty(oe="MODULO_MODE")&&(b=Y[oe],P(b,0,9,oe),K=b),Y.hasOwnProperty(oe="POW_PRECISION")&&(b=Y[oe],P(b,0,c,oe),ve=b),Y.hasOwnProperty(oe="FORMAT"))if(b=Y[oe],typeof b=="object")de=b;else throw Error(h+oe+" not an object: "+b);if(Y.hasOwnProperty(oe="ALPHABET"))if(b=Y[oe],typeof b=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(b))Se=b.slice(0,10)=="0123456789",fe=b;else throw Error(h+oe+" invalid: "+b)}else throw Error(h+"Object expected: "+Y);return{DECIMAL_PLACES:Z,ROUNDING_MODE:J,EXPONENTIAL_AT:[N,ie],RANGE:[be,ye],CRYPTO:Ce,MODULO_MODE:K,POW_PRECISION:ve,FORMAT:de,ALPHABET:fe}},_e.isBigNumber=function(Y){if(!Y||Y._isBigNumber!==!0)return!1;if(!_e.DEBUG)return!0;var oe,b,ce=Y.c,O=Y.e,j=Y.s;e:if({}.toString.call(ce)=="[object Array]"){if((j===1||j===-1)&&O>=-c&&O<=c&&O===y(O)){if(ce[0]===0){if(O===0&&ce.length===1)return!0;break e}if(oe=(O+1)%E,oe<1&&(oe+=E),String(ce[0]).length==oe){for(oe=0;oe<ce.length;oe++)if(b=ce[oe],b<0||b>=v||b!==y(b))break e;if(b!==0)return!0}}}else if(ce===null&&O===null&&(j===null||j===1||j===-1))return!0;throw Error(h+"Invalid BigNumber: "+Y)},_e.maximum=_e.max=function(){return d0(arguments,-1)},_e.minimum=_e.min=function(){return d0(arguments,1)},_e.random=function(){var Y=9007199254740992,oe=Math.random()*Y&2097151?function(){return y(Math.random()*Y)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(b){var ce,O,j,G,k,D=0,F=[],$=new _e(te);if(b==null?b=Z:P(b,0,c),G=g(b/E),Ce)if(crypto.getRandomValues){for(ce=crypto.getRandomValues(new Uint32Array(G*=2));D<G;)k=ce[D]*131072+(ce[D+1]>>>11),k>=9e15?(O=crypto.getRandomValues(new Uint32Array(2)),ce[D]=O[0],ce[D+1]=O[1]):(F.push(k%1e14),D+=2);D=G/2}else if(crypto.randomBytes){for(ce=crypto.randomBytes(G*=7);D<G;)k=(ce[D]&31)*281474976710656+ce[D+1]*1099511627776+ce[D+2]*4294967296+ce[D+3]*16777216+(ce[D+4]<<16)+(ce[D+5]<<8)+ce[D+6],k>=9e15?crypto.randomBytes(7).copy(ce,D):(F.push(k%1e14),D+=7);D=G/7}else throw Ce=!1,Error(h+"crypto unavailable");if(!Ce)for(;D<G;)k=oe(),k<9e15&&(F[D++]=k%1e14);for(G=F[--D],b%=E,G&&b&&(k=I[E-b],F[D]=y(G/k)*k);F[D]===0;F.pop(),D--);if(D<0)F=[j=0];else{for(j=-1;F[0]===0;F.splice(0,1),j-=E);for(D=1,k=F[0];k>=10;k/=10,D++);D<E&&(j-=E-D)}return $.e=j,$.c=F,$}}(),_e.sum=function(){for(var Y=1,oe=arguments,b=new _e(oe[0]);Y<oe.length;)b=b.plus(oe[Y++]);return b},Te=function(){var Y="0123456789";function oe(b,ce,O,j){for(var G,k=[0],D,F=0,$=b.length;F<$;){for(D=k.length;D--;k[D]*=ce);for(k[0]+=j.indexOf(b.charAt(F++)),G=0;G<k.length;G++)k[G]>O-1&&(k[G+1]==null&&(k[G+1]=0),k[G+1]+=k[G]/O|0,k[G]%=O)}return k.reverse()}return function(b,ce,O,j,G){var k,D,F,$,ae,ee,me,xe,Me=b.indexOf("."),Be=Z,$e=J;for(Me>=0&&($=ve,ve=0,b=b.replace(".",""),xe=new _e(ce),ee=xe.pow(b.length-Me),ve=$,xe.c=oe(X(A(ee.c),ee.e,"0"),10,O,Y),xe.e=xe.c.length),me=oe(b,ce,O,G?(k=fe,Y):(k=Y,fe)),F=$=me.length;me[--$]==0;me.pop());if(!me[0])return k.charAt(0);if(Me<0?--F:(ee.c=me,ee.e=F,ee.s=j,ee=ue(ee,xe,Be,$e,O),me=ee.c,ae=ee.r,F=ee.e),D=F+Be+1,Me=me[D],$=O/2,ae=ae||D<0||me[D+1]!=null,ae=$e<4?(Me!=null||ae)&&($e==0||$e==(ee.s<0?3:2)):Me>$||Me==$&&($e==4||ae||$e==6&&me[D-1]&1||$e==(ee.s<0?8:7)),D<1||!me[0])b=ae?X(k.charAt(1),-Be,k.charAt(0)):k.charAt(0);else{if(me.length=D,ae)for(--O;++me[--D]>O;)me[D]=0,D||(++F,me=[1].concat(me));for($=me.length;!me[--$];);for(Me=0,b="";Me<=$;b+=k.charAt(me[Me++]));b=X(b,F,k.charAt(0))}return b}}(),ue=function(){function Y(ce,O,j){var G,k,D,F,$=0,ae=ce.length,ee=O%l,me=O/l|0;for(ce=ce.slice();ae--;)D=ce[ae]%l,F=ce[ae]/l|0,G=me*D+F*ee,k=ee*D+G%l*l+$,$=(k/j|0)+(G/l|0)+me*F,ce[ae]=k%j;return $&&(ce=[$].concat(ce)),ce}function oe(ce,O,j,G){var k,D;if(j!=G)D=j>G?1:-1;else for(k=D=0;k<j;k++)if(ce[k]!=O[k]){D=ce[k]>O[k]?1:-1;break}return D}function b(ce,O,j,G){for(var k=0;j--;)ce[j]-=k,k=ce[j]<O[j]?1:0,ce[j]=k*G+ce[j]-O[j];for(;!ce[0]&&ce.length>1;ce.splice(0,1));}return function(ce,O,j,G,k){var D,F,$,ae,ee,me,xe,Me,Be,$e,Ge,R0,at,X0,yt,h0,ut,c0=ce.s==O.s?1:-1,D0=ce.c,I0=O.c;if(!D0||!D0[0]||!I0||!I0[0])return new _e(!ce.s||!O.s||(D0?I0&&D0[0]==I0[0]:!I0)?NaN:D0&&D0[0]==0||!I0?c0*0:c0/0);for(Me=new _e(c0),Be=Me.c=[],F=ce.e-O.e,c0=j+F+1,k||(k=v,F=w(ce.e/E)-w(O.e/E),c0=c0/E|0),$=0;I0[$]==(D0[$]||0);$++);if(I0[$]>(D0[$]||0)&&F--,c0<0)Be.push(1),ae=!0;else{for(X0=D0.length,h0=I0.length,$=0,c0+=2,ee=y(k/(I0[0]+1)),ee>1&&(I0=Y(I0,ee,k),D0=Y(D0,ee,k),h0=I0.length,X0=D0.length),at=h0,$e=D0.slice(0,h0),Ge=$e.length;Ge<h0;$e[Ge++]=0);ut=I0.slice(),ut=[0].concat(ut),yt=I0[0],I0[1]>=k/2&&yt++;do{if(ee=0,D=oe(I0,$e,h0,Ge),D<0){if(R0=$e[0],h0!=Ge&&(R0=R0*k+($e[1]||0)),ee=y(R0/yt),ee>1)for(ee>=k&&(ee=k-1),me=Y(I0,ee,k),xe=me.length,Ge=$e.length;oe(me,$e,xe,Ge)==1;)ee--,b(me,h0<xe?ut:I0,xe,k),xe=me.length,D=1;else ee==0&&(D=ee=1),me=I0.slice(),xe=me.length;if(xe<Ge&&(me=[0].concat(me)),b($e,me,Ge,k),Ge=$e.length,D==-1)for(;oe(I0,$e,h0,Ge)<1;)ee++,b($e,h0<Ge?ut:I0,Ge,k),Ge=$e.length}else D===0&&(ee++,$e=[0]);Be[$++]=ee,$e[0]?$e[Ge++]=D0[at]||0:($e=[D0[at]],Ge=1)}while((at++<X0||$e[0]!=null)&&c0--);ae=$e[0]!=null,Be[0]||Be.splice(0,1)}if(k==v){for($=1,c0=Be[0];c0>=10;c0/=10,$++);Je(Me,j+(Me.e=$+F*E-1)+1,G,ae)}else Me.e=F,Me.r=+ae;return Me}}();function Ne(Y,oe,b,ce){var O,j,G,k,D;if(b==null?b=J:P(b,0,8),!Y.c)return Y.toString();if(O=Y.c[0],G=Y.e,oe==null)D=A(Y.c),D=ce==1||ce==2&&(G<=N||G>=ie)?W(D,G):X(D,G,"0");else if(Y=Je(new _e(Y),oe,b),j=Y.e,D=A(Y.c),k=D.length,ce==1||ce==2&&(oe<=j||j<=N)){for(;k<oe;D+="0",k++);D=W(D,j)}else if(oe-=G+(ce===2&&j>G),D=X(D,j,"0"),j+1>k){if(--oe>0)for(D+=".";oe--;D+="0");}else if(oe+=j-k,oe>0)for(j+1==k&&(D+=".");oe--;D+="0");return Y.s<0&&O?"-"+D:D}function d0(Y,oe){for(var b,ce,O=1,j=new _e(Y[0]);O<Y.length;O++)ce=new _e(Y[O]),(!ce.s||(b=M(j,ce))===oe||b===0&&j.s===oe)&&(j=ce);return j}function x0(Y,oe,b){for(var ce=1,O=oe.length;!oe[--O];oe.pop());for(O=oe[0];O>=10;O/=10,ce++);return(b=ce+b*E-1)>ye?Y.c=Y.e=null:b<be?Y.c=[Y.e=0]:(Y.e=b,Y.c=oe),Y}ne=function(){var Y=/^(-?)0([xbo])(?=\w[\w.]*$)/i,oe=/^([^.]+)\.$/,b=/^\.([^.]+)$/,ce=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(j,G,k,D){var F,$=k?G:G.replace(O,"");if(ce.test($))j.s=isNaN($)?null:$<0?-1:1;else{if(!k&&($=$.replace(Y,function(ae,ee,me){return F=(me=me.toLowerCase())=="x"?16:me=="b"?2:8,!D||D==F?ee:ae}),D&&(F=D,$=$.replace(oe,"$1").replace(b,"0.$1")),G!=$))return new _e($,F);if(_e.DEBUG)throw Error(h+"Not a"+(D?" base "+D:"")+" number: "+G);j.s=null}j.c=j.e=null}}();function Je(Y,oe,b,ce){var O,j,G,k,D,F,$,ae=Y.c,ee=I;if(ae){e:{for(O=1,k=ae[0];k>=10;k/=10,O++);if(j=oe-O,j<0)j+=E,G=oe,D=ae[F=0],$=y(D/ee[O-G-1]%10);else if(F=g((j+1)/E),F>=ae.length)if(ce){for(;ae.length<=F;ae.push(0));D=$=0,O=1,j%=E,G=j-E+1}else break e;else{for(D=k=ae[F],O=1;k>=10;k/=10,O++);j%=E,G=j-E+O,$=G<0?0:y(D/ee[O-G-1]%10)}if(ce=ce||oe<0||ae[F+1]!=null||(G<0?D:D%ee[O-G-1]),ce=b<4?($||ce)&&(b==0||b==(Y.s<0?3:2)):$>5||$==5&&(b==4||ce||b==6&&(j>0?G>0?D/ee[O-G]:0:ae[F-1])%10&1||b==(Y.s<0?8:7)),oe<1||!ae[0])return ae.length=0,ce?(oe-=Y.e+1,ae[0]=ee[(E-oe%E)%E],Y.e=-oe||0):ae[0]=Y.e=0,Y;if(j==0?(ae.length=F,k=1,F--):(ae.length=F+1,k=ee[E-j],ae[F]=G>0?y(D/ee[O-G]%ee[G])*k:0),ce)for(;;)if(F==0){for(j=1,G=ae[0];G>=10;G/=10,j++);for(G=ae[0]+=k,k=1;G>=10;G/=10,k++);j!=k&&(Y.e++,ae[0]==v&&(ae[0]=1));break}else{if(ae[F]+=k,ae[F]!=v)break;ae[F--]=0,k=1}for(j=ae.length;ae[--j]===0;ae.pop());}Y.e>ye?Y.c=Y.e=null:Y.e<be&&(Y.c=[Y.e=0])}return Y}function e0(Y){var oe,b=Y.e;return b===null?Y.toString():(oe=A(Y.c),oe=b<=N||b>=ie?W(oe,b):X(oe,b,"0"),Y.s<0?"-"+oe:oe)}return Q.absoluteValue=Q.abs=function(){var Y=new _e(this);return Y.s<0&&(Y.s=1),Y},Q.comparedTo=function(Y,oe){return M(this,new _e(Y,oe))},Q.decimalPlaces=Q.dp=function(Y,oe){var b,ce,O,j=this;if(Y!=null)return P(Y,0,c),oe==null?oe=J:P(oe,0,8),Je(new _e(j),Y+j.e+1,oe);if(!(b=j.c))return null;if(ce=((O=b.length-1)-w(this.e/E))*E,O=b[O])for(;O%10==0;O/=10,ce--);return ce<0&&(ce=0),ce},Q.dividedBy=Q.div=function(Y,oe){return ue(this,new _e(Y,oe),Z,J)},Q.dividedToIntegerBy=Q.idiv=function(Y,oe){return ue(this,new _e(Y,oe),0,1)},Q.exponentiatedBy=Q.pow=function(Y,oe){var b,ce,O,j,G,k,D,F,$,ae=this;if(Y=new _e(Y),Y.c&&!Y.isInteger())throw Error(h+"Exponent not an integer: "+e0(Y));if(oe!=null&&(oe=new _e(oe)),k=Y.e>14,!ae.c||!ae.c[0]||ae.c[0]==1&&!ae.e&&ae.c.length==1||!Y.c||!Y.c[0])return $=new _e(Math.pow(+e0(ae),k?Y.s*(2-q(Y)):+e0(Y))),oe?$.mod(oe):$;if(D=Y.s<0,oe){if(oe.c?!oe.c[0]:!oe.s)return new _e(NaN);ce=!D&&ae.isInteger()&&oe.isInteger(),ce&&(ae=ae.mod(oe))}else{if(Y.e>9&&(ae.e>0||ae.e<-1||(ae.e==0?ae.c[0]>1||k&&ae.c[1]>=24e7:ae.c[0]<8e13||k&&ae.c[0]<=9999975e7)))return j=ae.s<0&&q(Y)?-0:0,ae.e>-1&&(j=1/j),new _e(D?1/j:j);ve&&(j=g(ve/E+2))}for(k?(b=new _e(.5),D&&(Y.s=1),F=q(Y)):(O=Math.abs(+e0(Y)),F=O%2),$=new _e(te);;){if(F){if($=$.times(ae),!$.c)break;j?$.c.length>j&&($.c.length=j):ce&&($=$.mod(oe))}if(O){if(O=y(O/2),O===0)break;F=O%2}else if(Y=Y.times(b),Je(Y,Y.e+1,1),Y.e>14)F=q(Y);else{if(O=+e0(Y),O===0)break;F=O%2}ae=ae.times(ae),j?ae.c&&ae.c.length>j&&(ae.c.length=j):ce&&(ae=ae.mod(oe))}return ce?$:(D&&($=te.div($)),oe?$.mod(oe):j?Je($,ve,J,G):$)},Q.integerValue=function(Y){var oe=new _e(this);return Y==null?Y=J:P(Y,0,8),Je(oe,oe.e+1,Y)},Q.isEqualTo=Q.eq=function(Y,oe){return M(this,new _e(Y,oe))===0},Q.isFinite=function(){return!!this.c},Q.isGreaterThan=Q.gt=function(Y,oe){return M(this,new _e(Y,oe))>0},Q.isGreaterThanOrEqualTo=Q.gte=function(Y,oe){return(oe=M(this,new _e(Y,oe)))===1||oe===0},Q.isInteger=function(){return!!this.c&&w(this.e/E)>this.c.length-2},Q.isLessThan=Q.lt=function(Y,oe){return M(this,new _e(Y,oe))<0},Q.isLessThanOrEqualTo=Q.lte=function(Y,oe){return(oe=M(this,new _e(Y,oe)))===-1||oe===0},Q.isNaN=function(){return!this.s},Q.isNegative=function(){return this.s<0},Q.isPositive=function(){return this.s>0},Q.isZero=function(){return!!this.c&&this.c[0]==0},Q.minus=function(Y,oe){var b,ce,O,j,G=this,k=G.s;if(Y=new _e(Y,oe),oe=Y.s,!k||!oe)return new _e(NaN);if(k!=oe)return Y.s=-oe,G.plus(Y);var D=G.e/E,F=Y.e/E,$=G.c,ae=Y.c;if(!D||!F){if(!$||!ae)return $?(Y.s=-oe,Y):new _e(ae?G:NaN);if(!$[0]||!ae[0])return ae[0]?(Y.s=-oe,Y):new _e($[0]?G:J==3?-0:0)}if(D=w(D),F=w(F),$=$.slice(),k=D-F){for((j=k<0)?(k=-k,O=$):(F=D,O=ae),O.reverse(),oe=k;oe--;O.push(0));O.reverse()}else for(ce=(j=(k=$.length)<(oe=ae.length))?k:oe,k=oe=0;oe<ce;oe++)if($[oe]!=ae[oe]){j=$[oe]<ae[oe];break}if(j&&(O=$,$=ae,ae=O,Y.s=-Y.s),oe=(ce=ae.length)-(b=$.length),oe>0)for(;oe--;$[b++]=0);for(oe=v-1;ce>k;){if($[--ce]<ae[ce]){for(b=ce;b&&!$[--b];$[b]=oe);--$[b],$[ce]+=v}$[ce]-=ae[ce]}for(;$[0]==0;$.splice(0,1),--F);return $[0]?x0(Y,$,F):(Y.s=J==3?-1:1,Y.c=[Y.e=0],Y)},Q.modulo=Q.mod=function(Y,oe){var b,ce,O=this;return Y=new _e(Y,oe),!O.c||!Y.s||Y.c&&!Y.c[0]?new _e(NaN):!Y.c||O.c&&!O.c[0]?new _e(O):(K==9?(ce=Y.s,Y.s=1,b=ue(O,Y,0,3),Y.s=ce,b.s*=ce):b=ue(O,Y,0,K),Y=O.minus(b.times(Y)),!Y.c[0]&&K==1&&(Y.s=O.s),Y)},Q.multipliedBy=Q.times=function(Y,oe){var b,ce,O,j,G,k,D,F,$,ae,ee,me,xe,Me,Be,$e=this,Ge=$e.c,R0=(Y=new _e(Y,oe)).c;if(!Ge||!R0||!Ge[0]||!R0[0])return!$e.s||!Y.s||Ge&&!Ge[0]&&!R0||R0&&!R0[0]&&!Ge?Y.c=Y.e=Y.s=null:(Y.s*=$e.s,!Ge||!R0?Y.c=Y.e=null:(Y.c=[0],Y.e=0)),Y;for(ce=w($e.e/E)+w(Y.e/E),Y.s*=$e.s,D=Ge.length,ae=R0.length,D<ae&&(xe=Ge,Ge=R0,R0=xe,O=D,D=ae,ae=O),O=D+ae,xe=[];O--;xe.push(0));for(Me=v,Be=l,O=ae;--O>=0;){for(b=0,ee=R0[O]%Be,me=R0[O]/Be|0,G=D,j=O+G;j>O;)F=Ge[--G]%Be,$=Ge[G]/Be|0,k=me*F+$*ee,F=ee*F+k%Be*Be+xe[j]+b,b=(F/Me|0)+(k/Be|0)+me*$,xe[j--]=F%Me;xe[j]=b}return b?++ce:xe.splice(0,1),x0(Y,xe,ce)},Q.negated=function(){var Y=new _e(this);return Y.s=-Y.s||null,Y},Q.plus=function(Y,oe){var b,ce=this,O=ce.s;if(Y=new _e(Y,oe),oe=Y.s,!O||!oe)return new _e(NaN);if(O!=oe)return Y.s=-oe,ce.minus(Y);var j=ce.e/E,G=Y.e/E,k=ce.c,D=Y.c;if(!j||!G){if(!k||!D)return new _e(O/0);if(!k[0]||!D[0])return D[0]?Y:new _e(k[0]?ce:O*0)}if(j=w(j),G=w(G),k=k.slice(),O=j-G){for(O>0?(G=j,b=D):(O=-O,b=k),b.reverse();O--;b.push(0));b.reverse()}for(O=k.length,oe=D.length,O-oe<0&&(b=D,D=k,k=b,oe=O),O=0;oe;)O=(k[--oe]=k[oe]+D[oe]+O)/v|0,k[oe]=v===k[oe]?0:k[oe]%v;return O&&(k=[O].concat(k),++G),x0(Y,k,G)},Q.precision=Q.sd=function(Y,oe){var b,ce,O,j=this;if(Y!=null&&Y!==!!Y)return P(Y,1,c),oe==null?oe=J:P(oe,0,8),Je(new _e(j),Y,oe);if(!(b=j.c))return null;if(O=b.length-1,ce=O*E+1,O=b[O]){for(;O%10==0;O/=10,ce--);for(O=b[0];O>=10;O/=10,ce++);}return Y&&j.e+1>ce&&(ce=j.e+1),ce},Q.shiftedBy=function(Y){return P(Y,-R,R),this.times("1e"+Y)},Q.squareRoot=Q.sqrt=function(){var Y,oe,b,ce,O,j=this,G=j.c,k=j.s,D=j.e,F=Z+4,$=new _e("0.5");if(k!==1||!G||!G[0])return new _e(!k||k<0&&(!G||G[0])?NaN:G?j:1/0);if(k=Math.sqrt(+e0(j)),k==0||k==1/0?(oe=A(G),(oe.length+D)%2==0&&(oe+="0"),k=Math.sqrt(+oe),D=w((D+1)/2)-(D<0||D%2),k==1/0?oe="5e"+D:(oe=k.toExponential(),oe=oe.slice(0,oe.indexOf("e")+1)+D),b=new _e(oe)):b=new _e(k+""),b.c[0]){for(D=b.e,k=D+F,k<3&&(k=0);;)if(O=b,b=$.times(O.plus(ue(j,O,F,1))),A(O.c).slice(0,k)===(oe=A(b.c)).slice(0,k))if(b.e<D&&--k,oe=oe.slice(k-3,k+1),oe=="9999"||!ce&&oe=="4999"){if(!ce&&(Je(O,O.e+Z+2,0),O.times(O).eq(j))){b=O;break}F+=4,k+=4,ce=1}else{(!+oe||!+oe.slice(1)&&oe.charAt(0)=="5")&&(Je(b,b.e+Z+2,1),Y=!b.times(b).eq(j));break}}return Je(b,b.e+Z+1,J,Y)},Q.toExponential=function(Y,oe){return Y!=null&&(P(Y,0,c),Y++),Ne(this,Y,oe,1)},Q.toFixed=function(Y,oe){return Y!=null&&(P(Y,0,c),Y=Y+this.e+1),Ne(this,Y,oe)},Q.toFormat=function(Y,oe,b){var ce,O=this;if(b==null)Y!=null&&oe&&typeof oe=="object"?(b=oe,oe=null):Y&&typeof Y=="object"?(b=Y,Y=oe=null):b=de;else if(typeof b!="object")throw Error(h+"Argument not an object: "+b);if(ce=O.toFixed(Y,oe),O.c){var j,G=ce.split("."),k=+b.groupSize,D=+b.secondaryGroupSize,F=b.groupSeparator||"",$=G[0],ae=G[1],ee=O.s<0,me=ee?$.slice(1):$,xe=me.length;if(D&&(j=k,k=D,D=j,xe-=j),k>0&&xe>0){for(j=xe%k||k,$=me.substr(0,j);j<xe;j+=k)$+=F+me.substr(j,k);D>0&&($+=F+me.slice(j)),ee&&($="-"+$)}ce=ae?$+(b.decimalSeparator||"")+((D=+b.fractionGroupSize)?ae.replace(new RegExp("\\d{"+D+"}\\B","g"),"$&"+(b.fractionGroupSeparator||"")):ae):$}return(b.prefix||"")+ce+(b.suffix||"")},Q.toFraction=function(Y){var oe,b,ce,O,j,G,k,D,F,$,ae,ee,me=this,xe=me.c;if(Y!=null&&(k=new _e(Y),!k.isInteger()&&(k.c||k.s!==1)||k.lt(te)))throw Error(h+"Argument "+(k.isInteger()?"out of range: ":"not an integer: ")+e0(k));if(!xe)return new _e(me);for(oe=new _e(te),F=b=new _e(te),ce=D=new _e(te),ee=A(xe),j=oe.e=ee.length-me.e-1,oe.c[0]=I[(G=j%E)<0?E+G:G],Y=!Y||k.comparedTo(oe)>0?j>0?oe:F:k,G=ye,ye=1/0,k=new _e(ee),D.c[0]=0;$=ue(k,oe,0,1),O=b.plus($.times(ce)),O.comparedTo(Y)!=1;)b=ce,ce=O,F=D.plus($.times(O=F)),D=O,oe=k.minus($.times(O=oe)),k=O;return O=ue(Y.minus(b),ce,0,1),D=D.plus(O.times(F)),b=b.plus(O.times(ce)),D.s=F.s=me.s,j=j*2,ae=ue(F,ce,j,J).minus(me).abs().comparedTo(ue(D,b,j,J).minus(me).abs())<1?[F,ce]:[D,b],ye=G,ae},Q.toNumber=function(){return+e0(this)},Q.toPrecision=function(Y,oe){return Y!=null&&P(Y,1,c),Ne(this,Y,oe,2)},Q.toString=function(Y){var oe,b=this,ce=b.s,O=b.e;return O===null?ce?(oe="Infinity",ce<0&&(oe="-"+oe)):oe="NaN":(Y==null?oe=O<=N||O>=ie?W(A(b.c),O):X(A(b.c),O,"0"):Y===10&&Se?(b=Je(new _e(b),Z+O+1,J),oe=X(A(b.c),b.e,"0")):(P(Y,2,fe.length,"Base"),oe=Te(X(A(b.c),O,"0"),10,Y,ce,!0)),ce<0&&b.c[0]&&(oe="-"+oe)),oe},Q.valueOf=Q.toJSON=function(){return e0(this)},Q._isBigNumber=!0,L!=null&&_e.set(L),_e}function w(L){var ue=L|0;return L>0||L===ue?ue:ue-1}function A(L){for(var ue,Te,ne=1,Q=L.length,te=L[0]+"";ne<Q;){for(ue=L[ne++]+"",Te=E-ue.length;Te--;ue="0"+ue);te+=ue}for(Q=te.length;te.charCodeAt(--Q)===48;);return te.slice(0,Q+1||1)}function M(L,ue){var Te,ne,Q=L.c,te=ue.c,Z=L.s,J=ue.s,N=L.e,ie=ue.e;if(!Z||!J)return null;if(Te=Q&&!Q[0],ne=te&&!te[0],Te||ne)return Te?ne?0:-J:Z;if(Z!=J)return Z;if(Te=Z<0,ne=N==ie,!Q||!te)return ne?0:!Q^Te?1:-1;if(!ne)return N>ie^Te?1:-1;for(J=(N=Q.length)<(ie=te.length)?N:ie,Z=0;Z<J;Z++)if(Q[Z]!=te[Z])return Q[Z]>te[Z]^Te?1:-1;return N==ie?0:N>ie^Te?1:-1}function P(L,ue,Te,ne){if(L<ue||L>Te||L!==y(L))throw Error(h+(ne||"Argument")+(typeof L=="number"?L<ue||L>Te?" out of range: ":" not an integer: ":" not a primitive number: ")+String(L))}function q(L){var ue=L.c.length-1;return w(L.e/E)==ue&&L.c[ue]%2!=0}function W(L,ue){return(L.length>1?L.charAt(0)+"."+L.slice(1):L)+(ue<0?"e":"e+")+ue}function X(L,ue,Te){var ne,Q;if(ue<0){for(Q=Te+".";++ue;Q+=Te);L=Q+L}else if(ne=L.length,++ue>ne){for(Q=Te,ue-=ne;--ue;Q+=Te);L+=Q}else ue<ne&&(L=L.slice(0,ue)+"."+L.slice(ue));return L}r=T(),r.default=r.BigNumber=r,a.exports?a.exports=r:(n||(n=typeof self<"u"&&self?self:window),n.BigNumber=r)})(commonjsGlobal)})(bignumber);var bignumberExports=bignumber.exports,utils={},crypto$1={};Object.defineProperty(crypto$1,"__esModule",{value:!0});crypto$1.crypto=void 0;crypto$1.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(a){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(a,"__esModule",{value:!0}),a.wrapXOFConstructorWithOpts=a.wrapConstructorWithOpts=a.wrapConstructor=a.Hash=a.nextTick=a.swap32IfBE=a.byteSwapIfBE=a.swap8IfBE=a.isLE=void 0,a.isBytes=r,a.anumber=u,a.abytes=g,a.ahash=y,a.aexists=h,a.aoutput=m,a.u8=v,a.u32=E,a.clean=R,a.createView=I,a.rotr=l,a.rotl=c,a.byteSwap=T,a.byteSwap32=w,a.bytesToHex=P,a.hexToBytes=X,a.asyncLoop=ue,a.utf8ToBytes=Te,a.bytesToUtf8=ne,a.toBytes=Q,a.kdfInputToBytes=te,a.concatBytes=Z,a.checkOpts=J,a.createHasher=ie,a.createOptHasher=be,a.createXOFer=ye,a.randomBytes=Ce;const n=crypto$1;function r(K){return K instanceof Uint8Array||ArrayBuffer.isView(K)&&K.constructor.name==="Uint8Array"}function u(K){if(!Number.isSafeInteger(K)||K<0)throw new Error("positive integer expected, got "+K)}function g(K,...ve){if(!r(K))throw new Error("Uint8Array expected");if(ve.length>0&&!ve.includes(K.length))throw new Error("Uint8Array expected of length "+ve+", got length="+K.length)}function y(K){if(typeof K!="function"||typeof K.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");u(K.outputLen),u(K.blockLen)}function h(K,ve=!0){if(K.destroyed)throw new Error("Hash instance has been destroyed");if(ve&&K.finished)throw new Error("Hash#digest() has already been called")}function m(K,ve){g(K);const de=ve.outputLen;if(K.length<de)throw new Error("digestInto() expects output buffer of length at least "+de)}function v(K){return new Uint8Array(K.buffer,K.byteOffset,K.byteLength)}function E(K){return new Uint32Array(K.buffer,K.byteOffset,Math.floor(K.byteLength/4))}function R(...K){for(let ve=0;ve<K.length;ve++)K[ve].fill(0)}function I(K){return new DataView(K.buffer,K.byteOffset,K.byteLength)}function l(K,ve){return K<<32-ve|K>>>ve}function c(K,ve){return K<<ve|K>>>32-ve>>>0}a.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function T(K){return K<<24&4278190080|K<<8&16711680|K>>>8&65280|K>>>24&255}a.swap8IfBE=a.isLE?K=>K:K=>T(K),a.byteSwapIfBE=a.swap8IfBE;function w(K){for(let ve=0;ve<K.length;ve++)K[ve]=T(K[ve]);return K}a.swap32IfBE=a.isLE?K=>K:w;const A=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",M=Array.from({length:256},(K,ve)=>ve.toString(16).padStart(2,"0"));function P(K){if(g(K),A)return K.toHex();let ve="";for(let de=0;de<K.length;de++)ve+=M[K[de]];return ve}const q={_0:48,_9:57,A:65,F:70,a:97,f:102};function W(K){if(K>=q._0&&K<=q._9)return K-q._0;if(K>=q.A&&K<=q.F)return K-(q.A-10);if(K>=q.a&&K<=q.f)return K-(q.a-10)}function X(K){if(typeof K!="string")throw new Error("hex string expected, got "+typeof K);if(A)return Uint8Array.fromHex(K);const ve=K.length,de=ve/2;if(ve%2)throw new Error("hex string expected, got unpadded hex of length "+ve);const fe=new Uint8Array(de);for(let Se=0,_e=0;Se<de;Se++,_e+=2){const Ne=W(K.charCodeAt(_e)),d0=W(K.charCodeAt(_e+1));if(Ne===void 0||d0===void 0){const x0=K[_e]+K[_e+1];throw new Error('hex string expected, got non-hex character "'+x0+'" at index '+_e)}fe[Se]=Ne*16+d0}return fe}const L=async()=>{};a.nextTick=L;async function ue(K,ve,de){let fe=Date.now();for(let Se=0;Se<K;Se++){de(Se);const _e=Date.now()-fe;_e>=0&&_e<ve||(await(0,a.nextTick)(),fe+=_e)}}function Te(K){if(typeof K!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(K))}function ne(K){return new TextDecoder().decode(K)}function Q(K){return typeof K=="string"&&(K=Te(K)),g(K),K}function te(K){return typeof K=="string"&&(K=Te(K)),g(K),K}function Z(...K){let ve=0;for(let fe=0;fe<K.length;fe++){const Se=K[fe];g(Se),ve+=Se.length}const de=new Uint8Array(ve);for(let fe=0,Se=0;fe<K.length;fe++){const _e=K[fe];de.set(_e,Se),Se+=_e.length}return de}function J(K,ve){if(ve!==void 0&&{}.toString.call(ve)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(K,ve)}class N{}a.Hash=N;function ie(K){const ve=fe=>K().update(Q(fe)).digest(),de=K();return ve.outputLen=de.outputLen,ve.blockLen=de.blockLen,ve.create=()=>K(),ve}function be(K){const ve=(fe,Se)=>K(Se).update(Q(fe)).digest(),de=K({});return ve.outputLen=de.outputLen,ve.blockLen=de.blockLen,ve.create=fe=>K(fe),ve}function ye(K){const ve=(fe,Se)=>K(Se).update(Q(fe)).digest(),de=K({});return ve.outputLen=de.outputLen,ve.blockLen=de.blockLen,ve.create=fe=>K(fe),ve}a.wrapConstructor=ie,a.wrapConstructorWithOpts=be,a.wrapXOFConstructorWithOpts=ye;function Ce(K=32){if(n.crypto&&typeof n.crypto.getRandomValues=="function")return n.crypto.getRandomValues(new Uint8Array(K));if(n.crypto&&typeof n.crypto.randomBytes=="function")return Uint8Array.from(n.crypto.randomBytes(K));throw new Error("crypto.getRandomValues must be defined")}})(utils);var blake2s={},_blake={};Object.defineProperty(_blake,"__esModule",{value:!0});_blake.BSIGMA=void 0;_blake.G1s=G1s;_blake.G2s=G2s;const utils_ts_1$4=utils;_blake.BSIGMA=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);function G1s(a,n,r,u,g){return a=a+n+g|0,u=(0,utils_ts_1$4.rotr)(u^a,16),r=r+u|0,n=(0,utils_ts_1$4.rotr)(n^r,12),{a,b:n,c:r,d:u}}function G2s(a,n,r,u,g){return a=a+n+g|0,u=(0,utils_ts_1$4.rotr)(u^a,8),r=r+u|0,n=(0,utils_ts_1$4.rotr)(n^r,7),{a,b:n,c:r,d:u}}var _md={};Object.defineProperty(_md,"__esModule",{value:!0});_md.SHA512_IV=_md.SHA384_IV=_md.SHA224_IV=_md.SHA256_IV=_md.HashMD=void 0;_md.setBigUint64=setBigUint64;_md.Chi=Chi;_md.Maj=Maj;const utils_ts_1$3=utils;function setBigUint64(a,n,r,u){if(typeof a.setBigUint64=="function")return a.setBigUint64(n,r,u);const g=BigInt(32),y=BigInt(4294967295),h=Number(r>>g&y),m=Number(r&y),v=u?4:0,E=u?0:4;a.setUint32(n+v,h,u),a.setUint32(n+E,m,u)}function Chi(a,n,r){return a&n^~a&r}function Maj(a,n,r){return a&n^a&r^n&r}class HashMD extends utils_ts_1$3.Hash{constructor(n,r,u,g){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=n,this.outputLen=r,this.padOffset=u,this.isLE=g,this.buffer=new Uint8Array(n),this.view=(0,utils_ts_1$3.createView)(this.buffer)}update(n){(0,utils_ts_1$3.aexists)(this),n=(0,utils_ts_1$3.toBytes)(n),(0,utils_ts_1$3.abytes)(n);const{view:r,buffer:u,blockLen:g}=this,y=n.length;for(let h=0;h<y;){const m=Math.min(g-this.pos,y-h);if(m===g){const v=(0,utils_ts_1$3.createView)(n);for(;g<=y-h;h+=g)this.process(v,h);continue}u.set(n.subarray(h,h+m),this.pos),this.pos+=m,h+=m,this.pos===g&&(this.process(r,0),this.pos=0)}return this.length+=n.length,this.roundClean(),this}digestInto(n){(0,utils_ts_1$3.aexists)(this),(0,utils_ts_1$3.aoutput)(n,this),this.finished=!0;const{buffer:r,view:u,blockLen:g,isLE:y}=this;let{pos:h}=this;r[h++]=128,(0,utils_ts_1$3.clean)(this.buffer.subarray(h)),this.padOffset>g-h&&(this.process(u,0),h=0);for(let I=h;I<g;I++)r[I]=0;setBigUint64(u,g-8,BigInt(this.length*8),y),this.process(u,0);const m=(0,utils_ts_1$3.createView)(n),v=this.outputLen;if(v%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const E=v/4,R=this.get();if(E>R.length)throw new Error("_sha2: outputLen bigger than state");for(let I=0;I<E;I++)m.setUint32(4*I,R[I],y)}digest(){const{buffer:n,outputLen:r}=this;this.digestInto(n);const u=n.slice(0,r);return this.destroy(),u}_cloneInto(n){n||(n=new this.constructor),n.set(...this.get());const{blockLen:r,buffer:u,length:g,finished:y,destroyed:h,pos:m}=this;return n.destroyed=h,n.finished=y,n.length=g,n.pos=m,g%r&&n.buffer.set(u),n}clone(){return this._cloneInto()}}_md.HashMD=HashMD;_md.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);_md.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);_md.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);_md.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);var blake2={},_u64={};Object.defineProperty(_u64,"__esModule",{value:!0});_u64.toBig=_u64.shrSL=_u64.shrSH=_u64.rotrSL=_u64.rotrSH=_u64.rotrBL=_u64.rotrBH=_u64.rotr32L=_u64.rotr32H=_u64.rotlSL=_u64.rotlSH=_u64.rotlBL=_u64.rotlBH=_u64.add5L=_u64.add5H=_u64.add4L=_u64.add4H=_u64.add3L=_u64.add3H=void 0;_u64.add=add;_u64.fromBig=fromBig;_u64.split=split;const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(a,n=!1){return n?{h:Number(a&U32_MASK64),l:Number(a>>_32n&U32_MASK64)}:{h:Number(a>>_32n&U32_MASK64)|0,l:Number(a&U32_MASK64)|0}}function split(a,n=!1){const r=a.length;let u=new Uint32Array(r),g=new Uint32Array(r);for(let y=0;y<r;y++){const{h,l:m}=fromBig(a[y],n);[u[y],g[y]]=[h,m]}return[u,g]}const toBig=(a,n)=>BigInt(a>>>0)<<_32n|BigInt(n>>>0);_u64.toBig=toBig;const shrSH=(a,n,r)=>a>>>r;_u64.shrSH=shrSH;const shrSL=(a,n,r)=>a<<32-r|n>>>r;_u64.shrSL=shrSL;const rotrSH=(a,n,r)=>a>>>r|n<<32-r;_u64.rotrSH=rotrSH;const rotrSL=(a,n,r)=>a<<32-r|n>>>r;_u64.rotrSL=rotrSL;const rotrBH=(a,n,r)=>a<<64-r|n>>>r-32;_u64.rotrBH=rotrBH;const rotrBL=(a,n,r)=>a>>>r-32|n<<64-r;_u64.rotrBL=rotrBL;const rotr32H=(a,n)=>n;_u64.rotr32H=rotr32H;const rotr32L=(a,n)=>a;_u64.rotr32L=rotr32L;const rotlSH=(a,n,r)=>a<<r|n>>>32-r;_u64.rotlSH=rotlSH;const rotlSL=(a,n,r)=>n<<r|a>>>32-r;_u64.rotlSL=rotlSL;const rotlBH=(a,n,r)=>n<<r-32|a>>>64-r;_u64.rotlBH=rotlBH;const rotlBL=(a,n,r)=>a<<r-32|n>>>64-r;_u64.rotlBL=rotlBL;function add(a,n,r,u){const g=(n>>>0)+(u>>>0);return{h:a+r+(g/2**32|0)|0,l:g|0}}const add3L=(a,n,r)=>(a>>>0)+(n>>>0)+(r>>>0);_u64.add3L=add3L;const add3H=(a,n,r,u)=>n+r+u+(a/2**32|0)|0;_u64.add3H=add3H;const add4L=(a,n,r,u)=>(a>>>0)+(n>>>0)+(r>>>0)+(u>>>0);_u64.add4L=add4L;const add4H=(a,n,r,u,g)=>n+r+u+g+(a/2**32|0)|0;_u64.add4H=add4H;const add5L=(a,n,r,u,g)=>(a>>>0)+(n>>>0)+(r>>>0)+(u>>>0)+(g>>>0);_u64.add5L=add5L;const add5H=(a,n,r,u,g,y)=>n+r+u+g+y+(a/2**32|0)|0;_u64.add5H=add5H;const u64$2={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L};_u64.default=u64$2;Object.defineProperty(blake2,"__esModule",{value:!0});blake2.blake2s=blake2.BLAKE2s=blake2.blake2b=blake2.BLAKE2b=blake2.BLAKE2=void 0;blake2.compress=compress;const _blake_ts_1$1=_blake,_md_ts_1$2=_md,u64$1=_u64,utils_ts_1$2=utils,B2B_IV=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),BBUF=new Uint32Array(32);function G1b(a,n,r,u,g,y){const h=g[y],m=g[y+1];let v=BBUF[2*a],E=BBUF[2*a+1],R=BBUF[2*n],I=BBUF[2*n+1],l=BBUF[2*r],c=BBUF[2*r+1],T=BBUF[2*u],w=BBUF[2*u+1],A=u64$1.add3L(v,R,h);E=u64$1.add3H(A,E,I,m),v=A|0,{Dh:w,Dl:T}={Dh:w^E,Dl:T^v},{Dh:w,Dl:T}={Dh:u64$1.rotr32H(w,T),Dl:u64$1.rotr32L(w,T)},{h:c,l}=u64$1.add(c,l,w,T),{Bh:I,Bl:R}={Bh:I^c,Bl:R^l},{Bh:I,Bl:R}={Bh:u64$1.rotrSH(I,R,24),Bl:u64$1.rotrSL(I,R,24)},BBUF[2*a]=v,BBUF[2*a+1]=E,BBUF[2*n]=R,BBUF[2*n+1]=I,BBUF[2*r]=l,BBUF[2*r+1]=c,BBUF[2*u]=T,BBUF[2*u+1]=w}function G2b(a,n,r,u,g,y){const h=g[y],m=g[y+1];let v=BBUF[2*a],E=BBUF[2*a+1],R=BBUF[2*n],I=BBUF[2*n+1],l=BBUF[2*r],c=BBUF[2*r+1],T=BBUF[2*u],w=BBUF[2*u+1],A=u64$1.add3L(v,R,h);E=u64$1.add3H(A,E,I,m),v=A|0,{Dh:w,Dl:T}={Dh:w^E,Dl:T^v},{Dh:w,Dl:T}={Dh:u64$1.rotrSH(w,T,16),Dl:u64$1.rotrSL(w,T,16)},{h:c,l}=u64$1.add(c,l,w,T),{Bh:I,Bl:R}={Bh:I^c,Bl:R^l},{Bh:I,Bl:R}={Bh:u64$1.rotrBH(I,R,63),Bl:u64$1.rotrBL(I,R,63)},BBUF[2*a]=v,BBUF[2*a+1]=E,BBUF[2*n]=R,BBUF[2*n+1]=I,BBUF[2*r]=l,BBUF[2*r+1]=c,BBUF[2*u]=T,BBUF[2*u+1]=w}function checkBlake2Opts(a,n={},r,u,g){if((0,utils_ts_1$2.anumber)(r),a<0||a>r)throw new Error("outputLen bigger than keyLen");const{key:y,salt:h,personalization:m}=n;if(y!==void 0&&(y.length<1||y.length>r))throw new Error("key length must be undefined or 1.."+r);if(h!==void 0&&h.length!==u)throw new Error("salt must be undefined or "+u);if(m!==void 0&&m.length!==g)throw new Error("personalization must be undefined or "+g)}class BLAKE2 extends utils_ts_1$2.Hash{constructor(n,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,(0,utils_ts_1$2.anumber)(n),(0,utils_ts_1$2.anumber)(r),this.blockLen=n,this.outputLen=r,this.buffer=new Uint8Array(n),this.buffer32=(0,utils_ts_1$2.u32)(this.buffer)}update(n){(0,utils_ts_1$2.aexists)(this),n=(0,utils_ts_1$2.toBytes)(n),(0,utils_ts_1$2.abytes)(n);const{blockLen:r,buffer:u,buffer32:g}=this,y=n.length,h=n.byteOffset,m=n.buffer;for(let v=0;v<y;){this.pos===r&&((0,utils_ts_1$2.swap32IfBE)(g),this.compress(g,0,!1),(0,utils_ts_1$2.swap32IfBE)(g),this.pos=0);const E=Math.min(r-this.pos,y-v),R=h+v;if(E===r&&!(R%4)&&v+E<y){const I=new Uint32Array(m,R,Math.floor((y-v)/4));(0,utils_ts_1$2.swap32IfBE)(I);for(let l=0;v+r<y;l+=g.length,v+=r)this.length+=r,this.compress(I,l,!1);(0,utils_ts_1$2.swap32IfBE)(I);continue}u.set(n.subarray(v,v+E),this.pos),this.pos+=E,this.length+=E,v+=E}return this}digestInto(n){(0,utils_ts_1$2.aexists)(this),(0,utils_ts_1$2.aoutput)(n,this);const{pos:r,buffer32:u}=this;this.finished=!0,(0,utils_ts_1$2.clean)(this.buffer.subarray(r)),(0,utils_ts_1$2.swap32IfBE)(u),this.compress(u,0,!0),(0,utils_ts_1$2.swap32IfBE)(u);const g=(0,utils_ts_1$2.u32)(n);this.get().forEach((y,h)=>g[h]=(0,utils_ts_1$2.swap8IfBE)(y))}digest(){const{buffer:n,outputLen:r}=this;this.digestInto(n);const u=n.slice(0,r);return this.destroy(),u}_cloneInto(n){const{buffer:r,length:u,finished:g,destroyed:y,outputLen:h,pos:m}=this;return n||(n=new this.constructor({dkLen:h})),n.set(...this.get()),n.buffer.set(r),n.destroyed=y,n.finished=g,n.length=u,n.pos=m,n.outputLen=h,n}clone(){return this._cloneInto()}}blake2.BLAKE2=BLAKE2;class BLAKE2b extends BLAKE2{constructor(n={}){const r=n.dkLen===void 0?64:n.dkLen;super(128,r),this.v0l=B2B_IV[0]|0,this.v0h=B2B_IV[1]|0,this.v1l=B2B_IV[2]|0,this.v1h=B2B_IV[3]|0,this.v2l=B2B_IV[4]|0,this.v2h=B2B_IV[5]|0,this.v3l=B2B_IV[6]|0,this.v3h=B2B_IV[7]|0,this.v4l=B2B_IV[8]|0,this.v4h=B2B_IV[9]|0,this.v5l=B2B_IV[10]|0,this.v5h=B2B_IV[11]|0,this.v6l=B2B_IV[12]|0,this.v6h=B2B_IV[13]|0,this.v7l=B2B_IV[14]|0,this.v7h=B2B_IV[15]|0,checkBlake2Opts(r,n,64,16,16);let{key:u,personalization:g,salt:y}=n,h=0;if(u!==void 0&&(u=(0,utils_ts_1$2.toBytes)(u),h=u.length),this.v0l^=this.outputLen|h<<8|65536|1<<24,y!==void 0){y=(0,utils_ts_1$2.toBytes)(y);const m=(0,utils_ts_1$2.u32)(y);this.v4l^=(0,utils_ts_1$2.swap8IfBE)(m[0]),this.v4h^=(0,utils_ts_1$2.swap8IfBE)(m[1]),this.v5l^=(0,utils_ts_1$2.swap8IfBE)(m[2]),this.v5h^=(0,utils_ts_1$2.swap8IfBE)(m[3])}if(g!==void 0){g=(0,utils_ts_1$2.toBytes)(g);const m=(0,utils_ts_1$2.u32)(g);this.v6l^=(0,utils_ts_1$2.swap8IfBE)(m[0]),this.v6h^=(0,utils_ts_1$2.swap8IfBE)(m[1]),this.v7l^=(0,utils_ts_1$2.swap8IfBE)(m[2]),this.v7h^=(0,utils_ts_1$2.swap8IfBE)(m[3])}if(u!==void 0){const m=new Uint8Array(this.blockLen);m.set(u),this.update(m)}}get(){let{v0l:n,v0h:r,v1l:u,v1h:g,v2l:y,v2h:h,v3l:m,v3h:v,v4l:E,v4h:R,v5l:I,v5h:l,v6l:c,v6h:T,v7l:w,v7h:A}=this;return[n,r,u,g,y,h,m,v,E,R,I,l,c,T,w,A]}set(n,r,u,g,y,h,m,v,E,R,I,l,c,T,w,A){this.v0l=n|0,this.v0h=r|0,this.v1l=u|0,this.v1h=g|0,this.v2l=y|0,this.v2h=h|0,this.v3l=m|0,this.v3h=v|0,this.v4l=E|0,this.v4h=R|0,this.v5l=I|0,this.v5h=l|0,this.v6l=c|0,this.v6h=T|0,this.v7l=w|0,this.v7h=A|0}compress(n,r,u){this.get().forEach((v,E)=>BBUF[E]=v),BBUF.set(B2B_IV,16);let{h:g,l:y}=u64$1.fromBig(BigInt(this.length));BBUF[24]=B2B_IV[8]^y,BBUF[25]=B2B_IV[9]^g,u&&(BBUF[28]=~BBUF[28],BBUF[29]=~BBUF[29]);let h=0;const m=_blake_ts_1$1.BSIGMA;for(let v=0;v<12;v++)G1b(0,4,8,12,n,r+2*m[h++]),G2b(0,4,8,12,n,r+2*m[h++]),G1b(1,5,9,13,n,r+2*m[h++]),G2b(1,5,9,13,n,r+2*m[h++]),G1b(2,6,10,14,n,r+2*m[h++]),G2b(2,6,10,14,n,r+2*m[h++]),G1b(3,7,11,15,n,r+2*m[h++]),G2b(3,7,11,15,n,r+2*m[h++]),G1b(0,5,10,15,n,r+2*m[h++]),G2b(0,5,10,15,n,r+2*m[h++]),G1b(1,6,11,12,n,r+2*m[h++]),G2b(1,6,11,12,n,r+2*m[h++]),G1b(2,7,8,13,n,r+2*m[h++]),G2b(2,7,8,13,n,r+2*m[h++]),G1b(3,4,9,14,n,r+2*m[h++]),G2b(3,4,9,14,n,r+2*m[h++]);this.v0l^=BBUF[0]^BBUF[16],this.v0h^=BBUF[1]^BBUF[17],this.v1l^=BBUF[2]^BBUF[18],this.v1h^=BBUF[3]^BBUF[19],this.v2l^=BBUF[4]^BBUF[20],this.v2h^=BBUF[5]^BBUF[21],this.v3l^=BBUF[6]^BBUF[22],this.v3h^=BBUF[7]^BBUF[23],this.v4l^=BBUF[8]^BBUF[24],this.v4h^=BBUF[9]^BBUF[25],this.v5l^=BBUF[10]^BBUF[26],this.v5h^=BBUF[11]^BBUF[27],this.v6l^=BBUF[12]^BBUF[28],this.v6h^=BBUF[13]^BBUF[29],this.v7l^=BBUF[14]^BBUF[30],this.v7h^=BBUF[15]^BBUF[31],(0,utils_ts_1$2.clean)(BBUF)}destroy(){this.destroyed=!0,(0,utils_ts_1$2.clean)(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}blake2.BLAKE2b=BLAKE2b;blake2.blake2b=(0,utils_ts_1$2.createOptHasher)(a=>new BLAKE2b(a));function compress(a,n,r,u,g,y,h,m,v,E,R,I,l,c,T,w,A,M,P,q){let W=0;for(let X=0;X<u;X++)({a:g,b:v,c:l,d:A}=(0,_blake_ts_1$1.G1s)(g,v,l,A,r[n+a[W++]])),{a:g,b:v,c:l,d:A}=(0,_blake_ts_1$1.G2s)(g,v,l,A,r[n+a[W++]]),{a:y,b:E,c,d:M}=(0,_blake_ts_1$1.G1s)(y,E,c,M,r[n+a[W++]]),{a:y,b:E,c,d:M}=(0,_blake_ts_1$1.G2s)(y,E,c,M,r[n+a[W++]]),{a:h,b:R,c:T,d:P}=(0,_blake_ts_1$1.G1s)(h,R,T,P,r[n+a[W++]]),{a:h,b:R,c:T,d:P}=(0,_blake_ts_1$1.G2s)(h,R,T,P,r[n+a[W++]]),{a:m,b:I,c:w,d:q}=(0,_blake_ts_1$1.G1s)(m,I,w,q,r[n+a[W++]]),{a:m,b:I,c:w,d:q}=(0,_blake_ts_1$1.G2s)(m,I,w,q,r[n+a[W++]]),{a:g,b:E,c:T,d:q}=(0,_blake_ts_1$1.G1s)(g,E,T,q,r[n+a[W++]]),{a:g,b:E,c:T,d:q}=(0,_blake_ts_1$1.G2s)(g,E,T,q,r[n+a[W++]]),{a:y,b:R,c:w,d:A}=(0,_blake_ts_1$1.G1s)(y,R,w,A,r[n+a[W++]]),{a:y,b:R,c:w,d:A}=(0,_blake_ts_1$1.G2s)(y,R,w,A,r[n+a[W++]]),{a:h,b:I,c:l,d:M}=(0,_blake_ts_1$1.G1s)(h,I,l,M,r[n+a[W++]]),{a:h,b:I,c:l,d:M}=(0,_blake_ts_1$1.G2s)(h,I,l,M,r[n+a[W++]]),{a:m,b:v,c,d:P}=(0,_blake_ts_1$1.G1s)(m,v,c,P,r[n+a[W++]]),{a:m,b:v,c,d:P}=(0,_blake_ts_1$1.G2s)(m,v,c,P,r[n+a[W++]]);return{v0:g,v1:y,v2:h,v3:m,v4:v,v5:E,v6:R,v7:I,v8:l,v9:c,v10:T,v11:w,v12:A,v13:M,v14:P,v15:q}}const B2S_IV=_md_ts_1$2.SHA256_IV;class BLAKE2s extends BLAKE2{constructor(n={}){const r=n.dkLen===void 0?32:n.dkLen;super(64,r),this.v0=B2S_IV[0]|0,this.v1=B2S_IV[1]|0,this.v2=B2S_IV[2]|0,this.v3=B2S_IV[3]|0,this.v4=B2S_IV[4]|0,this.v5=B2S_IV[5]|0,this.v6=B2S_IV[6]|0,this.v7=B2S_IV[7]|0,checkBlake2Opts(r,n,32,8,8);let{key:u,personalization:g,salt:y}=n,h=0;if(u!==void 0&&(u=(0,utils_ts_1$2.toBytes)(u),h=u.length),this.v0^=this.outputLen|h<<8|65536|1<<24,y!==void 0){y=(0,utils_ts_1$2.toBytes)(y);const m=(0,utils_ts_1$2.u32)(y);this.v4^=(0,utils_ts_1$2.swap8IfBE)(m[0]),this.v5^=(0,utils_ts_1$2.swap8IfBE)(m[1])}if(g!==void 0){g=(0,utils_ts_1$2.toBytes)(g);const m=(0,utils_ts_1$2.u32)(g);this.v6^=(0,utils_ts_1$2.swap8IfBE)(m[0]),this.v7^=(0,utils_ts_1$2.swap8IfBE)(m[1])}if(u!==void 0){(0,utils_ts_1$2.abytes)(u);const m=new Uint8Array(this.blockLen);m.set(u),this.update(m)}}get(){const{v0:n,v1:r,v2:u,v3:g,v4:y,v5:h,v6:m,v7:v}=this;return[n,r,u,g,y,h,m,v]}set(n,r,u,g,y,h,m,v){this.v0=n|0,this.v1=r|0,this.v2=u|0,this.v3=g|0,this.v4=y|0,this.v5=h|0,this.v6=m|0,this.v7=v|0}compress(n,r,u){const{h:g,l:y}=u64$1.fromBig(BigInt(this.length)),{v0:h,v1:m,v2:v,v3:E,v4:R,v5:I,v6:l,v7:c,v8:T,v9:w,v10:A,v11:M,v12:P,v13:q,v14:W,v15:X}=compress(_blake_ts_1$1.BSIGMA,r,n,10,this.v0,this.v1,this.v2,this.v3,this.v4,this.v5,this.v6,this.v7,B2S_IV[0],B2S_IV[1],B2S_IV[2],B2S_IV[3],y^B2S_IV[4],g^B2S_IV[5],u?~B2S_IV[6]:B2S_IV[6],B2S_IV[7]);this.v0^=h^T,this.v1^=m^w,this.v2^=v^A,this.v3^=E^M,this.v4^=R^P,this.v5^=I^q,this.v6^=l^W,this.v7^=c^X}destroy(){this.destroyed=!0,(0,utils_ts_1$2.clean)(this.buffer32),this.set(0,0,0,0,0,0,0,0)}}blake2.BLAKE2s=BLAKE2s;blake2.blake2s=(0,utils_ts_1$2.createOptHasher)(a=>new BLAKE2s(a));Object.defineProperty(blake2s,"__esModule",{value:!0});blake2s.blake2s=blake2s.BLAKE2s=blake2s.compress=blake2s.G2s=blake2s.G1s=blake2s.B2S_IV=void 0;const _blake_ts_1=_blake,_md_ts_1$1=_md,blake2_ts_1$1=blake2;blake2s.B2S_IV=_md_ts_1$1.SHA256_IV;blake2s.G1s=_blake_ts_1.G1s;blake2s.G2s=_blake_ts_1.G2s;blake2s.compress=blake2_ts_1$1.compress;blake2s.BLAKE2s=blake2_ts_1$1.BLAKE2s;blake2s.blake2s=blake2_ts_1$1.blake2s;var sha256={},sha2={};Object.defineProperty(sha2,"__esModule",{value:!0});sha2.sha512_224=sha2.sha512_256=sha2.sha384=sha2.sha512=sha2.sha224=sha2.sha256=sha2.SHA512_256=sha2.SHA512_224=sha2.SHA384=sha2.SHA512=sha2.SHA224=sha2.SHA256=void 0;const _md_ts_1=_md,u64=_u64,utils_ts_1$1=utils,SHA256_K=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_W=new Uint32Array(64);class SHA256 extends _md_ts_1.HashMD{constructor(n=32){super(64,n,8,!1),this.A=_md_ts_1.SHA256_IV[0]|0,this.B=_md_ts_1.SHA256_IV[1]|0,this.C=_md_ts_1.SHA256_IV[2]|0,this.D=_md_ts_1.SHA256_IV[3]|0,this.E=_md_ts_1.SHA256_IV[4]|0,this.F=_md_ts_1.SHA256_IV[5]|0,this.G=_md_ts_1.SHA256_IV[6]|0,this.H=_md_ts_1.SHA256_IV[7]|0}get(){const{A:n,B:r,C:u,D:g,E:y,F:h,G:m,H:v}=this;return[n,r,u,g,y,h,m,v]}set(n,r,u,g,y,h,m,v){this.A=n|0,this.B=r|0,this.C=u|0,this.D=g|0,this.E=y|0,this.F=h|0,this.G=m|0,this.H=v|0}process(n,r){for(let I=0;I<16;I++,r+=4)SHA256_W[I]=n.getUint32(r,!1);for(let I=16;I<64;I++){const l=SHA256_W[I-15],c=SHA256_W[I-2],T=(0,utils_ts_1$1.rotr)(l,7)^(0,utils_ts_1$1.rotr)(l,18)^l>>>3,w=(0,utils_ts_1$1.rotr)(c,17)^(0,utils_ts_1$1.rotr)(c,19)^c>>>10;SHA256_W[I]=w+SHA256_W[I-7]+T+SHA256_W[I-16]|0}let{A:u,B:g,C:y,D:h,E:m,F:v,G:E,H:R}=this;for(let I=0;I<64;I++){const l=(0,utils_ts_1$1.rotr)(m,6)^(0,utils_ts_1$1.rotr)(m,11)^(0,utils_ts_1$1.rotr)(m,25),c=R+l+(0,_md_ts_1.Chi)(m,v,E)+SHA256_K[I]+SHA256_W[I]|0,w=((0,utils_ts_1$1.rotr)(u,2)^(0,utils_ts_1$1.rotr)(u,13)^(0,utils_ts_1$1.rotr)(u,22))+(0,_md_ts_1.Maj)(u,g,y)|0;R=E,E=v,v=m,m=h+c|0,h=y,y=g,g=u,u=c+w|0}u=u+this.A|0,g=g+this.B|0,y=y+this.C|0,h=h+this.D|0,m=m+this.E|0,v=v+this.F|0,E=E+this.G|0,R=R+this.H|0,this.set(u,g,y,h,m,v,E,R)}roundClean(){(0,utils_ts_1$1.clean)(SHA256_W)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,utils_ts_1$1.clean)(this.buffer)}}sha2.SHA256=SHA256;class SHA224 extends SHA256{constructor(){super(28),this.A=_md_ts_1.SHA224_IV[0]|0,this.B=_md_ts_1.SHA224_IV[1]|0,this.C=_md_ts_1.SHA224_IV[2]|0,this.D=_md_ts_1.SHA224_IV[3]|0,this.E=_md_ts_1.SHA224_IV[4]|0,this.F=_md_ts_1.SHA224_IV[5]|0,this.G=_md_ts_1.SHA224_IV[6]|0,this.H=_md_ts_1.SHA224_IV[7]|0}}sha2.SHA224=SHA224;const K512=u64.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(a=>BigInt(a))),SHA512_Kh=K512[0],SHA512_Kl=K512[1],SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends _md_ts_1.HashMD{constructor(n=64){super(128,n,16,!1),this.Ah=_md_ts_1.SHA512_IV[0]|0,this.Al=_md_ts_1.SHA512_IV[1]|0,this.Bh=_md_ts_1.SHA512_IV[2]|0,this.Bl=_md_ts_1.SHA512_IV[3]|0,this.Ch=_md_ts_1.SHA512_IV[4]|0,this.Cl=_md_ts_1.SHA512_IV[5]|0,this.Dh=_md_ts_1.SHA512_IV[6]|0,this.Dl=_md_ts_1.SHA512_IV[7]|0,this.Eh=_md_ts_1.SHA512_IV[8]|0,this.El=_md_ts_1.SHA512_IV[9]|0,this.Fh=_md_ts_1.SHA512_IV[10]|0,this.Fl=_md_ts_1.SHA512_IV[11]|0,this.Gh=_md_ts_1.SHA512_IV[12]|0,this.Gl=_md_ts_1.SHA512_IV[13]|0,this.Hh=_md_ts_1.SHA512_IV[14]|0,this.Hl=_md_ts_1.SHA512_IV[15]|0}get(){const{Ah:n,Al:r,Bh:u,Bl:g,Ch:y,Cl:h,Dh:m,Dl:v,Eh:E,El:R,Fh:I,Fl:l,Gh:c,Gl:T,Hh:w,Hl:A}=this;return[n,r,u,g,y,h,m,v,E,R,I,l,c,T,w,A]}set(n,r,u,g,y,h,m,v,E,R,I,l,c,T,w,A){this.Ah=n|0,this.Al=r|0,this.Bh=u|0,this.Bl=g|0,this.Ch=y|0,this.Cl=h|0,this.Dh=m|0,this.Dl=v|0,this.Eh=E|0,this.El=R|0,this.Fh=I|0,this.Fl=l|0,this.Gh=c|0,this.Gl=T|0,this.Hh=w|0,this.Hl=A|0}process(n,r){for(let q=0;q<16;q++,r+=4)SHA512_W_H[q]=n.getUint32(r),SHA512_W_L[q]=n.getUint32(r+=4);for(let q=16;q<80;q++){const W=SHA512_W_H[q-15]|0,X=SHA512_W_L[q-15]|0,L=u64.rotrSH(W,X,1)^u64.rotrSH(W,X,8)^u64.shrSH(W,X,7),ue=u64.rotrSL(W,X,1)^u64.rotrSL(W,X,8)^u64.shrSL(W,X,7),Te=SHA512_W_H[q-2]|0,ne=SHA512_W_L[q-2]|0,Q=u64.rotrSH(Te,ne,19)^u64.rotrBH(Te,ne,61)^u64.shrSH(Te,ne,6),te=u64.rotrSL(Te,ne,19)^u64.rotrBL(Te,ne,61)^u64.shrSL(Te,ne,6),Z=u64.add4L(ue,te,SHA512_W_L[q-7],SHA512_W_L[q-16]),J=u64.add4H(Z,L,Q,SHA512_W_H[q-7],SHA512_W_H[q-16]);SHA512_W_H[q]=J|0,SHA512_W_L[q]=Z|0}let{Ah:u,Al:g,Bh:y,Bl:h,Ch:m,Cl:v,Dh:E,Dl:R,Eh:I,El:l,Fh:c,Fl:T,Gh:w,Gl:A,Hh:M,Hl:P}=this;for(let q=0;q<80;q++){const W=u64.rotrSH(I,l,14)^u64.rotrSH(I,l,18)^u64.rotrBH(I,l,41),X=u64.rotrSL(I,l,14)^u64.rotrSL(I,l,18)^u64.rotrBL(I,l,41),L=I&c^~I&w,ue=l&T^~l&A,Te=u64.add5L(P,X,ue,SHA512_Kl[q],SHA512_W_L[q]),ne=u64.add5H(Te,M,W,L,SHA512_Kh[q],SHA512_W_H[q]),Q=Te|0,te=u64.rotrSH(u,g,28)^u64.rotrBH(u,g,34)^u64.rotrBH(u,g,39),Z=u64.rotrSL(u,g,28)^u64.rotrBL(u,g,34)^u64.rotrBL(u,g,39),J=u&y^u&m^y&m,N=g&h^g&v^h&v;M=w|0,P=A|0,w=c|0,A=T|0,c=I|0,T=l|0,{h:I,l}=u64.add(E|0,R|0,ne|0,Q|0),E=m|0,R=v|0,m=y|0,v=h|0,y=u|0,h=g|0;const ie=u64.add3L(Q,Z,N);u=u64.add3H(ie,ne,te,J),g=ie|0}({h:u,l:g}=u64.add(this.Ah|0,this.Al|0,u|0,g|0)),{h:y,l:h}=u64.add(this.Bh|0,this.Bl|0,y|0,h|0),{h:m,l:v}=u64.add(this.Ch|0,this.Cl|0,m|0,v|0),{h:E,l:R}=u64.add(this.Dh|0,this.Dl|0,E|0,R|0),{h:I,l}=u64.add(this.Eh|0,this.El|0,I|0,l|0),{h:c,l:T}=u64.add(this.Fh|0,this.Fl|0,c|0,T|0),{h:w,l:A}=u64.add(this.Gh|0,this.Gl|0,w|0,A|0),{h:M,l:P}=u64.add(this.Hh|0,this.Hl|0,M|0,P|0),this.set(u,g,y,h,m,v,E,R,I,l,c,T,w,A,M,P)}roundClean(){(0,utils_ts_1$1.clean)(SHA512_W_H,SHA512_W_L)}destroy(){(0,utils_ts_1$1.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}sha2.SHA512=SHA512;class SHA384 extends SHA512{constructor(){super(48),this.Ah=_md_ts_1.SHA384_IV[0]|0,this.Al=_md_ts_1.SHA384_IV[1]|0,this.Bh=_md_ts_1.SHA384_IV[2]|0,this.Bl=_md_ts_1.SHA384_IV[3]|0,this.Ch=_md_ts_1.SHA384_IV[4]|0,this.Cl=_md_ts_1.SHA384_IV[5]|0,this.Dh=_md_ts_1.SHA384_IV[6]|0,this.Dl=_md_ts_1.SHA384_IV[7]|0,this.Eh=_md_ts_1.SHA384_IV[8]|0,this.El=_md_ts_1.SHA384_IV[9]|0,this.Fh=_md_ts_1.SHA384_IV[10]|0,this.Fl=_md_ts_1.SHA384_IV[11]|0,this.Gh=_md_ts_1.SHA384_IV[12]|0,this.Gl=_md_ts_1.SHA384_IV[13]|0,this.Hh=_md_ts_1.SHA384_IV[14]|0,this.Hl=_md_ts_1.SHA384_IV[15]|0}}sha2.SHA384=SHA384;const T224_IV=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),T256_IV=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class SHA512_224 extends SHA512{constructor(){super(28),this.Ah=T224_IV[0]|0,this.Al=T224_IV[1]|0,this.Bh=T224_IV[2]|0,this.Bl=T224_IV[3]|0,this.Ch=T224_IV[4]|0,this.Cl=T224_IV[5]|0,this.Dh=T224_IV[6]|0,this.Dl=T224_IV[7]|0,this.Eh=T224_IV[8]|0,this.El=T224_IV[9]|0,this.Fh=T224_IV[10]|0,this.Fl=T224_IV[11]|0,this.Gh=T224_IV[12]|0,this.Gl=T224_IV[13]|0,this.Hh=T224_IV[14]|0,this.Hl=T224_IV[15]|0}}sha2.SHA512_224=SHA512_224;class SHA512_256 extends SHA512{constructor(){super(32),this.Ah=T256_IV[0]|0,this.Al=T256_IV[1]|0,this.Bh=T256_IV[2]|0,this.Bl=T256_IV[3]|0,this.Ch=T256_IV[4]|0,this.Cl=T256_IV[5]|0,this.Dh=T256_IV[6]|0,this.Dl=T256_IV[7]|0,this.Eh=T256_IV[8]|0,this.El=T256_IV[9]|0,this.Fh=T256_IV[10]|0,this.Fl=T256_IV[11]|0,this.Gh=T256_IV[12]|0,this.Gl=T256_IV[13]|0,this.Hh=T256_IV[14]|0,this.Hl=T256_IV[15]|0}}sha2.SHA512_256=SHA512_256;sha2.sha256=(0,utils_ts_1$1.createHasher)(()=>new SHA256);sha2.sha224=(0,utils_ts_1$1.createHasher)(()=>new SHA224);sha2.sha512=(0,utils_ts_1$1.createHasher)(()=>new SHA512);sha2.sha384=(0,utils_ts_1$1.createHasher)(()=>new SHA384);sha2.sha512_256=(0,utils_ts_1$1.createHasher)(()=>new SHA512_256);sha2.sha512_224=(0,utils_ts_1$1.createHasher)(()=>new SHA512_224);Object.defineProperty(sha256,"__esModule",{value:!0});sha256.sha224=sha256.SHA224=sha256.sha256=sha256.SHA256=void 0;const sha2_ts_1=sha2;sha256.SHA256=sha2_ts_1.SHA256;sha256.sha256=sha2_ts_1.sha256;sha256.SHA224=sha2_ts_1.SHA224;sha256.sha224=sha2_ts_1.sha224;var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(a,n){(function(r){a.exports=r()})(function(){return function r(u,g,y){function h(E,R){if(!g[E]){if(!u[E]){var I=typeof commonjsRequire=="function"&&commonjsRequire;if(!R&&I)return I(E,!0);if(m)return m(E,!0);var l=new Error("Cannot find module '"+E+"'");throw l.code="MODULE_NOT_FOUND",l}var c=g[E]={exports:{}};u[E][0].call(c.exports,function(T){var w=u[E][1][T];return h(w||T)},c,c.exports,r,u,g,y)}return g[E].exports}for(var m=typeof commonjsRequire=="function"&&commonjsRequire,v=0;v<y.length;v++)h(y[v]);return h}({1:[function(r,u,g){var y=r("./utils"),h=r("./support"),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";g.encode=function(v){for(var E,R,I,l,c,T,w,A=[],M=0,P=v.length,q=P,W=y.getTypeOf(v)!=="string";M<v.length;)q=P-M,I=W?(E=v[M++],R=M<P?v[M++]:0,M<P?v[M++]:0):(E=v.charCodeAt(M++),R=M<P?v.charCodeAt(M++):0,M<P?v.charCodeAt(M++):0),l=E>>2,c=(3&E)<<4|R>>4,T=1<q?(15&R)<<2|I>>6:64,w=2<q?63&I:64,A.push(m.charAt(l)+m.charAt(c)+m.charAt(T)+m.charAt(w));return A.join("")},g.decode=function(v){var E,R,I,l,c,T,w=0,A=0,M="data:";if(v.substr(0,M.length)===M)throw new Error("Invalid base64 input, it looks like a data url.");var P,q=3*(v=v.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(v.charAt(v.length-1)===m.charAt(64)&&q--,v.charAt(v.length-2)===m.charAt(64)&&q--,q%1!=0)throw new Error("Invalid base64 input, bad content length.");for(P=h.uint8array?new Uint8Array(0|q):new Array(0|q);w<v.length;)E=m.indexOf(v.charAt(w++))<<2|(l=m.indexOf(v.charAt(w++)))>>4,R=(15&l)<<4|(c=m.indexOf(v.charAt(w++)))>>2,I=(3&c)<<6|(T=m.indexOf(v.charAt(w++))),P[A++]=E,c!==64&&(P[A++]=R),T!==64&&(P[A++]=I);return P}},{"./support":30,"./utils":32}],2:[function(r,u,g){var y=r("./external"),h=r("./stream/DataWorker"),m=r("./stream/Crc32Probe"),v=r("./stream/DataLengthProbe");function E(R,I,l,c,T){this.compressedSize=R,this.uncompressedSize=I,this.crc32=l,this.compression=c,this.compressedContent=T}E.prototype={getContentWorker:function(){var R=new h(y.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new v("data_length")),I=this;return R.on("end",function(){if(this.streamInfo.data_length!==I.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),R},getCompressedWorker:function(){return new h(y.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},E.createWorkerFrom=function(R,I,l){return R.pipe(new m).pipe(new v("uncompressedSize")).pipe(I.compressWorker(l)).pipe(new v("compressedSize")).withStreamInfo("compression",I)},u.exports=E},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,u,g){var y=r("./stream/GenericWorker");g.STORE={magic:"\0\0",compressWorker:function(){return new y("STORE compression")},uncompressWorker:function(){return new y("STORE decompression")}},g.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,u,g){var y=r("./utils"),h=function(){for(var m,v=[],E=0;E<256;E++){m=E;for(var R=0;R<8;R++)m=1&m?3988292384^m>>>1:m>>>1;v[E]=m}return v}();u.exports=function(m,v){return m!==void 0&&m.length?y.getTypeOf(m)!=="string"?function(E,R,I,l){var c=h,T=l+I;E^=-1;for(var w=l;w<T;w++)E=E>>>8^c[255&(E^R[w])];return-1^E}(0|v,m,m.length,0):function(E,R,I,l){var c=h,T=l+I;E^=-1;for(var w=l;w<T;w++)E=E>>>8^c[255&(E^R.charCodeAt(w))];return-1^E}(0|v,m,m.length,0):0}},{"./utils":32}],5:[function(r,u,g){g.base64=!1,g.binary=!1,g.dir=!1,g.createFolders=!0,g.date=null,g.compression=null,g.compressionOptions=null,g.comment=null,g.unixPermissions=null,g.dosPermissions=null},{}],6:[function(r,u,g){var y=null;y=typeof Promise<"u"?Promise:r("lie"),u.exports={Promise:y}},{lie:37}],7:[function(r,u,g){var y=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",h=r("pako"),m=r("./utils"),v=r("./stream/GenericWorker"),E=y?"uint8array":"array";function R(I,l){v.call(this,"FlateWorker/"+I),this._pako=null,this._pakoAction=I,this._pakoOptions=l,this.meta={}}g.magic="\b\0",m.inherits(R,v),R.prototype.processChunk=function(I){this.meta=I.meta,this._pako===null&&this._createPako(),this._pako.push(m.transformTo(E,I.data),!1)},R.prototype.flush=function(){v.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},R.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this._pako=null},R.prototype._createPako=function(){this._pako=new h[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var I=this;this._pako.onData=function(l){I.push({data:l,meta:I.meta})}},g.compressWorker=function(I){return new R("Deflate",I)},g.uncompressWorker=function(){return new R("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,u,g){function y(c,T){var w,A="";for(w=0;w<T;w++)A+=String.fromCharCode(255&c),c>>>=8;return A}function h(c,T,w,A,M,P){var q,W,X=c.file,L=c.compression,ue=P!==E.utf8encode,Te=m.transformTo("string",P(X.name)),ne=m.transformTo("string",E.utf8encode(X.name)),Q=X.comment,te=m.transformTo("string",P(Q)),Z=m.transformTo("string",E.utf8encode(Q)),J=ne.length!==X.name.length,N=Z.length!==Q.length,ie="",be="",ye="",Ce=X.dir,K=X.date,ve={crc32:0,compressedSize:0,uncompressedSize:0};T&&!w||(ve.crc32=c.crc32,ve.compressedSize=c.compressedSize,ve.uncompressedSize=c.uncompressedSize);var de=0;T&&(de|=8),ue||!J&&!N||(de|=2048);var fe=0,Se=0;Ce&&(fe|=16),M==="UNIX"?(Se=798,fe|=function(Ne,d0){var x0=Ne;return Ne||(x0=d0?16893:33204),(65535&x0)<<16}(X.unixPermissions,Ce)):(Se=20,fe|=function(Ne){return 63&(Ne||0)}(X.dosPermissions)),q=K.getUTCHours(),q<<=6,q|=K.getUTCMinutes(),q<<=5,q|=K.getUTCSeconds()/2,W=K.getUTCFullYear()-1980,W<<=4,W|=K.getUTCMonth()+1,W<<=5,W|=K.getUTCDate(),J&&(be=y(1,1)+y(R(Te),4)+ne,ie+="up"+y(be.length,2)+be),N&&(ye=y(1,1)+y(R(te),4)+Z,ie+="uc"+y(ye.length,2)+ye);var _e="";return _e+=`
\0`,_e+=y(de,2),_e+=L.magic,_e+=y(q,2),_e+=y(W,2),_e+=y(ve.crc32,4),_e+=y(ve.compressedSize,4),_e+=y(ve.uncompressedSize,4),_e+=y(Te.length,2),_e+=y(ie.length,2),{fileRecord:I.LOCAL_FILE_HEADER+_e+Te+ie,dirRecord:I.CENTRAL_FILE_HEADER+y(Se,2)+_e+y(te.length,2)+"\0\0\0\0"+y(fe,4)+y(A,4)+Te+ie+te}}var m=r("../utils"),v=r("../stream/GenericWorker"),E=r("../utf8"),R=r("../crc32"),I=r("../signature");function l(c,T,w,A){v.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=T,this.zipPlatform=w,this.encodeFileName=A,this.streamFiles=c,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}m.inherits(l,v),l.prototype.push=function(c){var T=c.meta.percent||0,w=this.entriesCount,A=this._sources.length;this.accumulate?this.contentBuffer.push(c):(this.bytesWritten+=c.data.length,v.prototype.push.call(this,{data:c.data,meta:{currentFile:this.currentFile,percent:w?(T+100*(w-A-1))/w:100}}))},l.prototype.openedSource=function(c){this.currentSourceOffset=this.bytesWritten,this.currentFile=c.file.name;var T=this.streamFiles&&!c.file.dir;if(T){var w=h(c,T,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(c){this.accumulate=!1;var T=this.streamFiles&&!c.file.dir,w=h(c,T,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),T)this.push({data:function(A){return I.DATA_DESCRIPTOR+y(A.crc32,4)+y(A.compressedSize,4)+y(A.uncompressedSize,4)}(c),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var c=this.bytesWritten,T=0;T<this.dirRecords.length;T++)this.push({data:this.dirRecords[T],meta:{percent:100}});var w=this.bytesWritten-c,A=function(M,P,q,W,X){var L=m.transformTo("string",X(W));return I.CENTRAL_DIRECTORY_END+"\0\0\0\0"+y(M,2)+y(M,2)+y(P,4)+y(q,4)+y(L.length,2)+L}(this.dirRecords.length,w,c,this.zipComment,this.encodeFileName);this.push({data:A,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(c){this._sources.push(c);var T=this;return c.on("data",function(w){T.processChunk(w)}),c.on("end",function(){T.closedSource(T.previous.streamInfo),T._sources.length?T.prepareNextSource():T.end()}),c.on("error",function(w){T.error(w)}),this},l.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(c){var T=this._sources;if(!v.prototype.error.call(this,c))return!1;for(var w=0;w<T.length;w++)try{T[w].error(c)}catch{}return!0},l.prototype.lock=function(){v.prototype.lock.call(this);for(var c=this._sources,T=0;T<c.length;T++)c[T].lock()},u.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,u,g){var y=r("../compressions"),h=r("./ZipFileWorker");g.generateWorker=function(m,v,E){var R=new h(v.streamFiles,E,v.platform,v.encodeFileName),I=0;try{m.forEach(function(l,c){I++;var T=function(P,q){var W=P||q,X=y[W];if(!X)throw new Error(W+" is not a valid compression method !");return X}(c.options.compression,v.compression),w=c.options.compressionOptions||v.compressionOptions||{},A=c.dir,M=c.date;c._compressWorker(T,w).withStreamInfo("file",{name:l,dir:A,date:M,comment:c.comment||"",unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions}).pipe(R)}),R.entriesCount=I}catch(l){R.error(l)}return R}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,u,g){function y(){if(!(this instanceof y))return new y;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var h=new y;for(var m in this)typeof this[m]!="function"&&(h[m]=this[m]);return h}}(y.prototype=r("./object")).loadAsync=r("./load"),y.support=r("./support"),y.defaults=r("./defaults"),y.version="3.10.1",y.loadAsync=function(h,m){return new y().loadAsync(h,m)},y.external=r("./external"),u.exports=y},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,u,g){var y=r("./utils"),h=r("./external"),m=r("./utf8"),v=r("./zipEntries"),E=r("./stream/Crc32Probe"),R=r("./nodejsUtils");function I(l){return new h.Promise(function(c,T){var w=l.decompressed.getContentWorker().pipe(new E);w.on("error",function(A){T(A)}).on("end",function(){w.streamInfo.crc32!==l.decompressed.crc32?T(new Error("Corrupted zip : CRC32 mismatch")):c()}).resume()})}u.exports=function(l,c){var T=this;return c=y.extend(c||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:m.utf8decode}),R.isNode&&R.isStream(l)?h.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):y.prepareContent("the loaded zip file",l,!0,c.optimizedBinaryString,c.base64).then(function(w){var A=new v(c);return A.load(w),A}).then(function(w){var A=[h.Promise.resolve(w)],M=w.files;if(c.checkCRC32)for(var P=0;P<M.length;P++)A.push(I(M[P]));return h.Promise.all(A)}).then(function(w){for(var A=w.shift(),M=A.files,P=0;P<M.length;P++){var q=M[P],W=q.fileNameStr,X=y.resolve(q.fileNameStr);T.file(X,q.decompressed,{binary:!0,optimizedBinaryString:!0,date:q.date,dir:q.dir,comment:q.fileCommentStr.length?q.fileCommentStr:null,unixPermissions:q.unixPermissions,dosPermissions:q.dosPermissions,createFolders:c.createFolders}),q.dir||(T.file(X).unsafeOriginalName=W)}return A.zipComment.length&&(T.comment=A.zipComment),T})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,u,g){var y=r("../utils"),h=r("../stream/GenericWorker");function m(v,E){h.call(this,"Nodejs stream input adapter for "+v),this._upstreamEnded=!1,this._bindStream(E)}y.inherits(m,h),m.prototype._bindStream=function(v){var E=this;(this._stream=v).pause(),v.on("data",function(R){E.push({data:R,meta:{percent:0}})}).on("error",function(R){E.isPaused?this.generatedError=R:E.error(R)}).on("end",function(){E.isPaused?E._upstreamEnded=!0:E.end()})},m.prototype.pause=function(){return!!h.prototype.pause.call(this)&&(this._stream.pause(),!0)},m.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},u.exports=m},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,u,g){var y=r("readable-stream").Readable;function h(m,v,E){y.call(this,v),this._helper=m;var R=this;m.on("data",function(I,l){R.push(I)||R._helper.pause(),E&&E(l)}).on("error",function(I){R.emit("error",I)}).on("end",function(){R.push(null)})}r("../utils").inherits(h,y),h.prototype._read=function(){this._helper.resume()},u.exports=h},{"../utils":32,"readable-stream":16}],14:[function(r,u,g){u.exports={isNode:typeof Buffer<"u",newBufferFrom:function(y,h){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(y,h);if(typeof y=="number")throw new Error('The "data" argument must not be a number');return new Buffer(y,h)},allocBuffer:function(y){if(Buffer.alloc)return Buffer.alloc(y);var h=new Buffer(y);return h.fill(0),h},isBuffer:function(y){return Buffer.isBuffer(y)},isStream:function(y){return y&&typeof y.on=="function"&&typeof y.pause=="function"&&typeof y.resume=="function"}}},{}],15:[function(r,u,g){function y(X,L,ue){var Te,ne=m.getTypeOf(L),Q=m.extend(ue||{},R);Q.date=Q.date||new Date,Q.compression!==null&&(Q.compression=Q.compression.toUpperCase()),typeof Q.unixPermissions=="string"&&(Q.unixPermissions=parseInt(Q.unixPermissions,8)),Q.unixPermissions&&16384&Q.unixPermissions&&(Q.dir=!0),Q.dosPermissions&&16&Q.dosPermissions&&(Q.dir=!0),Q.dir&&(X=M(X)),Q.createFolders&&(Te=A(X))&&P.call(this,Te,!0);var te=ne==="string"&&Q.binary===!1&&Q.base64===!1;ue&&ue.binary!==void 0||(Q.binary=!te),(L instanceof I&&L.uncompressedSize===0||Q.dir||!L||L.length===0)&&(Q.base64=!1,Q.binary=!0,L="",Q.compression="STORE",ne="string");var Z=null;Z=L instanceof I||L instanceof v?L:T.isNode&&T.isStream(L)?new w(X,L):m.prepareContent(X,L,Q.binary,Q.optimizedBinaryString,Q.base64);var J=new l(X,Z,Q);this.files[X]=J}var h=r("./utf8"),m=r("./utils"),v=r("./stream/GenericWorker"),E=r("./stream/StreamHelper"),R=r("./defaults"),I=r("./compressedObject"),l=r("./zipObject"),c=r("./generate"),T=r("./nodejsUtils"),w=r("./nodejs/NodejsStreamInputAdapter"),A=function(X){X.slice(-1)==="/"&&(X=X.substring(0,X.length-1));var L=X.lastIndexOf("/");return 0<L?X.substring(0,L):""},M=function(X){return X.slice(-1)!=="/"&&(X+="/"),X},P=function(X,L){return L=L!==void 0?L:R.createFolders,X=M(X),this.files[X]||y.call(this,X,null,{dir:!0,createFolders:L}),this.files[X]};function q(X){return Object.prototype.toString.call(X)==="[object RegExp]"}var W={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(X){var L,ue,Te;for(L in this.files)Te=this.files[L],(ue=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&X(ue,Te)},filter:function(X){var L=[];return this.forEach(function(ue,Te){X(ue,Te)&&L.push(Te)}),L},file:function(X,L,ue){if(arguments.length!==1)return X=this.root+X,y.call(this,X,L,ue),this;if(q(X)){var Te=X;return this.filter(function(Q,te){return!te.dir&&Te.test(Q)})}var ne=this.files[this.root+X];return ne&&!ne.dir?ne:null},folder:function(X){if(!X)return this;if(q(X))return this.filter(function(ne,Q){return Q.dir&&X.test(ne)});var L=this.root+X,ue=P.call(this,L),Te=this.clone();return Te.root=ue.name,Te},remove:function(X){X=this.root+X;var L=this.files[X];if(L||(X.slice(-1)!=="/"&&(X+="/"),L=this.files[X]),L&&!L.dir)delete this.files[X];else for(var ue=this.filter(function(ne,Q){return Q.name.slice(0,X.length)===X}),Te=0;Te<ue.length;Te++)delete this.files[ue[Te].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(X){var L,ue={};try{if((ue=m.extend(X||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode})).type=ue.type.toLowerCase(),ue.compression=ue.compression.toUpperCase(),ue.type==="binarystring"&&(ue.type="string"),!ue.type)throw new Error("No output type specified.");m.checkSupport(ue.type),ue.platform!=="darwin"&&ue.platform!=="freebsd"&&ue.platform!=="linux"&&ue.platform!=="sunos"||(ue.platform="UNIX"),ue.platform==="win32"&&(ue.platform="DOS");var Te=ue.comment||this.comment||"";L=c.generateWorker(this,ue,Te)}catch(ne){(L=new v("error")).error(ne)}return new E(L,ue.type||"string",ue.mimeType)},generateAsync:function(X,L){return this.generateInternalStream(X).accumulate(L)},generateNodeStream:function(X,L){return(X=X||{}).type||(X.type="nodebuffer"),this.generateInternalStream(X).toNodejsStream(L)}};u.exports=W},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,u,g){u.exports=r("stream")},{stream:void 0}],17:[function(r,u,g){var y=r("./DataReader");function h(m){y.call(this,m);for(var v=0;v<this.data.length;v++)m[v]=255&m[v]}r("../utils").inherits(h,y),h.prototype.byteAt=function(m){return this.data[this.zero+m]},h.prototype.lastIndexOfSignature=function(m){for(var v=m.charCodeAt(0),E=m.charCodeAt(1),R=m.charCodeAt(2),I=m.charCodeAt(3),l=this.length-4;0<=l;--l)if(this.data[l]===v&&this.data[l+1]===E&&this.data[l+2]===R&&this.data[l+3]===I)return l-this.zero;return-1},h.prototype.readAndCheckSignature=function(m){var v=m.charCodeAt(0),E=m.charCodeAt(1),R=m.charCodeAt(2),I=m.charCodeAt(3),l=this.readData(4);return v===l[0]&&E===l[1]&&R===l[2]&&I===l[3]},h.prototype.readData=function(m){if(this.checkOffset(m),m===0)return[];var v=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,v},u.exports=h},{"../utils":32,"./DataReader":18}],18:[function(r,u,g){var y=r("../utils");function h(m){this.data=m,this.length=m.length,this.index=0,this.zero=0}h.prototype={checkOffset:function(m){this.checkIndex(this.index+m)},checkIndex:function(m){if(this.length<this.zero+m||m<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+m+"). Corrupted zip ?")},setIndex:function(m){this.checkIndex(m),this.index=m},skip:function(m){this.setIndex(this.index+m)},byteAt:function(){},readInt:function(m){var v,E=0;for(this.checkOffset(m),v=this.index+m-1;v>=this.index;v--)E=(E<<8)+this.byteAt(v);return this.index+=m,E},readString:function(m){return y.transformTo("string",this.readData(m))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var m=this.readInt(4);return new Date(Date.UTC(1980+(m>>25&127),(m>>21&15)-1,m>>16&31,m>>11&31,m>>5&63,(31&m)<<1))}},u.exports=h},{"../utils":32}],19:[function(r,u,g){var y=r("./Uint8ArrayReader");function h(m){y.call(this,m)}r("../utils").inherits(h,y),h.prototype.readData=function(m){this.checkOffset(m);var v=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,v},u.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,u,g){var y=r("./DataReader");function h(m){y.call(this,m)}r("../utils").inherits(h,y),h.prototype.byteAt=function(m){return this.data.charCodeAt(this.zero+m)},h.prototype.lastIndexOfSignature=function(m){return this.data.lastIndexOf(m)-this.zero},h.prototype.readAndCheckSignature=function(m){return m===this.readData(4)},h.prototype.readData=function(m){this.checkOffset(m);var v=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,v},u.exports=h},{"../utils":32,"./DataReader":18}],21:[function(r,u,g){var y=r("./ArrayReader");function h(m){y.call(this,m)}r("../utils").inherits(h,y),h.prototype.readData=function(m){if(this.checkOffset(m),m===0)return new Uint8Array(0);var v=this.data.subarray(this.zero+this.index,this.zero+this.index+m);return this.index+=m,v},u.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(r,u,g){var y=r("../utils"),h=r("../support"),m=r("./ArrayReader"),v=r("./StringReader"),E=r("./NodeBufferReader"),R=r("./Uint8ArrayReader");u.exports=function(I){var l=y.getTypeOf(I);return y.checkSupport(l),l!=="string"||h.uint8array?l==="nodebuffer"?new E(I):h.uint8array?new R(y.transformTo("uint8array",I)):new m(y.transformTo("array",I)):new v(I)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,u,g){g.LOCAL_FILE_HEADER="PK",g.CENTRAL_FILE_HEADER="PK",g.CENTRAL_DIRECTORY_END="PK",g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",g.ZIP64_CENTRAL_DIRECTORY_END="PK",g.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,u,g){var y=r("./GenericWorker"),h=r("../utils");function m(v){y.call(this,"ConvertWorker to "+v),this.destType=v}h.inherits(m,y),m.prototype.processChunk=function(v){this.push({data:h.transformTo(this.destType,v.data),meta:v.meta})},u.exports=m},{"../utils":32,"./GenericWorker":28}],25:[function(r,u,g){var y=r("./GenericWorker"),h=r("../crc32");function m(){y.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(m,y),m.prototype.processChunk=function(v){this.streamInfo.crc32=h(v.data,this.streamInfo.crc32||0),this.push(v)},u.exports=m},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,u,g){var y=r("../utils"),h=r("./GenericWorker");function m(v){h.call(this,"DataLengthProbe for "+v),this.propName=v,this.withStreamInfo(v,0)}y.inherits(m,h),m.prototype.processChunk=function(v){if(v){var E=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=E+v.data.length}h.prototype.processChunk.call(this,v)},u.exports=m},{"../utils":32,"./GenericWorker":28}],27:[function(r,u,g){var y=r("../utils"),h=r("./GenericWorker");function m(v){h.call(this,"DataWorker");var E=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,v.then(function(R){E.dataIsReady=!0,E.data=R,E.max=R&&R.length||0,E.type=y.getTypeOf(R),E.isPaused||E._tickAndRepeat()},function(R){E.error(R)})}y.inherits(m,h),m.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this.data=null},m.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,y.delay(this._tickAndRepeat,[],this)),!0)},m.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(y.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},m.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var v=null,E=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":v=this.data.substring(this.index,E);break;case"uint8array":v=this.data.subarray(this.index,E);break;case"array":case"nodebuffer":v=this.data.slice(this.index,E)}return this.index=E,this.push({data:v,meta:{percent:this.max?this.index/this.max*100:0}})},u.exports=m},{"../utils":32,"./GenericWorker":28}],28:[function(r,u,g){function y(h){this.name=h||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}y.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,m){return this._listeners[h].push(m),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,m){if(this._listeners[h])for(var v=0;v<this._listeners[h].length;v++)this._listeners[h][v].call(this,m)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var m=this;return h.on("data",function(v){m.processChunk(v)}),h.on("end",function(){m.end()}),h.on("error",function(v){m.error(v)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,m){return this.extraStreamInfo[h]=m,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},u.exports=y},{}],29:[function(r,u,g){var y=r("../utils"),h=r("./ConvertWorker"),m=r("./GenericWorker"),v=r("../base64"),E=r("../support"),R=r("../external"),I=null;if(E.nodestream)try{I=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function l(T,w){return new R.Promise(function(A,M){var P=[],q=T._internalType,W=T._outputType,X=T._mimeType;T.on("data",function(L,ue){P.push(L),w&&w(ue)}).on("error",function(L){P=[],M(L)}).on("end",function(){try{var L=function(ue,Te,ne){switch(ue){case"blob":return y.newBlob(y.transformTo("arraybuffer",Te),ne);case"base64":return v.encode(Te);default:return y.transformTo(ue,Te)}}(W,function(ue,Te){var ne,Q=0,te=null,Z=0;for(ne=0;ne<Te.length;ne++)Z+=Te[ne].length;switch(ue){case"string":return Te.join("");case"array":return Array.prototype.concat.apply([],Te);case"uint8array":for(te=new Uint8Array(Z),ne=0;ne<Te.length;ne++)te.set(Te[ne],Q),Q+=Te[ne].length;return te;case"nodebuffer":return Buffer.concat(Te);default:throw new Error("concat : unsupported type '"+ue+"'")}}(q,P),X);A(L)}catch(ue){M(ue)}P=[]}).resume()})}function c(T,w,A){var M=w;switch(w){case"blob":case"arraybuffer":M="uint8array";break;case"base64":M="string"}try{this._internalType=M,this._outputType=w,this._mimeType=A,y.checkSupport(M),this._worker=T.pipe(new h(M)),T.lock()}catch(P){this._worker=new m("error"),this._worker.error(P)}}c.prototype={accumulate:function(T){return l(this,T)},on:function(T,w){var A=this;return T==="data"?this._worker.on(T,function(M){w.call(A,M.data,M.meta)}):this._worker.on(T,function(){y.delay(w,arguments,A)}),this},resume:function(){return y.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(T){if(y.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new I(this,{objectMode:this._outputType!=="nodebuffer"},T)}},u.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,u,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",g.nodebuffer=typeof Buffer<"u",g.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")g.blob=!1;else{var y=new ArrayBuffer(0);try{g.blob=new Blob([y],{type:"application/zip"}).size===0}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);h.append(y),g.blob=h.getBlob("application/zip").size===0}catch{g.blob=!1}}}try{g.nodestream=!!r("readable-stream").Readable}catch{g.nodestream=!1}},{"readable-stream":16}],31:[function(r,u,g){for(var y=r("./utils"),h=r("./support"),m=r("./nodejsUtils"),v=r("./stream/GenericWorker"),E=new Array(256),R=0;R<256;R++)E[R]=252<=R?6:248<=R?5:240<=R?4:224<=R?3:192<=R?2:1;E[254]=E[254]=1;function I(){v.call(this,"utf-8 decode"),this.leftOver=null}function l(){v.call(this,"utf-8 encode")}g.utf8encode=function(c){return h.nodebuffer?m.newBufferFrom(c,"utf-8"):function(T){var w,A,M,P,q,W=T.length,X=0;for(P=0;P<W;P++)(64512&(A=T.charCodeAt(P)))==55296&&P+1<W&&(64512&(M=T.charCodeAt(P+1)))==56320&&(A=65536+(A-55296<<10)+(M-56320),P++),X+=A<128?1:A<2048?2:A<65536?3:4;for(w=h.uint8array?new Uint8Array(X):new Array(X),P=q=0;q<X;P++)(64512&(A=T.charCodeAt(P)))==55296&&P+1<W&&(64512&(M=T.charCodeAt(P+1)))==56320&&(A=65536+(A-55296<<10)+(M-56320),P++),A<128?w[q++]=A:(A<2048?w[q++]=192|A>>>6:(A<65536?w[q++]=224|A>>>12:(w[q++]=240|A>>>18,w[q++]=128|A>>>12&63),w[q++]=128|A>>>6&63),w[q++]=128|63&A);return w}(c)},g.utf8decode=function(c){return h.nodebuffer?y.transformTo("nodebuffer",c).toString("utf-8"):function(T){var w,A,M,P,q=T.length,W=new Array(2*q);for(w=A=0;w<q;)if((M=T[w++])<128)W[A++]=M;else if(4<(P=E[M]))W[A++]=65533,w+=P-1;else{for(M&=P===2?31:P===3?15:7;1<P&&w<q;)M=M<<6|63&T[w++],P--;1<P?W[A++]=65533:M<65536?W[A++]=M:(M-=65536,W[A++]=55296|M>>10&1023,W[A++]=56320|1023&M)}return W.length!==A&&(W.subarray?W=W.subarray(0,A):W.length=A),y.applyFromCharCode(W)}(c=y.transformTo(h.uint8array?"uint8array":"array",c))},y.inherits(I,v),I.prototype.processChunk=function(c){var T=y.transformTo(h.uint8array?"uint8array":"array",c.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var w=T;(T=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),T.set(w,this.leftOver.length)}else T=this.leftOver.concat(T);this.leftOver=null}var A=function(P,q){var W;for((q=q||P.length)>P.length&&(q=P.length),W=q-1;0<=W&&(192&P[W])==128;)W--;return W<0||W===0?q:W+E[P[W]]>q?W:q}(T),M=T;A!==T.length&&(h.uint8array?(M=T.subarray(0,A),this.leftOver=T.subarray(A,T.length)):(M=T.slice(0,A),this.leftOver=T.slice(A,T.length))),this.push({data:g.utf8decode(M),meta:c.meta})},I.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},g.Utf8DecodeWorker=I,y.inherits(l,v),l.prototype.processChunk=function(c){this.push({data:g.utf8encode(c.data),meta:c.meta})},g.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,u,g){var y=r("./support"),h=r("./base64"),m=r("./nodejsUtils"),v=r("./external");function E(w){return w}function R(w,A){for(var M=0;M<w.length;++M)A[M]=255&w.charCodeAt(M);return A}r("setimmediate"),g.newBlob=function(w,A){g.checkSupport("blob");try{return new Blob([w],{type:A})}catch{try{var M=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return M.append(w),M.getBlob(A)}catch{throw new Error("Bug : can't construct the Blob.")}}};var I={stringifyByChunk:function(w,A,M){var P=[],q=0,W=w.length;if(W<=M)return String.fromCharCode.apply(null,w);for(;q<W;)A==="array"||A==="nodebuffer"?P.push(String.fromCharCode.apply(null,w.slice(q,Math.min(q+M,W)))):P.push(String.fromCharCode.apply(null,w.subarray(q,Math.min(q+M,W)))),q+=M;return P.join("")},stringifyByChar:function(w){for(var A="",M=0;M<w.length;M++)A+=String.fromCharCode(w[M]);return A},applyCanBeUsed:{uint8array:function(){try{return y.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return y.nodebuffer&&String.fromCharCode.apply(null,m.allocBuffer(1)).length===1}catch{return!1}}()}};function l(w){var A=65536,M=g.getTypeOf(w),P=!0;if(M==="uint8array"?P=I.applyCanBeUsed.uint8array:M==="nodebuffer"&&(P=I.applyCanBeUsed.nodebuffer),P)for(;1<A;)try{return I.stringifyByChunk(w,M,A)}catch{A=Math.floor(A/2)}return I.stringifyByChar(w)}function c(w,A){for(var M=0;M<w.length;M++)A[M]=w[M];return A}g.applyFromCharCode=l;var T={};T.string={string:E,array:function(w){return R(w,new Array(w.length))},arraybuffer:function(w){return T.string.uint8array(w).buffer},uint8array:function(w){return R(w,new Uint8Array(w.length))},nodebuffer:function(w){return R(w,m.allocBuffer(w.length))}},T.array={string:l,array:E,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return m.newBufferFrom(w)}},T.arraybuffer={string:function(w){return l(new Uint8Array(w))},array:function(w){return c(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:E,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return m.newBufferFrom(new Uint8Array(w))}},T.uint8array={string:l,array:function(w){return c(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:E,nodebuffer:function(w){return m.newBufferFrom(w)}},T.nodebuffer={string:l,array:function(w){return c(w,new Array(w.length))},arraybuffer:function(w){return T.nodebuffer.uint8array(w).buffer},uint8array:function(w){return c(w,new Uint8Array(w.length))},nodebuffer:E},g.transformTo=function(w,A){if(A=A||"",!w)return A;g.checkSupport(w);var M=g.getTypeOf(A);return T[M][w](A)},g.resolve=function(w){for(var A=w.split("/"),M=[],P=0;P<A.length;P++){var q=A[P];q==="."||q===""&&P!==0&&P!==A.length-1||(q===".."?M.pop():M.push(q))}return M.join("/")},g.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":y.nodebuffer&&m.isBuffer(w)?"nodebuffer":y.uint8array&&w instanceof Uint8Array?"uint8array":y.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},g.checkSupport=function(w){if(!y[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},g.MAX_VALUE_16BITS=65535,g.MAX_VALUE_32BITS=-1,g.pretty=function(w){var A,M,P="";for(M=0;M<(w||"").length;M++)P+="\\x"+((A=w.charCodeAt(M))<16?"0":"")+A.toString(16).toUpperCase();return P},g.delay=function(w,A,M){setImmediate(function(){w.apply(M||null,A||[])})},g.inherits=function(w,A){function M(){}M.prototype=A.prototype,w.prototype=new M},g.extend=function(){var w,A,M={};for(w=0;w<arguments.length;w++)for(A in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],A)&&M[A]===void 0&&(M[A]=arguments[w][A]);return M},g.prepareContent=function(w,A,M,P,q){return v.Promise.resolve(A).then(function(W){return y.blob&&(W instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(W))!==-1)&&typeof FileReader<"u"?new v.Promise(function(X,L){var ue=new FileReader;ue.onload=function(Te){X(Te.target.result)},ue.onerror=function(Te){L(Te.target.error)},ue.readAsArrayBuffer(W)}):W}).then(function(W){var X=g.getTypeOf(W);return X?(X==="arraybuffer"?W=g.transformTo("uint8array",W):X==="string"&&(q?W=h.decode(W):M&&P!==!0&&(W=function(L){return R(L,y.uint8array?new Uint8Array(L.length):new Array(L.length))}(W))),W):v.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,u,g){var y=r("./reader/readerFor"),h=r("./utils"),m=r("./signature"),v=r("./zipEntry"),E=r("./support");function R(I){this.files=[],this.loadOptions=I}R.prototype={checkSignature:function(I){if(!this.reader.readAndCheckSignature(I)){this.reader.index-=4;var l=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+h.pretty(l)+", expected "+h.pretty(I)+")")}},isSignature:function(I,l){var c=this.reader.index;this.reader.setIndex(I);var T=this.reader.readString(4)===l;return this.reader.setIndex(c),T},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var I=this.reader.readData(this.zipCommentLength),l=E.uint8array?"uint8array":"array",c=h.transformTo(l,I);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var I,l,c,T=this.zip64EndOfCentralSize-44;0<T;)I=this.reader.readInt(2),l=this.reader.readInt(4),c=this.reader.readData(l),this.zip64ExtensibleData[I]={id:I,length:l,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var I,l;for(I=0;I<this.files.length;I++)l=this.files[I],this.reader.setIndex(l.localHeaderOffset),this.checkSignature(m.LOCAL_FILE_HEADER),l.readLocalPart(this.reader),l.handleUTF8(),l.processAttributes()},readCentralDir:function(){var I;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(m.CENTRAL_FILE_HEADER);)(I=new v({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(I);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var I=this.reader.lastIndexOfSignature(m.CENTRAL_DIRECTORY_END);if(I<0)throw this.isSignature(0,m.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(I);var l=I;if(this.checkSignature(m.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(I=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(I),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,m.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var c=this.centralDirOffset+this.centralDirSize;this.zip64&&(c+=20,c+=12+this.zip64EndOfCentralSize);var T=l-c;if(0<T)this.isSignature(l,m.CENTRAL_FILE_HEADER)||(this.reader.zero=T);else if(T<0)throw new Error("Corrupted zip: missing "+Math.abs(T)+" bytes.")},prepareReader:function(I){this.reader=y(I)},load:function(I){this.prepareReader(I),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},u.exports=R},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,u,g){var y=r("./reader/readerFor"),h=r("./utils"),m=r("./compressedObject"),v=r("./crc32"),E=r("./utf8"),R=r("./compressions"),I=r("./support");function l(c,T){this.options=c,this.loadOptions=T}l.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(c){var T,w;if(c.skip(22),this.fileNameLength=c.readInt(2),w=c.readInt(2),this.fileName=c.readData(this.fileNameLength),c.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((T=function(A){for(var M in R)if(Object.prototype.hasOwnProperty.call(R,M)&&R[M].magic===A)return R[M];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+h.pretty(this.compressionMethod)+" unknown (inner file : "+h.transformTo("string",this.fileName)+")");this.decompressed=new m(this.compressedSize,this.uncompressedSize,this.crc32,T,c.readData(this.compressedSize))},readCentralPart:function(c){this.versionMadeBy=c.readInt(2),c.skip(2),this.bitFlag=c.readInt(2),this.compressionMethod=c.readString(2),this.date=c.readDate(),this.crc32=c.readInt(4),this.compressedSize=c.readInt(4),this.uncompressedSize=c.readInt(4);var T=c.readInt(2);if(this.extraFieldsLength=c.readInt(2),this.fileCommentLength=c.readInt(2),this.diskNumberStart=c.readInt(2),this.internalFileAttributes=c.readInt(2),this.externalFileAttributes=c.readInt(4),this.localHeaderOffset=c.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");c.skip(T),this.readExtraFields(c),this.parseZIP64ExtraField(c),this.fileComment=c.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var c=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),c==0&&(this.dosPermissions=63&this.externalFileAttributes),c==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var c=y(this.extraFields[1].value);this.uncompressedSize===h.MAX_VALUE_32BITS&&(this.uncompressedSize=c.readInt(8)),this.compressedSize===h.MAX_VALUE_32BITS&&(this.compressedSize=c.readInt(8)),this.localHeaderOffset===h.MAX_VALUE_32BITS&&(this.localHeaderOffset=c.readInt(8)),this.diskNumberStart===h.MAX_VALUE_32BITS&&(this.diskNumberStart=c.readInt(4))}},readExtraFields:function(c){var T,w,A,M=c.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});c.index+4<M;)T=c.readInt(2),w=c.readInt(2),A=c.readData(w),this.extraFields[T]={id:T,length:w,value:A};c.setIndex(M)},handleUTF8:function(){var c=I.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=E.utf8decode(this.fileName),this.fileCommentStr=E.utf8decode(this.fileComment);else{var T=this.findExtraFieldUnicodePath();if(T!==null)this.fileNameStr=T;else{var w=h.transformTo(c,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var A=this.findExtraFieldUnicodeComment();if(A!==null)this.fileCommentStr=A;else{var M=h.transformTo(c,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(M)}}},findExtraFieldUnicodePath:function(){var c=this.extraFields[28789];if(c){var T=y(c.value);return T.readInt(1)!==1||v(this.fileName)!==T.readInt(4)?null:E.utf8decode(T.readData(c.length-5))}return null},findExtraFieldUnicodeComment:function(){var c=this.extraFields[25461];if(c){var T=y(c.value);return T.readInt(1)!==1||v(this.fileComment)!==T.readInt(4)?null:E.utf8decode(T.readData(c.length-5))}return null}},u.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,u,g){function y(T,w,A){this.name=T,this.dir=A.dir,this.date=A.date,this.comment=A.comment,this.unixPermissions=A.unixPermissions,this.dosPermissions=A.dosPermissions,this._data=w,this._dataBinary=A.binary,this.options={compression:A.compression,compressionOptions:A.compressionOptions}}var h=r("./stream/StreamHelper"),m=r("./stream/DataWorker"),v=r("./utf8"),E=r("./compressedObject"),R=r("./stream/GenericWorker");y.prototype={internalStream:function(T){var w=null,A="string";try{if(!T)throw new Error("No output type specified.");var M=(A=T.toLowerCase())==="string"||A==="text";A!=="binarystring"&&A!=="text"||(A="string"),w=this._decompressWorker();var P=!this._dataBinary;P&&!M&&(w=w.pipe(new v.Utf8EncodeWorker)),!P&&M&&(w=w.pipe(new v.Utf8DecodeWorker))}catch(q){(w=new R("error")).error(q)}return new h(w,A,"")},async:function(T,w){return this.internalStream(T).accumulate(w)},nodeStream:function(T,w){return this.internalStream(T||"nodebuffer").toNodejsStream(w)},_compressWorker:function(T,w){if(this._data instanceof E&&this._data.compression.magic===T.magic)return this._data.getCompressedWorker();var A=this._decompressWorker();return this._dataBinary||(A=A.pipe(new v.Utf8EncodeWorker)),E.createWorkerFrom(A,T,w)},_decompressWorker:function(){return this._data instanceof E?this._data.getContentWorker():this._data instanceof R?this._data:new m(this._data)}};for(var I=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<I.length;c++)y.prototype[I[c]]=l;u.exports=y},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,u,g){(function(y){var h,m,v=y.MutationObserver||y.WebKitMutationObserver;if(v){var E=0,R=new v(T),I=y.document.createTextNode("");R.observe(I,{characterData:!0}),h=function(){I.data=E=++E%2}}else if(y.setImmediate||y.MessageChannel===void 0)h="document"in y&&"onreadystatechange"in y.document.createElement("script")?function(){var w=y.document.createElement("script");w.onreadystatechange=function(){T(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},y.document.documentElement.appendChild(w)}:function(){setTimeout(T,0)};else{var l=new y.MessageChannel;l.port1.onmessage=T,h=function(){l.port2.postMessage(0)}}var c=[];function T(){var w,A;m=!0;for(var M=c.length;M;){for(A=c,c=[],w=-1;++w<M;)A[w]();M=c.length}m=!1}u.exports=function(w){c.push(w)!==1||m||h()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,u,g){var y=r("immediate");function h(){}var m={},v=["REJECTED"],E=["FULFILLED"],R=["PENDING"];function I(M){if(typeof M!="function")throw new TypeError("resolver must be a function");this.state=R,this.queue=[],this.outcome=void 0,M!==h&&w(this,M)}function l(M,P,q){this.promise=M,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof q=="function"&&(this.onRejected=q,this.callRejected=this.otherCallRejected)}function c(M,P,q){y(function(){var W;try{W=P(q)}catch(X){return m.reject(M,X)}W===M?m.reject(M,new TypeError("Cannot resolve promise with itself")):m.resolve(M,W)})}function T(M){var P=M&&M.then;if(M&&(typeof M=="object"||typeof M=="function")&&typeof P=="function")return function(){P.apply(M,arguments)}}function w(M,P){var q=!1;function W(ue){q||(q=!0,m.reject(M,ue))}function X(ue){q||(q=!0,m.resolve(M,ue))}var L=A(function(){P(X,W)});L.status==="error"&&W(L.value)}function A(M,P){var q={};try{q.value=M(P),q.status="success"}catch(W){q.status="error",q.value=W}return q}(u.exports=I).prototype.finally=function(M){if(typeof M!="function")return this;var P=this.constructor;return this.then(function(q){return P.resolve(M()).then(function(){return q})},function(q){return P.resolve(M()).then(function(){throw q})})},I.prototype.catch=function(M){return this.then(null,M)},I.prototype.then=function(M,P){if(typeof M!="function"&&this.state===E||typeof P!="function"&&this.state===v)return this;var q=new this.constructor(h);return this.state!==R?c(q,this.state===E?M:P,this.outcome):this.queue.push(new l(q,M,P)),q},l.prototype.callFulfilled=function(M){m.resolve(this.promise,M)},l.prototype.otherCallFulfilled=function(M){c(this.promise,this.onFulfilled,M)},l.prototype.callRejected=function(M){m.reject(this.promise,M)},l.prototype.otherCallRejected=function(M){c(this.promise,this.onRejected,M)},m.resolve=function(M,P){var q=A(T,P);if(q.status==="error")return m.reject(M,q.value);var W=q.value;if(W)w(M,W);else{M.state=E,M.outcome=P;for(var X=-1,L=M.queue.length;++X<L;)M.queue[X].callFulfilled(P)}return M},m.reject=function(M,P){M.state=v,M.outcome=P;for(var q=-1,W=M.queue.length;++q<W;)M.queue[q].callRejected(P);return M},I.resolve=function(M){return M instanceof this?M:m.resolve(new this(h),M)},I.reject=function(M){var P=new this(h);return m.reject(P,M)},I.all=function(M){var P=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var q=M.length,W=!1;if(!q)return this.resolve([]);for(var X=new Array(q),L=0,ue=-1,Te=new this(h);++ue<q;)ne(M[ue],ue);return Te;function ne(Q,te){P.resolve(Q).then(function(Z){X[te]=Z,++L!==q||W||(W=!0,m.resolve(Te,X))},function(Z){W||(W=!0,m.reject(Te,Z))})}},I.race=function(M){var P=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var q=M.length,W=!1;if(!q)return this.resolve([]);for(var X=-1,L=new this(h);++X<q;)ue=M[X],P.resolve(ue).then(function(Te){W||(W=!0,m.resolve(L,Te))},function(Te){W||(W=!0,m.reject(L,Te))});var ue;return L}},{immediate:36}],38:[function(r,u,g){var y={};(0,r("./lib/utils/common").assign)(y,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),u.exports=y},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,u,g){var y=r("./zlib/deflate"),h=r("./utils/common"),m=r("./utils/strings"),v=r("./zlib/messages"),E=r("./zlib/zstream"),R=Object.prototype.toString,I=0,l=-1,c=0,T=8;function w(M){if(!(this instanceof w))return new w(M);this.options=h.assign({level:l,method:T,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},M||{});var P=this.options;P.raw&&0<P.windowBits?P.windowBits=-P.windowBits:P.gzip&&0<P.windowBits&&P.windowBits<16&&(P.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var q=y.deflateInit2(this.strm,P.level,P.method,P.windowBits,P.memLevel,P.strategy);if(q!==I)throw new Error(v[q]);if(P.header&&y.deflateSetHeader(this.strm,P.header),P.dictionary){var W;if(W=typeof P.dictionary=="string"?m.string2buf(P.dictionary):R.call(P.dictionary)==="[object ArrayBuffer]"?new Uint8Array(P.dictionary):P.dictionary,(q=y.deflateSetDictionary(this.strm,W))!==I)throw new Error(v[q]);this._dict_set=!0}}function A(M,P){var q=new w(P);if(q.push(M,!0),q.err)throw q.msg||v[q.err];return q.result}w.prototype.push=function(M,P){var q,W,X=this.strm,L=this.options.chunkSize;if(this.ended)return!1;W=P===~~P?P:P===!0?4:0,typeof M=="string"?X.input=m.string2buf(M):R.call(M)==="[object ArrayBuffer]"?X.input=new Uint8Array(M):X.input=M,X.next_in=0,X.avail_in=X.input.length;do{if(X.avail_out===0&&(X.output=new h.Buf8(L),X.next_out=0,X.avail_out=L),(q=y.deflate(X,W))!==1&&q!==I)return this.onEnd(q),!(this.ended=!0);X.avail_out!==0&&(X.avail_in!==0||W!==4&&W!==2)||(this.options.to==="string"?this.onData(m.buf2binstring(h.shrinkBuf(X.output,X.next_out))):this.onData(h.shrinkBuf(X.output,X.next_out)))}while((0<X.avail_in||X.avail_out===0)&&q!==1);return W===4?(q=y.deflateEnd(this.strm),this.onEnd(q),this.ended=!0,q===I):W!==2||(this.onEnd(I),!(X.avail_out=0))},w.prototype.onData=function(M){this.chunks.push(M)},w.prototype.onEnd=function(M){M===I&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=M,this.msg=this.strm.msg},g.Deflate=w,g.deflate=A,g.deflateRaw=function(M,P){return(P=P||{}).raw=!0,A(M,P)},g.gzip=function(M,P){return(P=P||{}).gzip=!0,A(M,P)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,u,g){var y=r("./zlib/inflate"),h=r("./utils/common"),m=r("./utils/strings"),v=r("./zlib/constants"),E=r("./zlib/messages"),R=r("./zlib/zstream"),I=r("./zlib/gzheader"),l=Object.prototype.toString;function c(w){if(!(this instanceof c))return new c(w);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},w||{});var A=this.options;A.raw&&0<=A.windowBits&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),!(0<=A.windowBits&&A.windowBits<16)||w&&w.windowBits||(A.windowBits+=32),15<A.windowBits&&A.windowBits<48&&!(15&A.windowBits)&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new R,this.strm.avail_out=0;var M=y.inflateInit2(this.strm,A.windowBits);if(M!==v.Z_OK)throw new Error(E[M]);this.header=new I,y.inflateGetHeader(this.strm,this.header)}function T(w,A){var M=new c(A);if(M.push(w,!0),M.err)throw M.msg||E[M.err];return M.result}c.prototype.push=function(w,A){var M,P,q,W,X,L,ue=this.strm,Te=this.options.chunkSize,ne=this.options.dictionary,Q=!1;if(this.ended)return!1;P=A===~~A?A:A===!0?v.Z_FINISH:v.Z_NO_FLUSH,typeof w=="string"?ue.input=m.binstring2buf(w):l.call(w)==="[object ArrayBuffer]"?ue.input=new Uint8Array(w):ue.input=w,ue.next_in=0,ue.avail_in=ue.input.length;do{if(ue.avail_out===0&&(ue.output=new h.Buf8(Te),ue.next_out=0,ue.avail_out=Te),(M=y.inflate(ue,v.Z_NO_FLUSH))===v.Z_NEED_DICT&&ne&&(L=typeof ne=="string"?m.string2buf(ne):l.call(ne)==="[object ArrayBuffer]"?new Uint8Array(ne):ne,M=y.inflateSetDictionary(this.strm,L)),M===v.Z_BUF_ERROR&&Q===!0&&(M=v.Z_OK,Q=!1),M!==v.Z_STREAM_END&&M!==v.Z_OK)return this.onEnd(M),!(this.ended=!0);ue.next_out&&(ue.avail_out!==0&&M!==v.Z_STREAM_END&&(ue.avail_in!==0||P!==v.Z_FINISH&&P!==v.Z_SYNC_FLUSH)||(this.options.to==="string"?(q=m.utf8border(ue.output,ue.next_out),W=ue.next_out-q,X=m.buf2string(ue.output,q),ue.next_out=W,ue.avail_out=Te-W,W&&h.arraySet(ue.output,ue.output,q,W,0),this.onData(X)):this.onData(h.shrinkBuf(ue.output,ue.next_out)))),ue.avail_in===0&&ue.avail_out===0&&(Q=!0)}while((0<ue.avail_in||ue.avail_out===0)&&M!==v.Z_STREAM_END);return M===v.Z_STREAM_END&&(P=v.Z_FINISH),P===v.Z_FINISH?(M=y.inflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===v.Z_OK):P!==v.Z_SYNC_FLUSH||(this.onEnd(v.Z_OK),!(ue.avail_out=0))},c.prototype.onData=function(w){this.chunks.push(w)},c.prototype.onEnd=function(w){w===v.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},g.Inflate=c,g.inflate=T,g.inflateRaw=function(w,A){return(A=A||{}).raw=!0,T(w,A)},g.ungzip=T},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,u,g){var y=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";g.assign=function(v){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var R=E.shift();if(R){if(typeof R!="object")throw new TypeError(R+"must be non-object");for(var I in R)R.hasOwnProperty(I)&&(v[I]=R[I])}}return v},g.shrinkBuf=function(v,E){return v.length===E?v:v.subarray?v.subarray(0,E):(v.length=E,v)};var h={arraySet:function(v,E,R,I,l){if(E.subarray&&v.subarray)v.set(E.subarray(R,R+I),l);else for(var c=0;c<I;c++)v[l+c]=E[R+c]},flattenChunks:function(v){var E,R,I,l,c,T;for(E=I=0,R=v.length;E<R;E++)I+=v[E].length;for(T=new Uint8Array(I),E=l=0,R=v.length;E<R;E++)c=v[E],T.set(c,l),l+=c.length;return T}},m={arraySet:function(v,E,R,I,l){for(var c=0;c<I;c++)v[l+c]=E[R+c]},flattenChunks:function(v){return[].concat.apply([],v)}};g.setTyped=function(v){v?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,h)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,m))},g.setTyped(y)},{}],42:[function(r,u,g){var y=r("./common"),h=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m=!1}for(var v=new y.Buf8(256),E=0;E<256;E++)v[E]=252<=E?6:248<=E?5:240<=E?4:224<=E?3:192<=E?2:1;function R(I,l){if(l<65537&&(I.subarray&&m||!I.subarray&&h))return String.fromCharCode.apply(null,y.shrinkBuf(I,l));for(var c="",T=0;T<l;T++)c+=String.fromCharCode(I[T]);return c}v[254]=v[254]=1,g.string2buf=function(I){var l,c,T,w,A,M=I.length,P=0;for(w=0;w<M;w++)(64512&(c=I.charCodeAt(w)))==55296&&w+1<M&&(64512&(T=I.charCodeAt(w+1)))==56320&&(c=65536+(c-55296<<10)+(T-56320),w++),P+=c<128?1:c<2048?2:c<65536?3:4;for(l=new y.Buf8(P),w=A=0;A<P;w++)(64512&(c=I.charCodeAt(w)))==55296&&w+1<M&&(64512&(T=I.charCodeAt(w+1)))==56320&&(c=65536+(c-55296<<10)+(T-56320),w++),c<128?l[A++]=c:(c<2048?l[A++]=192|c>>>6:(c<65536?l[A++]=224|c>>>12:(l[A++]=240|c>>>18,l[A++]=128|c>>>12&63),l[A++]=128|c>>>6&63),l[A++]=128|63&c);return l},g.buf2binstring=function(I){return R(I,I.length)},g.binstring2buf=function(I){for(var l=new y.Buf8(I.length),c=0,T=l.length;c<T;c++)l[c]=I.charCodeAt(c);return l},g.buf2string=function(I,l){var c,T,w,A,M=l||I.length,P=new Array(2*M);for(c=T=0;c<M;)if((w=I[c++])<128)P[T++]=w;else if(4<(A=v[w]))P[T++]=65533,c+=A-1;else{for(w&=A===2?31:A===3?15:7;1<A&&c<M;)w=w<<6|63&I[c++],A--;1<A?P[T++]=65533:w<65536?P[T++]=w:(w-=65536,P[T++]=55296|w>>10&1023,P[T++]=56320|1023&w)}return R(P,T)},g.utf8border=function(I,l){var c;for((l=l||I.length)>I.length&&(l=I.length),c=l-1;0<=c&&(192&I[c])==128;)c--;return c<0||c===0?l:c+v[I[c]]>l?c:l}},{"./common":41}],43:[function(r,u,g){u.exports=function(y,h,m,v){for(var E=65535&y|0,R=y>>>16&65535|0,I=0;m!==0;){for(m-=I=2e3<m?2e3:m;R=R+(E=E+h[v++]|0)|0,--I;);E%=65521,R%=65521}return E|R<<16|0}},{}],44:[function(r,u,g){u.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,u,g){var y=function(){for(var h,m=[],v=0;v<256;v++){h=v;for(var E=0;E<8;E++)h=1&h?3988292384^h>>>1:h>>>1;m[v]=h}return m}();u.exports=function(h,m,v,E){var R=y,I=E+v;h^=-1;for(var l=E;l<I;l++)h=h>>>8^R[255&(h^m[l])];return-1^h}},{}],46:[function(r,u,g){var y,h=r("../utils/common"),m=r("./trees"),v=r("./adler32"),E=r("./crc32"),R=r("./messages"),I=0,l=4,c=0,T=-2,w=-1,A=4,M=2,P=8,q=9,W=286,X=30,L=19,ue=2*W+1,Te=15,ne=3,Q=258,te=Q+ne+1,Z=42,J=113,N=1,ie=2,be=3,ye=4;function Ce(O,j){return O.msg=R[j],j}function K(O){return(O<<1)-(4<O?9:0)}function ve(O){for(var j=O.length;0<=--j;)O[j]=0}function de(O){var j=O.state,G=j.pending;G>O.avail_out&&(G=O.avail_out),G!==0&&(h.arraySet(O.output,j.pending_buf,j.pending_out,G,O.next_out),O.next_out+=G,j.pending_out+=G,O.total_out+=G,O.avail_out-=G,j.pending-=G,j.pending===0&&(j.pending_out=0))}function fe(O,j){m._tr_flush_block(O,0<=O.block_start?O.block_start:-1,O.strstart-O.block_start,j),O.block_start=O.strstart,de(O.strm)}function Se(O,j){O.pending_buf[O.pending++]=j}function _e(O,j){O.pending_buf[O.pending++]=j>>>8&255,O.pending_buf[O.pending++]=255&j}function Ne(O,j){var G,k,D=O.max_chain_length,F=O.strstart,$=O.prev_length,ae=O.nice_match,ee=O.strstart>O.w_size-te?O.strstart-(O.w_size-te):0,me=O.window,xe=O.w_mask,Me=O.prev,Be=O.strstart+Q,$e=me[F+$-1],Ge=me[F+$];O.prev_length>=O.good_match&&(D>>=2),ae>O.lookahead&&(ae=O.lookahead);do if(me[(G=j)+$]===Ge&&me[G+$-1]===$e&&me[G]===me[F]&&me[++G]===me[F+1]){F+=2,G++;do;while(me[++F]===me[++G]&&me[++F]===me[++G]&&me[++F]===me[++G]&&me[++F]===me[++G]&&me[++F]===me[++G]&&me[++F]===me[++G]&&me[++F]===me[++G]&&me[++F]===me[++G]&&F<Be);if(k=Q-(Be-F),F=Be-Q,$<k){if(O.match_start=j,ae<=($=k))break;$e=me[F+$-1],Ge=me[F+$]}}while((j=Me[j&xe])>ee&&--D!=0);return $<=O.lookahead?$:O.lookahead}function d0(O){var j,G,k,D,F,$,ae,ee,me,xe,Me=O.w_size;do{if(D=O.window_size-O.lookahead-O.strstart,O.strstart>=Me+(Me-te)){for(h.arraySet(O.window,O.window,Me,Me,0),O.match_start-=Me,O.strstart-=Me,O.block_start-=Me,j=G=O.hash_size;k=O.head[--j],O.head[j]=Me<=k?k-Me:0,--G;);for(j=G=Me;k=O.prev[--j],O.prev[j]=Me<=k?k-Me:0,--G;);D+=Me}if(O.strm.avail_in===0)break;if($=O.strm,ae=O.window,ee=O.strstart+O.lookahead,me=D,xe=void 0,xe=$.avail_in,me<xe&&(xe=me),G=xe===0?0:($.avail_in-=xe,h.arraySet(ae,$.input,$.next_in,xe,ee),$.state.wrap===1?$.adler=v($.adler,ae,xe,ee):$.state.wrap===2&&($.adler=E($.adler,ae,xe,ee)),$.next_in+=xe,$.total_in+=xe,xe),O.lookahead+=G,O.lookahead+O.insert>=ne)for(F=O.strstart-O.insert,O.ins_h=O.window[F],O.ins_h=(O.ins_h<<O.hash_shift^O.window[F+1])&O.hash_mask;O.insert&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[F+ne-1])&O.hash_mask,O.prev[F&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=F,F++,O.insert--,!(O.lookahead+O.insert<ne)););}while(O.lookahead<te&&O.strm.avail_in!==0)}function x0(O,j){for(var G,k;;){if(O.lookahead<te){if(d0(O),O.lookahead<te&&j===I)return N;if(O.lookahead===0)break}if(G=0,O.lookahead>=ne&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+ne-1])&O.hash_mask,G=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),G!==0&&O.strstart-G<=O.w_size-te&&(O.match_length=Ne(O,G)),O.match_length>=ne)if(k=m._tr_tally(O,O.strstart-O.match_start,O.match_length-ne),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=ne){for(O.match_length--;O.strstart++,O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+ne-1])&O.hash_mask,G=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart,--O.match_length!=0;);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+1])&O.hash_mask;else k=m._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if(k&&(fe(O,!1),O.strm.avail_out===0))return N}return O.insert=O.strstart<ne-1?O.strstart:ne-1,j===l?(fe(O,!0),O.strm.avail_out===0?be:ye):O.last_lit&&(fe(O,!1),O.strm.avail_out===0)?N:ie}function Je(O,j){for(var G,k,D;;){if(O.lookahead<te){if(d0(O),O.lookahead<te&&j===I)return N;if(O.lookahead===0)break}if(G=0,O.lookahead>=ne&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+ne-1])&O.hash_mask,G=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=ne-1,G!==0&&O.prev_length<O.max_lazy_match&&O.strstart-G<=O.w_size-te&&(O.match_length=Ne(O,G),O.match_length<=5&&(O.strategy===1||O.match_length===ne&&4096<O.strstart-O.match_start)&&(O.match_length=ne-1)),O.prev_length>=ne&&O.match_length<=O.prev_length){for(D=O.strstart+O.lookahead-ne,k=m._tr_tally(O,O.strstart-1-O.prev_match,O.prev_length-ne),O.lookahead-=O.prev_length-1,O.prev_length-=2;++O.strstart<=D&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+ne-1])&O.hash_mask,G=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),--O.prev_length!=0;);if(O.match_available=0,O.match_length=ne-1,O.strstart++,k&&(fe(O,!1),O.strm.avail_out===0))return N}else if(O.match_available){if((k=m._tr_tally(O,0,O.window[O.strstart-1]))&&fe(O,!1),O.strstart++,O.lookahead--,O.strm.avail_out===0)return N}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&(k=m._tr_tally(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<ne-1?O.strstart:ne-1,j===l?(fe(O,!0),O.strm.avail_out===0?be:ye):O.last_lit&&(fe(O,!1),O.strm.avail_out===0)?N:ie}function e0(O,j,G,k,D){this.good_length=O,this.max_lazy=j,this.nice_length=G,this.max_chain=k,this.func=D}function Y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=P,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(2*ue),this.dyn_dtree=new h.Buf16(2*(2*X+1)),this.bl_tree=new h.Buf16(2*(2*L+1)),ve(this.dyn_ltree),ve(this.dyn_dtree),ve(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(Te+1),this.heap=new h.Buf16(2*W+1),ve(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*W+1),ve(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function oe(O){var j;return O&&O.state?(O.total_in=O.total_out=0,O.data_type=M,(j=O.state).pending=0,j.pending_out=0,j.wrap<0&&(j.wrap=-j.wrap),j.status=j.wrap?Z:J,O.adler=j.wrap===2?0:1,j.last_flush=I,m._tr_init(j),c):Ce(O,T)}function b(O){var j=oe(O);return j===c&&function(G){G.window_size=2*G.w_size,ve(G.head),G.max_lazy_match=y[G.level].max_lazy,G.good_match=y[G.level].good_length,G.nice_match=y[G.level].nice_length,G.max_chain_length=y[G.level].max_chain,G.strstart=0,G.block_start=0,G.lookahead=0,G.insert=0,G.match_length=G.prev_length=ne-1,G.match_available=0,G.ins_h=0}(O.state),j}function ce(O,j,G,k,D,F){if(!O)return T;var $=1;if(j===w&&(j=6),k<0?($=0,k=-k):15<k&&($=2,k-=16),D<1||q<D||G!==P||k<8||15<k||j<0||9<j||F<0||A<F)return Ce(O,T);k===8&&(k=9);var ae=new Y;return(O.state=ae).strm=O,ae.wrap=$,ae.gzhead=null,ae.w_bits=k,ae.w_size=1<<ae.w_bits,ae.w_mask=ae.w_size-1,ae.hash_bits=D+7,ae.hash_size=1<<ae.hash_bits,ae.hash_mask=ae.hash_size-1,ae.hash_shift=~~((ae.hash_bits+ne-1)/ne),ae.window=new h.Buf8(2*ae.w_size),ae.head=new h.Buf16(ae.hash_size),ae.prev=new h.Buf16(ae.w_size),ae.lit_bufsize=1<<D+6,ae.pending_buf_size=4*ae.lit_bufsize,ae.pending_buf=new h.Buf8(ae.pending_buf_size),ae.d_buf=1*ae.lit_bufsize,ae.l_buf=3*ae.lit_bufsize,ae.level=j,ae.strategy=F,ae.method=G,b(O)}y=[new e0(0,0,0,0,function(O,j){var G=65535;for(G>O.pending_buf_size-5&&(G=O.pending_buf_size-5);;){if(O.lookahead<=1){if(d0(O),O.lookahead===0&&j===I)return N;if(O.lookahead===0)break}O.strstart+=O.lookahead,O.lookahead=0;var k=O.block_start+G;if((O.strstart===0||O.strstart>=k)&&(O.lookahead=O.strstart-k,O.strstart=k,fe(O,!1),O.strm.avail_out===0)||O.strstart-O.block_start>=O.w_size-te&&(fe(O,!1),O.strm.avail_out===0))return N}return O.insert=0,j===l?(fe(O,!0),O.strm.avail_out===0?be:ye):(O.strstart>O.block_start&&(fe(O,!1),O.strm.avail_out),N)}),new e0(4,4,8,4,x0),new e0(4,5,16,8,x0),new e0(4,6,32,32,x0),new e0(4,4,16,16,Je),new e0(8,16,32,32,Je),new e0(8,16,128,128,Je),new e0(8,32,128,256,Je),new e0(32,128,258,1024,Je),new e0(32,258,258,4096,Je)],g.deflateInit=function(O,j){return ce(O,j,P,15,8,0)},g.deflateInit2=ce,g.deflateReset=b,g.deflateResetKeep=oe,g.deflateSetHeader=function(O,j){return O&&O.state?O.state.wrap!==2?T:(O.state.gzhead=j,c):T},g.deflate=function(O,j){var G,k,D,F;if(!O||!O.state||5<j||j<0)return O?Ce(O,T):T;if(k=O.state,!O.output||!O.input&&O.avail_in!==0||k.status===666&&j!==l)return Ce(O,O.avail_out===0?-5:T);if(k.strm=O,G=k.last_flush,k.last_flush=j,k.status===Z)if(k.wrap===2)O.adler=0,Se(k,31),Se(k,139),Se(k,8),k.gzhead?(Se(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),Se(k,255&k.gzhead.time),Se(k,k.gzhead.time>>8&255),Se(k,k.gzhead.time>>16&255),Se(k,k.gzhead.time>>24&255),Se(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),Se(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(Se(k,255&k.gzhead.extra.length),Se(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(O.adler=E(O.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(Se(k,0),Se(k,0),Se(k,0),Se(k,0),Se(k,0),Se(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),Se(k,3),k.status=J);else{var $=P+(k.w_bits-8<<4)<<8;$|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&($|=32),$+=31-$%31,k.status=J,_e(k,$),k.strstart!==0&&(_e(k,O.adler>>>16),_e(k,65535&O.adler)),O.adler=1}if(k.status===69)if(k.gzhead.extra){for(D=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>D&&(O.adler=E(O.adler,k.pending_buf,k.pending-D,D)),de(O),D=k.pending,k.pending!==k.pending_buf_size));)Se(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>D&&(O.adler=E(O.adler,k.pending_buf,k.pending-D,D)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){D=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>D&&(O.adler=E(O.adler,k.pending_buf,k.pending-D,D)),de(O),D=k.pending,k.pending===k.pending_buf_size)){F=1;break}F=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,Se(k,F)}while(F!==0);k.gzhead.hcrc&&k.pending>D&&(O.adler=E(O.adler,k.pending_buf,k.pending-D,D)),F===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){D=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>D&&(O.adler=E(O.adler,k.pending_buf,k.pending-D,D)),de(O),D=k.pending,k.pending===k.pending_buf_size)){F=1;break}F=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,Se(k,F)}while(F!==0);k.gzhead.hcrc&&k.pending>D&&(O.adler=E(O.adler,k.pending_buf,k.pending-D,D)),F===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&de(O),k.pending+2<=k.pending_buf_size&&(Se(k,255&O.adler),Se(k,O.adler>>8&255),O.adler=0,k.status=J)):k.status=J),k.pending!==0){if(de(O),O.avail_out===0)return k.last_flush=-1,c}else if(O.avail_in===0&&K(j)<=K(G)&&j!==l)return Ce(O,-5);if(k.status===666&&O.avail_in!==0)return Ce(O,-5);if(O.avail_in!==0||k.lookahead!==0||j!==I&&k.status!==666){var ae=k.strategy===2?function(ee,me){for(var xe;;){if(ee.lookahead===0&&(d0(ee),ee.lookahead===0)){if(me===I)return N;break}if(ee.match_length=0,xe=m._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++,xe&&(fe(ee,!1),ee.strm.avail_out===0))return N}return ee.insert=0,me===l?(fe(ee,!0),ee.strm.avail_out===0?be:ye):ee.last_lit&&(fe(ee,!1),ee.strm.avail_out===0)?N:ie}(k,j):k.strategy===3?function(ee,me){for(var xe,Me,Be,$e,Ge=ee.window;;){if(ee.lookahead<=Q){if(d0(ee),ee.lookahead<=Q&&me===I)return N;if(ee.lookahead===0)break}if(ee.match_length=0,ee.lookahead>=ne&&0<ee.strstart&&(Me=Ge[Be=ee.strstart-1])===Ge[++Be]&&Me===Ge[++Be]&&Me===Ge[++Be]){$e=ee.strstart+Q;do;while(Me===Ge[++Be]&&Me===Ge[++Be]&&Me===Ge[++Be]&&Me===Ge[++Be]&&Me===Ge[++Be]&&Me===Ge[++Be]&&Me===Ge[++Be]&&Me===Ge[++Be]&&Be<$e);ee.match_length=Q-($e-Be),ee.match_length>ee.lookahead&&(ee.match_length=ee.lookahead)}if(ee.match_length>=ne?(xe=m._tr_tally(ee,1,ee.match_length-ne),ee.lookahead-=ee.match_length,ee.strstart+=ee.match_length,ee.match_length=0):(xe=m._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++),xe&&(fe(ee,!1),ee.strm.avail_out===0))return N}return ee.insert=0,me===l?(fe(ee,!0),ee.strm.avail_out===0?be:ye):ee.last_lit&&(fe(ee,!1),ee.strm.avail_out===0)?N:ie}(k,j):y[k.level].func(k,j);if(ae!==be&&ae!==ye||(k.status=666),ae===N||ae===be)return O.avail_out===0&&(k.last_flush=-1),c;if(ae===ie&&(j===1?m._tr_align(k):j!==5&&(m._tr_stored_block(k,0,0,!1),j===3&&(ve(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),de(O),O.avail_out===0))return k.last_flush=-1,c}return j!==l?c:k.wrap<=0?1:(k.wrap===2?(Se(k,255&O.adler),Se(k,O.adler>>8&255),Se(k,O.adler>>16&255),Se(k,O.adler>>24&255),Se(k,255&O.total_in),Se(k,O.total_in>>8&255),Se(k,O.total_in>>16&255),Se(k,O.total_in>>24&255)):(_e(k,O.adler>>>16),_e(k,65535&O.adler)),de(O),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?c:1)},g.deflateEnd=function(O){var j;return O&&O.state?(j=O.state.status)!==Z&&j!==69&&j!==73&&j!==91&&j!==103&&j!==J&&j!==666?Ce(O,T):(O.state=null,j===J?Ce(O,-3):c):T},g.deflateSetDictionary=function(O,j){var G,k,D,F,$,ae,ee,me,xe=j.length;if(!O||!O.state||(F=(G=O.state).wrap)===2||F===1&&G.status!==Z||G.lookahead)return T;for(F===1&&(O.adler=v(O.adler,j,xe,0)),G.wrap=0,xe>=G.w_size&&(F===0&&(ve(G.head),G.strstart=0,G.block_start=0,G.insert=0),me=new h.Buf8(G.w_size),h.arraySet(me,j,xe-G.w_size,G.w_size,0),j=me,xe=G.w_size),$=O.avail_in,ae=O.next_in,ee=O.input,O.avail_in=xe,O.next_in=0,O.input=j,d0(G);G.lookahead>=ne;){for(k=G.strstart,D=G.lookahead-(ne-1);G.ins_h=(G.ins_h<<G.hash_shift^G.window[k+ne-1])&G.hash_mask,G.prev[k&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=k,k++,--D;);G.strstart=k,G.lookahead=ne-1,d0(G)}return G.strstart+=G.lookahead,G.block_start=G.strstart,G.insert=G.lookahead,G.lookahead=0,G.match_length=G.prev_length=ne-1,G.match_available=0,O.next_in=ae,O.input=ee,O.avail_in=$,G.wrap=F,c},g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,u,g){u.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,u,g){u.exports=function(y,h){var m,v,E,R,I,l,c,T,w,A,M,P,q,W,X,L,ue,Te,ne,Q,te,Z,J,N,ie;m=y.state,v=y.next_in,N=y.input,E=v+(y.avail_in-5),R=y.next_out,ie=y.output,I=R-(h-y.avail_out),l=R+(y.avail_out-257),c=m.dmax,T=m.wsize,w=m.whave,A=m.wnext,M=m.window,P=m.hold,q=m.bits,W=m.lencode,X=m.distcode,L=(1<<m.lenbits)-1,ue=(1<<m.distbits)-1;e:do{q<15&&(P+=N[v++]<<q,q+=8,P+=N[v++]<<q,q+=8),Te=W[P&L];t:for(;;){if(P>>>=ne=Te>>>24,q-=ne,(ne=Te>>>16&255)===0)ie[R++]=65535&Te;else{if(!(16&ne)){if(!(64&ne)){Te=W[(65535&Te)+(P&(1<<ne)-1)];continue t}if(32&ne){m.mode=12;break e}y.msg="invalid literal/length code",m.mode=30;break e}Q=65535&Te,(ne&=15)&&(q<ne&&(P+=N[v++]<<q,q+=8),Q+=P&(1<<ne)-1,P>>>=ne,q-=ne),q<15&&(P+=N[v++]<<q,q+=8,P+=N[v++]<<q,q+=8),Te=X[P&ue];r:for(;;){if(P>>>=ne=Te>>>24,q-=ne,!(16&(ne=Te>>>16&255))){if(!(64&ne)){Te=X[(65535&Te)+(P&(1<<ne)-1)];continue r}y.msg="invalid distance code",m.mode=30;break e}if(te=65535&Te,q<(ne&=15)&&(P+=N[v++]<<q,(q+=8)<ne&&(P+=N[v++]<<q,q+=8)),c<(te+=P&(1<<ne)-1)){y.msg="invalid distance too far back",m.mode=30;break e}if(P>>>=ne,q-=ne,(ne=R-I)<te){if(w<(ne=te-ne)&&m.sane){y.msg="invalid distance too far back",m.mode=30;break e}if(J=M,(Z=0)===A){if(Z+=T-ne,ne<Q){for(Q-=ne;ie[R++]=M[Z++],--ne;);Z=R-te,J=ie}}else if(A<ne){if(Z+=T+A-ne,(ne-=A)<Q){for(Q-=ne;ie[R++]=M[Z++],--ne;);if(Z=0,A<Q){for(Q-=ne=A;ie[R++]=M[Z++],--ne;);Z=R-te,J=ie}}}else if(Z+=A-ne,ne<Q){for(Q-=ne;ie[R++]=M[Z++],--ne;);Z=R-te,J=ie}for(;2<Q;)ie[R++]=J[Z++],ie[R++]=J[Z++],ie[R++]=J[Z++],Q-=3;Q&&(ie[R++]=J[Z++],1<Q&&(ie[R++]=J[Z++]))}else{for(Z=R-te;ie[R++]=ie[Z++],ie[R++]=ie[Z++],ie[R++]=ie[Z++],2<(Q-=3););Q&&(ie[R++]=ie[Z++],1<Q&&(ie[R++]=ie[Z++]))}break}}break}}while(v<E&&R<l);v-=Q=q>>3,P&=(1<<(q-=Q<<3))-1,y.next_in=v,y.next_out=R,y.avail_in=v<E?E-v+5:5-(v-E),y.avail_out=R<l?l-R+257:257-(R-l),m.hold=P,m.bits=q}},{}],49:[function(r,u,g){var y=r("../utils/common"),h=r("./adler32"),m=r("./crc32"),v=r("./inffast"),E=r("./inftrees"),R=1,I=2,l=0,c=-2,T=1,w=852,A=592;function M(Z){return(Z>>>24&255)+(Z>>>8&65280)+((65280&Z)<<8)+((255&Z)<<24)}function P(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new y.Buf16(320),this.work=new y.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function q(Z){var J;return Z&&Z.state?(J=Z.state,Z.total_in=Z.total_out=J.total=0,Z.msg="",J.wrap&&(Z.adler=1&J.wrap),J.mode=T,J.last=0,J.havedict=0,J.dmax=32768,J.head=null,J.hold=0,J.bits=0,J.lencode=J.lendyn=new y.Buf32(w),J.distcode=J.distdyn=new y.Buf32(A),J.sane=1,J.back=-1,l):c}function W(Z){var J;return Z&&Z.state?((J=Z.state).wsize=0,J.whave=0,J.wnext=0,q(Z)):c}function X(Z,J){var N,ie;return Z&&Z.state?(ie=Z.state,J<0?(N=0,J=-J):(N=1+(J>>4),J<48&&(J&=15)),J&&(J<8||15<J)?c:(ie.window!==null&&ie.wbits!==J&&(ie.window=null),ie.wrap=N,ie.wbits=J,W(Z))):c}function L(Z,J){var N,ie;return Z?(ie=new P,(Z.state=ie).window=null,(N=X(Z,J))!==l&&(Z.state=null),N):c}var ue,Te,ne=!0;function Q(Z){if(ne){var J;for(ue=new y.Buf32(512),Te=new y.Buf32(32),J=0;J<144;)Z.lens[J++]=8;for(;J<256;)Z.lens[J++]=9;for(;J<280;)Z.lens[J++]=7;for(;J<288;)Z.lens[J++]=8;for(E(R,Z.lens,0,288,ue,0,Z.work,{bits:9}),J=0;J<32;)Z.lens[J++]=5;E(I,Z.lens,0,32,Te,0,Z.work,{bits:5}),ne=!1}Z.lencode=ue,Z.lenbits=9,Z.distcode=Te,Z.distbits=5}function te(Z,J,N,ie){var be,ye=Z.state;return ye.window===null&&(ye.wsize=1<<ye.wbits,ye.wnext=0,ye.whave=0,ye.window=new y.Buf8(ye.wsize)),ie>=ye.wsize?(y.arraySet(ye.window,J,N-ye.wsize,ye.wsize,0),ye.wnext=0,ye.whave=ye.wsize):(ie<(be=ye.wsize-ye.wnext)&&(be=ie),y.arraySet(ye.window,J,N-ie,be,ye.wnext),(ie-=be)?(y.arraySet(ye.window,J,N-ie,ie,0),ye.wnext=ie,ye.whave=ye.wsize):(ye.wnext+=be,ye.wnext===ye.wsize&&(ye.wnext=0),ye.whave<ye.wsize&&(ye.whave+=be))),0}g.inflateReset=W,g.inflateReset2=X,g.inflateResetKeep=q,g.inflateInit=function(Z){return L(Z,15)},g.inflateInit2=L,g.inflate=function(Z,J){var N,ie,be,ye,Ce,K,ve,de,fe,Se,_e,Ne,d0,x0,Je,e0,Y,oe,b,ce,O,j,G,k,D=0,F=new y.Buf8(4),$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Z||!Z.state||!Z.output||!Z.input&&Z.avail_in!==0)return c;(N=Z.state).mode===12&&(N.mode=13),Ce=Z.next_out,be=Z.output,ve=Z.avail_out,ye=Z.next_in,ie=Z.input,K=Z.avail_in,de=N.hold,fe=N.bits,Se=K,_e=ve,j=l;e:for(;;)switch(N.mode){case T:if(N.wrap===0){N.mode=13;break}for(;fe<16;){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}if(2&N.wrap&&de===35615){F[N.check=0]=255&de,F[1]=de>>>8&255,N.check=m(N.check,F,2,0),fe=de=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&de)<<8)+(de>>8))%31){Z.msg="incorrect header check",N.mode=30;break}if((15&de)!=8){Z.msg="unknown compression method",N.mode=30;break}if(fe-=4,O=8+(15&(de>>>=4)),N.wbits===0)N.wbits=O;else if(O>N.wbits){Z.msg="invalid window size",N.mode=30;break}N.dmax=1<<O,Z.adler=N.check=1,N.mode=512&de?10:12,fe=de=0;break;case 2:for(;fe<16;){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}if(N.flags=de,(255&N.flags)!=8){Z.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){Z.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=de>>8&1),512&N.flags&&(F[0]=255&de,F[1]=de>>>8&255,N.check=m(N.check,F,2,0)),fe=de=0,N.mode=3;case 3:for(;fe<32;){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}N.head&&(N.head.time=de),512&N.flags&&(F[0]=255&de,F[1]=de>>>8&255,F[2]=de>>>16&255,F[3]=de>>>24&255,N.check=m(N.check,F,4,0)),fe=de=0,N.mode=4;case 4:for(;fe<16;){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}N.head&&(N.head.xflags=255&de,N.head.os=de>>8),512&N.flags&&(F[0]=255&de,F[1]=de>>>8&255,N.check=m(N.check,F,2,0)),fe=de=0,N.mode=5;case 5:if(1024&N.flags){for(;fe<16;){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}N.length=de,N.head&&(N.head.extra_len=de),512&N.flags&&(F[0]=255&de,F[1]=de>>>8&255,N.check=m(N.check,F,2,0)),fe=de=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(K<(Ne=N.length)&&(Ne=K),Ne&&(N.head&&(O=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),y.arraySet(N.head.extra,ie,ye,Ne,O)),512&N.flags&&(N.check=m(N.check,ie,Ne,ye)),K-=Ne,ye+=Ne,N.length-=Ne),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(K===0)break e;for(Ne=0;O=ie[ye+Ne++],N.head&&O&&N.length<65536&&(N.head.name+=String.fromCharCode(O)),O&&Ne<K;);if(512&N.flags&&(N.check=m(N.check,ie,Ne,ye)),K-=Ne,ye+=Ne,O)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(K===0)break e;for(Ne=0;O=ie[ye+Ne++],N.head&&O&&N.length<65536&&(N.head.comment+=String.fromCharCode(O)),O&&Ne<K;);if(512&N.flags&&(N.check=m(N.check,ie,Ne,ye)),K-=Ne,ye+=Ne,O)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;fe<16;){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}if(de!==(65535&N.check)){Z.msg="header crc mismatch",N.mode=30;break}fe=de=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),Z.adler=N.check=0,N.mode=12;break;case 10:for(;fe<32;){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}Z.adler=N.check=M(de),fe=de=0,N.mode=11;case 11:if(N.havedict===0)return Z.next_out=Ce,Z.avail_out=ve,Z.next_in=ye,Z.avail_in=K,N.hold=de,N.bits=fe,2;Z.adler=N.check=1,N.mode=12;case 12:if(J===5||J===6)break e;case 13:if(N.last){de>>>=7&fe,fe-=7&fe,N.mode=27;break}for(;fe<3;){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}switch(N.last=1&de,fe-=1,3&(de>>>=1)){case 0:N.mode=14;break;case 1:if(Q(N),N.mode=20,J!==6)break;de>>>=2,fe-=2;break e;case 2:N.mode=17;break;case 3:Z.msg="invalid block type",N.mode=30}de>>>=2,fe-=2;break;case 14:for(de>>>=7&fe,fe-=7&fe;fe<32;){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}if((65535&de)!=(de>>>16^65535)){Z.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&de,fe=de=0,N.mode=15,J===6)break e;case 15:N.mode=16;case 16:if(Ne=N.length){if(K<Ne&&(Ne=K),ve<Ne&&(Ne=ve),Ne===0)break e;y.arraySet(be,ie,ye,Ne,Ce),K-=Ne,ye+=Ne,ve-=Ne,Ce+=Ne,N.length-=Ne;break}N.mode=12;break;case 17:for(;fe<14;){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}if(N.nlen=257+(31&de),de>>>=5,fe-=5,N.ndist=1+(31&de),de>>>=5,fe-=5,N.ncode=4+(15&de),de>>>=4,fe-=4,286<N.nlen||30<N.ndist){Z.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;fe<3;){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}N.lens[$[N.have++]]=7&de,de>>>=3,fe-=3}for(;N.have<19;)N.lens[$[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,G={bits:N.lenbits},j=E(0,N.lens,0,19,N.lencode,0,N.work,G),N.lenbits=G.bits,j){Z.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;e0=(D=N.lencode[de&(1<<N.lenbits)-1])>>>16&255,Y=65535&D,!((Je=D>>>24)<=fe);){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}if(Y<16)de>>>=Je,fe-=Je,N.lens[N.have++]=Y;else{if(Y===16){for(k=Je+2;fe<k;){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}if(de>>>=Je,fe-=Je,N.have===0){Z.msg="invalid bit length repeat",N.mode=30;break}O=N.lens[N.have-1],Ne=3+(3&de),de>>>=2,fe-=2}else if(Y===17){for(k=Je+3;fe<k;){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}fe-=Je,O=0,Ne=3+(7&(de>>>=Je)),de>>>=3,fe-=3}else{for(k=Je+7;fe<k;){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}fe-=Je,O=0,Ne=11+(127&(de>>>=Je)),de>>>=7,fe-=7}if(N.have+Ne>N.nlen+N.ndist){Z.msg="invalid bit length repeat",N.mode=30;break}for(;Ne--;)N.lens[N.have++]=O}}if(N.mode===30)break;if(N.lens[256]===0){Z.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,G={bits:N.lenbits},j=E(R,N.lens,0,N.nlen,N.lencode,0,N.work,G),N.lenbits=G.bits,j){Z.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,G={bits:N.distbits},j=E(I,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,G),N.distbits=G.bits,j){Z.msg="invalid distances set",N.mode=30;break}if(N.mode=20,J===6)break e;case 20:N.mode=21;case 21:if(6<=K&&258<=ve){Z.next_out=Ce,Z.avail_out=ve,Z.next_in=ye,Z.avail_in=K,N.hold=de,N.bits=fe,v(Z,_e),Ce=Z.next_out,be=Z.output,ve=Z.avail_out,ye=Z.next_in,ie=Z.input,K=Z.avail_in,de=N.hold,fe=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;e0=(D=N.lencode[de&(1<<N.lenbits)-1])>>>16&255,Y=65535&D,!((Je=D>>>24)<=fe);){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}if(e0&&!(240&e0)){for(oe=Je,b=e0,ce=Y;e0=(D=N.lencode[ce+((de&(1<<oe+b)-1)>>oe)])>>>16&255,Y=65535&D,!(oe+(Je=D>>>24)<=fe);){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}de>>>=oe,fe-=oe,N.back+=oe}if(de>>>=Je,fe-=Je,N.back+=Je,N.length=Y,e0===0){N.mode=26;break}if(32&e0){N.back=-1,N.mode=12;break}if(64&e0){Z.msg="invalid literal/length code",N.mode=30;break}N.extra=15&e0,N.mode=22;case 22:if(N.extra){for(k=N.extra;fe<k;){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}N.length+=de&(1<<N.extra)-1,de>>>=N.extra,fe-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;e0=(D=N.distcode[de&(1<<N.distbits)-1])>>>16&255,Y=65535&D,!((Je=D>>>24)<=fe);){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}if(!(240&e0)){for(oe=Je,b=e0,ce=Y;e0=(D=N.distcode[ce+((de&(1<<oe+b)-1)>>oe)])>>>16&255,Y=65535&D,!(oe+(Je=D>>>24)<=fe);){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}de>>>=oe,fe-=oe,N.back+=oe}if(de>>>=Je,fe-=Je,N.back+=Je,64&e0){Z.msg="invalid distance code",N.mode=30;break}N.offset=Y,N.extra=15&e0,N.mode=24;case 24:if(N.extra){for(k=N.extra;fe<k;){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}N.offset+=de&(1<<N.extra)-1,de>>>=N.extra,fe-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){Z.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(ve===0)break e;if(Ne=_e-ve,N.offset>Ne){if((Ne=N.offset-Ne)>N.whave&&N.sane){Z.msg="invalid distance too far back",N.mode=30;break}d0=Ne>N.wnext?(Ne-=N.wnext,N.wsize-Ne):N.wnext-Ne,Ne>N.length&&(Ne=N.length),x0=N.window}else x0=be,d0=Ce-N.offset,Ne=N.length;for(ve<Ne&&(Ne=ve),ve-=Ne,N.length-=Ne;be[Ce++]=x0[d0++],--Ne;);N.length===0&&(N.mode=21);break;case 26:if(ve===0)break e;be[Ce++]=N.length,ve--,N.mode=21;break;case 27:if(N.wrap){for(;fe<32;){if(K===0)break e;K--,de|=ie[ye++]<<fe,fe+=8}if(_e-=ve,Z.total_out+=_e,N.total+=_e,_e&&(Z.adler=N.check=N.flags?m(N.check,be,_e,Ce-_e):h(N.check,be,_e,Ce-_e)),_e=ve,(N.flags?de:M(de))!==N.check){Z.msg="incorrect data check",N.mode=30;break}fe=de=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;fe<32;){if(K===0)break e;K--,de+=ie[ye++]<<fe,fe+=8}if(de!==(4294967295&N.total)){Z.msg="incorrect length check",N.mode=30;break}fe=de=0}N.mode=29;case 29:j=1;break e;case 30:j=-3;break e;case 31:return-4;case 32:default:return c}return Z.next_out=Ce,Z.avail_out=ve,Z.next_in=ye,Z.avail_in=K,N.hold=de,N.bits=fe,(N.wsize||_e!==Z.avail_out&&N.mode<30&&(N.mode<27||J!==4))&&te(Z,Z.output,Z.next_out,_e-Z.avail_out)?(N.mode=31,-4):(Se-=Z.avail_in,_e-=Z.avail_out,Z.total_in+=Se,Z.total_out+=_e,N.total+=_e,N.wrap&&_e&&(Z.adler=N.check=N.flags?m(N.check,be,_e,Z.next_out-_e):h(N.check,be,_e,Z.next_out-_e)),Z.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(Se==0&&_e===0||J===4)&&j===l&&(j=-5),j)},g.inflateEnd=function(Z){if(!Z||!Z.state)return c;var J=Z.state;return J.window&&(J.window=null),Z.state=null,l},g.inflateGetHeader=function(Z,J){var N;return Z&&Z.state&&2&(N=Z.state).wrap?((N.head=J).done=!1,l):c},g.inflateSetDictionary=function(Z,J){var N,ie=J.length;return Z&&Z.state?(N=Z.state).wrap!==0&&N.mode!==11?c:N.mode===11&&h(1,J,ie,0)!==N.check?-3:te(Z,J,ie,ie)?(N.mode=31,-4):(N.havedict=1,l):c},g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,u,g){var y=r("../utils/common"),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],v=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],E=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];u.exports=function(R,I,l,c,T,w,A,M){var P,q,W,X,L,ue,Te,ne,Q,te=M.bits,Z=0,J=0,N=0,ie=0,be=0,ye=0,Ce=0,K=0,ve=0,de=0,fe=null,Se=0,_e=new y.Buf16(16),Ne=new y.Buf16(16),d0=null,x0=0;for(Z=0;Z<=15;Z++)_e[Z]=0;for(J=0;J<c;J++)_e[I[l+J]]++;for(be=te,ie=15;1<=ie&&_e[ie]===0;ie--);if(ie<be&&(be=ie),ie===0)return T[w++]=20971520,T[w++]=20971520,M.bits=1,0;for(N=1;N<ie&&_e[N]===0;N++);for(be<N&&(be=N),Z=K=1;Z<=15;Z++)if(K<<=1,(K-=_e[Z])<0)return-1;if(0<K&&(R===0||ie!==1))return-1;for(Ne[1]=0,Z=1;Z<15;Z++)Ne[Z+1]=Ne[Z]+_e[Z];for(J=0;J<c;J++)I[l+J]!==0&&(A[Ne[I[l+J]]++]=J);if(ue=R===0?(fe=d0=A,19):R===1?(fe=h,Se-=257,d0=m,x0-=257,256):(fe=v,d0=E,-1),Z=N,L=w,Ce=J=de=0,W=-1,X=(ve=1<<(ye=be))-1,R===1&&852<ve||R===2&&592<ve)return 1;for(;;){for(Te=Z-Ce,Q=A[J]<ue?(ne=0,A[J]):A[J]>ue?(ne=d0[x0+A[J]],fe[Se+A[J]]):(ne=96,0),P=1<<Z-Ce,N=q=1<<ye;T[L+(de>>Ce)+(q-=P)]=Te<<24|ne<<16|Q|0,q!==0;);for(P=1<<Z-1;de&P;)P>>=1;if(P!==0?(de&=P-1,de+=P):de=0,J++,--_e[Z]==0){if(Z===ie)break;Z=I[l+A[J]]}if(be<Z&&(de&X)!==W){for(Ce===0&&(Ce=be),L+=N,K=1<<(ye=Z-Ce);ye+Ce<ie&&!((K-=_e[ye+Ce])<=0);)ye++,K<<=1;if(ve+=1<<ye,R===1&&852<ve||R===2&&592<ve)return 1;T[W=de&X]=be<<24|ye<<16|L-w|0}}return de!==0&&(T[L+de]=Z-Ce<<24|64<<16|0),M.bits=be,0}},{"../utils/common":41}],51:[function(r,u,g){u.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,u,g){var y=r("../utils/common"),h=0,m=1;function v(D){for(var F=D.length;0<=--F;)D[F]=0}var E=0,R=29,I=256,l=I+1+R,c=30,T=19,w=2*l+1,A=15,M=16,P=7,q=256,W=16,X=17,L=18,ue=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Te=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=new Array(2*(l+2));v(te);var Z=new Array(2*c);v(Z);var J=new Array(512);v(J);var N=new Array(256);v(N);var ie=new Array(R);v(ie);var be,ye,Ce,K=new Array(c);function ve(D,F,$,ae,ee){this.static_tree=D,this.extra_bits=F,this.extra_base=$,this.elems=ae,this.max_length=ee,this.has_stree=D&&D.length}function de(D,F){this.dyn_tree=D,this.max_code=0,this.stat_desc=F}function fe(D){return D<256?J[D]:J[256+(D>>>7)]}function Se(D,F){D.pending_buf[D.pending++]=255&F,D.pending_buf[D.pending++]=F>>>8&255}function _e(D,F,$){D.bi_valid>M-$?(D.bi_buf|=F<<D.bi_valid&65535,Se(D,D.bi_buf),D.bi_buf=F>>M-D.bi_valid,D.bi_valid+=$-M):(D.bi_buf|=F<<D.bi_valid&65535,D.bi_valid+=$)}function Ne(D,F,$){_e(D,$[2*F],$[2*F+1])}function d0(D,F){for(var $=0;$|=1&D,D>>>=1,$<<=1,0<--F;);return $>>>1}function x0(D,F,$){var ae,ee,me=new Array(A+1),xe=0;for(ae=1;ae<=A;ae++)me[ae]=xe=xe+$[ae-1]<<1;for(ee=0;ee<=F;ee++){var Me=D[2*ee+1];Me!==0&&(D[2*ee]=d0(me[Me]++,Me))}}function Je(D){var F;for(F=0;F<l;F++)D.dyn_ltree[2*F]=0;for(F=0;F<c;F++)D.dyn_dtree[2*F]=0;for(F=0;F<T;F++)D.bl_tree[2*F]=0;D.dyn_ltree[2*q]=1,D.opt_len=D.static_len=0,D.last_lit=D.matches=0}function e0(D){8<D.bi_valid?Se(D,D.bi_buf):0<D.bi_valid&&(D.pending_buf[D.pending++]=D.bi_buf),D.bi_buf=0,D.bi_valid=0}function Y(D,F,$,ae){var ee=2*F,me=2*$;return D[ee]<D[me]||D[ee]===D[me]&&ae[F]<=ae[$]}function oe(D,F,$){for(var ae=D.heap[$],ee=$<<1;ee<=D.heap_len&&(ee<D.heap_len&&Y(F,D.heap[ee+1],D.heap[ee],D.depth)&&ee++,!Y(F,ae,D.heap[ee],D.depth));)D.heap[$]=D.heap[ee],$=ee,ee<<=1;D.heap[$]=ae}function b(D,F,$){var ae,ee,me,xe,Me=0;if(D.last_lit!==0)for(;ae=D.pending_buf[D.d_buf+2*Me]<<8|D.pending_buf[D.d_buf+2*Me+1],ee=D.pending_buf[D.l_buf+Me],Me++,ae===0?Ne(D,ee,F):(Ne(D,(me=N[ee])+I+1,F),(xe=ue[me])!==0&&_e(D,ee-=ie[me],xe),Ne(D,me=fe(--ae),$),(xe=Te[me])!==0&&_e(D,ae-=K[me],xe)),Me<D.last_lit;);Ne(D,q,F)}function ce(D,F){var $,ae,ee,me=F.dyn_tree,xe=F.stat_desc.static_tree,Me=F.stat_desc.has_stree,Be=F.stat_desc.elems,$e=-1;for(D.heap_len=0,D.heap_max=w,$=0;$<Be;$++)me[2*$]!==0?(D.heap[++D.heap_len]=$e=$,D.depth[$]=0):me[2*$+1]=0;for(;D.heap_len<2;)me[2*(ee=D.heap[++D.heap_len]=$e<2?++$e:0)]=1,D.depth[ee]=0,D.opt_len--,Me&&(D.static_len-=xe[2*ee+1]);for(F.max_code=$e,$=D.heap_len>>1;1<=$;$--)oe(D,me,$);for(ee=Be;$=D.heap[1],D.heap[1]=D.heap[D.heap_len--],oe(D,me,1),ae=D.heap[1],D.heap[--D.heap_max]=$,D.heap[--D.heap_max]=ae,me[2*ee]=me[2*$]+me[2*ae],D.depth[ee]=(D.depth[$]>=D.depth[ae]?D.depth[$]:D.depth[ae])+1,me[2*$+1]=me[2*ae+1]=ee,D.heap[1]=ee++,oe(D,me,1),2<=D.heap_len;);D.heap[--D.heap_max]=D.heap[1],function(Ge,R0){var at,X0,yt,h0,ut,c0,D0=R0.dyn_tree,I0=R0.max_code,Wr=R0.stat_desc.static_tree,zr=R0.stat_desc.has_stree,Vs=R0.stat_desc.extra_bits,Kr=R0.stat_desc.extra_base,Xt=R0.stat_desc.max_length,br=0;for(h0=0;h0<=A;h0++)Ge.bl_count[h0]=0;for(D0[2*Ge.heap[Ge.heap_max]+1]=0,at=Ge.heap_max+1;at<w;at++)Xt<(h0=D0[2*D0[2*(X0=Ge.heap[at])+1]+1]+1)&&(h0=Xt,br++),D0[2*X0+1]=h0,I0<X0||(Ge.bl_count[h0]++,ut=0,Kr<=X0&&(ut=Vs[X0-Kr]),c0=D0[2*X0],Ge.opt_len+=c0*(h0+ut),zr&&(Ge.static_len+=c0*(Wr[2*X0+1]+ut)));if(br!==0){do{for(h0=Xt-1;Ge.bl_count[h0]===0;)h0--;Ge.bl_count[h0]--,Ge.bl_count[h0+1]+=2,Ge.bl_count[Xt]--,br-=2}while(0<br);for(h0=Xt;h0!==0;h0--)for(X0=Ge.bl_count[h0];X0!==0;)I0<(yt=Ge.heap[--at])||(D0[2*yt+1]!==h0&&(Ge.opt_len+=(h0-D0[2*yt+1])*D0[2*yt],D0[2*yt+1]=h0),X0--)}}(D,F),x0(me,$e,D.bl_count)}function O(D,F,$){var ae,ee,me=-1,xe=F[1],Me=0,Be=7,$e=4;for(xe===0&&(Be=138,$e=3),F[2*($+1)+1]=65535,ae=0;ae<=$;ae++)ee=xe,xe=F[2*(ae+1)+1],++Me<Be&&ee===xe||(Me<$e?D.bl_tree[2*ee]+=Me:ee!==0?(ee!==me&&D.bl_tree[2*ee]++,D.bl_tree[2*W]++):Me<=10?D.bl_tree[2*X]++:D.bl_tree[2*L]++,me=ee,$e=(Me=0)===xe?(Be=138,3):ee===xe?(Be=6,3):(Be=7,4))}function j(D,F,$){var ae,ee,me=-1,xe=F[1],Me=0,Be=7,$e=4;for(xe===0&&(Be=138,$e=3),ae=0;ae<=$;ae++)if(ee=xe,xe=F[2*(ae+1)+1],!(++Me<Be&&ee===xe)){if(Me<$e)for(;Ne(D,ee,D.bl_tree),--Me!=0;);else ee!==0?(ee!==me&&(Ne(D,ee,D.bl_tree),Me--),Ne(D,W,D.bl_tree),_e(D,Me-3,2)):Me<=10?(Ne(D,X,D.bl_tree),_e(D,Me-3,3)):(Ne(D,L,D.bl_tree),_e(D,Me-11,7));me=ee,$e=(Me=0)===xe?(Be=138,3):ee===xe?(Be=6,3):(Be=7,4)}}v(K);var G=!1;function k(D,F,$,ae){_e(D,(E<<1)+(ae?1:0),3),function(ee,me,xe,Me){e0(ee),Se(ee,xe),Se(ee,~xe),y.arraySet(ee.pending_buf,ee.window,me,xe,ee.pending),ee.pending+=xe}(D,F,$)}g._tr_init=function(D){G||(function(){var F,$,ae,ee,me,xe=new Array(A+1);for(ee=ae=0;ee<R-1;ee++)for(ie[ee]=ae,F=0;F<1<<ue[ee];F++)N[ae++]=ee;for(N[ae-1]=ee,ee=me=0;ee<16;ee++)for(K[ee]=me,F=0;F<1<<Te[ee];F++)J[me++]=ee;for(me>>=7;ee<c;ee++)for(K[ee]=me<<7,F=0;F<1<<Te[ee]-7;F++)J[256+me++]=ee;for($=0;$<=A;$++)xe[$]=0;for(F=0;F<=143;)te[2*F+1]=8,F++,xe[8]++;for(;F<=255;)te[2*F+1]=9,F++,xe[9]++;for(;F<=279;)te[2*F+1]=7,F++,xe[7]++;for(;F<=287;)te[2*F+1]=8,F++,xe[8]++;for(x0(te,l+1,xe),F=0;F<c;F++)Z[2*F+1]=5,Z[2*F]=d0(F,5);be=new ve(te,ue,I+1,l,A),ye=new ve(Z,Te,0,c,A),Ce=new ve(new Array(0),ne,0,T,P)}(),G=!0),D.l_desc=new de(D.dyn_ltree,be),D.d_desc=new de(D.dyn_dtree,ye),D.bl_desc=new de(D.bl_tree,Ce),D.bi_buf=0,D.bi_valid=0,Je(D)},g._tr_stored_block=k,g._tr_flush_block=function(D,F,$,ae){var ee,me,xe=0;0<D.level?(D.strm.data_type===2&&(D.strm.data_type=function(Me){var Be,$e=4093624447;for(Be=0;Be<=31;Be++,$e>>>=1)if(1&$e&&Me.dyn_ltree[2*Be]!==0)return h;if(Me.dyn_ltree[18]!==0||Me.dyn_ltree[20]!==0||Me.dyn_ltree[26]!==0)return m;for(Be=32;Be<I;Be++)if(Me.dyn_ltree[2*Be]!==0)return m;return h}(D)),ce(D,D.l_desc),ce(D,D.d_desc),xe=function(Me){var Be;for(O(Me,Me.dyn_ltree,Me.l_desc.max_code),O(Me,Me.dyn_dtree,Me.d_desc.max_code),ce(Me,Me.bl_desc),Be=T-1;3<=Be&&Me.bl_tree[2*Q[Be]+1]===0;Be--);return Me.opt_len+=3*(Be+1)+5+5+4,Be}(D),ee=D.opt_len+3+7>>>3,(me=D.static_len+3+7>>>3)<=ee&&(ee=me)):ee=me=$+5,$+4<=ee&&F!==-1?k(D,F,$,ae):D.strategy===4||me===ee?(_e(D,2+(ae?1:0),3),b(D,te,Z)):(_e(D,4+(ae?1:0),3),function(Me,Be,$e,Ge){var R0;for(_e(Me,Be-257,5),_e(Me,$e-1,5),_e(Me,Ge-4,4),R0=0;R0<Ge;R0++)_e(Me,Me.bl_tree[2*Q[R0]+1],3);j(Me,Me.dyn_ltree,Be-1),j(Me,Me.dyn_dtree,$e-1)}(D,D.l_desc.max_code+1,D.d_desc.max_code+1,xe+1),b(D,D.dyn_ltree,D.dyn_dtree)),Je(D),ae&&e0(D)},g._tr_tally=function(D,F,$){return D.pending_buf[D.d_buf+2*D.last_lit]=F>>>8&255,D.pending_buf[D.d_buf+2*D.last_lit+1]=255&F,D.pending_buf[D.l_buf+D.last_lit]=255&$,D.last_lit++,F===0?D.dyn_ltree[2*$]++:(D.matches++,F--,D.dyn_ltree[2*(N[$]+I+1)]++,D.dyn_dtree[2*fe(F)]++),D.last_lit===D.lit_bufsize-1},g._tr_align=function(D){_e(D,2,3),Ne(D,q,te),function(F){F.bi_valid===16?(Se(F,F.bi_buf),F.bi_buf=0,F.bi_valid=0):8<=F.bi_valid&&(F.pending_buf[F.pending++]=255&F.bi_buf,F.bi_buf>>=8,F.bi_valid-=8)}(D)}},{"../utils/common":41}],53:[function(r,u,g){u.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,u,g){(function(y){(function(h,m){if(!h.setImmediate){var v,E,R,I,l=1,c={},T=!1,w=h.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(h);A=A&&A.setTimeout?A:h,v={}.toString.call(h.process)==="[object process]"?function(W){process.nextTick(function(){P(W)})}:function(){if(h.postMessage&&!h.importScripts){var W=!0,X=h.onmessage;return h.onmessage=function(){W=!1},h.postMessage("","*"),h.onmessage=X,W}}()?(I="setImmediate$"+Math.random()+"$",h.addEventListener?h.addEventListener("message",q,!1):h.attachEvent("onmessage",q),function(W){h.postMessage(I+W,"*")}):h.MessageChannel?((R=new MessageChannel).port1.onmessage=function(W){P(W.data)},function(W){R.port2.postMessage(W)}):w&&"onreadystatechange"in w.createElement("script")?(E=w.documentElement,function(W){var X=w.createElement("script");X.onreadystatechange=function(){P(W),X.onreadystatechange=null,E.removeChild(X),X=null},E.appendChild(X)}):function(W){setTimeout(P,0,W)},A.setImmediate=function(W){typeof W!="function"&&(W=new Function(""+W));for(var X=new Array(arguments.length-1),L=0;L<X.length;L++)X[L]=arguments[L+1];var ue={callback:W,args:X};return c[l]=ue,v(l),l++},A.clearImmediate=M}function M(W){delete c[W]}function P(W){if(T)setTimeout(P,0,W);else{var X=c[W];if(X){T=!0;try{(function(L){var ue=L.callback,Te=L.args;switch(Te.length){case 0:ue();break;case 1:ue(Te[0]);break;case 2:ue(Te[0],Te[1]);break;case 3:ue(Te[0],Te[1],Te[2]);break;default:ue.apply(m,Te)}})(X)}finally{M(W),T=!1}}}}function q(W){W.source===h&&typeof W.data=="string"&&W.data.indexOf(I)===0&&P(+W.data.slice(I.length))}})(typeof self>"u"?y===void 0?this:y:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports,sha3={};Object.defineProperty(sha3,"__esModule",{value:!0});sha3.shake256=sha3.shake128=sha3.keccak_512=sha3.keccak_384=sha3.keccak_256=sha3.keccak_224=sha3.sha3_512=sha3.sha3_384=sha3.sha3_256=sha3.sha3_224=sha3.Keccak=void 0;sha3.keccakP=keccakP;const _u64_ts_1=_u64,utils_ts_1=utils,_0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113),SHA3_PI=[],SHA3_ROTL=[],_SHA3_IOTA=[];for(let a=0,n=_1n,r=1,u=0;a<24;a++){[r,u]=[u,(2*r+3*u)%5],SHA3_PI.push(2*(5*u+r)),SHA3_ROTL.push((a+1)*(a+2)/2%64);let g=_0n;for(let y=0;y<7;y++)n=(n<<_1n^(n>>_7n)*_0x71n)%_256n,n&_2n&&(g^=_1n<<(_1n<<BigInt(y))-_1n);_SHA3_IOTA.push(g)}const IOTAS=(0,_u64_ts_1.split)(_SHA3_IOTA,!0),SHA3_IOTA_H=IOTAS[0],SHA3_IOTA_L=IOTAS[1],rotlH=(a,n,r)=>r>32?(0,_u64_ts_1.rotlBH)(a,n,r):(0,_u64_ts_1.rotlSH)(a,n,r),rotlL=(a,n,r)=>r>32?(0,_u64_ts_1.rotlBL)(a,n,r):(0,_u64_ts_1.rotlSL)(a,n,r);function keccakP(a,n=24){const r=new Uint32Array(10);for(let u=24-n;u<24;u++){for(let h=0;h<10;h++)r[h]=a[h]^a[h+10]^a[h+20]^a[h+30]^a[h+40];for(let h=0;h<10;h+=2){const m=(h+8)%10,v=(h+2)%10,E=r[v],R=r[v+1],I=rotlH(E,R,1)^r[m],l=rotlL(E,R,1)^r[m+1];for(let c=0;c<50;c+=10)a[h+c]^=I,a[h+c+1]^=l}let g=a[2],y=a[3];for(let h=0;h<24;h++){const m=SHA3_ROTL[h],v=rotlH(g,y,m),E=rotlL(g,y,m),R=SHA3_PI[h];g=a[R],y=a[R+1],a[R]=v,a[R+1]=E}for(let h=0;h<50;h+=10){for(let m=0;m<10;m++)r[m]=a[h+m];for(let m=0;m<10;m++)a[h+m]^=~r[(m+2)%10]&r[(m+4)%10]}a[0]^=SHA3_IOTA_H[u],a[1]^=SHA3_IOTA_L[u]}(0,utils_ts_1.clean)(r)}class Keccak extends utils_ts_1.Hash{constructor(n,r,u,g=!1,y=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=n,this.suffix=r,this.outputLen=u,this.enableXOF=g,this.rounds=y,(0,utils_ts_1.anumber)(u),!(0<n&&n<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,utils_ts_1.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,utils_ts_1.swap32IfBE)(this.state32),keccakP(this.state32,this.rounds),(0,utils_ts_1.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(n){(0,utils_ts_1.aexists)(this),n=(0,utils_ts_1.toBytes)(n),(0,utils_ts_1.abytes)(n);const{blockLen:r,state:u}=this,g=n.length;for(let y=0;y<g;){const h=Math.min(r-this.pos,g-y);for(let m=0;m<h;m++)u[this.pos++]^=n[y++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:n,suffix:r,pos:u,blockLen:g}=this;n[u]^=r,r&128&&u===g-1&&this.keccak(),n[g-1]^=128,this.keccak()}writeInto(n){(0,utils_ts_1.aexists)(this,!1),(0,utils_ts_1.abytes)(n),this.finish();const r=this.state,{blockLen:u}=this;for(let g=0,y=n.length;g<y;){this.posOut>=u&&this.keccak();const h=Math.min(u-this.posOut,y-g);n.set(r.subarray(this.posOut,this.posOut+h),g),this.posOut+=h,g+=h}return n}xofInto(n){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(n)}xof(n){return(0,utils_ts_1.anumber)(n),this.xofInto(new Uint8Array(n))}digestInto(n){if((0,utils_ts_1.aoutput)(n,this),this.finished)throw new Error("digest() was already called");return this.writeInto(n),this.destroy(),n}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,utils_ts_1.clean)(this.state)}_cloneInto(n){const{blockLen:r,suffix:u,outputLen:g,rounds:y,enableXOF:h}=this;return n||(n=new Keccak(r,u,g,h,y)),n.state32.set(this.state32),n.pos=this.pos,n.posOut=this.posOut,n.finished=this.finished,n.rounds=y,n.suffix=u,n.outputLen=g,n.enableXOF=h,n.destroyed=this.destroyed,n}}sha3.Keccak=Keccak;const gen=(a,n,r)=>(0,utils_ts_1.createHasher)(()=>new Keccak(n,a,r));sha3.sha3_224=gen(6,144,224/8);sha3.sha3_256=gen(6,136,256/8);sha3.sha3_384=gen(6,104,384/8);sha3.sha3_512=gen(6,72,512/8);sha3.keccak_224=gen(1,144,224/8);sha3.keccak_256=gen(1,136,256/8);sha3.keccak_384=gen(1,104,384/8);sha3.keccak_512=gen(1,72,512/8);const genShake=(a,n,r)=>(0,utils_ts_1.createXOFer)((u={})=>new Keccak(n,a,u.dkLen===void 0?r:u.dkLen,!0));sha3.shake128=genShake(31,168,128/8);sha3.shake256=genShake(31,136,256/8);var blake2b={};Object.defineProperty(blake2b,"__esModule",{value:!0});blake2b.blake2b=blake2b.BLAKE2b=void 0;const blake2_ts_1=blake2;blake2b.BLAKE2b=blake2_ts_1.BLAKE2b;blake2b.blake2b=blake2_ts_1.blake2b;const version="1.1.22",require$$13={version};(function(a){Object.defineProperty(a,"__esModule",{value:!0});var n=semver,r=dist$5,u=axios_1,g=lodashExports,y=dist$4,h=bytebufferExports,m=bignumberExports,v=utils,E=blake2s,R=sha256,I=jszip_minExports,l=sha3,c=blake2b,T=require("buffer");function w(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var A=w(n),M=w(u),P=w(h),q=w(m),W=w(I);function X(d,e){var i={};for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&e.indexOf(o)<0&&(i[o]=d[o]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,o=Object.getOwnPropertySymbols(d);p<o.length;p++)e.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(d,o[p])&&(i[o[p]]=d[o[p]]);return i}function L(d,e,i,o){function p(S){return S instanceof i?S:new i(function(C){C(S)})}return new(i||(i=Promise))(function(S,C){function B(pe){try{se(o.next(pe))}catch(he){C(he)}}function U(pe){try{se(o.throw(pe))}catch(he){C(he)}}function se(pe){pe.done?S(pe.value):p(pe.value).then(B,U)}se((o=o.apply(d,[])).next())})}function ue(d){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&d[e],o=0;if(i)return i.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&o>=d.length&&(d=void 0),{value:d&&d[o++],done:!d}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=d[Symbol.asyncIterator],i;return e?e.call(d):(d=typeof ue=="function"?ue(d):d[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(S){i[S]=d[S]&&function(C){return new Promise(function(B,U){C=d[S](C),p(B,U,C.done,C.value)})}}function p(S,C,B,U){Promise.resolve(U).then(function(se){S({value:se,done:B})},C)}}typeof SuppressedError=="function"&&SuppressedError;const ne=new Map,Q=()=>`callback_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,te=(d,e)=>{ne.set(d,e)},Z=(d,...e)=>{const i=ne.get(d);i&&i(...e)},J=d=>{ne.delete(d)},N=({call:d,cancel:e,dispose:i,eventEmitter:o,init:p,updateSettings:S,switchTransport:C,uiResponse:B})=>Object.assign({on:(se,pe)=>{o.on(se,pe)},emit:()=>{},off:(se,pe)=>{o.removeListener(se,pe)},removeAllListeners:se=>{o.removeAllListeners(se)},init:p,call:d,dispose:i,uiResponse:B,cancel:e,updateSettings:S,switchTransport:C},ie(d)),ie=d=>({getLogs:()=>d({method:"getLogs"}),searchDevices:()=>d({method:"searchDevices"}),getFeatures:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"getFeatures"})),getOnekeyFeatures:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"getOnekeyFeatures"})),checkFirmwareRelease:e=>d({connectId:e,method:"checkFirmwareRelease"}),checkBLEFirmwareRelease:e=>d({connectId:e,method:"checkBLEFirmwareRelease"}),checkBridgeStatus:()=>d({method:"checkBridgeStatus"}),checkBridgeRelease:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"checkBridgeRelease"})),checkBootloaderRelease:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"checkBootloaderRelease"})),checkAllFirmwareRelease:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"checkAllFirmwareRelease"})),checkFirmwareTypeAvailable:e=>d(Object.assign(Object.assign({},e),{method:"checkFirmwareTypeAvailable"})),cipherKeyValue:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"cipherKeyValue"})),testInitializeDeviceDuration:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"testInitializeDeviceDuration"})),deviceBackup:e=>d({connectId:e,method:"deviceBackup"}),deviceChangePin:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"deviceChangePin"})),deviceFlags:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"deviceFlags"})),deviceRebootToBoardloader:e=>d({connectId:e,method:"deviceRebootToBoardloader"}),deviceRebootToBootloader:e=>d({connectId:e,method:"deviceRebootToBootloader"}),deviceRecovery:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"deviceRecovery"})),deviceReset:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"deviceReset"})),deviceSettings:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"deviceSettings"})),deviceUpdateReboot:e=>d({connectId:e,method:"deviceUpdateReboot"}),deviceUploadResource:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"deviceUploadResource"})),deviceSupportFeatures:e=>d({connectId:e,method:"deviceSupportFeatures"}),deviceVerify:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"deviceVerify"})),deviceWipe:e=>d({connectId:e,method:"deviceWipe"}),deviceFullyUploadResource:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"deviceFullyUploadResource"})),deviceUpdateBootloader:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"deviceUpdateBootloader"})),getPassphraseState:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"getPassphraseState"})),deviceCancel:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"deviceCancel"})),deviceLock:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"deviceLock"})),deviceUnlock:(e,i)=>d(Object.assign(Object.assign({},i),{useEmptyPassphrase:!0,connectId:e,method:"deviceUnlock"})),getNextU2FCounter:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"getNextU2FCounter"})),setU2FCounter:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"setU2FCounter"})),allNetworkGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"allNetworkGetAddress"})),allNetworkGetAddressByLoop:(e,i,o)=>{const{onLoopItemResponse:p,onAllItemsResponse:S}=o,C=X(o,["onLoopItemResponse","onAllItemsResponse"]),B=Q();te(B,p);const U=Q();return te(U,(se,pe)=>{S==null||S(se,pe),J(U),J(B)}),d(Object.assign(Object.assign({},C),{connectId:e,deviceId:i,method:"allNetworkGetAddressByLoop",callbackId:B,callbackIdFinish:U}))},evmGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"evmGetAddress"})),evmGetPublicKey:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"evmGetPublicKey"})),evmSignMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"evmSignMessage"})),evmSignMessageEIP712:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"evmSignMessageEIP712"})),evmSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"evmSignTransaction"})),evmSignTypedData:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"evmSignTypedData"})),evmVerifyMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"evmVerifyMessage"})),btcGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"btcGetAddress"})),btcGetPublicKey:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"btcGetPublicKey"})),btcSignMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"btcSignMessage"})),btcSignPsbt:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"btcSignPsbt"})),btcSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"btcSignTransaction"})),btcVerifyMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"btcVerifyMessage"})),starcoinGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"starcoinGetAddress"})),starcoinGetPublicKey:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"starcoinGetPublicKey"})),starcoinSignMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"starcoinSignMessage"})),starcoinSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"starcoinSignTransaction"})),starcoinVerifyMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"starcoinVerifyMessage"})),nemGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"nemGetAddress"})),nemSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"nemSignTransaction"})),solGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"solGetAddress"})),solSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"solSignTransaction"})),solSignOffchainMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"solSignOffchainMessage"})),solSignMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"solSignMessage"})),stellarGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"stellarGetAddress"})),stellarSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"stellarSignTransaction"})),firmwareUpdate:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"firmwareUpdate"})),firmwareUpdateV2:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"firmwareUpdateV2"})),firmwareUpdateV3:(e,i)=>d(Object.assign(Object.assign({},i),{connectId:e,method:"firmwareUpdateV3"})),promptWebDeviceAccess:e=>d(Object.assign(Object.assign({},e),{method:"promptWebDeviceAccess"})),tronGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"tronGetAddress"})),tronSignMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"tronSignMessage"})),tronSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"tronSignTransaction"})),confluxGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"confluxGetAddress"})),confluxSignMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"confluxSignMessage"})),confluxSignMessageCIP23:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"confluxSignMessageCIP23"})),confluxSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"confluxSignTransaction"})),nearGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"nearGetAddress"})),nearSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"nearSignTransaction"})),aptosGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"aptosGetAddress"})),aptosGetPublicKey:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"aptosGetPublicKey"})),aptosSignMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"aptosSignMessage"})),aptosSignInMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"aptosSignInMessage"})),aptosSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"aptosSignTransaction"})),algoGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"algoGetAddress"})),algoSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"algoSignTransaction"})),cosmosGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"cosmosGetAddress"})),cosmosGetPublicKey:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"cosmosGetPublicKey"})),cosmosSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"cosmosSignTransaction"})),xrpGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"xrpGetAddress"})),xrpSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"xrpSignTransaction"})),suiGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"suiGetAddress"})),suiGetPublicKey:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"suiGetPublicKey"})),suiSignMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"suiSignMessage"})),suiSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"suiSignTransaction"})),cardanoGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"cardanoGetAddress"})),cardanoGetPublicKey:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"cardanoGetPublicKey"})),cardanoSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"cardanoSignTransaction"})),cardanoSignMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"cardanoSignMessage"})),filecoinGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"filecoinGetAddress"})),filecoinSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"filecoinSignTransaction"})),polkadotGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"polkadotGetAddress"})),polkadotSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"polkadotSignTransaction"})),kaspaGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"kaspaGetAddress"})),kaspaSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"kaspaSignTransaction"})),nexaGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"nexaGetAddress"})),nexaSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"nexaSignTransaction"})),nostrGetPublicKey:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"nostrGetPublicKey"})),nostrSignEvent:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"nostrSignEvent"})),nostrEncryptMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"nostrEncryptMessage"})),nostrDecryptMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"nostrDecryptMessage"})),nostrSignSchnorr:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"nostrSignSchnorr"})),lnurlAuth:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"lnurlAuth"})),nervosGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"nervosGetAddress"})),nervosSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"nervosSignTransaction"})),dnxGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"dnxGetAddress"})),dnxSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"dnxSignTransaction"})),tonGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"tonGetAddress"})),tonSignMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"tonSignMessage"})),tonSignProof:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"tonSignProof"})),scdoGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"scdoGetAddress"})),scdoSignMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"scdoSignMessage"})),scdoSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"scdoSignTransaction"})),alephiumGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"alephiumGetAddress"})),alephiumSignMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"alephiumSignMessage"})),alephiumSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"alephiumSignTransaction"})),benfenGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"benfenGetAddress"})),benfenGetPublicKey:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"benfenGetPublicKey"})),benfenSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"benfenSignTransaction"})),benfenSignMessage:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"benfenSignMessage"})),neoGetAddress:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"neoGetAddress"})),neoSignTransaction:(e,i,o)=>d(Object.assign(Object.assign({},o),{connectId:e,deviceId:i,method:"neoSignTransaction"}))}),be=({call:d,cancel:e,dispose:i,eventEmitter:o,init:p,uiResponse:S,updateSettings:C,switchTransport:B,addHardwareGlobalEventListener:U})=>Object.assign({addHardwareGlobalEventListener:U,removeAllListeners:pe=>{o.removeAllListeners(pe)},init:p,call:d,dispose:i,uiResponse:S,cancel:e,updateSettings:C,switchTransport:B,emit:()=>{}},ie(d));var ye={exports:{}},Ce=typeof Reflect=="object"?Reflect:null,K=Ce&&typeof Ce.apply=="function"?Ce.apply:function(e,i,o){return Function.prototype.apply.call(e,i,o)},ve;Ce&&typeof Ce.ownKeys=="function"?ve=Ce.ownKeys:Object.getOwnPropertySymbols?ve=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ve=function(e){return Object.getOwnPropertyNames(e)};function de(d){console&&console.warn&&console.warn(d)}var fe=Number.isNaN||function(e){return e!==e};function Se(){Se.init.call(this)}ye.exports=Se,ye.exports.once=j,Se.EventEmitter=Se,Se.prototype._events=void 0,Se.prototype._eventsCount=0,Se.prototype._maxListeners=void 0;var _e=10;function Ne(d){if(typeof d!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof d)}Object.defineProperty(Se,"defaultMaxListeners",{enumerable:!0,get:function(){return _e},set:function(d){if(typeof d!="number"||d<0||fe(d))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+d+".");_e=d}}),Se.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Se.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||fe(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function d0(d){return d._maxListeners===void 0?Se.defaultMaxListeners:d._maxListeners}Se.prototype.getMaxListeners=function(){return d0(this)},Se.prototype.emit=function(e){for(var i=[],o=1;o<arguments.length;o++)i.push(arguments[o]);var p=e==="error",S=this._events;if(S!==void 0)p=p&&S.error===void 0;else if(!p)return!1;if(p){var C;if(i.length>0&&(C=i[0]),C instanceof Error)throw C;var B=new Error("Unhandled error."+(C?" ("+C.message+")":""));throw B.context=C,B}var U=S[e];if(U===void 0)return!1;if(typeof U=="function")K(U,this,i);else for(var se=U.length,pe=b(U,se),o=0;o<se;++o)K(pe[o],this,i);return!0};function x0(d,e,i,o){var p,S,C;if(Ne(i),S=d._events,S===void 0?(S=d._events=Object.create(null),d._eventsCount=0):(S.newListener!==void 0&&(d.emit("newListener",e,i.listener?i.listener:i),S=d._events),C=S[e]),C===void 0)C=S[e]=i,++d._eventsCount;else if(typeof C=="function"?C=S[e]=o?[i,C]:[C,i]:o?C.unshift(i):C.push(i),p=d0(d),p>0&&C.length>p&&!C.warned){C.warned=!0;var B=new Error("Possible EventEmitter memory leak detected. "+C.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");B.name="MaxListenersExceededWarning",B.emitter=d,B.type=e,B.count=C.length,de(B)}return d}Se.prototype.addListener=function(e,i){return x0(this,e,i,!1)},Se.prototype.on=Se.prototype.addListener,Se.prototype.prependListener=function(e,i){return x0(this,e,i,!0)};function Je(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function e0(d,e,i){var o={fired:!1,wrapFn:void 0,target:d,type:e,listener:i},p=Je.bind(o);return p.listener=i,o.wrapFn=p,p}Se.prototype.once=function(e,i){return Ne(i),this.on(e,e0(this,e,i)),this},Se.prototype.prependOnceListener=function(e,i){return Ne(i),this.prependListener(e,e0(this,e,i)),this},Se.prototype.removeListener=function(e,i){var o,p,S,C,B;if(Ne(i),p=this._events,p===void 0)return this;if(o=p[e],o===void 0)return this;if(o===i||o.listener===i)--this._eventsCount===0?this._events=Object.create(null):(delete p[e],p.removeListener&&this.emit("removeListener",e,o.listener||i));else if(typeof o!="function"){for(S=-1,C=o.length-1;C>=0;C--)if(o[C]===i||o[C].listener===i){B=o[C].listener,S=C;break}if(S<0)return this;S===0?o.shift():ce(o,S),o.length===1&&(p[e]=o[0]),p.removeListener!==void 0&&this.emit("removeListener",e,B||i)}return this},Se.prototype.off=Se.prototype.removeListener,Se.prototype.removeAllListeners=function(e){var i,o,p;if(o=this._events,o===void 0)return this;if(o.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):o[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete o[e]),this;if(arguments.length===0){var S=Object.keys(o),C;for(p=0;p<S.length;++p)C=S[p],C!=="removeListener"&&this.removeAllListeners(C);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(i=o[e],typeof i=="function")this.removeListener(e,i);else if(i!==void 0)for(p=i.length-1;p>=0;p--)this.removeListener(e,i[p]);return this};function Y(d,e,i){var o=d._events;if(o===void 0)return[];var p=o[e];return p===void 0?[]:typeof p=="function"?i?[p.listener||p]:[p]:i?O(p):b(p,p.length)}Se.prototype.listeners=function(e){return Y(this,e,!0)},Se.prototype.rawListeners=function(e){return Y(this,e,!1)},Se.listenerCount=function(d,e){return typeof d.listenerCount=="function"?d.listenerCount(e):oe.call(d,e)},Se.prototype.listenerCount=oe;function oe(d){var e=this._events;if(e!==void 0){var i=e[d];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}Se.prototype.eventNames=function(){return this._eventsCount>0?ve(this._events):[]};function b(d,e){for(var i=new Array(e),o=0;o<e;++o)i[o]=d[o];return i}function ce(d,e){for(;e+1<d.length;e++)d[e]=d[e+1];d.pop()}function O(d){for(var e=new Array(d.length),i=0;i<e.length;++i)e[i]=d[i].listener||d[i];return e}function j(d,e){return new Promise(function(i,o){function p(C){d.removeListener(e,S),o(C)}function S(){typeof d.removeListener=="function"&&d.removeListener("error",p),i([].slice.call(arguments))}k(d,e,S,{once:!0}),e!=="error"&&G(d,p,{once:!0})})}function G(d,e,i){typeof d.on=="function"&&k(d,"error",e,i)}function k(d,e,i,o){if(typeof d.on=="function")o.once?d.once(e,i):d.on(e,i);else if(typeof d.addEventListener=="function")d.addEventListener(e,function p(S){o.once&&d.removeEventListener(e,p),i(S)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof d)}const D=new ye.exports,F=()=>{let d;const e=o=>d?d.call(o):Promise.resolve(void 0);return Object.assign(Object.assign({on:(o,p)=>{D.on(o,p)},emit:(o,...p)=>{D.emit(o,...p)},off:(o,p)=>{D.emit(o,p)},init:(o,p)=>{var S;return d=p,(S=d==null?void 0:d.init(o))!==null&&S!==void 0?S:Promise.resolve(!1)},call:e},ie(e)),{removeAllListeners:o=>{D.removeAllListeners(o),d==null||d.removeAllListeners(o)},dispose:()=>d==null?void 0:d.dispose(),uiResponse:o=>d==null?void 0:d.uiResponse(o),cancel:o=>d==null?void 0:d.cancel(o),updateSettings:o=>{var p;return(p=d==null?void 0:d.updateSettings(o))!==null&&p!==void 0?p:Promise.resolve(!1)},switchTransport:o=>{var p;return(p=d==null?void 0:d.switchTransport(o))!==null&&p!==void 0?p:Promise.resolve({success:!1})}})},$="LOG_EVENT",ae={OUTPUT:"log-output"},ee=(d,e)=>({event:$,type:d,payload:e}),me=500;let xe;class Me{constructor(e,i){this.prefix=e,this.enabled=i,this.messages=[]}addMessage(e,i,...o){this.messages.push({level:e,prefix:i,message:o,timestamp:new Date().getTime()}),this.messages.length>me&&this.messages.shift()}log(...e){this.addMessage("log",this.prefix,...e),h0(this.prefix,...e),this.enabled&&console.log(this.prefix,...e)}error(...e){this.addMessage("error",this.prefix,...e),h0(this.prefix,...e),this.enabled&&console.error(this.prefix,...e)}warn(...e){this.addMessage("warn",this.prefix,...e),h0(this.prefix,...e),this.enabled&&console.warn(this.prefix,...e)}debug(...e){this.addMessage("debug",this.prefix,...e),h0(this.prefix,...e),this.enabled&&console.log(this.prefix,...e)}}const Be={},$e=(d,e)=>{const i=new Me(d,!1);return Be[d]=i,i},Ge=d=>{Object.keys(Be).forEach(e=>{Be[e].enabled=!!d})},R0=()=>{let d=[];return Object.keys(Be).forEach(e=>{d=d.concat(Be[e].messages)}),d.sort((e,i)=>e.timestamp-i.timestamp),d},at=d=>{xe=d},X0=(...d)=>d.map(e=>typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e>"u"?e:typeof e=="object"?JSON.stringify(e,yt()):e),yt=()=>{const d=new WeakSet;return(e,i)=>{if(typeof i=="object"&&i!==null){if(d.has(i))return;d.add(i)}return i}},h0=(d,...e)=>{xe==null||xe(ee(ae.OUTPUT,X0(d,...e)))};a.LoggerNames=void 0,function(d){d.Core="@onekey/hd-core",d.Transport="Transport",d.Device="Device",d.DeviceCommands="DeviceCommands",d.DeviceConnector="DeviceConnector",d.DeviceList="DeviceList",d.DevicePool="DevicePool",d.HdCommonConnectSdk="@onekey/common-connect-sdk",d.HdBleSdk="@onekey/hd-ble-sdk",d.HdTransportHttp="@onekey/hd-transport-http",d.HdTransportLowLevel="@onekey/hd-transport-lowlevel",d.HdBleTransport="@onekey/hd-ble-transport",d.HdWebBleTransport="@onekey/hd-web-ble-transport",d.HdTransportWebUsb="@onekey/hd-transport-webusb",d.Connect="@onekey/connect",d.Iframe="IFrame",d.SendMessage="[SendMessage]",d.Method="[Method]"}(a.LoggerNames||(a.LoggerNames={}));const ut={[a.LoggerNames.Core]:$e(a.LoggerNames.Core),[a.LoggerNames.Transport]:$e(a.LoggerNames.Transport),[a.LoggerNames.Device]:$e(a.LoggerNames.Device),[a.LoggerNames.DeviceCommands]:$e(a.LoggerNames.DeviceCommands),[a.LoggerNames.DeviceConnector]:$e(a.LoggerNames.DeviceConnector),[a.LoggerNames.DeviceList]:$e(a.LoggerNames.DeviceList),[a.LoggerNames.DevicePool]:$e(a.LoggerNames.DevicePool),[a.LoggerNames.HdBleSdk]:$e(a.LoggerNames.HdBleSdk),[a.LoggerNames.HdTransportHttp]:$e(a.LoggerNames.HdTransportHttp),[a.LoggerNames.HdBleTransport]:$e(a.LoggerNames.HdBleTransport),[a.LoggerNames.HdWebBleTransport]:$e(a.LoggerNames.HdWebBleTransport),[a.LoggerNames.HdTransportLowLevel]:$e(a.LoggerNames.HdTransportLowLevel),[a.LoggerNames.HdTransportWebUsb]:$e(a.LoggerNames.HdTransportWebUsb),[a.LoggerNames.Connect]:$e(a.LoggerNames.Connect),[a.LoggerNames.Iframe]:$e(a.LoggerNames.Iframe),[a.LoggerNames.SendMessage]:$e(a.LoggerNames.SendMessage),[a.LoggerNames.Method]:$e(a.LoggerNames.Method),[a.LoggerNames.HdCommonConnectSdk]:$e(a.LoggerNames.Method)},c0=d=>ut[d],D0=(d,e="text")=>L(void 0,void 0,void 0,function*(){const i={};d.indexOf("ngrok-free.app")>-1&&(i["ngrok-skip-browser-warning"]=!0);const o=yield M.default.request({url:d,withCredentials:!1,responseType:e==="binary"?"arraybuffer":"json",headers:i});if(+o.status==200)return o.data;throw new Error(`httpRequest error: ${d} ${o.statusText}`)}),I0=(d,e)=>D0(d,e),Wr=()=>new Date().getTime(),zr=3,Vs=new RegExp(/^[0-9]{1,3}(\.[0-9]{1,3}){0,2}$/),Kr=d=>Vs.test(d),Xt=d=>{if(!Array.isArray(d)||d.length===0||d.length>zr||d[0]===0)return!1;for(let e=0;e<d.length;e++)if(typeof d[e]!="number"||d[e]<0)return!1;return!0},br=d=>{if(d.length===zr)return d;const e=[...d];for(let i=d.length;i<zr;i++)e.push(0);return e},Gs=d=>Kr(d)?d.split(".").map(e=>Number(e)):[0,0,0],wd=(d,e)=>{if(typeof d=="string"&&typeof e=="string"&&d===e)return 0;const i=typeof d=="string"?Gs(d):d,o=typeof e=="string"?Gs(e):e,p=Xt(i),S=Xt(o);if(!p&&!S)return 0;if(!p&&S)return-1;if(p&&!S)return 1;const C=br(i),B=br(o);for(let U=0;U<zr;U++){if(C[U]>B[U])return 1;if(B[U]>C[U])return-1}return 0};function na(d){return d.type!=="Features"||d.message.major_version<1&&(d.message.major_version=1),d}const aa=c0(a.LoggerNames.Core);let oa=0,da=0;function fa(){da++;const d=Date.now().toString().slice(-6);return`SDK-${da}-${d}`}function Tr(d,e){oa++;const i=Date.now().toString().slice(-6),o=`${d}-${oa}-${i}`;return e?`${e}.${o}`:o}const mi=new Map,Er=new Map;function ua(){const d=fa(),e={sdkInstanceId:d,createdAt:Date.now(),activeRequests:new Map};return mi.set(d,e),e}function Ws(d,e,i){const o={responseID:d,sdkInstanceId:i==null?void 0:i.sdkInstanceId,methodName:e,connectId:i==null?void 0:i.connectId,deviceInstanceId:i==null?void 0:i.deviceInstanceId,commandsInstanceId:i==null?void 0:i.commandsInstanceId,parentResponseID:i==null?void 0:i.parentResponseID,startTime:Date.now(),status:"pending"};if(Er.set(o.responseID,o),i!=null&&i.sdkInstanceId){const p=mi.get(i.sdkInstanceId);p&&p.activeRequests.set(o.responseID,o)}return o}function zs(d,e){const i=Er.get(d);i&&Object.assign(i,e)}function Gi(d,e){const i=Er.get(d);if(i&&(i.endTime=Date.now(),i.status=e?"error":"success",e&&(i.error=e.message,aa.error(`[RequestContext] [completeRequestContext] Error: ${Zr(i)}`)),Er.delete(d),i.sdkInstanceId)){const o=mi.get(i.sdkInstanceId);o&&o.activeRequests.delete(d)}}function Wi(d){return Array.from(Er.values()).filter(e=>e.deviceInstanceId===d)}function Zr(d){const e=d.endTime?d.endTime-d.startTime:Date.now()-d.startTime;return[`[req:${d.responseID}]`,d.sdkInstanceId?`sdk=${d.sdkInstanceId}`:null,`method=${d.methodName}`,d.connectId?`connectId=${d.connectId}`:null,d.deviceInstanceId?`deviceInst=${d.deviceInstanceId}`:null,d.commandsInstanceId?`commandsInst=${d.commandsInstanceId}`:null,d.parentResponseID?`parent=${d.parentResponseID}`:null,`duration=${e}ms`,`status=${d.status}`,`error=${d.error}`].filter(Boolean).join(" ")}function ca(d){const e=mi.get(d);if(e){for(const i of e.activeRequests.keys())Er.delete(i);mi.delete(d)}}a.EOneKeyDeviceMode=void 0,function(d){d.bootloader="bootloader",d.normal="normal",d.notInitialized="notInitialized",d.backupMode="backupMode"}(a.EOneKeyDeviceMode||(a.EOneKeyDeviceMode={}));const w0={model_mini:[r.EDeviceType.Classic,r.EDeviceType.Classic1s,r.EDeviceType.ClassicPure,r.EDeviceType.Mini],model_touch:[r.EDeviceType.Touch,r.EDeviceType.Pro],model_classic:[r.EDeviceType.Classic,r.EDeviceType.Classic1s,r.EDeviceType.ClassicPure],model_classic1s:[r.EDeviceType.Classic1s,r.EDeviceType.ClassicPure]},zi={[r.EDeviceType.Classic]:["model_classic","model_mini"],[r.EDeviceType.Classic1s]:["model_classic","model_mini","model_classic1s"],[r.EDeviceType.ClassicPure]:["model_classic","model_mini","model_classic1s"],[r.EDeviceType.Mini]:["model_mini"],[r.EDeviceType.Touch]:["model_touch"],[r.EDeviceType.Pro]:["model_touch"],[r.EDeviceType.Unknown]:[]},Ki=(d,e)=>{var i;return(i=d==null?void 0:d.capabilities)===null||i===void 0?void 0:i.includes(e)},Ze=d=>{if(!d||typeof d!="object")return r.EDeviceType.Unknown;switch(d.onekey_device_type){case"CLASSIC":return r.EDeviceType.Classic;case"CLASSIC1S":return r.EDeviceType.Classic1s;case"MINI":return r.EDeviceType.Mini;case"TOUCH":return r.EDeviceType.Touch;case"PRO":return r.EDeviceType.Pro;case"PURE":return r.EDeviceType.ClassicPure;default:if(!g.isEmpty(d.onekey_serial_no))return r.EDeviceType.Unknown}const e=ur(d);if(g.isEmpty(e)&&d.bootloader_mode===!0&&d.model==="1")return r.EDeviceType.Classic;if(g.isEmpty(e))return r.EDeviceType.Unknown;const i=e.slice(0,2);return i.toLowerCase()==="bi"||i.toLowerCase()==="cl"?r.EDeviceType.Classic:i.toLowerCase()==="cp"?r.EDeviceType.ClassicPure:i.toLowerCase()==="mi"?r.EDeviceType.Mini:i.toLowerCase()==="tc"?r.EDeviceType.Touch:i.toLowerCase()==="pr"?r.EDeviceType.Pro:r.EDeviceType.Unknown},la=d=>d?d.startsWith("BixinKey")||d.startsWith("K")?r.EDeviceType.Classic:d.startsWith("T")||d.startsWith("Touch")?r.EDeviceType.Touch:d.startsWith("Pro")?r.EDeviceType.Pro:r.EDeviceType.Unknown:r.EDeviceType.Unknown,Ks=d=>d==null?null:d.onekey_ble_name||d.ble_name||null,ur=d=>{const e=d.onekey_serial_no||d.onekey_serial||d.serial_no;return e??""},pa=d=>{if(!d)return null;const e=Ze(d);if(e==null)return null;if(typeof d.label=="string"&&!g.isEmpty(d.label))return d.label;const i=Ks(d);return g.isEmpty(i)?e===r.EDeviceType.ClassicPure?"OneKey Classic 1S":`OneKey ${e.charAt(0).toUpperCase()+e.slice(1)}`:i},qt=(d,e)=>{const i=Ze(d);let o=e(i);if(o)return o;const p=["model_classic1s","model_classic","model_mini","model_touch"];for(const S of p)if(w0[S].includes(i)&&(o=e(S),o))return o;return o},U0=d=>{var e;return d&&(d.fw_vendor==="OneKey Bitcoin-only"||((e=d==null?void 0:d.capabilities)===null||e===void 0?void 0:e.length)>0&&!Ki(d,y.Enum_Capability.Capability_Bitcoin_like))?r.EFirmwareType.BitcoinOnly:r.EFirmwareType.Universal},y0=d=>{var e,i;return d?A.default.valid(d.onekey_firmware_version)?(e=d.onekey_firmware_version)===null||e===void 0?void 0:e.split("."):A.default.valid(d.onekey_version)?(i=d.onekey_version)===null||i===void 0?void 0:i.split("."):[0,0,0]:[0,0,0]},Yr=d=>{const e=(d==null?void 0:d.onekey_ble_version)||(d==null?void 0:d.ble_ver);return e?A.default.valid(e)?e?e.split(".").map(Number):[0,0,0]:[0,0,0]:[0,0,0]},xr=d=>{var e,i,o,p,S;return d?A.default.valid(d.onekey_boot_version)?(e=d.onekey_boot_version)===null||e===void 0?void 0:e.split("."):d.bootloader_version?A.default.valid(d.bootloader_version)?(S=d.bootloader_version)===null||S===void 0?void 0:S.split("."):[0,0,0]:d.bootloader_mode?[(i=d==null?void 0:d.major_version)!==null&&i!==void 0?i:0,(o=d==null?void 0:d.minor_version)!==null&&o!==void 0?o:0,(p=d==null?void 0:d.patch_version)!==null&&p!==void 0?p:0]:[0,0,0]:[0,0,0]},Sd=d=>{var e;return A.default.valid(d==null?void 0:d.onekey_board_version)?(e=d==null?void 0:d.onekey_board_version)===null||e===void 0?void 0:e.split("."):[0,0,0]},_i=2147483648,rt=d=>(d|_i)>>>0,Zi=d=>(d&~_i)>>>0,vi=r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,"Not a valid path"),ha=r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,"Path cannot contain negative values"),ya=d=>{const e=d.toLowerCase().split("/");if(e[0]!=="m")throw vi;return e.filter(i=>i!=="m"&&i!=="").map(i=>{let o=!1;i.substr(i.length-1)==="'"&&(o=!0,i=i.substr(0,i.length-1));let p=parseInt(i);if(Number.isNaN(p))throw vi;if(p<0)throw ha;return o&&(p=rt(p)),p})},Rd=(d,e)=>ga(d)&&d[1]===rt(e),ga=d=>Array.isArray(d)&&d[0]===rt(44),ma=d=>Array.isArray(d)&&d[0]===rt(49),Zs=d=>Array.isArray(d)&&(d[0]===rt(86)||d[0]===rt(10025)),Xr=d=>{if(!Array.isArray(d)||d.length<1)return"SPENDADDRESS";switch(Zi(d[0])){case 48:return"SPENDMULTISIG";case 49:return"SPENDP2SHWITNESS";case 84:return"SPENDWITNESS";case 86:case 10025:return"SPENDTAPROOT";default:return"SPENDADDRESS"}},_a=d=>{if(!Array.isArray(d)||d.length<1)return"PAYTOADDRESS";if(d[0]===49)return"PAYTOP2SHWITNESS";switch(Zi(d[0])){case 48:return"PAYTOMULTISIG";case 49:return"PAYTOP2SHWITNESS";case 84:return"PAYTOWITNESS";case 86:case 10025:return"PAYTOTAPROOT";default:return"PAYTOADDRESS"}},Ye=d=>`m/${d.map(i=>i&_i?`${i&~_i}'`:i).join("/")}`,He=(d,e=0,i=!1)=>{let o;if(typeof d=="string"?o=ya(d):Array.isArray(d)?o=d.map(p=>{const S=parseInt(p);if(Number.isNaN(S))throw vi;if(S<0)throw ha;return S}):o=void 0,!o||e>0&&o.length<e)throw vi;return i?o.splice(0,3):o};var va={AlephiumGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},include_public_key:{type:"bool",id:3},target_group:{type:"uint32",id:4}}},AlephiumAddress:{fields:{address:{rule:"required",type:"string",id:1},public_key:{type:"bytes",id:2},derived_path:{rule:"repeated",type:"uint32",id:3,options:{packed:!1}}}},AlephiumSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},data_initial_chunk:{rule:"required",type:"bytes",id:2},data_length:{type:"uint32",id:3}}},AlephiumSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},AlephiumTxRequest:{fields:{data_length:{type:"uint32",id:1},public_key:{type:"bytes",id:2},signature:{type:"bytes",id:3}}},AlephiumTxAck:{fields:{data_chunk:{rule:"required",type:"bytes",id:1}}},AlephiumBytecodeRequest:{fields:{data_length:{type:"uint32",id:1},public_key:{type:"bytes",id:2},signature:{type:"bytes",id:3}}},AlephiumBytecodeAck:{fields:{bytecode_data:{rule:"required",type:"bytes",id:1}}},AlephiumSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{type:"bytes",id:2},message_type:{type:"bytes",id:3}}},AlephiumMessageSignature:{fields:{signature:{type:"bytes",id:1},address:{type:"string",id:2}}},AlgorandGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:3}}},AlgorandAddress:{fields:{address:{type:"string",id:1}}},AlgorandSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},AlgorandSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},AptosGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},AptosAddress:{fields:{address:{type:"string",id:1}}},AptosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2},tx_type:{type:"AptosTransactionType",id:3,options:{default:"STANDARD"}}},nested:{AptosTransactionType:{values:{STANDARD:0,WITH_DATA:1}}}},AptosSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},AptosSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},payload:{rule:"required",type:"AptosMessagePayload",id:2}},nested:{AptosMessagePayload:{fields:{address:{type:"string",id:2},chain_id:{type:"string",id:3},application:{type:"string",id:4},nonce:{rule:"required",type:"string",id:5},message:{rule:"required",type:"string",id:6}}}}},AptosMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},AptosSignSIWAMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},siwa_payload:{rule:"required",type:"string",id:2}}},BenfenGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},BenfenAddress:{fields:{address:{type:"string",id:1}}},BenfenSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2},data_initial_chunk:{type:"bytes",id:3,options:{default:""}},coin_type:{type:"bytes",id:4},data_length:{type:"uint32",id:5}}},BenfenSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},BenfenTxRequest:{fields:{data_length:{type:"uint32",id:1},public_key:{type:"bytes",id:2},signature:{type:"bytes",id:3}}},BenfenTxAck:{fields:{data_chunk:{rule:"required",type:"bytes",id:1}}},BenfenSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2}}},BenfenMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},BinanceGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},BinanceAddress:{fields:{address:{rule:"required",type:"string",id:1}}},BinanceGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},BinancePublicKey:{fields:{public_key:{rule:"required",type:"bytes",id:1}}},BinanceSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},msg_count:{type:"uint32",id:2},account_number:{type:"sint64",id:3},chain_id:{type:"string",id:4},memo:{type:"string",id:5},sequence:{type:"sint64",id:6},source:{type:"sint64",id:7}}},BinanceTxRequest:{fields:{}},BinanceTransferMsg:{fields:{inputs:{rule:"repeated",type:"BinanceInputOutput",id:1},outputs:{rule:"repeated",type:"BinanceInputOutput",id:2}},nested:{BinanceInputOutput:{fields:{address:{type:"string",id:1},coins:{rule:"repeated",type:"BinanceCoin",id:2}}},BinanceCoin:{fields:{amount:{type:"sint64",id:1},denom:{type:"string",id:2}}}}},BinanceOrderMsg:{fields:{id:{type:"string",id:1},ordertype:{type:"BinanceOrderType",id:2},price:{type:"sint64",id:3},quantity:{type:"sint64",id:4},sender:{type:"string",id:5},side:{type:"BinanceOrderSide",id:6},symbol:{type:"string",id:7},timeinforce:{type:"BinanceTimeInForce",id:8}},nested:{BinanceOrderType:{values:{OT_UNKNOWN:0,MARKET:1,LIMIT:2,OT_RESERVED:3}},BinanceOrderSide:{values:{SIDE_UNKNOWN:0,BUY:1,SELL:2}},BinanceTimeInForce:{values:{TIF_UNKNOWN:0,GTE:1,TIF_RESERVED:2,IOC:3}}}},BinanceCancelMsg:{fields:{refid:{type:"string",id:1},sender:{type:"string",id:2},symbol:{type:"string",id:3}}},BinanceSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1},public_key:{rule:"required",type:"bytes",id:2}}},InputScriptType:{values:{SPENDADDRESS:0,SPENDMULTISIG:1,EXTERNAL:2,SPENDWITNESS:3,SPENDP2SHWITNESS:4,SPENDTAPROOT:5}},OutputScriptType:{values:{PAYTOADDRESS:0,PAYTOSCRIPTHASH:1,PAYTOMULTISIG:2,PAYTOOPRETURN:3,PAYTOWITNESS:4,PAYTOP2SHWITNESS:5,PAYTOTAPROOT:6}},DecredStakingSpendType:{values:{SSGen:0,SSRTX:1}},AmountUnit:{values:{BITCOIN:0,MILLIBITCOIN:1,MICROBITCOIN:2,SATOSHI:3}},MultisigRedeemScriptType:{fields:{pubkeys:{rule:"repeated",type:"HDNodePathType",id:1},signatures:{rule:"repeated",type:"bytes",id:2},m:{rule:"required",type:"uint32",id:3},nodes:{rule:"repeated",type:"HDNodeType",id:4},address_n:{rule:"repeated",type:"uint32",id:5,options:{packed:!1}}},nested:{HDNodePathType:{fields:{node:{rule:"required",type:"HDNodeType",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}}}}}},GetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},ecdsa_curve_name:{type:"string",id:2},show_display:{type:"bool",id:3},coin_name:{type:"string",id:4,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:5,options:{default:"SPENDADDRESS"}},ignore_xpub_magic:{type:"bool",id:6}}},PublicKey:{fields:{node:{rule:"required",type:"HDNodeType",id:1},xpub:{rule:"required",type:"string",id:2},root_fingerprint:{type:"uint32",id:3}}},GetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},coin_name:{type:"string",id:2,options:{default:"Bitcoin"}},show_display:{type:"bool",id:3},multisig:{type:"MultisigRedeemScriptType",id:4},script_type:{type:"InputScriptType",id:5,options:{default:"SPENDADDRESS"}},ignore_xpub_magic:{type:"bool",id:6}}},Address:{fields:{address:{rule:"required",type:"string",id:1}}},GetOwnershipId:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},coin_name:{type:"string",id:2,options:{default:"Bitcoin"}},multisig:{type:"MultisigRedeemScriptType",id:3},script_type:{type:"InputScriptType",id:4,options:{default:"SPENDADDRESS"}}}},OwnershipId:{fields:{ownership_id:{rule:"required",type:"bytes",id:1}}},SignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2},coin_name:{type:"string",id:3,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:4,options:{default:"SPENDADDRESS"}},no_script_type:{type:"bool",id:5},is_bip322_simple:{type:"bool",id:10,options:{default:!1}}}},MessageSignature:{fields:{address:{rule:"required",type:"string",id:1},signature:{rule:"required",type:"bytes",id:2}}},VerifyMessage:{fields:{address:{rule:"required",type:"string",id:1},signature:{rule:"required",type:"bytes",id:2},message:{rule:"required",type:"bytes",id:3},coin_name:{type:"string",id:4,options:{default:"Bitcoin"}}}},SignTx:{fields:{outputs_count:{rule:"required",type:"uint32",id:1},inputs_count:{rule:"required",type:"uint32",id:2},coin_name:{type:"string",id:3,options:{default:"Bitcoin"}},version:{type:"uint32",id:4,options:{default:1}},lock_time:{type:"uint32",id:5,options:{default:0}},expiry:{type:"uint32",id:6},overwintered:{type:"bool",id:7,options:{deprecated:!0}},version_group_id:{type:"uint32",id:8},timestamp:{type:"uint32",id:9},branch_id:{type:"uint32",id:10},amount_unit:{type:"AmountUnit",id:11,options:{default:"BITCOIN"}},decred_staking_ticket:{type:"bool",id:12,options:{default:!1}}}},TxRequest:{fields:{request_type:{type:"RequestType",id:1},details:{type:"TxRequestDetailsType",id:2},serialized:{type:"TxRequestSerializedType",id:3}},nested:{RequestType:{values:{TXINPUT:0,TXOUTPUT:1,TXMETA:2,TXFINISHED:3,TXEXTRADATA:4,TXORIGINPUT:5,TXORIGOUTPUT:6}},TxRequestDetailsType:{fields:{request_index:{type:"uint32",id:1},tx_hash:{type:"bytes",id:2},extra_data_len:{type:"uint32",id:3},extra_data_offset:{type:"uint32",id:4}}},TxRequestSerializedType:{fields:{signature_index:{type:"uint32",id:1},signature:{type:"bytes",id:2},serialized_tx:{type:"bytes",id:3}}}}},TxAck:{options:{deprecated:!0},fields:{tx:{type:"TransactionType",id:1}},nested:{TransactionType:{fields:{version:{type:"uint32",id:1},inputs:{rule:"repeated",type:"TxInputType",id:2},bin_outputs:{rule:"repeated",type:"TxOutputBinType",id:3},lock_time:{type:"uint32",id:4},outputs:{rule:"repeated",type:"TxOutputType",id:5},inputs_cnt:{type:"uint32",id:6},outputs_cnt:{type:"uint32",id:7},extra_data:{type:"bytes",id:8},extra_data_len:{type:"uint32",id:9},expiry:{type:"uint32",id:10},overwintered:{type:"bool",id:11,options:{deprecated:!0}},version_group_id:{type:"uint32",id:12},timestamp:{type:"uint32",id:13},branch_id:{type:"uint32",id:14}},nested:{TxInputType:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},prev_hash:{rule:"required",type:"bytes",id:2},prev_index:{rule:"required",type:"uint32",id:3},script_sig:{type:"bytes",id:4},sequence:{type:"uint32",id:5,options:{default:4294967295}},script_type:{type:"InputScriptType",id:6,options:{default:"SPENDADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:7},amount:{type:"uint64",id:8},decred_tree:{type:"uint32",id:9},witness:{type:"bytes",id:13},ownership_proof:{type:"bytes",id:14},commitment_data:{type:"bytes",id:15},orig_hash:{type:"bytes",id:16},orig_index:{type:"uint32",id:17},decred_staking_spend:{type:"DecredStakingSpendType",id:18},script_pubkey:{type:"bytes",id:19}}},TxOutputBinType:{fields:{amount:{rule:"required",type:"uint64",id:1},script_pubkey:{rule:"required",type:"bytes",id:2},decred_script_version:{type:"uint32",id:3}}},TxOutputType:{fields:{address:{type:"string",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},amount:{rule:"required",type:"uint64",id:3},script_type:{type:"OutputScriptType",id:4,options:{default:"PAYTOADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:5},op_return_data:{type:"bytes",id:6},orig_hash:{type:"bytes",id:10},orig_index:{type:"uint32",id:11}}}}}}},TxInput:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},prev_hash:{rule:"required",type:"bytes",id:2},prev_index:{rule:"required",type:"uint32",id:3},script_sig:{type:"bytes",id:4},sequence:{type:"uint32",id:5,options:{default:4294967295}},script_type:{type:"InputScriptType",id:6,options:{default:"SPENDADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:7},amount:{rule:"required",type:"uint64",id:8},decred_tree:{type:"uint32",id:9},witness:{type:"bytes",id:13},ownership_proof:{type:"bytes",id:14},commitment_data:{type:"bytes",id:15},orig_hash:{type:"bytes",id:16},orig_index:{type:"uint32",id:17},decred_staking_spend:{type:"DecredStakingSpendType",id:18},script_pubkey:{type:"bytes",id:19}}},TxOutput:{fields:{address:{type:"string",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},amount:{rule:"required",type:"uint64",id:3},script_type:{type:"OutputScriptType",id:4,options:{default:"PAYTOADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:5},op_return_data:{type:"bytes",id:6},orig_hash:{type:"bytes",id:10},orig_index:{type:"uint32",id:11}}},PrevTx:{fields:{version:{rule:"required",type:"uint32",id:1},lock_time:{rule:"required",type:"uint32",id:4},inputs_count:{rule:"required",type:"uint32",id:6},outputs_count:{rule:"required",type:"uint32",id:7},extra_data_len:{type:"uint32",id:9,options:{default:0}},expiry:{type:"uint32",id:10},version_group_id:{type:"uint32",id:12},timestamp:{type:"uint32",id:13},branch_id:{type:"uint32",id:14}}},PrevInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:2},prev_index:{rule:"required",type:"uint32",id:3},script_sig:{rule:"required",type:"bytes",id:4},sequence:{rule:"required",type:"uint32",id:5},decred_tree:{type:"uint32",id:9}}},PrevOutput:{fields:{amount:{rule:"required",type:"uint64",id:1},script_pubkey:{rule:"required",type:"bytes",id:2},decred_script_version:{type:"uint32",id:3}}},TxAckInput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckInputWrapper",id:1}},nested:{TxAckInputWrapper:{fields:{input:{rule:"required",type:"TxInput",id:2}}}}},TxAckOutput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckOutputWrapper",id:1}},nested:{TxAckOutputWrapper:{fields:{output:{rule:"required",type:"TxOutput",id:5}}}}},TxAckPrevMeta:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"PrevTx",id:1}}},TxAckPrevInput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckPrevInputWrapper",id:1}},nested:{TxAckPrevInputWrapper:{fields:{input:{rule:"required",type:"PrevInput",id:2}}}}},TxAckPrevOutput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckPrevOutputWrapper",id:1}},nested:{TxAckPrevOutputWrapper:{fields:{output:{rule:"required",type:"PrevOutput",id:3}}}}},TxAckPrevExtraData:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckPrevExtraDataWrapper",id:1}},nested:{TxAckPrevExtraDataWrapper:{fields:{extra_data_chunk:{rule:"required",type:"bytes",id:8}}}}},GetOwnershipProof:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},coin_name:{type:"string",id:2,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:3,options:{default:"SPENDWITNESS"}},multisig:{type:"MultisigRedeemScriptType",id:4},user_confirmation:{type:"bool",id:5,options:{default:!1}},ownership_ids:{rule:"repeated",type:"bytes",id:6},commitment_data:{type:"bytes",id:7,options:{default:""}}}},OwnershipProof:{fields:{ownership_proof:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},AuthorizeCoinJoin:{options:{"(unstable)":!0},fields:{coordinator:{rule:"required",type:"string",id:1},max_total_fee:{rule:"required",type:"uint64",id:2},fee_per_anonymity:{type:"uint32",id:3,options:{default:0}},address_n:{rule:"repeated",type:"uint32",id:4,options:{packed:!1}},coin_name:{type:"string",id:5,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:6,options:{default:"SPENDADDRESS"}},amount_unit:{type:"AmountUnit",id:11,options:{default:"BITCOIN"}}}},GetPublicKeyMultiple:{fields:{addresses:{rule:"repeated",type:"BIP32Address",id:1},ecdsa_curve_name:{type:"string",id:2},show_display:{type:"bool",id:3},coin_name:{type:"string",id:4,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:5,options:{default:"SPENDADDRESS"}},ignore_xpub_magic:{type:"bool",id:6}},nested:{BIP32Address:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}}}},PublicKeyMultiple:{fields:{xpubs:{rule:"repeated",type:"string",id:1}}},SignPsbt:{fields:{psbt:{rule:"required",type:"bytes",id:1},coin_name:{type:"string",id:2,options:{default:"Bitcoin"}}}},SignedPsbt:{fields:{psbt:{rule:"required",type:"bytes",id:1}}},FirmwareErase:{fields:{length:{type:"uint32",id:1}}},FirmwareRequest:{fields:{offset:{type:"uint32",id:1},length:{type:"uint32",id:2}}},FirmwareUpload:{fields:{payload:{rule:"required",type:"bytes",id:1},hash:{type:"bytes",id:2}}},SelfTest:{fields:{payload:{type:"bytes",id:1}}},FirmwareErase_ex:{fields:{length:{type:"uint32",id:1}}},RebootType:{values:{Normal:0,Boardloader:1,BootLoader:2}},Reboot:{fields:{reboot_type:{rule:"required",type:"RebootType",id:1}}},FirmwareUpdateEmmc:{fields:{path:{rule:"required",type:"string",id:1},reboot_on_success:{type:"bool",id:2}}},UpgradeFileHeader:{fields:{data:{rule:"required",type:"bytes",id:1}}},CardanoDerivationType:{values:{LEDGER:0,ICARUS:1,ICARUS_TREZOR:2}},CardanoAddressType:{values:{BASE:0,BASE_SCRIPT_KEY:1,BASE_KEY_SCRIPT:2,BASE_SCRIPT_SCRIPT:3,POINTER:4,POINTER_SCRIPT:5,ENTERPRISE:6,ENTERPRISE_SCRIPT:7,BYRON:8,REWARD:14,REWARD_SCRIPT:15}},CardanoNativeScriptType:{values:{PUB_KEY:0,ALL:1,ANY:2,N_OF_K:3,INVALID_BEFORE:4,INVALID_HEREAFTER:5}},CardanoNativeScriptHashDisplayFormat:{values:{HIDE:0,BECH32:1,POLICY_ID:2}},CardanoTxOutputSerializationFormat:{values:{ARRAY_LEGACY:0,MAP_BABBAGE:1}},CardanoCertificateType:{values:{STAKE_REGISTRATION:0,STAKE_DEREGISTRATION:1,STAKE_DELEGATION:2,STAKE_POOL_REGISTRATION:3,STAKE_REGISTRATION_CONWAY:7,STAKE_DEREGISTRATION_CONWAY:8,VOTE_DELEGATION:9}},CardanoDRepType:{values:{KEY_HASH:0,SCRIPT_HASH:1,ABSTAIN:2,NO_CONFIDENCE:3}},CardanoPoolRelayType:{values:{SINGLE_HOST_IP:0,SINGLE_HOST_NAME:1,MULTIPLE_HOST_NAME:2}},CardanoTxAuxiliaryDataSupplementType:{values:{NONE:0,CVOTE_REGISTRATION_SIGNATURE:1}},CardanoCVoteRegistrationFormat:{values:{CIP15:0,CIP36:1}},CardanoTxSigningMode:{values:{ORDINARY_TRANSACTION:0,POOL_REGISTRATION_AS_OWNER:1,MULTISIG_TRANSACTION:2,PLUTUS_TRANSACTION:3}},CardanoTxWitnessType:{values:{BYRON_WITNESS:0,SHELLEY_WITNESS:1}},CardanoBlockchainPointerType:{fields:{block_index:{rule:"required",type:"uint32",id:1},tx_index:{rule:"required",type:"uint32",id:2},certificate_index:{rule:"required",type:"uint32",id:3}}},CardanoNativeScript:{fields:{type:{rule:"required",type:"CardanoNativeScriptType",id:1},scripts:{rule:"repeated",type:"CardanoNativeScript",id:2},key_hash:{type:"bytes",id:3},key_path:{rule:"repeated",type:"uint32",id:4,options:{packed:!1}},required_signatures_count:{type:"uint32",id:5},invalid_before:{type:"uint64",id:6},invalid_hereafter:{type:"uint64",id:7}}},CardanoGetNativeScriptHash:{fields:{script:{rule:"required",type:"CardanoNativeScript",id:1},display_format:{rule:"required",type:"CardanoNativeScriptHashDisplayFormat",id:2},derivation_type:{rule:"required",type:"CardanoDerivationType",id:3}}},CardanoNativeScriptHash:{fields:{script_hash:{rule:"required",type:"bytes",id:1}}},CardanoAddressParametersType:{fields:{address_type:{rule:"required",type:"CardanoAddressType",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},address_n_staking:{rule:"repeated",type:"uint32",id:3,options:{packed:!1}},staking_key_hash:{type:"bytes",id:4},certificate_pointer:{type:"CardanoBlockchainPointerType",id:5},script_payment_hash:{type:"bytes",id:6},script_staking_hash:{type:"bytes",id:7}}},CardanoGetAddress:{fields:{show_display:{type:"bool",id:2,options:{default:!1}},protocol_magic:{rule:"required",type:"uint32",id:3},network_id:{rule:"required",type:"uint32",id:4},address_parameters:{rule:"required",type:"CardanoAddressParametersType",id:5},derivation_type:{rule:"required",type:"CardanoDerivationType",id:6},chunkify:{type:"bool",id:7}}},CardanoAddress:{fields:{address:{rule:"required",type:"string",id:1}}},CardanoGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},derivation_type:{rule:"required",type:"CardanoDerivationType",id:3}}},CardanoPublicKey:{fields:{xpub:{rule:"required",type:"string",id:1},node:{rule:"required",type:"HDNodeType",id:2}}},CardanoSignTxInit:{fields:{signing_mode:{rule:"required",type:"CardanoTxSigningMode",id:1},protocol_magic:{rule:"required",type:"uint32",id:2},network_id:{rule:"required",type:"uint32",id:3},inputs_count:{rule:"required",type:"uint32",id:4},outputs_count:{rule:"required",type:"uint32",id:5},fee:{rule:"required",type:"uint64",id:6},ttl:{type:"uint64",id:7},certificates_count:{rule:"required",type:"uint32",id:8},withdrawals_count:{rule:"required",type:"uint32",id:9},has_auxiliary_data:{rule:"required",type:"bool",id:10},validity_interval_start:{type:"uint64",id:11},witness_requests_count:{rule:"required",type:"uint32",id:12},minting_asset_groups_count:{rule:"required",type:"uint32",id:13},derivation_type:{rule:"required",type:"CardanoDerivationType",id:14},include_network_id:{type:"bool",id:15,options:{default:!1}},script_data_hash:{type:"bytes",id:16},collateral_inputs_count:{rule:"required",type:"uint32",id:17},required_signers_count:{rule:"required",type:"uint32",id:18},has_collateral_return:{type:"bool",id:19,options:{default:!1}},total_collateral:{type:"uint64",id:20},reference_inputs_count:{type:"uint32",id:21,options:{default:0}},chunkify:{type:"bool",id:22},tag_cbor_sets:{type:"bool",id:23,options:{default:!1}}}},CardanoTxInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:1},prev_index:{rule:"required",type:"uint32",id:2}}},CardanoTxOutput:{fields:{address:{type:"string",id:1},address_parameters:{type:"CardanoAddressParametersType",id:2},amount:{rule:"required",type:"uint64",id:3},asset_groups_count:{rule:"required",type:"uint32",id:4},datum_hash:{type:"bytes",id:5},format:{type:"CardanoTxOutputSerializationFormat",id:6,options:{default:"ARRAY_LEGACY"}},inline_datum_size:{type:"uint32",id:7,options:{default:0}},reference_script_size:{type:"uint32",id:8,options:{default:0}}}},CardanoAssetGroup:{fields:{policy_id:{rule:"required",type:"bytes",id:1},tokens_count:{rule:"required",type:"uint32",id:2}}},CardanoToken:{fields:{asset_name_bytes:{rule:"required",type:"bytes",id:1},amount:{type:"uint64",id:2},mint_amount:{type:"sint64",id:3}}},CardanoTxInlineDatumChunk:{fields:{data:{rule:"required",type:"bytes",id:1}}},CardanoTxReferenceScriptChunk:{fields:{data:{rule:"required",type:"bytes",id:1}}},CardanoPoolOwner:{fields:{staking_key_path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},staking_key_hash:{type:"bytes",id:2}}},CardanoPoolRelayParameters:{fields:{type:{rule:"required",type:"CardanoPoolRelayType",id:1},ipv4_address:{type:"bytes",id:2},ipv6_address:{type:"bytes",id:3},host_name:{type:"string",id:4},port:{type:"uint32",id:5}}},CardanoPoolMetadataType:{fields:{url:{rule:"required",type:"string",id:1},hash:{rule:"required",type:"bytes",id:2}}},CardanoPoolParametersType:{fields:{pool_id:{rule:"required",type:"bytes",id:1},vrf_key_hash:{rule:"required",type:"bytes",id:2},pledge:{rule:"required",type:"uint64",id:3},cost:{rule:"required",type:"uint64",id:4},margin_numerator:{rule:"required",type:"uint64",id:5},margin_denominator:{rule:"required",type:"uint64",id:6},reward_account:{rule:"required",type:"string",id:7},metadata:{type:"CardanoPoolMetadataType",id:10},owners_count:{rule:"required",type:"uint32",id:11},relays_count:{rule:"required",type:"uint32",id:12}}},CardanoDRep:{fields:{type:{rule:"required",type:"CardanoDRepType",id:1},key_hash:{type:"bytes",id:2},script_hash:{type:"bytes",id:3}}},CardanoTxCertificate:{fields:{type:{rule:"required",type:"CardanoCertificateType",id:1},path:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},pool:{type:"bytes",id:3},pool_parameters:{type:"CardanoPoolParametersType",id:4},script_hash:{type:"bytes",id:5},key_hash:{type:"bytes",id:6},deposit:{type:"uint64",id:7},drep:{type:"CardanoDRep",id:8}}},CardanoTxWithdrawal:{fields:{path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},amount:{rule:"required",type:"uint64",id:2},script_hash:{type:"bytes",id:3},key_hash:{type:"bytes",id:4}}},CardanoCVoteRegistrationDelegation:{fields:{vote_public_key:{rule:"required",type:"bytes",id:1},weight:{rule:"required",type:"uint32",id:2}}},CardanoCVoteRegistrationParametersType:{fields:{vote_public_key:{type:"bytes",id:1},staking_path:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},payment_address_parameters:{type:"CardanoAddressParametersType",id:3},nonce:{rule:"required",type:"uint64",id:4},format:{type:"CardanoCVoteRegistrationFormat",id:5,options:{default:"CIP15"}},delegations:{rule:"repeated",type:"CardanoCVoteRegistrationDelegation",id:6},voting_purpose:{type:"uint64",id:7},payment_address:{type:"string",id:8}}},CardanoTxAuxiliaryData:{fields:{cvote_registration_parameters:{type:"CardanoCVoteRegistrationParametersType",id:1},hash:{type:"bytes",id:2}}},CardanoTxMint:{fields:{asset_groups_count:{rule:"required",type:"uint32",id:1}}},CardanoTxCollateralInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:1},prev_index:{rule:"required",type:"uint32",id:2}}},CardanoTxRequiredSigner:{fields:{key_hash:{type:"bytes",id:1},key_path:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}}}},CardanoTxReferenceInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:1},prev_index:{rule:"required",type:"uint32",id:2}}},CardanoTxItemAck:{fields:{}},CardanoTxAuxiliaryDataSupplement:{fields:{type:{rule:"required",type:"CardanoTxAuxiliaryDataSupplementType",id:1},auxiliary_data_hash:{type:"bytes",id:2},cvote_registration_signature:{type:"bytes",id:3}}},CardanoTxWitnessRequest:{fields:{path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}},CardanoTxWitnessResponse:{fields:{type:{rule:"required",type:"CardanoTxWitnessType",id:1},pub_key:{rule:"required",type:"bytes",id:2},signature:{rule:"required",type:"bytes",id:3},chain_code:{type:"bytes",id:4}}},CardanoTxHostAck:{fields:{}},CardanoTxBodyHash:{fields:{tx_hash:{rule:"required",type:"bytes",id:1}}},CardanoSignTxFinished:{fields:{}},CardanoSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2},derivation_type:{rule:"required",type:"CardanoDerivationType",id:3},network_id:{rule:"required",type:"uint32",id:4},address_type:{type:"CardanoAddressType",id:5}}},CardanoMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:1},key:{rule:"required",type:"bytes",id:2}}},Success:{fields:{message:{type:"string",id:1,options:{default:""}}}},Failure:{fields:{code:{type:"FailureType",id:1},message:{type:"string",id:2}},nested:{FailureType:{values:{Failure_UnexpectedMessage:1,Failure_ButtonExpected:2,Failure_DataError:3,Failure_ActionCancelled:4,Failure_PinExpected:5,Failure_PinCancelled:6,Failure_PinInvalid:7,Failure_InvalidSignature:8,Failure_ProcessError:9,Failure_NotEnoughFunds:10,Failure_NotInitialized:11,Failure_PinMismatch:12,Failure_WipeCodeMismatch:13,Failure_InvalidSession:14,Failure_FirmwareError:99}}}},ButtonRequest:{fields:{code:{type:"ButtonRequestType",id:1},pages:{type:"uint32",id:2}},nested:{ButtonRequestType:{values:{ButtonRequest_Other:1,ButtonRequest_FeeOverThreshold:2,ButtonRequest_ConfirmOutput:3,ButtonRequest_ResetDevice:4,ButtonRequest_ConfirmWord:5,ButtonRequest_WipeDevice:6,ButtonRequest_ProtectCall:7,ButtonRequest_SignTx:8,ButtonRequest_FirmwareCheck:9,ButtonRequest_Address:10,ButtonRequest_PublicKey:11,ButtonRequest_MnemonicWordCount:12,ButtonRequest_MnemonicInput:13,_Deprecated_ButtonRequest_PassphraseType:14,ButtonRequest_UnknownDerivationPath:15,ButtonRequest_RecoveryHomepage:16,ButtonRequest_Success:17,ButtonRequest_Warning:18,ButtonRequest_PassphraseEntry:19,ButtonRequest_PinEntry:20,ButtonRequest_AttachPin:8e3}}}},ButtonAck:{fields:{}},PinMatrixRequest:{fields:{type:{type:"PinMatrixRequestType",id:1}},nested:{PinMatrixRequestType:{values:{PinMatrixRequestType_Current:1,PinMatrixRequestType_NewFirst:2,PinMatrixRequestType_NewSecond:3,PinMatrixRequestType_WipeCodeFirst:4,PinMatrixRequestType_WipeCodeSecond:5,PinMatrixRequestType_BackupFirst:6,PinMatrixRequestType_BackupSecond:7,PinMatrixRequestType_AttachToPin:8e3}}}},PinMatrixAck:{fields:{pin:{rule:"required",type:"string",id:1},new_pin:{type:"string",id:2}}},PassphraseRequest:{fields:{_on_device:{type:"bool",id:1,options:{deprecated:!0}},exists_attach_pin_user:{type:"bool",id:8e3}}},PassphraseAck:{fields:{passphrase:{type:"string",id:1},_state:{type:"bytes",id:2,options:{deprecated:!0}},on_device:{type:"bool",id:3},on_device_attach_pin:{type:"bool",id:8e3}}},Deprecated_PassphraseStateRequest:{options:{deprecated:!0},fields:{state:{type:"bytes",id:1}}},Deprecated_PassphraseStateAck:{options:{deprecated:!0},fields:{}},HDNodeType:{fields:{depth:{rule:"required",type:"uint32",id:1},fingerprint:{rule:"required",type:"uint32",id:2},child_num:{rule:"required",type:"uint32",id:3},chain_code:{rule:"required",type:"bytes",id:4},private_key:{type:"bytes",id:5},public_key:{rule:"required",type:"bytes",id:6}}},BixinPinInputOnDevice:{fields:{}},ConfluxGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},chain_id:{type:"uint32",id:3}}},ConfluxAddress:{fields:{address:{type:"string",id:1}}},ConfluxSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{type:"bytes",id:2},gas_price:{type:"bytes",id:3},gas_limit:{type:"bytes",id:4},to:{type:"string",id:5},value:{type:"bytes",id:6},epoch_height:{type:"bytes",id:7},storage_limit:{type:"bytes",id:8},data_initial_chunk:{type:"bytes",id:9},data_length:{type:"uint32",id:10},chain_id:{type:"uint32",id:11}}},ConfluxTxRequest:{fields:{data_length:{type:"uint32",id:1},signature_v:{type:"uint32",id:2},signature_r:{type:"bytes",id:3},signature_s:{type:"bytes",id:4}}},ConfluxTxAck:{fields:{data_chunk:{type:"bytes",id:1}}},ConfluxSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{type:"bytes",id:2}}},ConfluxMessageSignature:{fields:{signature:{type:"bytes",id:2},address:{type:"string",id:3}}},ConfluxSignMessageCIP23:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},domain_hash:{type:"bytes",id:2},message_hash:{type:"bytes",id:3}}},CosmosGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},hrp:{type:"string",id:2},show_display:{type:"bool",id:3}}},CosmosAddress:{fields:{address:{type:"string",id:1}}},CosmosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},CosmosSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},CipherKeyValue:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},key:{rule:"required",type:"string",id:2},value:{rule:"required",type:"bytes",id:3},encrypt:{type:"bool",id:4},ask_on_encrypt:{type:"bool",id:5},ask_on_decrypt:{type:"bool",id:6},iv:{type:"bytes",id:7}}},CipheredKeyValue:{fields:{value:{rule:"required",type:"bytes",id:1}}},IdentityType:{fields:{proto:{type:"string",id:1},user:{type:"string",id:2},host:{type:"string",id:3},port:{type:"string",id:4},path:{type:"string",id:5},index:{type:"uint32",id:6,options:{default:0}}}},SignIdentity:{fields:{identity:{rule:"required",type:"IdentityType",id:1},challenge_hidden:{type:"bytes",id:2,options:{default:""}},challenge_visual:{type:"string",id:3,options:{default:""}},ecdsa_curve_name:{type:"string",id:4}}},SignedIdentity:{fields:{address:{type:"string",id:1},public_key:{rule:"required",type:"bytes",id:2},signature:{rule:"required",type:"bytes",id:3}}},GetECDHSessionKey:{fields:{identity:{rule:"required",type:"IdentityType",id:1},peer_public_key:{rule:"required",type:"bytes",id:2},ecdsa_curve_name:{type:"string",id:3}}},ECDHSessionKey:{fields:{session_key:{rule:"required",type:"bytes",id:1},public_key:{type:"bytes",id:2}}},CosiCommit:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},data:{type:"bytes",id:2}}},CosiCommitment:{fields:{commitment:{type:"bytes",id:1},pubkey:{type:"bytes",id:2}}},CosiSign:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},data:{type:"bytes",id:2},global_commitment:{type:"bytes",id:3},global_pubkey:{type:"bytes",id:4}}},CosiSignature:{fields:{signature:{rule:"required",type:"bytes",id:1}}},BatchGetPublickeys:{fields:{ecdsa_curve_name:{type:"string",id:1,options:{default:"ed25519"}},paths:{rule:"repeated",type:"Path",id:2},include_node:{type:"bool",id:3,options:{default:!1}}},nested:{Path:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}}}},EcdsaPublicKeys:{fields:{public_keys:{rule:"repeated",type:"bytes",id:1},hd_nodes:{rule:"repeated",type:"HDNodeType",id:2},root_fingerprint:{type:"uint32",id:3}}},DebugLinkDecision:{fields:{yes_no:{type:"bool",id:1},swipe:{type:"DebugSwipeDirection",id:2},input:{type:"string",id:3},x:{type:"uint32",id:4},y:{type:"uint32",id:5},wait:{type:"bool",id:6},hold_ms:{type:"uint32",id:7}},nested:{DebugSwipeDirection:{values:{UP:0,DOWN:1,LEFT:2,RIGHT:3}}}},DebugLinkLayout:{fields:{lines:{rule:"repeated",type:"string",id:1}}},DebugLinkReseedRandom:{fields:{value:{type:"uint32",id:1}}},DebugLinkRecordScreen:{fields:{target_directory:{type:"string",id:1}}},DebugLinkGetState:{fields:{wait_word_list:{type:"bool",id:1},wait_word_pos:{type:"bool",id:2},wait_layout:{type:"bool",id:3}}},DebugLinkState:{fields:{layout:{type:"bytes",id:1},pin:{type:"string",id:2},matrix:{type:"string",id:3},mnemonic_secret:{type:"bytes",id:4},node:{type:"HDNodeType",id:5},passphrase_protection:{type:"bool",id:6},reset_word:{type:"string",id:7},reset_entropy:{type:"bytes",id:8},recovery_fake_word:{type:"string",id:9},recovery_word_pos:{type:"uint32",id:10},reset_word_pos:{type:"uint32",id:11},mnemonic_type:{type:"BackupType",id:12},layout_lines:{rule:"repeated",type:"string",id:13}}},DebugLinkStop:{fields:{}},DebugLinkLog:{fields:{level:{type:"uint32",id:1},bucket:{type:"string",id:2},text:{type:"string",id:3}}},DebugLinkMemoryRead:{fields:{address:{type:"uint32",id:1},length:{type:"uint32",id:2}}},DebugLinkMemory:{fields:{memory:{type:"bytes",id:1}}},DebugLinkMemoryWrite:{fields:{address:{type:"uint32",id:1},memory:{type:"bytes",id:2},flash:{type:"bool",id:3}}},DebugLinkFlashErase:{fields:{sector:{type:"uint32",id:1}}},DebugLinkEraseSdCard:{fields:{format:{type:"bool",id:1}}},DebugLinkWatchLayout:{fields:{watch:{type:"bool",id:1}}},DnxGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},DnxAddress:{fields:{address:{type:"string",id:1}}},DnxSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},inputs_count:{rule:"required",type:"uint32",id:2},to_address:{rule:"required",type:"string",id:3},amount:{rule:"required",type:"uint64",id:4},fee:{rule:"required",type:"uint64",id:5},payment_id:{type:"bytes",id:6}}},DnxInputRequest:{fields:{request_index:{type:"uint32",id:1},tx_key:{type:"DnxTxKey",id:2},computed_key_image:{type:"DnxComputedKeyImage",id:3}},nested:{DnxTxKey:{fields:{ephemeral_tx_sec_key:{type:"bytes",id:1},ephemeral_tx_pub_key:{type:"bytes",id:2}}},DnxComputedKeyImage:{fields:{key_image:{type:"bytes",id:1}}}}},DnxInputAck:{fields:{prev_index:{rule:"required",type:"uint32",id:1},global_index:{rule:"required",type:"uint32",id:2},tx_pubkey:{rule:"required",type:"bytes",id:3},prev_out_pubkey:{rule:"required",type:"bytes",id:4},amount:{rule:"required",type:"uint64",id:5}}},DnxRTSigsRequest:{fields:{}},DnxSignedTx:{fields:{signatures:{rule:"repeated",type:"bytes",id:1},output_keys:{rule:"repeated",type:"bytes",id:2}}},EmmcFixPermission:{fields:{}},EmmcPath:{fields:{exist:{rule:"required",type:"bool",id:1},size:{rule:"required",type:"uint64",id:2},year:{rule:"required",type:"uint32",id:3},month:{rule:"required",type:"uint32",id:4},day:{rule:"required",type:"uint32",id:5},hour:{rule:"required",type:"uint32",id:6},minute:{rule:"required",type:"uint32",id:7},second:{rule:"required",type:"uint32",id:8},readonly:{rule:"required",type:"bool",id:9},hidden:{rule:"required",type:"bool",id:10},system:{rule:"required",type:"bool",id:11},archive:{rule:"required",type:"bool",id:12},directory:{rule:"required",type:"bool",id:13}}},EmmcPathInfo:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcFile:{fields:{path:{rule:"required",type:"string",id:1},offset:{rule:"required",type:"uint32",id:2},len:{rule:"required",type:"uint32",id:3},data:{type:"bytes",id:4},data_hash:{type:"uint32",id:5},processed_byte:{type:"uint32",id:6}}},EmmcFileRead:{fields:{file:{rule:"required",type:"EmmcFile",id:1},ui_percentage:{type:"uint32",id:2}}},EmmcFileWrite:{fields:{file:{rule:"required",type:"EmmcFile",id:1},overwrite:{rule:"required",type:"bool",id:2},append:{rule:"required",type:"bool",id:3},ui_percentage:{type:"uint32",id:4}}},EmmcFileDelete:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcDir:{fields:{path:{rule:"required",type:"string",id:1},child_dirs:{type:"string",id:2},child_files:{type:"string",id:3}}},EmmcDirList:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcDirMake:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcDirRemove:{fields:{path:{rule:"required",type:"string",id:1}}},EosGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},EosPublicKey:{fields:{wif_public_key:{rule:"required",type:"string",id:1},raw_public_key:{rule:"required",type:"bytes",id:2}}},EosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},chain_id:{type:"bytes",id:2},header:{type:"EosTxHeader",id:3},num_actions:{type:"uint32",id:4}},nested:{EosTxHeader:{fields:{expiration:{rule:"required",type:"uint32",id:1},ref_block_num:{rule:"required",type:"uint32",id:2},ref_block_prefix:{rule:"required",type:"uint32",id:3},max_net_usage_words:{rule:"required",type:"uint32",id:4},max_cpu_usage_ms:{rule:"required",type:"uint32",id:5},delay_sec:{rule:"required",type:"uint32",id:6}}}}},EosTxActionRequest:{fields:{data_size:{type:"uint32",id:1}}},EosTxActionAck:{fields:{common:{type:"EosActionCommon",id:1},transfer:{type:"EosActionTransfer",id:2},delegate:{type:"EosActionDelegate",id:3},undelegate:{type:"EosActionUndelegate",id:4},refund:{type:"EosActionRefund",id:5},buy_ram:{type:"EosActionBuyRam",id:6},buy_ram_bytes:{type:"EosActionBuyRamBytes",id:7},sell_ram:{type:"EosActionSellRam",id:8},vote_producer:{type:"EosActionVoteProducer",id:9},update_auth:{type:"EosActionUpdateAuth",id:10},delete_auth:{type:"EosActionDeleteAuth",id:11},link_auth:{type:"EosActionLinkAuth",id:12},unlink_auth:{type:"EosActionUnlinkAuth",id:13},new_account:{type:"EosActionNewAccount",id:14},unknown:{type:"EosActionUnknown",id:15}},nested:{EosAsset:{fields:{amount:{type:"sint64",id:1},symbol:{type:"uint64",id:2}}},EosPermissionLevel:{fields:{actor:{type:"uint64",id:1},permission:{type:"uint64",id:2}}},EosAuthorizationKey:{fields:{type:{rule:"required",type:"uint32",id:1},key:{type:"bytes",id:2},address_n:{rule:"repeated",type:"uint32",id:3,options:{packed:!1}},weight:{rule:"required",type:"uint32",id:4}}},EosAuthorizationAccount:{fields:{account:{type:"EosPermissionLevel",id:1},weight:{type:"uint32",id:2}}},EosAuthorizationWait:{fields:{wait_sec:{type:"uint32",id:1},weight:{type:"uint32",id:2}}},EosAuthorization:{fields:{threshold:{type:"uint32",id:1},keys:{rule:"repeated",type:"EosAuthorizationKey",id:2},accounts:{rule:"repeated",type:"EosAuthorizationAccount",id:3},waits:{rule:"repeated",type:"EosAuthorizationWait",id:4}}},EosActionCommon:{fields:{account:{type:"uint64",id:1},name:{type:"uint64",id:2},authorization:{rule:"repeated",type:"EosPermissionLevel",id:3}}},EosActionTransfer:{fields:{sender:{type:"uint64",id:1},receiver:{type:"uint64",id:2},quantity:{type:"EosAsset",id:3},memo:{type:"string",id:4}}},EosActionDelegate:{fields:{sender:{type:"uint64",id:1},receiver:{type:"uint64",id:2},net_quantity:{type:"EosAsset",id:3},cpu_quantity:{type:"EosAsset",id:4},transfer:{type:"bool",id:5}}},EosActionUndelegate:{fields:{sender:{type:"uint64",id:1},receiver:{type:"uint64",id:2},net_quantity:{type:"EosAsset",id:3},cpu_quantity:{type:"EosAsset",id:4}}},EosActionRefund:{fields:{owner:{type:"uint64",id:1}}},EosActionBuyRam:{fields:{payer:{type:"uint64",id:1},receiver:{type:"uint64",id:2},quantity:{type:"EosAsset",id:3}}},EosActionBuyRamBytes:{fields:{payer:{type:"uint64",id:1},receiver:{type:"uint64",id:2},bytes:{type:"uint32",id:3}}},EosActionSellRam:{fields:{account:{type:"uint64",id:1},bytes:{type:"uint64",id:2}}},EosActionVoteProducer:{fields:{voter:{type:"uint64",id:1},proxy:{type:"uint64",id:2},producers:{rule:"repeated",type:"uint64",id:3,options:{packed:!1}}}},EosActionUpdateAuth:{fields:{account:{type:"uint64",id:1},permission:{type:"uint64",id:2},parent:{type:"uint64",id:3},auth:{type:"EosAuthorization",id:4}}},EosActionDeleteAuth:{fields:{account:{type:"uint64",id:1},permission:{type:"uint64",id:2}}},EosActionLinkAuth:{fields:{account:{type:"uint64",id:1},code:{type:"uint64",id:2},type:{type:"uint64",id:3},requirement:{type:"uint64",id:4}}},EosActionUnlinkAuth:{fields:{account:{type:"uint64",id:1},code:{type:"uint64",id:2},type:{type:"uint64",id:3}}},EosActionNewAccount:{fields:{creator:{type:"uint64",id:1},name:{type:"uint64",id:2},owner:{type:"EosAuthorization",id:3},active:{type:"EosAuthorization",id:4}}},EosActionUnknown:{fields:{data_size:{rule:"required",type:"uint32",id:1},data_chunk:{type:"bytes",id:2}}}}},EosSignedTx:{fields:{signature:{rule:"required",type:"string",id:1}}},EthereumDefinitionType:{values:{NETWORK:0,TOKEN:1}},EthereumNetworkInfo:{fields:{chain_id:{rule:"required",type:"uint64",id:1},symbol:{rule:"required",type:"string",id:2},slip44:{rule:"required",type:"uint32",id:3},name:{rule:"required",type:"string",id:4},icon:{type:"string",id:101},primary_color:{type:"uint64",id:102}}},EthereumTokenInfo:{fields:{address:{rule:"required",type:"bytes",id:1},chain_id:{rule:"required",type:"uint64",id:2},symbol:{rule:"required",type:"string",id:3},decimals:{rule:"required",type:"uint32",id:4},name:{rule:"required",type:"string",id:5}}},EthereumDefinitions:{fields:{encoded_network:{type:"bytes",id:1},encoded_token:{type:"bytes",id:2}}},EthereumSignTypedDataOneKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},primary_type:{rule:"required",type:"string",id:2},metamask_v4_compat:{type:"bool",id:3,options:{default:!0}},chain_id:{type:"uint64",id:4}}},EthereumGnosisSafeTxOperation:{values:{CALL:0,DELEGATE_CALL:1}},EthereumGnosisSafeTxRequest:{fields:{}},EthereumGnosisSafeTxAck:{fields:{to:{rule:"required",type:"string",id:1},value:{rule:"required",type:"bytes",id:2},data:{type:"bytes",id:3},operation:{rule:"required",type:"EthereumGnosisSafeTxOperation",id:4},safeTxGas:{rule:"required",type:"bytes",id:5},baseGas:{rule:"required",type:"bytes",id:6},gasPrice:{rule:"required",type:"bytes",id:7},gasToken:{rule:"required",type:"string",id:8},refundReceiver:{rule:"required",type:"string",id:9},nonce:{rule:"required",type:"bytes",id:10},chain_id:{rule:"required",type:"uint64",id:11},verifyingContract:{rule:"required",type:"string",id:12}}},EthereumTypedDataStructRequestOneKey:{fields:{name:{rule:"required",type:"string",id:1}}},EthereumTypedDataStructAckOneKey:{fields:{members:{rule:"repeated",type:"EthereumStructMemberOneKey",id:1}},nested:{EthereumStructMemberOneKey:{fields:{type:{rule:"required",type:"EthereumFieldTypeOneKey",id:1},name:{rule:"required",type:"string",id:2}}},EthereumFieldTypeOneKey:{fields:{data_type:{rule:"required",type:"EthereumDataTypeOneKey",id:1},size:{type:"uint32",id:2},entry_type:{type:"EthereumFieldTypeOneKey",id:3},struct_name:{type:"string",id:4}}},EthereumDataTypeOneKey:{values:{UINT:1,INT:2,BYTES:3,STRING:4,BOOL:5,ADDRESS:6,ARRAY:7,STRUCT:8}}}},EthereumTypedDataValueRequestOneKey:{fields:{member_path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}},EthereumTypedDataValueAckOneKey:{fields:{value:{rule:"required",type:"bytes",id:1}}},EthereumSignTypedData:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},primary_type:{rule:"required",type:"string",id:2},metamask_v4_compat:{type:"bool",id:3,options:{default:!0}},definitions:{type:"EthereumDefinitions",id:4}}},EthereumTypedDataStructRequest:{fields:{name:{rule:"required",type:"string",id:1}}},EthereumTypedDataStructAck:{fields:{members:{rule:"repeated",type:"EthereumStructMember",id:1}},nested:{EthereumStructMember:{fields:{type:{rule:"required",type:"EthereumFieldType",id:1},name:{rule:"required",type:"string",id:2}}},EthereumFieldType:{fields:{data_type:{rule:"required",type:"EthereumDataType",id:1},size:{type:"uint32",id:2},entry_type:{type:"EthereumFieldType",id:3},struct_name:{type:"string",id:4}}},EthereumDataType:{values:{UINT:1,INT:2,BYTES:3,STRING:4,BOOL:5,ADDRESS:6,ARRAY:7,STRUCT:8}}}},EthereumTypedDataValueRequest:{fields:{member_path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}},EthereumTypedDataValueAck:{fields:{value:{rule:"required",type:"bytes",id:1}}},EthereumGetPublicKeyOneKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},chain_id:{type:"uint64",id:3}}},EthereumPublicKeyOneKey:{fields:{node:{rule:"required",type:"HDNodeType",id:1},xpub:{rule:"required",type:"string",id:2}}},EthereumGetAddressOneKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},chain_id:{type:"uint64",id:3}}},EthereumAddressOneKey:{fields:{_old_address:{type:"bytes",id:1,options:{deprecated:!0}},address:{type:"string",id:2}}},EthereumSignTxOneKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{type:"bytes",id:2,options:{default:""}},gas_price:{rule:"required",type:"bytes",id:3},gas_limit:{rule:"required",type:"bytes",id:4},to:{type:"string",id:11,options:{default:""}},value:{type:"bytes",id:6,options:{default:""}},data_initial_chunk:{type:"bytes",id:7,options:{default:""}},data_length:{type:"uint32",id:8,options:{default:0}},chain_id:{rule:"required",type:"uint64",id:9},tx_type:{type:"uint32",id:10}}},EthereumAccessListOneKey:{fields:{address:{rule:"required",type:"string",id:1},storage_keys:{rule:"repeated",type:"bytes",id:2}}},EthereumSignTxEIP1559OneKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{rule:"required",type:"bytes",id:2},max_gas_fee:{rule:"required",type:"bytes",id:3},max_priority_fee:{rule:"required",type:"bytes",id:4},gas_limit:{rule:"required",type:"bytes",id:5},to:{type:"string",id:6,options:{default:""}},value:{rule:"required",type:"bytes",id:7},data_initial_chunk:{type:"bytes",id:8,options:{default:""}},data_length:{rule:"required",type:"uint32",id:9},chain_id:{rule:"required",type:"uint64",id:10},access_list:{rule:"repeated",type:"EthereumAccessListOneKey",id:11}}},EthereumAuthorizationSignature:{fields:{y_parity:{rule:"required",type:"uint32",id:1},r:{rule:"required",type:"bytes",id:2},s:{rule:"required",type:"bytes",id:3}}},EthereumSignTxEIP7702OneKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{rule:"required",type:"bytes",id:2},max_gas_fee:{rule:"required",type:"bytes",id:3},max_priority_fee:{rule:"required",type:"bytes",id:4},gas_limit:{rule:"required",type:"bytes",id:5},to:{rule:"required",type:"string",id:6},value:{rule:"required",type:"bytes",id:7},data_initial_chunk:{type:"bytes",id:8,options:{default:""}},data_length:{rule:"required",type:"uint32",id:9},chain_id:{rule:"required",type:"uint64",id:10},access_list:{rule:"repeated",type:"EthereumAccessListOneKey",id:11},authorization_list:{rule:"repeated",type:"EthereumAuthorizationOneKey",id:12}},nested:{EthereumAuthorizationOneKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},chain_id:{rule:"required",type:"uint64",id:2},address:{rule:"required",type:"string",id:3},nonce:{rule:"required",type:"bytes",id:4},signature:{type:"EthereumAuthorizationSignature",id:5}}}}},EthereumTxRequestOneKey:{fields:{data_length:{type:"uint32",id:1},signature_v:{type:"uint32",id:2},signature_r:{type:"bytes",id:3},signature_s:{type:"bytes",id:4},authorization_signatures:{rule:"repeated",type:"EthereumAuthorizationSignature",id:10}}},EthereumTxAckOneKey:{fields:{data_chunk:{rule:"required",type:"bytes",id:1}}},EthereumSignMessageOneKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2},chain_id:{type:"uint64",id:3}}},EthereumMessageSignatureOneKey:{fields:{signature:{rule:"required",type:"bytes",id:2},address:{rule:"required",type:"string",id:3}}},EthereumVerifyMessageOneKey:{fields:{signature:{rule:"required",type:"bytes",id:2},message:{rule:"required",type:"bytes",id:3},address:{rule:"required",type:"string",id:4},chain_id:{type:"uint64",id:5}}},EthereumSignTypedHashOneKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},domain_separator_hash:{rule:"required",type:"bytes",id:2},message_hash:{type:"bytes",id:3},chain_id:{type:"uint64",id:4}}},EthereumTypedDataSignatureOneKey:{fields:{signature:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},EthereumSignMessageEIP712:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},domain_hash:{type:"bytes",id:2},message_hash:{type:"bytes",id:3}}},EthereumGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},EthereumPublicKey:{fields:{node:{rule:"required",type:"HDNodeType",id:1},xpub:{rule:"required",type:"string",id:2}}},EthereumGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},encoded_network:{type:"bytes",id:3}}},EthereumAddress:{fields:{_old_address:{type:"bytes",id:1,options:{deprecated:!0}},address:{type:"string",id:2}}},EthereumSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{type:"bytes",id:2,options:{default:""}},gas_price:{rule:"required",type:"bytes",id:3},gas_limit:{rule:"required",type:"bytes",id:4},to:{type:"string",id:11,options:{default:""}},value:{type:"bytes",id:6,options:{default:""}},data_initial_chunk:{type:"bytes",id:7,options:{default:""}},data_length:{type:"uint32",id:8,options:{default:0}},chain_id:{rule:"required",type:"uint64",id:9},tx_type:{type:"uint32",id:10},definitions:{type:"EthereumDefinitions",id:12}}},EthereumSignTxEIP1559:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{rule:"required",type:"bytes",id:2},max_gas_fee:{rule:"required",type:"bytes",id:3},max_priority_fee:{rule:"required",type:"bytes",id:4},gas_limit:{rule:"required",type:"bytes",id:5},to:{type:"string",id:6,options:{default:""}},value:{rule:"required",type:"bytes",id:7},data_initial_chunk:{type:"bytes",id:8,options:{default:""}},data_length:{rule:"required",type:"uint32",id:9},chain_id:{rule:"required",type:"uint64",id:10},access_list:{rule:"repeated",type:"EthereumAccessList",id:11},definitions:{type:"EthereumDefinitions",id:12}},nested:{EthereumAccessList:{fields:{address:{rule:"required",type:"string",id:1},storage_keys:{rule:"repeated",type:"bytes",id:2}}}}},EthereumTxRequest:{fields:{data_length:{type:"uint32",id:1},signature_v:{type:"uint32",id:2},signature_r:{type:"bytes",id:3},signature_s:{type:"bytes",id:4}}},EthereumTxAck:{fields:{data_chunk:{rule:"required",type:"bytes",id:1}}},EthereumSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2},encoded_network:{type:"bytes",id:3}}},EthereumMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:2},address:{rule:"required",type:"string",id:3}}},EthereumVerifyMessage:{fields:{signature:{rule:"required",type:"bytes",id:2},message:{rule:"required",type:"bytes",id:3},address:{rule:"required",type:"string",id:4}}},EthereumSignTypedHash:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},domain_separator_hash:{rule:"required",type:"bytes",id:2},message_hash:{type:"bytes",id:3},encoded_network:{type:"bytes",id:4}}},EthereumTypedDataSignature:{fields:{signature:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},FilecoinGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},testnet:{type:"bool",id:3}}},FilecoinAddress:{fields:{address:{type:"string",id:1}}},FilecoinSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2},testnet:{type:"bool",id:3}}},FilecoinSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},KaspaGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},prefix:{type:"string",id:3,options:{default:"kaspa"}},scheme:{type:"string",id:4,options:{default:"schnorr"}},use_tweak:{type:"bool",id:5,options:{default:!0}}}},KaspaAddress:{fields:{address:{rule:"required",type:"string",id:1}}},KaspaSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_message:{rule:"required",type:"bytes",id:2},scheme:{type:"string",id:3,options:{default:"schnorr"}},prefix:{type:"string",id:4,options:{default:"kaspa"}},input_count:{type:"uint32",id:5,options:{default:1}},use_tweak:{type:"bool",id:6,options:{default:!0}}}},KaspaTxInputRequest:{fields:{request_index:{rule:"required",type:"uint32",id:1},signature:{type:"bytes",id:2}}},KaspaTxInputAck:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_message:{rule:"required",type:"bytes",id:2}}},KaspaSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:2}}},LnurlAuth:{fields:{domain:{rule:"required",type:"bytes",id:2},data:{rule:"required",type:"bytes",id:3}}},LnurlAuthResp:{fields:{publickey:{type:"string",id:1},path:{type:"string",id:2},signature:{type:"bytes",id:3}}},BackupType:{values:{Bip39:0,Slip39_Basic:1,Slip39_Advanced:2}},SafetyCheckLevel:{values:{Strict:0,PromptAlways:1,PromptTemporarily:2}},Initialize:{fields:{session_id:{type:"bytes",id:1},_skip_passphrase:{type:"bool",id:2,options:{deprecated:!0}},derive_cardano:{type:"bool",id:3},passphrase_state:{type:"string",id:8e3},is_contains_attach:{type:"bool",id:8001}}},GetFeatures:{fields:{}},OnekeyGetFeatures:{fields:{}},OneKeyDeviceType:{values:{CLASSIC:0,CLASSIC1S:1,MINI:2,TOUCH:3,PRO:5,PURE:6}},OneKeySeType:{values:{THD89:0,SE608A:1}},OneKeySEState:{values:{BOOT:0,APP:1}},Features:{fields:{vendor:{type:"string",id:1},major_version:{rule:"required",type:"uint32",id:2},minor_version:{rule:"required",type:"uint32",id:3},patch_version:{rule:"required",type:"uint32",id:4},bootloader_mode:{type:"bool",id:5},device_id:{type:"string",id:6},pin_protection:{type:"bool",id:7},passphrase_protection:{type:"bool",id:8},language:{type:"string",id:9},label:{type:"string",id:10},initialized:{type:"bool",id:12},revision:{type:"bytes",id:13},bootloader_hash:{type:"bytes",id:14},imported:{type:"bool",id:15},unlocked:{type:"bool",id:16},_passphrase_cached:{type:"bool",id:17,options:{deprecated:!0}},firmware_present:{type:"bool",id:18},needs_backup:{type:"bool",id:19},flags:{type:"uint32",id:20},model:{type:"string",id:21},fw_major:{type:"uint32",id:22},fw_minor:{type:"uint32",id:23},fw_patch:{type:"uint32",id:24},fw_vendor:{type:"string",id:25},unfinished_backup:{type:"bool",id:27},no_backup:{type:"bool",id:28},recovery_mode:{type:"bool",id:29},capabilities:{rule:"repeated",type:"Capability",id:30,options:{packed:!1}},backup_type:{type:"BackupType",id:31},sd_card_present:{type:"bool",id:32},sd_protection:{type:"bool",id:33},wipe_code_protection:{type:"bool",id:34},session_id:{type:"bytes",id:35},passphrase_always_on_device:{type:"bool",id:36},safety_checks:{type:"SafetyCheckLevel",id:37},auto_lock_delay_ms:{type:"uint32",id:38},display_rotation:{type:"uint32",id:39},experimental_features:{type:"bool",id:40},busy:{type:"bool",id:41},offset:{type:"uint32",id:500},ble_name:{type:"string",id:501},ble_ver:{type:"string",id:502},ble_enable:{type:"bool",id:503},se_enable:{type:"bool",id:504},se_ver:{type:"string",id:506},backup_only:{type:"bool",id:507},onekey_version:{type:"string",id:508},onekey_serial:{type:"string",id:509},bootloader_version:{type:"string",id:510},serial_no:{type:"string",id:511},spi_flash:{type:"string",id:512},initstates:{type:"uint32",id:513},NFT_voucher:{type:"bytes",id:514},cpu_info:{type:"string",id:515},pre_firmware:{type:"string",id:516},coin_switch:{type:"uint32",id:517},build_id:{type:"bytes",id:518},boardloader_version:{type:"string",id:519},battery_level:{type:"uint32",id:520},product:{type:"string",id:521},brightness_prcent:{type:"uint32",id:522},haptic_feedback:{type:"bool",id:523},auto_shutdown_delay_ms:{type:"uint32",id:524},onekey_device_type:{type:"OneKeyDeviceType",id:600},onekey_se_type:{type:"OneKeySeType",id:601},onekey_board_version:{type:"string",id:602},onekey_board_hash:{type:"bytes",id:603},onekey_boot_version:{type:"string",id:604},onekey_boot_hash:{type:"bytes",id:605},onekey_se01_version:{type:"string",id:606},onekey_se01_hash:{type:"bytes",id:607},onekey_se01_build_id:{type:"string",id:608},onekey_firmware_version:{type:"string",id:609},onekey_firmware_hash:{type:"bytes",id:610},onekey_firmware_build_id:{type:"string",id:611},onekey_serial_no:{type:"string",id:612},onekey_boot_build_id:{type:"string",id:613},onekey_ble_name:{type:"string",id:614},onekey_ble_version:{type:"string",id:615},onekey_ble_build_id:{type:"string",id:616},onekey_ble_hash:{type:"bytes",id:617},onekey_se02_version:{type:"string",id:618},onekey_se03_version:{type:"string",id:619},onekey_se04_version:{type:"string",id:620},onekey_se01_state:{type:"OneKeySEState",id:621},onekey_se02_state:{type:"OneKeySEState",id:622},onekey_se03_state:{type:"OneKeySEState",id:623},onekey_se04_state:{type:"OneKeySEState",id:624},attach_to_pin_user:{type:"bool",id:625},unlocked_attach_pin:{type:"bool",id:626}},nested:{Capability:{options:{"(has_bitcoin_only_values)":!0},values:{Capability_Bitcoin:1,Capability_Bitcoin_like:2,Capability_Binance:3,Capability_Cardano:4,Capability_Crypto:5,Capability_EOS:6,Capability_Ethereum:7,Capability_Lisk:8,Capability_Monero:9,Capability_NEM:10,Capability_Ripple:11,Capability_Stellar:12,Capability_Tezos:13,Capability_U2F:14,Capability_Shamir:15,Capability_ShamirGroups:16,Capability_PassphraseEntry:17,Capability_EthereumTypedData:1e3,Capability_AttachToPin:8e3}}}},OnekeyFeatures:{fields:{onekey_device_type:{type:"OneKeyDeviceType",id:1},onekey_board_version:{type:"string",id:2},onekey_boot_version:{type:"string",id:3},onekey_firmware_version:{type:"string",id:4},onekey_board_hash:{type:"bytes",id:5},onekey_boot_hash:{type:"bytes",id:6},onekey_firmware_hash:{type:"bytes",id:7},onekey_board_build_id:{type:"string",id:8},onekey_boot_build_id:{type:"string",id:9},onekey_firmware_build_id:{type:"string",id:10},onekey_serial_no:{type:"string",id:11},onekey_ble_name:{type:"string",id:12},onekey_ble_version:{type:"string",id:13},onekey_ble_build_id:{type:"string",id:14},onekey_ble_hash:{type:"bytes",id:15},onekey_se_type:{type:"OneKeySeType",id:16},onekey_se01_state:{type:"OneKeySEState",id:17},onekey_se02_state:{type:"OneKeySEState",id:18},onekey_se03_state:{type:"OneKeySEState",id:19},onekey_se04_state:{type:"OneKeySEState",id:20},onekey_se01_version:{type:"string",id:21},onekey_se02_version:{type:"string",id:22},onekey_se03_version:{type:"string",id:23},onekey_se04_version:{type:"string",id:24},onekey_se01_hash:{type:"bytes",id:25},onekey_se02_hash:{type:"bytes",id:26},onekey_se03_hash:{type:"bytes",id:27},onekey_se04_hash:{type:"bytes",id:28},onekey_se01_build_id:{type:"string",id:29},onekey_se02_build_id:{type:"string",id:30},onekey_se03_build_id:{type:"string",id:31},onekey_se04_build_id:{type:"string",id:32},onekey_se01_boot_version:{type:"string",id:33},onekey_se02_boot_version:{type:"string",id:34},onekey_se03_boot_version:{type:"string",id:35},onekey_se04_boot_version:{type:"string",id:36},onekey_se01_boot_hash:{type:"bytes",id:37},onekey_se02_boot_hash:{type:"bytes",id:38},onekey_se03_boot_hash:{type:"bytes",id:39},onekey_se04_boot_hash:{type:"bytes",id:40},onekey_se01_boot_build_id:{type:"string",id:41},onekey_se02_boot_build_id:{type:"string",id:42},onekey_se03_boot_build_id:{type:"string",id:43},onekey_se04_boot_build_id:{type:"string",id:44}}},LockDevice:{fields:{}},EndSession:{fields:{}},ApplySettings:{fields:{language:{type:"string",id:1},label:{type:"string",id:2},use_passphrase:{type:"bool",id:3},homescreen:{type:"bytes",id:4},_passphrase_source:{type:"uint32",id:5,options:{deprecated:!0}},auto_lock_delay_ms:{type:"uint32",id:6},display_rotation:{type:"uint32",id:7},passphrase_always_on_device:{type:"bool",id:8},safety_checks:{type:"SafetyCheckLevel",id:9},experimental_features:{type:"bool",id:10},use_ble:{type:"bool",id:100},use_se:{type:"bool",id:101},is_bixinapp:{type:"bool",id:102},fastpay_pin:{type:"bool",id:103},fastpay_confirm:{type:"bool",id:104},fastpay_money_limit:{type:"uint64",id:105},fastpay_times:{type:"uint32",id:106},auto_shutdown_delay_ms:{type:"uint32",id:500},change_brightness:{type:"bool",id:501},haptic_feedback:{type:"bool",id:502}},nested:{ExportType:{values:{SeedEncExportType_NO:0,SeedEncExportType_YES:1,MnemonicPlainExportType_YES:2}}}},ApplyFlags:{fields:{flags:{rule:"required",type:"uint32",id:1}}},ChangePin:{fields:{remove:{type:"bool",id:1}}},ChangeWipeCode:{fields:{remove:{type:"bool",id:1}}},SdProtect:{fields:{operation:{rule:"required",type:"SdProtectOperationType",id:1}},nested:{SdProtectOperationType:{values:{DISABLE:0,ENABLE:1,REFRESH:2}}}},Ping:{fields:{message:{type:"string",id:1,options:{default:""}},button_protection:{type:"bool",id:2}}},Cancel:{fields:{}},GetEntropy:{fields:{size:{rule:"required",type:"uint32",id:1}}},Entropy:{fields:{entropy:{rule:"required",type:"bytes",id:1}}},WipeDevice:{fields:{}},LoadDevice:{fields:{mnemonics:{rule:"repeated",type:"string",id:1},pin:{type:"string",id:3},passphrase_protection:{type:"bool",id:4},language:{type:"string",id:5,options:{default:"en-US"}},label:{type:"string",id:6},skip_checksum:{type:"bool",id:7},u2f_counter:{type:"uint32",id:8},needs_backup:{type:"bool",id:9},no_backup:{type:"bool",id:10}}},ResetDevice:{fields:{display_random:{type:"bool",id:1},strength:{type:"uint32",id:2,options:{default:256}},passphrase_protection:{type:"bool",id:3},pin_protection:{type:"bool",id:4},language:{type:"string",id:5,options:{default:"en-US"}},label:{type:"string",id:6},u2f_counter:{type:"uint32",id:7},skip_backup:{type:"bool",id:8},no_backup:{type:"bool",id:9},backup_type:{type:"BackupType",id:10,options:{default:"Bip39"}}}},BackupDevice:{fields:{}},EntropyRequest:{fields:{}},EntropyAck:{fields:{entropy:{rule:"required",type:"bytes",id:1}}},RecoveryDevice:{fields:{word_count:{type:"uint32",id:1},passphrase_protection:{type:"bool",id:2},pin_protection:{type:"bool",id:3},language:{type:"string",id:4},label:{type:"string",id:5},enforce_wordlist:{type:"bool",id:6},type:{type:"RecoveryDeviceType",id:8},u2f_counter:{type:"uint32",id:9},dry_run:{type:"bool",id:10}},nested:{RecoveryDeviceType:{values:{RecoveryDeviceType_ScrambledWords:0,RecoveryDeviceType_Matrix:1}}}},WordRequest:{fields:{type:{rule:"required",type:"WordRequestType",id:1}},nested:{WordRequestType:{values:{WordRequestType_Plain:0,WordRequestType_Matrix9:1,WordRequestType_Matrix6:2}}}},WordAck:{fields:{word:{rule:"required",type:"string",id:1}}},SetU2FCounter:{fields:{u2f_counter:{rule:"required",type:"uint32",id:1}}},GetNextU2FCounter:{fields:{}},NextU2FCounter:{fields:{u2f_counter:{rule:"required",type:"uint32",id:1}}},DoPreauthorized:{fields:{}},PreauthorizedRequest:{fields:{}},CancelAuthorization:{fields:{}},BixinSeedOperate:{fields:{type:{rule:"required",type:"SeedRequestType",id:1},seed_importData:{type:"bytes",id:2}},nested:{SeedRequestType:{values:{SeedRequestType_Gen:0,SeedRequestType_EncExport:1,SeedRequestType_EncImport:2}}}},BixinMessageSE:{fields:{inputmessage:{rule:"required",type:"bytes",id:1}}},BixinOutMessageSE:{fields:{outmessage:{type:"bytes",id:1}}},DeviceBackToBoot:{fields:{}},BixinBackupRequest:{fields:{}},BixinBackupAck:{fields:{data:{rule:"required",type:"bytes",id:1}}},BixinRestoreRequest:{fields:{data:{rule:"required",type:"bytes",id:1},language:{type:"string",id:2},label:{type:"string",id:3},passphrase_protection:{type:"bool",id:4}}},BixinRestoreAck:{fields:{data:{rule:"required",type:"bytes",id:1}}},BixinVerifyDeviceRequest:{fields:{data:{rule:"required",type:"bytes",id:1}}},BixinVerifyDeviceAck:{fields:{cert:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},BixinWhiteListRequest:{fields:{type:{rule:"required",type:"WL_OperationType",id:1},addr_in:{type:"string",id:2}},nested:{WL_OperationType:{values:{WL_OperationType_Add:0,WL_OperationType_Delete:1,WL_OperationType_Inquire:2}}}},BixinWhiteListAck:{fields:{address:{rule:"repeated",type:"string",id:1}}},BixinLoadDevice:{fields:{mnemonics:{rule:"required",type:"string",id:1},language:{type:"string",id:5,options:{default:"en-US"}},label:{type:"string",id:6},skip_checksum:{type:"bool",id:7}}},BixinBackupDevice:{fields:{}},BixinBackupDeviceAck:{fields:{mnemonics:{rule:"required",type:"string",id:1}}},DeviceInfoSettings:{fields:{serial_no:{type:"string",id:1},cpu_info:{type:"string",id:2},pre_firmware:{type:"string",id:3}}},GetDeviceInfo:{fields:{}},DeviceInfo:{fields:{serial_no:{type:"string",id:1},spiFlash_info:{type:"string",id:2},SE_info:{type:"string",id:3},NFT_voucher:{type:"bytes",id:4},cpu_info:{type:"string",id:5},pre_firmware:{type:"string",id:6}}},ReadSEPublicKey:{fields:{}},SEPublicKey:{fields:{public_key:{rule:"required",type:"bytes",id:1}}},WriteSEPublicCert:{fields:{public_cert:{rule:"required",type:"bytes",id:1}}},ReadSEPublicCert:{fields:{}},SEPublicCert:{fields:{public_cert:{rule:"required",type:"bytes",id:1}}},SpiFlashWrite:{fields:{address:{rule:"required",type:"uint32",id:1},data:{rule:"required",type:"bytes",id:2}}},SpiFlashRead:{fields:{address:{rule:"required",type:"uint32",id:1},len:{rule:"required",type:"uint32",id:2}}},SpiFlashData:{fields:{data:{rule:"required",type:"bytes",id:1}}},SESignMessage:{fields:{message:{rule:"required",type:"bytes",id:1}}},SEMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:1}}},ResourceUpload:{fields:{extension:{rule:"required",type:"string",id:1},data_length:{rule:"required",type:"uint32",id:2},res_type:{rule:"required",type:"ResourceType",id:3},nft_meta_data:{type:"bytes",id:4},zoom_data_length:{rule:"required",type:"uint32",id:5},file_name_no_ext:{type:"string",id:6},blur_data_length:{type:"uint32",id:7}},nested:{ResourceType:{values:{WallPaper:0,Nft:1}}}},ZoomRequest:{fields:{offset:{type:"uint32",id:1},data_length:{rule:"required",type:"uint32",id:2}}},BlurRequest:{fields:{offset:{type:"uint32",id:1},data_length:{rule:"required",type:"uint32",id:2}}},ResourceRequest:{fields:{offset:{type:"uint32",id:1},data_length:{rule:"required",type:"uint32",id:2}}},ResourceAck:{fields:{data_chunk:{rule:"required",type:"bytes",id:1},hash:{type:"bytes",id:2}}},ResourceUpdate:{fields:{file_name:{rule:"required",type:"string",id:1},data_length:{rule:"required",type:"uint32",id:2},initial_data_chunk:{rule:"required",type:"bytes",id:3},hash:{type:"bytes",id:4}}},NFTWriteInfo:{fields:{index:{rule:"required",type:"uint32",id:1},width:{rule:"required",type:"uint32",id:2},height:{rule:"required",type:"uint32",id:3},name_zh:{type:"string",id:4},name_en:{type:"string",id:5}}},NFTWriteData:{fields:{index:{rule:"required",type:"uint32",id:1},data:{rule:"required",type:"bytes",id:2},offset:{rule:"required",type:"uint32",id:3}}},RebootToBootloader:{fields:{}},RebootToBoardloader:{fields:{}},ListResDir:{fields:{path:{rule:"required",type:"string",id:1}}},FileInfoList:{fields:{files:{rule:"repeated",type:"FileInfo",id:1}},nested:{FileInfo:{fields:{name:{rule:"required",type:"string",id:1},size:{rule:"required",type:"uint64",id:2}}}}},DeviceEraseSector:{fields:{sector:{rule:"required",type:"uint32",id:1}}},UnLockDevice:{fields:{}},UnLockDeviceResponse:{fields:{unlocked:{type:"bool",id:1},unlocked_attach_pin:{type:"bool",id:2},passphrase_protection:{type:"bool",id:3}}},GetPassphraseState:{fields:{passphrase_state:{type:"string",id:1}}},PassphraseState:{fields:{passphrase_state:{type:"string",id:1},session_id:{type:"bytes",id:2},unlocked_attach_pin:{type:"bool",id:3}}},MoneroTransactionSourceEntry:{fields:{outputs:{rule:"repeated",type:"MoneroOutputEntry",id:1},real_output:{type:"uint64",id:2},real_out_tx_key:{type:"bytes",id:3},real_out_additional_tx_keys:{rule:"repeated",type:"bytes",id:4},real_output_in_tx_index:{type:"uint64",id:5},amount:{type:"uint64",id:6},rct:{type:"bool",id:7},mask:{type:"bytes",id:8},multisig_kLRki:{type:"MoneroMultisigKLRki",id:9},subaddr_minor:{type:"uint32",id:10}},nested:{MoneroOutputEntry:{fields:{idx:{type:"uint64",id:1},key:{type:"MoneroRctKeyPublic",id:2}},nested:{MoneroRctKeyPublic:{fields:{dest:{type:"bytes",id:1},commitment:{type:"bytes",id:2}}}}},MoneroMultisigKLRki:{fields:{K:{type:"bytes",id:1},L:{type:"bytes",id:2},R:{type:"bytes",id:3},ki:{type:"bytes",id:4}}}}},MoneroTransactionDestinationEntry:{fields:{amount:{type:"uint64",id:1},addr:{type:"MoneroAccountPublicAddress",id:2},is_subaddress:{type:"bool",id:3},original:{type:"bytes",id:4},is_integrated:{type:"bool",id:5}},nested:{MoneroAccountPublicAddress:{fields:{spend_public_key:{type:"bytes",id:1},view_public_key:{type:"bytes",id:2}}}}},MoneroTransactionRsigData:{fields:{rsig_type:{type:"uint32",id:1},offload_type:{type:"uint32",id:2},grouping:{rule:"repeated",type:"uint64",id:3,options:{packed:!1}},mask:{type:"bytes",id:4},rsig:{type:"bytes",id:5},rsig_parts:{rule:"repeated",type:"bytes",id:6},bp_version:{type:"uint32",id:7}}},MoneroGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},network_type:{type:"uint32",id:3},account:{type:"uint32",id:4},minor:{type:"uint32",id:5},payment_id:{type:"bytes",id:6}}},MoneroAddress:{fields:{address:{type:"bytes",id:1}}},MoneroGetWatchKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network_type:{type:"uint32",id:2}}},MoneroWatchKey:{fields:{watch_key:{type:"bytes",id:1},address:{type:"bytes",id:2}}},MoneroTransactionInitRequest:{fields:{version:{type:"uint32",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},network_type:{type:"uint32",id:3},tsx_data:{type:"MoneroTransactionData",id:4}},nested:{MoneroTransactionData:{fields:{version:{type:"uint32",id:1},payment_id:{type:"bytes",id:2},unlock_time:{type:"uint64",id:3},outputs:{rule:"repeated",type:"MoneroTransactionDestinationEntry",id:4},change_dts:{type:"MoneroTransactionDestinationEntry",id:5},num_inputs:{type:"uint32",id:6},mixin:{type:"uint32",id:7},fee:{type:"uint64",id:8},account:{type:"uint32",id:9},minor_indices:{rule:"repeated",type:"uint32",id:10,options:{packed:!1}},rsig_data:{type:"MoneroTransactionRsigData",id:11},integrated_indices:{rule:"repeated",type:"uint32",id:12,options:{packed:!1}},client_version:{type:"uint32",id:13},hard_fork:{type:"uint32",id:14},monero_version:{type:"bytes",id:15}}}}},MoneroTransactionInitAck:{fields:{hmacs:{rule:"repeated",type:"bytes",id:1},rsig_data:{type:"MoneroTransactionRsigData",id:2}}},MoneroTransactionSetInputRequest:{fields:{src_entr:{type:"MoneroTransactionSourceEntry",id:1}}},MoneroTransactionSetInputAck:{fields:{vini:{type:"bytes",id:1},vini_hmac:{type:"bytes",id:2},pseudo_out:{type:"bytes",id:3},pseudo_out_hmac:{type:"bytes",id:4},pseudo_out_alpha:{type:"bytes",id:5},spend_key:{type:"bytes",id:6}}},MoneroTransactionInputsPermutationRequest:{fields:{perm:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}},MoneroTransactionInputsPermutationAck:{fields:{}},MoneroTransactionInputViniRequest:{fields:{src_entr:{type:"MoneroTransactionSourceEntry",id:1},vini:{type:"bytes",id:2},vini_hmac:{type:"bytes",id:3},pseudo_out:{type:"bytes",id:4},pseudo_out_hmac:{type:"bytes",id:5},orig_idx:{type:"uint32",id:6}}},MoneroTransactionInputViniAck:{fields:{}},MoneroTransactionAllInputsSetRequest:{fields:{}},MoneroTransactionAllInputsSetAck:{fields:{rsig_data:{type:"MoneroTransactionRsigData",id:1}}},MoneroTransactionSetOutputRequest:{fields:{dst_entr:{type:"MoneroTransactionDestinationEntry",id:1},dst_entr_hmac:{type:"bytes",id:2},rsig_data:{type:"MoneroTransactionRsigData",id:3},is_offloaded_bp:{type:"bool",id:4}}},MoneroTransactionSetOutputAck:{fields:{tx_out:{type:"bytes",id:1},vouti_hmac:{type:"bytes",id:2},rsig_data:{type:"MoneroTransactionRsigData",id:3},out_pk:{type:"bytes",id:4},ecdh_info:{type:"bytes",id:5}}},MoneroTransactionAllOutSetRequest:{fields:{rsig_data:{type:"MoneroTransactionRsigData",id:1}}},MoneroTransactionAllOutSetAck:{fields:{extra:{type:"bytes",id:1},tx_prefix_hash:{type:"bytes",id:2},rv:{type:"MoneroRingCtSig",id:4},full_message_hash:{type:"bytes",id:5}},nested:{MoneroRingCtSig:{fields:{txn_fee:{type:"uint64",id:1},message:{type:"bytes",id:2},rv_type:{type:"uint32",id:3}}}}},MoneroTransactionSignInputRequest:{fields:{src_entr:{type:"MoneroTransactionSourceEntry",id:1},vini:{type:"bytes",id:2},vini_hmac:{type:"bytes",id:3},pseudo_out:{type:"bytes",id:4},pseudo_out_hmac:{type:"bytes",id:5},pseudo_out_alpha:{type:"bytes",id:6},spend_key:{type:"bytes",id:7},orig_idx:{type:"uint32",id:8}}},MoneroTransactionSignInputAck:{fields:{signature:{type:"bytes",id:1},pseudo_out:{type:"bytes",id:2}}},MoneroTransactionFinalRequest:{fields:{}},MoneroTransactionFinalAck:{fields:{cout_key:{type:"bytes",id:1},salt:{type:"bytes",id:2},rand_mult:{type:"bytes",id:3},tx_enc_keys:{type:"bytes",id:4},opening_key:{type:"bytes",id:5}}},MoneroKeyImageExportInitRequest:{fields:{num:{type:"uint64",id:1},hash:{type:"bytes",id:2},address_n:{rule:"repeated",type:"uint32",id:3,options:{packed:!1}},network_type:{type:"uint32",id:4},subs:{rule:"repeated",type:"MoneroSubAddressIndicesList",id:5}},nested:{MoneroSubAddressIndicesList:{fields:{account:{type:"uint32",id:1},minor_indices:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}}}}}},MoneroKeyImageExportInitAck:{fields:{}},MoneroKeyImageSyncStepRequest:{fields:{tdis:{rule:"repeated",type:"MoneroTransferDetails",id:1}},nested:{MoneroTransferDetails:{fields:{out_key:{type:"bytes",id:1},tx_pub_key:{type:"bytes",id:2},additional_tx_pub_keys:{rule:"repeated",type:"bytes",id:3},internal_output_index:{type:"uint64",id:4},sub_addr_major:{type:"uint32",id:5},sub_addr_minor:{type:"uint32",id:6}}}}},MoneroKeyImageSyncStepAck:{fields:{kis:{rule:"repeated",type:"MoneroExportedKeyImage",id:1}},nested:{MoneroExportedKeyImage:{fields:{iv:{type:"bytes",id:1},blob:{type:"bytes",id:3}}}}},MoneroKeyImageSyncFinalRequest:{fields:{}},MoneroKeyImageSyncFinalAck:{fields:{enc_key:{type:"bytes",id:1}}},MoneroGetTxKeyRequest:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network_type:{type:"uint32",id:2},salt1:{type:"bytes",id:3},salt2:{type:"bytes",id:4},tx_enc_keys:{type:"bytes",id:5},tx_prefix_hash:{type:"bytes",id:6},reason:{type:"uint32",id:7},view_public_key:{type:"bytes",id:8}}},MoneroGetTxKeyAck:{fields:{salt:{type:"bytes",id:1},tx_keys:{type:"bytes",id:2},tx_derivations:{type:"bytes",id:3}}},MoneroLiveRefreshStartRequest:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network_type:{type:"uint32",id:2}}},MoneroLiveRefreshStartAck:{fields:{}},MoneroLiveRefreshStepRequest:{fields:{out_key:{type:"bytes",id:1},recv_deriv:{type:"bytes",id:2},real_out_idx:{type:"uint64",id:3},sub_addr_major:{type:"uint32",id:4},sub_addr_minor:{type:"uint32",id:5}}},MoneroLiveRefreshStepAck:{fields:{salt:{type:"bytes",id:1},key_image:{type:"bytes",id:2}}},MoneroLiveRefreshFinalRequest:{fields:{}},MoneroLiveRefreshFinalAck:{fields:{}},DebugMoneroDiagRequest:{fields:{ins:{type:"uint64",id:1},p1:{type:"uint64",id:2},p2:{type:"uint64",id:3},pd:{rule:"repeated",type:"uint64",id:4,options:{packed:!1}},data1:{type:"bytes",id:5},data2:{type:"bytes",id:6}}},DebugMoneroDiagAck:{fields:{ins:{type:"uint64",id:1},p1:{type:"uint64",id:2},p2:{type:"uint64",id:3},pd:{rule:"repeated",type:"uint64",id:4,options:{packed:!1}},data1:{type:"bytes",id:5},data2:{type:"bytes",id:6}}},NearGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},NearAddress:{fields:{address:{type:"string",id:1}}},NearSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},NearSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},NEMGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network:{type:"uint32",id:2},show_display:{type:"bool",id:3}}},NEMAddress:{fields:{address:{rule:"required",type:"string",id:1}}},NEMSignTx:{fields:{transaction:{type:"NEMTransactionCommon",id:1},multisig:{type:"NEMTransactionCommon",id:2},transfer:{type:"NEMTransfer",id:3},cosigning:{type:"bool",id:4},provision_namespace:{type:"NEMProvisionNamespace",id:5},mosaic_creation:{type:"NEMMosaicCreation",id:6},supply_change:{type:"NEMMosaicSupplyChange",id:7},aggregate_modification:{type:"NEMAggregateModification",id:8},importance_transfer:{type:"NEMImportanceTransfer",id:9}},nested:{NEMTransactionCommon:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network:{type:"uint32",id:2},timestamp:{type:"uint32",id:3},fee:{type:"uint64",id:4},deadline:{type:"uint32",id:5},signer:{type:"bytes",id:6}}},NEMTransfer:{fields:{recipient:{type:"string",id:1},amount:{type:"uint64",id:2},payload:{type:"bytes",id:3},public_key:{type:"bytes",id:4},mosaics:{rule:"repeated",type:"NEMMosaic",id:5}},nested:{NEMMosaic:{fields:{namespace:{type:"string",id:1},mosaic:{type:"string",id:2},quantity:{type:"uint64",id:3}}}}},NEMProvisionNamespace:{fields:{namespace:{type:"string",id:1},parent:{type:"string",id:2},sink:{type:"string",id:3},fee:{type:"uint64",id:4}}},NEMMosaicCreation:{fields:{definition:{type:"NEMMosaicDefinition",id:1},sink:{type:"string",id:2},fee:{type:"uint64",id:3}},nested:{NEMMosaicDefinition:{fields:{name:{type:"string",id:1},ticker:{type:"string",id:2},namespace:{type:"string",id:3},mosaic:{type:"string",id:4},divisibility:{type:"uint32",id:5},levy:{type:"NEMMosaicLevy",id:6},fee:{type:"uint64",id:7},levy_address:{type:"string",id:8},levy_namespace:{type:"string",id:9},levy_mosaic:{type:"string",id:10},supply:{type:"uint64",id:11},mutable_supply:{type:"bool",id:12},transferable:{type:"bool",id:13},description:{type:"string",id:14},networks:{rule:"repeated",type:"uint32",id:15,options:{packed:!1}}},nested:{NEMMosaicLevy:{values:{MosaicLevy_Absolute:1,MosaicLevy_Percentile:2}}}}}},NEMMosaicSupplyChange:{fields:{namespace:{type:"string",id:1},mosaic:{type:"string",id:2},type:{type:"NEMSupplyChangeType",id:3},delta:{type:"uint64",id:4}},nested:{NEMSupplyChangeType:{values:{SupplyChange_Increase:1,SupplyChange_Decrease:2}}}},NEMAggregateModification:{fields:{modifications:{rule:"repeated",type:"NEMCosignatoryModification",id:1},relative_change:{type:"sint32",id:2}},nested:{NEMCosignatoryModification:{fields:{type:{type:"NEMModificationType",id:1},public_key:{type:"bytes",id:2}},nested:{NEMModificationType:{values:{CosignatoryModification_Add:1,CosignatoryModification_Delete:2}}}}}},NEMImportanceTransfer:{fields:{mode:{type:"NEMImportanceTransferMode",id:1},public_key:{type:"bytes",id:2}},nested:{NEMImportanceTransferMode:{values:{ImportanceTransfer_Activate:1,ImportanceTransfer_Deactivate:2}}}}}},NEMSignedTx:{fields:{data:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},NEMDecryptMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network:{type:"uint32",id:2},public_key:{type:"bytes",id:3},payload:{type:"bytes",id:4}}},NEMDecryptedMessage:{fields:{payload:{rule:"required",type:"bytes",id:1}}},NeoGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},NeoAddress:{fields:{address:{type:"string",id:1},public_key:{type:"bytes",id:2}}},NeoSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2},network_magic:{type:"uint32",id:3,options:{default:860833102}}}},NeoSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},NervosGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network:{rule:"required",type:"string",id:2},show_display:{type:"bool",id:3}}},NervosAddress:{fields:{address:{rule:"required",type:"string",id:1}}},NervosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},data_initial_chunk:{rule:"required",type:"bytes",id:2},witness_buffer:{rule:"required",type:"bytes",id:3},network:{rule:"required",type:"string",id:4},data_length:{type:"uint32",id:5}}},NervosSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},NervosTxRequest:{fields:{data_length:{type:"uint32",id:1},public_key:{type:"bytes",id:2},signature:{type:"bytes",id:3}}},NervosTxAck:{fields:{data_chunk:{rule:"required",type:"bytes",id:1}}},NexaGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},prefix:{type:"string",id:3,options:{default:"nexa"}}}},NexaAddress:{fields:{address:{rule:"required",type:"string",id:1},public_key:{rule:"required",type:"bytes",id:2}}},NexaSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_message:{rule:"required",type:"bytes",id:2},prefix:{type:"string",id:3,options:{default:"nexa"}},input_count:{type:"uint32",id:4,options:{default:1}}}},NexaTxInputRequest:{fields:{request_index:{rule:"required",type:"uint32",id:1},signature:{type:"bytes",id:2}}},NexaTxInputAck:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_message:{rule:"required",type:"bytes",id:2}}},NexaSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},NostrGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},NostrPublicKey:{fields:{publickey:{type:"string",id:1},npub:{type:"string",id:2}}},NostrSignEvent:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},event:{rule:"required",type:"bytes",id:2}}},NostrSignedEvent:{fields:{event:{rule:"required",type:"bytes",id:1}}},NostrSignSchnorr:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},hash:{rule:"required",type:"string",id:2}}},NostrSignedSchnorr:{fields:{signature:{rule:"required",type:"bytes",id:1}}},NostrEncryptMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},pubkey:{rule:"required",type:"string",id:2},msg:{rule:"required",type:"string",id:3},show_display:{type:"bool",id:4}}},NostrEncryptedMessage:{fields:{msg:{rule:"required",type:"string",id:1}}},NostrDecryptMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},pubkey:{rule:"required",type:"string",id:2},msg:{rule:"required",type:"string",id:3},show_display:{type:"bool",id:4}}},NostrDecryptedMessage:{fields:{msg:{rule:"required",type:"string",id:1}}},PolkadotGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},prefix:{rule:"required",type:"uint32",id:2},network:{rule:"required",type:"string",id:3},show_display:{type:"bool",id:4}}},PolkadotAddress:{fields:{address:{type:"string",id:1},public_key:{type:"string",id:2}}},PolkadotSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2},network:{rule:"required",type:"string",id:3},prefix:{type:"uint32",id:4}}},PolkadotSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},RippleGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},RippleAddress:{fields:{address:{rule:"required",type:"string",id:1}}},RippleSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},fee:{type:"uint64",id:2},flags:{type:"uint32",id:3},sequence:{type:"uint32",id:4},last_ledger_sequence:{type:"uint32",id:5},payment:{type:"RipplePayment",id:6}},nested:{RipplePayment:{fields:{amount:{rule:"required",type:"uint64",id:1},destination:{rule:"required",type:"string",id:2},destination_tag:{type:"uint32",id:3}}}}},RippleSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1},serialized_tx:{rule:"required",type:"bytes",id:2}}},ScdoGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},ScdoAddress:{fields:{address:{rule:"required",type:"string",id:1}}},ScdoSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{rule:"required",type:"bytes",id:2},gas_price:{rule:"required",type:"bytes",id:3},gas_limit:{rule:"required",type:"bytes",id:4},to:{rule:"required",type:"string",id:5},value:{rule:"required",type:"bytes",id:6},timestamp:{type:"bytes",id:7},data_initial_chunk:{type:"bytes",id:8,options:{default:""}},data_length:{type:"uint32",id:9,options:{default:0}},tx_type:{type:"uint32",id:10,options:{default:0}}}},ScdoSignedTx:{fields:{data_length:{type:"uint32",id:1},signature:{type:"bytes",id:2}}},ScdoTxAck:{fields:{data_chunk:{type:"bytes",id:1}}},ScdoSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{type:"bytes",id:2}}},ScdoSignedMessage:{fields:{signature:{type:"bytes",id:1},address:{type:"string",id:2}}},SolanaGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},SolanaAddress:{fields:{address:{type:"string",id:1}}},SolanaTxATADetails:{fields:{owner_address:{rule:"required",type:"string",id:1},program_id:{rule:"required",type:"string",id:2},mint_address:{rule:"required",type:"string",id:3},associated_token_address:{rule:"required",type:"string",id:4}}},SolanaTxExtraInfo:{fields:{ata_details:{rule:"repeated",type:"SolanaTxATADetails",id:1}}},SolanaSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2},extra_info:{type:"SolanaTxExtraInfo",id:3}}},SolanaSignedTx:{fields:{signature:{type:"bytes",id:1}}},SolanaOffChainMessageVersion:{values:{MESSAGE_VERSION_0:0}},SolanaOffChainMessageFormat:{values:{V0_RESTRICTED_ASCII:0,V0_LIMITED_UTF8:1}},SolanaSignOffChainMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2},message_version:{type:"SolanaOffChainMessageVersion",id:3,options:{default:"MESSAGE_VERSION_0"}},message_format:{type:"SolanaOffChainMessageFormat",id:4,options:{default:"V0_RESTRICTED_ASCII"}},application_domain:{type:"bytes",id:5}}},SolanaSignUnsafeMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2}}},SolanaMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:1},public_key:{type:"bytes",id:2}}},StarcoinGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},StarcoinAddress:{fields:{address:{type:"string",id:1}}},StarcoinGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},StarcoinPublicKey:{fields:{public_key:{rule:"required",type:"bytes",id:1}}},StarcoinSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{type:"bytes",id:2}}},StarcoinSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},StarcoinSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{type:"bytes",id:2}}},StarcoinMessageSignature:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},StarcoinVerifyMessage:{fields:{public_key:{type:"bytes",id:1},signature:{type:"bytes",id:2},message:{type:"bytes",id:3}}},StellarAssetType:{values:{NATIVE:0,ALPHANUM4:1,ALPHANUM12:2}},StellarAsset:{fields:{type:{rule:"required",type:"StellarAssetType",id:1},code:{type:"string",id:2},issuer:{type:"string",id:3}}},StellarGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},StellarAddress:{fields:{address:{rule:"required",type:"string",id:1}}},StellarSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},network_passphrase:{rule:"required",type:"string",id:3},source_account:{rule:"required",type:"string",id:4},fee:{rule:"required",type:"uint32",id:5},sequence_number:{rule:"required",type:"uint64",id:6},timebounds_start:{rule:"required",type:"uint32",id:8},timebounds_end:{rule:"required",type:"uint32",id:9},memo_type:{rule:"required",type:"StellarMemoType",id:10},memo_text:{type:"string",id:11},memo_id:{type:"uint64",id:12},memo_hash:{type:"bytes",id:13},num_operations:{rule:"required",type:"uint32",id:14}},nested:{StellarMemoType:{values:{NONE:0,TEXT:1,ID:2,HASH:3,RETURN:4}}}},StellarTxOpRequest:{fields:{}},StellarPaymentOp:{fields:{source_account:{type:"string",id:1},destination_account:{rule:"required",type:"string",id:2},asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4}}},StellarCreateAccountOp:{fields:{source_account:{type:"string",id:1},new_account:{rule:"required",type:"string",id:2},starting_balance:{rule:"required",type:"sint64",id:3}}},StellarPathPaymentStrictReceiveOp:{fields:{source_account:{type:"string",id:1},send_asset:{rule:"required",type:"StellarAsset",id:2},send_max:{rule:"required",type:"sint64",id:3},destination_account:{rule:"required",type:"string",id:4},destination_asset:{rule:"required",type:"StellarAsset",id:5},destination_amount:{rule:"required",type:"sint64",id:6},paths:{rule:"repeated",type:"StellarAsset",id:7}}},StellarPathPaymentStrictSendOp:{fields:{source_account:{type:"string",id:1},send_asset:{rule:"required",type:"StellarAsset",id:2},send_amount:{rule:"required",type:"sint64",id:3},destination_account:{rule:"required",type:"string",id:4},destination_asset:{rule:"required",type:"StellarAsset",id:5},destination_min:{rule:"required",type:"sint64",id:6},paths:{rule:"repeated",type:"StellarAsset",id:7}}},StellarManageSellOfferOp:{fields:{source_account:{type:"string",id:1},selling_asset:{rule:"required",type:"StellarAsset",id:2},buying_asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4},price_n:{rule:"required",type:"uint32",id:5},price_d:{rule:"required",type:"uint32",id:6},offer_id:{rule:"required",type:"uint64",id:7}}},StellarManageBuyOfferOp:{fields:{source_account:{type:"string",id:1},selling_asset:{rule:"required",type:"StellarAsset",id:2},buying_asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4},price_n:{rule:"required",type:"uint32",id:5},price_d:{rule:"required",type:"uint32",id:6},offer_id:{rule:"required",type:"uint64",id:7}}},StellarCreatePassiveSellOfferOp:{fields:{source_account:{type:"string",id:1},selling_asset:{rule:"required",type:"StellarAsset",id:2},buying_asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4},price_n:{rule:"required",type:"uint32",id:5},price_d:{rule:"required",type:"uint32",id:6}}},StellarSetOptionsOp:{fields:{source_account:{type:"string",id:1},inflation_destination_account:{type:"string",id:2},clear_flags:{type:"uint32",id:3},set_flags:{type:"uint32",id:4},master_weight:{type:"uint32",id:5},low_threshold:{type:"uint32",id:6},medium_threshold:{type:"uint32",id:7},high_threshold:{type:"uint32",id:8},home_domain:{type:"string",id:9},signer_type:{type:"StellarSignerType",id:10},signer_key:{type:"bytes",id:11},signer_weight:{type:"uint32",id:12}},nested:{StellarSignerType:{values:{ACCOUNT:0,PRE_AUTH:1,HASH:2}}}},StellarChangeTrustOp:{fields:{source_account:{type:"string",id:1},asset:{rule:"required",type:"StellarAsset",id:2},limit:{rule:"required",type:"uint64",id:3}}},StellarAllowTrustOp:{fields:{source_account:{type:"string",id:1},trusted_account:{rule:"required",type:"string",id:2},asset_type:{rule:"required",type:"StellarAssetType",id:3},asset_code:{type:"string",id:4},is_authorized:{rule:"required",type:"bool",id:5}}},StellarAccountMergeOp:{fields:{source_account:{type:"string",id:1},destination_account:{rule:"required",type:"string",id:2}}},StellarManageDataOp:{fields:{source_account:{type:"string",id:1},key:{rule:"required",type:"string",id:2},value:{type:"bytes",id:3}}},StellarBumpSequenceOp:{fields:{source_account:{type:"string",id:1},bump_to:{rule:"required",type:"uint64",id:2}}},StellarSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},SuiGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},SuiAddress:{fields:{address:{type:"string",id:1}}},SuiSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2},data_initial_chunk:{type:"bytes",id:3,options:{default:""}},data_length:{type:"uint32",id:4}}},SuiSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},SuiTxRequest:{fields:{data_length:{type:"uint32",id:1},public_key:{type:"bytes",id:2},signature:{type:"bytes",id:3}}},SuiTxAck:{fields:{data_chunk:{rule:"required",type:"bytes",id:1}}},SuiSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2}}},SuiMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},TezosGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},TezosAddress:{fields:{address:{rule:"required",type:"string",id:1}}},TezosGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},TezosPublicKey:{fields:{public_key:{rule:"required",type:"string",id:1}}},TezosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},branch:{rule:"required",type:"bytes",id:2},reveal:{type:"TezosRevealOp",id:3},transaction:{type:"TezosTransactionOp",id:4},origination:{type:"TezosOriginationOp",id:5},delegation:{type:"TezosDelegationOp",id:6},proposal:{type:"TezosProposalOp",id:7},ballot:{type:"TezosBallotOp",id:8}},nested:{TezosContractID:{fields:{tag:{rule:"required",type:"TezosContractType",id:1},hash:{rule:"required",type:"bytes",id:2}},nested:{TezosContractType:{values:{Implicit:0,Originated:1}}}},TezosRevealOp:{fields:{source:{rule:"required",type:"bytes",id:7},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},public_key:{rule:"required",type:"bytes",id:6}}},TezosTransactionOp:{fields:{source:{rule:"required",type:"bytes",id:9},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},amount:{rule:"required",type:"uint64",id:6},destination:{rule:"required",type:"TezosContractID",id:7},parameters:{type:"bytes",id:8},parameters_manager:{type:"TezosParametersManager",id:10}},nested:{TezosParametersManager:{fields:{set_delegate:{type:"bytes",id:1},cancel_delegate:{type:"bool",id:2},transfer:{type:"TezosManagerTransfer",id:3}},nested:{TezosManagerTransfer:{fields:{destination:{type:"TezosContractID",id:1},amount:{type:"uint64",id:2}}}}}}},TezosOriginationOp:{fields:{source:{rule:"required",type:"bytes",id:12},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},manager_pubkey:{type:"bytes",id:6},balance:{rule:"required",type:"uint64",id:7},spendable:{type:"bool",id:8},delegatable:{type:"bool",id:9},delegate:{type:"bytes",id:10},script:{rule:"required",type:"bytes",id:11}}},TezosDelegationOp:{fields:{source:{rule:"required",type:"bytes",id:7},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},delegate:{rule:"required",type:"bytes",id:6}}},TezosProposalOp:{fields:{source:{type:"bytes",id:1},period:{type:"uint64",id:2},proposals:{rule:"repeated",type:"bytes",id:4}}},TezosBallotOp:{fields:{source:{type:"bytes",id:1},period:{type:"uint64",id:2},proposal:{type:"bytes",id:3},ballot:{type:"TezosBallotType",id:4}},nested:{TezosBallotType:{values:{Yay:0,Nay:1,Pass:2}}}}}},TezosSignedTx:{fields:{signature:{rule:"required",type:"string",id:1},sig_op_contents:{rule:"required",type:"bytes",id:2},operation_hash:{rule:"required",type:"string",id:3}}},TonWalletVersion:{values:{V4R2:3}},TonWorkChain:{values:{BASECHAIN:0,MASTERCHAIN:1}},TonGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},wallet_version:{type:"TonWalletVersion",id:3,options:{default:"V4R2"}},is_bounceable:{type:"bool",id:4,options:{default:!1}},is_testnet_only:{type:"bool",id:5,options:{default:!1}},workchain:{type:"TonWorkChain",id:6,options:{default:"BASECHAIN"}},wallet_id:{type:"uint32",id:7,options:{default:698983191}}}},TonAddress:{fields:{public_key:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},TonSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},destination:{rule:"required",type:"string",id:2},jetton_master_address:{type:"string",id:3},jetton_wallet_address:{type:"string",id:4},ton_amount:{rule:"required",type:"uint64",id:5},jetton_amount:{type:"uint64",id:6},fwd_fee:{type:"uint64",id:7,options:{default:0}},comment:{type:"string",id:8},is_raw_data:{type:"bool",id:9,options:{default:!1}},mode:{type:"uint32",id:10,options:{default:3}},seqno:{rule:"required",type:"uint32",id:11},expire_at:{rule:"required",type:"uint64",id:12},wallet_version:{type:"TonWalletVersion",id:13,options:{default:"V4R2"}},wallet_id:{type:"uint32",id:14,options:{default:698983191}},workchain:{type:"TonWorkChain",id:15,options:{default:"BASECHAIN"}},is_bounceable:{type:"bool",id:16,options:{default:!1}},is_testnet_only:{type:"bool",id:17,options:{default:!1}},ext_destination:{rule:"repeated",type:"string",id:18},ext_ton_amount:{rule:"repeated",type:"uint64",id:19,options:{packed:!1}},ext_payload:{rule:"repeated",type:"string",id:20},jetton_amount_bytes:{type:"bytes",id:21},init_data_initial_chunk:{type:"bytes",id:22},init_data_length:{type:"uint32",id:23},signing_message_repr:{type:"bytes",id:24}}},TonTxAck:{fields:{init_data_chunk:{rule:"required",type:"bytes",id:1}}},TonSignedMessage:{fields:{signature:{type:"bytes",id:1},signning_message:{type:"bytes",id:2},init_data_length:{type:"uint32",id:3}}},TonSignProof:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},appdomain:{rule:"required",type:"bytes",id:2},comment:{type:"bytes",id:3},expire_at:{rule:"required",type:"uint64",id:4},wallet_version:{type:"TonWalletVersion",id:5,options:{default:"V4R2"}},wallet_id:{type:"uint32",id:6,options:{default:698983191}},workchain:{type:"TonWorkChain",id:7,options:{default:"BASECHAIN"}},is_bounceable:{type:"bool",id:8,options:{default:!1}},is_testnet_only:{type:"bool",id:9,options:{default:!1}}}},TonSignedProof:{fields:{signature:{type:"bytes",id:1}}},TronGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},TronAddress:{fields:{address:{type:"string",id:1}}},TronSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},ref_block_bytes:{rule:"required",type:"bytes",id:2},ref_block_hash:{rule:"required",type:"bytes",id:3},expiration:{rule:"required",type:"uint64",id:4},data:{type:"bytes",id:5},contract:{rule:"required",type:"TronContract",id:6},timestamp:{rule:"required",type:"uint64",id:7},fee_limit:{type:"uint64",id:8}},nested:{TronContract:{fields:{transfer_contract:{type:"TronTransferContract",id:2},provider:{type:"bytes",id:3},vote_witness_contract:{type:"TronVoteWitnessContract",id:4},contract_name:{type:"bytes",id:5},permission_id:{type:"uint32",id:6},freeze_balance_contract:{type:"TronFreezeBalanceContract",id:11},unfreeze_balance_contract:{type:"TronUnfreezeBalanceContract",id:12},withdraw_balance_contract:{type:"TronWithdrawBalanceContract",id:13},trigger_smart_contract:{type:"TronTriggerSmartContract",id:31},freeze_balance_v2_contract:{type:"TronFreezeBalanceV2Contract",id:54},unfreeze_balance_v2_contract:{type:"TronUnfreezeBalanceV2Contract",id:55},withdraw_expire_unfreeze_contract:{type:"TronWithdrawExpireUnfreezeContract",id:56},delegate_resource_contract:{type:"TronDelegateResourceContract",id:57},undelegate_resource_contract:{type:"TronUnDelegateResourceContract",id:58},cancel_all_unfreeze_v2_contract:{type:"TronCancelAllUnfreezeV2Contract",id:59}},nested:{TronTransferContract:{fields:{to_address:{type:"string",id:2},amount:{type:"uint64",id:3}}},TronTriggerSmartContract:{fields:{contract_address:{type:"string",id:2},call_value:{type:"uint64",id:3},data:{type:"bytes",id:4},call_token_value:{type:"uint64",id:5},asset_id:{type:"uint64",id:6}}},TronResourceCode:{values:{BANDWIDTH:0,ENERGY:1,TRON_POWER:2}},TronFreezeBalanceContract:{fields:{frozen_balance:{type:"uint64",id:1},frozen_duration:{type:"uint64",id:2},resource:{type:"TronResourceCode",id:3},receiver_address:{type:"string",id:4}}},TronUnfreezeBalanceContract:{fields:{resource:{type:"TronResourceCode",id:1},receiver_address:{type:"string",id:2}}},TronWithdrawBalanceContract:{fields:{owner_address:{type:"bytes",id:1}}},TronFreezeBalanceV2Contract:{fields:{frozen_balance:{type:"uint64",id:2},resource:{type:"TronResourceCode",id:3}}},TronUnfreezeBalanceV2Contract:{fields:{unfreeze_balance:{type:"uint64",id:2},resource:{type:"TronResourceCode",id:3}}},TronWithdrawExpireUnfreezeContract:{fields:{}},TronDelegateResourceContract:{fields:{resource:{type:"TronResourceCode",id:2},balance:{type:"uint64",id:3},receiver_address:{type:"string",id:4},lock:{type:"bool",id:5},lock_period:{type:"uint64",id:6}}},TronUnDelegateResourceContract:{fields:{resource:{type:"TronResourceCode",id:2},balance:{type:"uint64",id:3},receiver_address:{type:"string",id:4}}},TronVoteWitnessContract:{fields:{votes:{rule:"repeated",type:"Vote",id:2},support:{type:"bool",id:3}},nested:{Vote:{fields:{vote_address:{rule:"required",type:"string",id:1},vote_count:{rule:"required",type:"uint32",id:2}}}}},TronCancelAllUnfreezeV2Contract:{fields:{}}}}}},TronSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1},serialized_tx:{type:"bytes",id:2}}},TronMessageType:{values:{V1:1,V2:2}},TronSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2},message_type:{type:"TronMessageType",id:3,options:{default:"V1"}}}},TronMessageSignature:{fields:{address:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},WebAuthnListResidentCredentials:{fields:{}},WebAuthnAddResidentCredential:{fields:{credential_id:{type:"bytes",id:1}}},WebAuthnRemoveResidentCredential:{fields:{index:{type:"uint32",id:1}}},WebAuthnCredentials:{fields:{credentials:{rule:"repeated",type:"WebAuthnCredential",id:1}},nested:{WebAuthnCredential:{fields:{index:{type:"uint32",id:1},id:{type:"bytes",id:2},rp_id:{type:"string",id:3},rp_name:{type:"string",id:4},user_id:{type:"bytes",id:5},user_name:{type:"string",id:6},user_display_name:{type:"string",id:7},creation_time:{type:"uint32",id:8},hmac_secret:{type:"bool",id:9},use_sign_count:{type:"bool",id:10},algorithm:{type:"sint32",id:11},curve:{type:"sint32",id:12}}}}},wire_in:{type:"bool",id:50002,extend:"google.protobuf.EnumValueOptions"},wire_out:{type:"bool",id:50003,extend:"google.protobuf.EnumValueOptions"},wire_debug_in:{type:"bool",id:50004,extend:"google.protobuf.EnumValueOptions"},wire_debug_out:{type:"bool",id:50005,extend:"google.protobuf.EnumValueOptions"},wire_tiny:{type:"bool",id:50006,extend:"google.protobuf.EnumValueOptions"},wire_bootloader:{type:"bool",id:50007,extend:"google.protobuf.EnumValueOptions"},wire_no_fsm:{type:"bool",id:50008,extend:"google.protobuf.EnumValueOptions"},facotry:{type:"bool",id:50501,extend:"google.protobuf.EnumValueOptions"},bitcoin_only:{type:"bool",id:6e4,extend:"google.protobuf.EnumValueOptions"},has_bitcoin_only_values:{type:"bool",id:51001,extend:"google.protobuf.EnumOptions"},unstable:{type:"bool",id:52001,extend:"google.protobuf.MessageOptions"},wire_type:{type:"uint32",id:52002,extend:"google.protobuf.MessageOptions"},experimental:{type:"bool",id:53001,extend:"google.protobuf.FieldOptions"},include_in_bitcoin_only:{type:"bool",id:6e4,extend:"google.protobuf.FileOptions"},CommandFlags:{values:{Default:0,Factory_Only:1}},MessageType:{options:{"(has_bitcoin_only_values)":!0},values:{MessageType_Initialize:0,MessageType_Ping:1,MessageType_Success:2,MessageType_Failure:3,MessageType_ChangePin:4,MessageType_WipeDevice:5,MessageType_GetEntropy:9,MessageType_Entropy:10,MessageType_LoadDevice:13,MessageType_ResetDevice:14,MessageType_Features:17,MessageType_PinMatrixRequest:18,MessageType_PinMatrixAck:19,MessageType_Cancel:20,MessageType_LockDevice:24,MessageType_ApplySettings:25,MessageType_ButtonRequest:26,MessageType_ButtonAck:27,MessageType_ApplyFlags:28,MessageType_BackupDevice:34,MessageType_EntropyRequest:35,MessageType_EntropyAck:36,MessageType_PassphraseRequest:41,MessageType_PassphraseAck:42,MessageType_RecoveryDevice:45,MessageType_WordRequest:46,MessageType_WordAck:47,MessageType_GetFeatures:55,MessageType_SdProtect:79,MessageType_ChangeWipeCode:82,MessageType_EndSession:83,MessageType_DoPreauthorized:84,MessageType_PreauthorizedRequest:85,MessageType_CancelAuthorization:86,MessageType_RebootToBootloader:87,MessageType_SetU2FCounter:63,MessageType_GetNextU2FCounter:80,MessageType_NextU2FCounter:81,MessageType_Deprecated_PassphraseStateRequest:77,MessageType_Deprecated_PassphraseStateAck:78,MessageType_FirmwareErase:6,MessageType_FirmwareErase_ex:16,MessageType_FirmwareUpload:7,MessageType_FirmwareRequest:8,MessageType_SelfTest:32,MessageType_Reboot:3e4,MessageType_FirmwareUpdateEmmc:30001,MessageType_GetPublicKey:11,MessageType_PublicKey:12,MessageType_SignTx:15,MessageType_TxRequest:21,MessageType_TxAck:22,MessageType_GetAddress:29,MessageType_Address:30,MessageType_SignMessage:38,MessageType_VerifyMessage:39,MessageType_MessageSignature:40,MessageType_GetOwnershipId:43,MessageType_OwnershipId:44,MessageType_GetOwnershipProof:49,MessageType_OwnershipProof:50,MessageType_AuthorizeCoinJoin:51,MessageType_SignPsbt:10052,MessageType_SignedPsbt:10053,MessageType_CipherKeyValue:23,MessageType_CipheredKeyValue:48,MessageType_SignIdentity:53,MessageType_SignedIdentity:54,MessageType_GetECDHSessionKey:61,MessageType_ECDHSessionKey:62,MessageType_CosiCommit:71,MessageType_CosiCommitment:72,MessageType_CosiSign:73,MessageType_CosiSignature:74,MessageType_BatchGetPublickeys:10016,MessageType_EcdsaPublicKeys:10017,MessageType_DebugLinkDecision:100,MessageType_DebugLinkGetState:101,MessageType_DebugLinkState:102,MessageType_DebugLinkStop:103,MessageType_DebugLinkLog:104,MessageType_DebugLinkMemoryRead:110,MessageType_DebugLinkMemory:111,MessageType_DebugLinkMemoryWrite:112,MessageType_DebugLinkFlashErase:113,MessageType_DebugLinkLayout:9001,MessageType_DebugLinkReseedRandom:9002,MessageType_DebugLinkRecordScreen:9003,MessageType_DebugLinkEraseSdCard:9005,MessageType_DebugLinkWatchLayout:9006,MessageType_EmmcFixPermission:30100,MessageType_EmmcPath:30101,MessageType_EmmcPathInfo:30102,MessageType_EmmcFile:30103,MessageType_EmmcFileRead:30104,MessageType_EmmcFileWrite:30105,MessageType_EmmcFileDelete:30106,MessageType_EmmcDir:30107,MessageType_EmmcDirList:30108,MessageType_EmmcDirMake:30109,MessageType_EmmcDirRemove:30110,MessageType_EthereumGetPublicKey:450,MessageType_EthereumPublicKey:451,MessageType_EthereumGetAddress:56,MessageType_EthereumAddress:57,MessageType_EthereumSignTx:58,MessageType_EthereumSignTxEIP1559:452,MessageType_EthereumTxRequest:59,MessageType_EthereumTxAck:60,MessageType_EthereumSignMessage:64,MessageType_EthereumVerifyMessage:65,MessageType_EthereumMessageSignature:66,MessageType_EthereumSignTypedData:464,MessageType_EthereumTypedDataStructRequest:465,MessageType_EthereumTypedDataStructAck:466,MessageType_EthereumTypedDataValueRequest:467,MessageType_EthereumTypedDataValueAck:468,MessageType_EthereumTypedDataSignature:469,MessageType_EthereumSignTypedHash:470,MessageType_EthereumGetPublicKeyOneKey:20100,MessageType_EthereumPublicKeyOneKey:20101,MessageType_EthereumGetAddressOneKey:20102,MessageType_EthereumAddressOneKey:20103,MessageType_EthereumSignTxOneKey:20104,MessageType_EthereumSignTxEIP1559OneKey:20105,MessageType_EthereumTxRequestOneKey:20106,MessageType_EthereumTxAckOneKey:20107,MessageType_EthereumSignMessageOneKey:20108,MessageType_EthereumVerifyMessageOneKey:20109,MessageType_EthereumMessageSignatureOneKey:20110,MessageType_EthereumSignTypedDataOneKey:20111,MessageType_EthereumTypedDataStructRequestOneKey:20112,MessageType_EthereumTypedDataStructAckOneKey:20113,MessageType_EthereumTypedDataValueRequestOneKey:20114,MessageType_EthereumTypedDataValueAckOneKey:20115,MessageType_EthereumTypedDataSignatureOneKey:20116,MessageType_EthereumSignTypedHashOneKey:20117,MessageType_EthereumGnosisSafeTxAck:20118,MessageType_EthereumGnosisSafeTxRequest:20119,MessageType_EthereumSignTxEIP7702OneKey:20120,MessageType_NEMGetAddress:67,MessageType_NEMAddress:68,MessageType_NEMSignTx:69,MessageType_NEMSignedTx:70,MessageType_NEMDecryptMessage:75,MessageType_NEMDecryptedMessage:76,MessageType_TezosGetAddress:150,MessageType_TezosAddress:151,MessageType_TezosSignTx:152,MessageType_TezosSignedTx:153,MessageType_TezosGetPublicKey:154,MessageType_TezosPublicKey:155,MessageType_StellarSignTx:202,MessageType_StellarTxOpRequest:203,MessageType_StellarGetAddress:207,MessageType_StellarAddress:208,MessageType_StellarCreateAccountOp:210,MessageType_StellarPaymentOp:211,MessageType_StellarPathPaymentStrictReceiveOp:212,MessageType_StellarManageSellOfferOp:213,MessageType_StellarCreatePassiveSellOfferOp:214,MessageType_StellarSetOptionsOp:215,MessageType_StellarChangeTrustOp:216,MessageType_StellarAllowTrustOp:217,MessageType_StellarAccountMergeOp:218,MessageType_StellarManageDataOp:220,MessageType_StellarBumpSequenceOp:221,MessageType_StellarManageBuyOfferOp:222,MessageType_StellarPathPaymentStrictSendOp:223,MessageType_StellarSignedTx:230,MessageType_CardanoGetPublicKey:305,MessageType_CardanoPublicKey:306,MessageType_CardanoGetAddress:307,MessageType_CardanoAddress:308,MessageType_CardanoTxItemAck:313,MessageType_CardanoTxAuxiliaryDataSupplement:314,MessageType_CardanoTxWitnessRequest:315,MessageType_CardanoTxWitnessResponse:316,MessageType_CardanoTxHostAck:317,MessageType_CardanoTxBodyHash:318,MessageType_CardanoSignTxFinished:319,MessageType_CardanoSignTxInit:320,MessageType_CardanoTxInput:321,MessageType_CardanoTxOutput:322,MessageType_CardanoAssetGroup:323,MessageType_CardanoToken:324,MessageType_CardanoTxCertificate:325,MessageType_CardanoTxWithdrawal:326,MessageType_CardanoTxAuxiliaryData:327,MessageType_CardanoPoolOwner:328,MessageType_CardanoPoolRelayParameters:329,MessageType_CardanoGetNativeScriptHash:330,MessageType_CardanoNativeScriptHash:331,MessageType_CardanoTxMint:332,MessageType_CardanoTxCollateralInput:333,MessageType_CardanoTxRequiredSigner:334,MessageType_CardanoTxInlineDatumChunk:335,MessageType_CardanoTxReferenceScriptChunk:336,MessageType_CardanoTxReferenceInput:337,MessageType_CardanoSignMessage:350,MessageType_CardanoMessageSignature:351,MessageType_RippleGetAddress:400,MessageType_RippleAddress:401,MessageType_RippleSignTx:402,MessageType_RippleSignedTx:403,MessageType_MoneroTransactionInitRequest:501,MessageType_MoneroTransactionInitAck:502,MessageType_MoneroTransactionSetInputRequest:503,MessageType_MoneroTransactionSetInputAck:504,MessageType_MoneroTransactionInputsPermutationRequest:505,MessageType_MoneroTransactionInputsPermutationAck:506,MessageType_MoneroTransactionInputViniRequest:507,MessageType_MoneroTransactionInputViniAck:508,MessageType_MoneroTransactionAllInputsSetRequest:509,MessageType_MoneroTransactionAllInputsSetAck:510,MessageType_MoneroTransactionSetOutputRequest:511,MessageType_MoneroTransactionSetOutputAck:512,MessageType_MoneroTransactionAllOutSetRequest:513,MessageType_MoneroTransactionAllOutSetAck:514,MessageType_MoneroTransactionSignInputRequest:515,MessageType_MoneroTransactionSignInputAck:516,MessageType_MoneroTransactionFinalRequest:517,MessageType_MoneroTransactionFinalAck:518,MessageType_MoneroKeyImageExportInitRequest:530,MessageType_MoneroKeyImageExportInitAck:531,MessageType_MoneroKeyImageSyncStepRequest:532,MessageType_MoneroKeyImageSyncStepAck:533,MessageType_MoneroKeyImageSyncFinalRequest:534,MessageType_MoneroKeyImageSyncFinalAck:535,MessageType_MoneroGetAddress:540,MessageType_MoneroAddress:541,MessageType_MoneroGetWatchKey:542,MessageType_MoneroWatchKey:543,MessageType_DebugMoneroDiagRequest:546,MessageType_DebugMoneroDiagAck:547,MessageType_MoneroGetTxKeyRequest:550,MessageType_MoneroGetTxKeyAck:551,MessageType_MoneroLiveRefreshStartRequest:552,MessageType_MoneroLiveRefreshStartAck:553,MessageType_MoneroLiveRefreshStepRequest:554,MessageType_MoneroLiveRefreshStepAck:555,MessageType_MoneroLiveRefreshFinalRequest:556,MessageType_MoneroLiveRefreshFinalAck:557,MessageType_EosGetPublicKey:600,MessageType_EosPublicKey:601,MessageType_EosSignTx:602,MessageType_EosTxActionRequest:603,MessageType_EosTxActionAck:604,MessageType_EosSignedTx:605,MessageType_BinanceGetAddress:700,MessageType_BinanceAddress:701,MessageType_BinanceGetPublicKey:702,MessageType_BinancePublicKey:703,MessageType_BinanceSignTx:704,MessageType_BinanceTxRequest:705,MessageType_BinanceTransferMsg:706,MessageType_BinanceOrderMsg:707,MessageType_BinanceCancelMsg:708,MessageType_BinanceSignedTx:709,MessageType_SolanaGetAddress:10100,MessageType_SolanaAddress:10101,MessageType_SolanaSignTx:10102,MessageType_SolanaSignedTx:10103,MessageType_SolanaSignOffChainMessage:10104,MessageType_SolanaMessageSignature:10105,MessageType_SolanaSignUnsafeMessage:10106,MessageType_StarcoinGetAddress:10300,MessageType_StarcoinAddress:10301,MessageType_StarcoinGetPublicKey:10302,MessageType_StarcoinPublicKey:10303,MessageType_StarcoinSignTx:10304,MessageType_StarcoinSignedTx:10305,MessageType_StarcoinSignMessage:10306,MessageType_StarcoinMessageSignature:10307,MessageType_StarcoinVerifyMessage:10308,MessageType_AptosGetAddress:10600,MessageType_AptosAddress:10601,MessageType_AptosSignTx:10602,MessageType_AptosSignedTx:10603,MessageType_AptosSignMessage:10604,MessageType_AptosMessageSignature:10605,MessageType_AptosSignSIWAMessage:10606,MessageType_WebAuthnListResidentCredentials:800,MessageType_WebAuthnCredentials:801,MessageType_WebAuthnAddResidentCredential:802,MessageType_WebAuthnRemoveResidentCredential:803,MessageType_BixinSeedOperate:901,MessageType_BixinMessageSE:902,MessageType_BixinOutMessageSE:904,MessageType_BixinBackupRequest:905,MessageType_BixinBackupAck:906,MessageType_BixinRestoreRequest:907,MessageType_BixinRestoreAck:908,MessageType_BixinVerifyDeviceRequest:909,MessageType_BixinVerifyDeviceAck:910,MessageType_BixinWhiteListRequest:911,MessageType_BixinWhiteListAck:912,MessageType_BixinLoadDevice:913,MessageType_BixinBackupDevice:914,MessageType_BixinBackupDeviceAck:915,MessageType_BixinPinInputOnDevice:1e4,MessageType_EthereumSignMessageEIP712:10200,MessageType_GetPublicKeyMultiple:10210,MessageType_PublicKeyMultiple:10211,MessageType_ConfluxGetAddress:10112,MessageType_ConfluxAddress:10113,MessageType_ConfluxSignTx:10114,MessageType_ConfluxTxRequest:10115,MessageType_ConfluxTxAck:10116,MessageType_ConfluxSignMessage:10117,MessageType_ConfluxSignMessageCIP23:10118,MessageType_ConfluxMessageSignature:10119,MessageType_TronGetAddress:10501,MessageType_TronAddress:10502,MessageType_TronSignTx:10503,MessageType_TronSignedTx:10504,MessageType_TronSignMessage:10505,MessageType_TronMessageSignature:10506,MessageType_NearGetAddress:10701,MessageType_NearAddress:10702,MessageType_NearSignTx:10703,MessageType_NearSignedTx:10704,MessageType_CosmosGetAddress:10800,MessageType_CosmosAddress:10801,MessageType_CosmosSignTx:10802,MessageType_CosmosSignedTx:10803,MessageType_AlgorandGetAddress:10900,MessageType_AlgorandAddress:10901,MessageType_AlgorandSignTx:10902,MessageType_AlgorandSignedTx:10903,MessageType_PolkadotGetAddress:11e3,MessageType_PolkadotAddress:11001,MessageType_PolkadotSignTx:11002,MessageType_PolkadotSignedTx:11003,MessageType_SuiGetAddress:11100,MessageType_SuiAddress:11101,MessageType_SuiSignTx:11102,MessageType_SuiSignedTx:11103,MessageType_SuiSignMessage:11104,MessageType_SuiMessageSignature:11105,MessageType_SuiTxRequest:11106,MessageType_SuiTxAck:11107,MessageType_FilecoinGetAddress:11200,MessageType_FilecoinAddress:11201,MessageType_FilecoinSignTx:11202,MessageType_FilecoinSignedTx:11203,MessageType_KaspaGetAddress:11300,MessageType_KaspaAddress:11301,MessageType_KaspaSignTx:11302,MessageType_KaspaSignedTx:11303,MessageType_KaspaTxInputRequest:11304,MessageType_KaspaTxInputAck:11305,MessageType_NexaGetAddress:11400,MessageType_NexaAddress:11401,MessageType_NexaSignTx:11402,MessageType_NexaSignedTx:11403,MessageType_NexaTxInputRequest:11404,MessageType_NexaTxInputAck:11405,MessageType_NostrGetPublicKey:11500,MessageType_NostrPublicKey:11501,MessageType_NostrSignEvent:11502,MessageType_NostrSignedEvent:11503,MessageType_NostrEncryptMessage:11504,MessageType_NostrEncryptedMessage:11505,MessageType_NostrDecryptMessage:11506,MessageType_NostrDecryptedMessage:11507,MessageType_NostrSignSchnorr:11508,MessageType_NostrSignedSchnorr:11509,MessageType_LnurlAuth:11600,MessageType_LnurlAuthResp:11601,MessageType_NervosGetAddress:11701,MessageType_NervosAddress:11702,MessageType_NervosSignTx:11703,MessageType_NervosSignedTx:11704,MessageType_NervosTxRequest:11705,MessageType_NervosTxAck:11706,MessageType_DnxGetAddress:11800,MessageType_DnxAddress:11801,MessageType_DnxSignTx:11802,MessageType_DnxInputRequest:11803,MessageType_DnxInputAck:11804,MessageType_DnxRTSigsRequest:11805,MessageType_DnxSignedTx:11806,MessageType_TonGetAddress:11901,MessageType_TonAddress:11902,MessageType_TonSignMessage:11903,MessageType_TonSignedMessage:11904,MessageType_TonSignProof:11905,MessageType_TonSignedProof:11906,MessageType_TonTxAck:11907,MessageType_ScdoGetAddress:12001,MessageType_ScdoAddress:12002,MessageType_ScdoSignTx:12003,MessageType_ScdoSignedTx:12004,MessageType_ScdoTxAck:12005,MessageType_ScdoSignMessage:12006,MessageType_ScdoSignedMessage:12007,MessageType_AlephiumGetAddress:12101,MessageType_AlephiumAddress:12102,MessageType_AlephiumSignTx:12103,MessageType_AlephiumSignedTx:12104,MessageType_AlephiumTxRequest:12105,MessageType_AlephiumTxAck:12106,MessageType_AlephiumBytecodeRequest:12107,MessageType_AlephiumBytecodeAck:12108,MessageType_AlephiumSignMessage:12109,MessageType_AlephiumMessageSignature:12110,MessageType_BenfenGetAddress:12201,MessageType_BenfenAddress:12202,MessageType_BenfenSignTx:12203,MessageType_BenfenSignedTx:12204,MessageType_BenfenSignMessage:12205,MessageType_BenfenMessageSignature:12206,MessageType_BenfenTxRequest:12207,MessageType_BenfenTxAck:12208,MessageType_NeoGetAddress:12301,MessageType_NeoAddress:12302,MessageType_NeoSignTx:12303,MessageType_NeoSignedTx:12304,MessageType_DeviceBackToBoot:903,MessageType_DeviceInfoSettings:10001,MessageType_GetDeviceInfo:10002,MessageType_DeviceInfo:10003,MessageType_ReadSEPublicKey:10004,MessageType_SEPublicKey:10005,MessageType_WriteSEPublicCert:10006,MessageType_ReadSEPublicCert:10007,MessageType_SEPublicCert:10008,MessageType_SpiFlashWrite:10009,MessageType_SpiFlashRead:10010,MessageType_SpiFlashData:10011,MessageType_SESignMessage:10012,MessageType_SEMessageSignature:10013,MessageType_NFTWriteInfo:10014,MessageType_NFTWriteData:10015,MessageType_ResourceUpload:10018,MessageType_ZoomRequest:10019,MessageType_BlurRequest:10032,MessageType_ResourceRequest:10020,MessageType_ResourceAck:10021,MessageType_ResourceUpdate:10022,MessageType_ListResDir:10023,MessageType_FileInfoList:10024,MessageType_OnekeyGetFeatures:10025,MessageType_OnekeyFeatures:10026,MessageType_GetPassphraseState:10028,MessageType_PassphraseState:10029,MessageType_UnLockDevice:10030,MessageType_UnLockDeviceResponse:10031,MessageType_UpgradeFileHeader:10050}},google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},public_dependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weak_dependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},message_type:{rule:"repeated",type:"DescriptorProto",id:4},enum_type:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},source_code_info:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nested_type:{rule:"repeated",type:"DescriptorProto",id:3},enum_type:{rule:"repeated",type:"EnumDescriptorProto",id:4},extension_range:{rule:"repeated",type:"ExtensionRange",id:5},oneof_decl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reserved_range:{rule:"repeated",type:"ReservedRange",id:9},reserved_name:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},type_name:{type:"string",id:6},extendee:{type:"string",id:2},default_value:{type:"string",id:7},oneof_index:{type:"int32",id:9},json_name:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},input_type:{type:"string",id:2},output_type:{type:"string",id:3},options:{type:"MethodOptions",id:4},client_streaming:{type:"bool",id:5},server_streaming:{type:"bool",id:6}}},FileOptions:{fields:{java_package:{type:"string",id:1},java_outer_classname:{type:"string",id:8},java_multiple_files:{type:"bool",id:10},java_generate_equals_and_hash:{type:"bool",id:20,options:{deprecated:!0}},java_string_check_utf8:{type:"bool",id:27},optimize_for:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},go_package:{type:"string",id:11},cc_generic_services:{type:"bool",id:16},java_generic_services:{type:"bool",id:17},py_generic_services:{type:"bool",id:18},deprecated:{type:"bool",id:23},cc_enable_arenas:{type:"bool",id:31},objc_class_prefix:{type:"string",id:36},csharp_namespace:{type:"string",id:37},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{message_set_wire_format:{type:"bool",id:1},no_standard_descriptor_accessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},map_entry:{type:"bool",id:7},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allow_alias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifier_value:{type:"string",id:3},positive_int_value:{type:"uint64",id:4},negative_int_value:{type:"int64",id:5},double_value:{type:"double",id:6},string_value:{type:"bytes",id:7},aggregate_value:{type:"string",id:8}},nested:{NamePart:{fields:{name_part:{rule:"required",type:"string",id:1},is_extension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leading_comments:{type:"string",id:3},trailing_comments:{type:"string",id:4},leading_detached_comments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},source_file:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}},Ad={nested:va},ba={AlgorandGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:3}}},AlgorandAddress:{fields:{address:{type:"string",id:1}}},AlgorandSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},AlgorandSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},AptosGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},AptosAddress:{fields:{address:{type:"string",id:1}}},AptosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},AptosSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},AptosSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},payload:{rule:"required",type:"AptosMessagePayload",id:2}},nested:{AptosMessagePayload:{fields:{address:{type:"string",id:2},chain_id:{type:"string",id:3},application:{type:"string",id:4},nonce:{rule:"required",type:"string",id:5},message:{rule:"required",type:"string",id:6}}}}},AptosMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},BinanceGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},BinanceAddress:{fields:{address:{rule:"required",type:"string",id:1}}},BinanceGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},BinancePublicKey:{fields:{public_key:{rule:"required",type:"bytes",id:1}}},BinanceSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},msg_count:{type:"uint32",id:2},account_number:{type:"sint64",id:3},chain_id:{type:"string",id:4},memo:{type:"string",id:5},sequence:{type:"sint64",id:6},source:{type:"sint64",id:7}}},BinanceTxRequest:{fields:{}},BinanceTransferMsg:{fields:{inputs:{rule:"repeated",type:"BinanceInputOutput",id:1},outputs:{rule:"repeated",type:"BinanceInputOutput",id:2}},nested:{BinanceInputOutput:{fields:{address:{type:"string",id:1},coins:{rule:"repeated",type:"BinanceCoin",id:2}}},BinanceCoin:{fields:{amount:{type:"sint64",id:1},denom:{type:"string",id:2}}}}},BinanceOrderMsg:{fields:{id:{type:"string",id:1},ordertype:{type:"BinanceOrderType",id:2},price:{type:"sint64",id:3},quantity:{type:"sint64",id:4},sender:{type:"string",id:5},side:{type:"BinanceOrderSide",id:6},symbol:{type:"string",id:7},timeinforce:{type:"BinanceTimeInForce",id:8}},nested:{BinanceOrderType:{values:{OT_UNKNOWN:0,MARKET:1,LIMIT:2,OT_RESERVED:3}},BinanceOrderSide:{values:{SIDE_UNKNOWN:0,BUY:1,SELL:2}},BinanceTimeInForce:{values:{TIF_UNKNOWN:0,GTE:1,TIF_RESERVED:2,IOC:3}}}},BinanceCancelMsg:{fields:{refid:{type:"string",id:1},sender:{type:"string",id:2},symbol:{type:"string",id:3}}},BinanceSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1},public_key:{rule:"required",type:"bytes",id:2}}},InputScriptType:{values:{SPENDADDRESS:0,SPENDMULTISIG:1,EXTERNAL:2,SPENDWITNESS:3,SPENDP2SHWITNESS:4,SPENDTAPROOT:5}},OutputScriptType:{values:{PAYTOADDRESS:0,PAYTOSCRIPTHASH:1,PAYTOMULTISIG:2,PAYTOOPRETURN:3,PAYTOWITNESS:4,PAYTOP2SHWITNESS:5,PAYTOTAPROOT:6}},DecredStakingSpendType:{values:{SSGen:0,SSRTX:1}},AmountUnit:{values:{BITCOIN:0,MILLIBITCOIN:1,MICROBITCOIN:2,SATOSHI:3}},MultisigRedeemScriptType:{fields:{pubkeys:{rule:"repeated",type:"HDNodePathType",id:1},signatures:{rule:"repeated",type:"bytes",id:2},m:{rule:"required",type:"uint32",id:3},nodes:{rule:"repeated",type:"HDNodeType",id:4},address_n:{rule:"repeated",type:"uint32",id:5,options:{packed:!1}}},nested:{HDNodePathType:{fields:{node:{rule:"required",type:"HDNodeType",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}}}}}},GetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},ecdsa_curve_name:{type:"string",id:2},show_display:{type:"bool",id:3},coin_name:{type:"string",id:4,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:5,options:{default:"SPENDADDRESS"}},ignore_xpub_magic:{type:"bool",id:6}}},PublicKey:{fields:{node:{rule:"required",type:"HDNodeType",id:1},xpub:{rule:"required",type:"string",id:2},root_fingerprint:{type:"uint32",id:3}}},GetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},coin_name:{type:"string",id:2,options:{default:"Bitcoin"}},show_display:{type:"bool",id:3},multisig:{type:"MultisigRedeemScriptType",id:4},script_type:{type:"InputScriptType",id:5,options:{default:"SPENDADDRESS"}},ignore_xpub_magic:{type:"bool",id:6}}},Address:{fields:{address:{rule:"required",type:"string",id:1}}},GetOwnershipId:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},coin_name:{type:"string",id:2,options:{default:"Bitcoin"}},multisig:{type:"MultisigRedeemScriptType",id:3},script_type:{type:"InputScriptType",id:4,options:{default:"SPENDADDRESS"}}}},OwnershipId:{fields:{ownership_id:{rule:"required",type:"bytes",id:1}}},SignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2},coin_name:{type:"string",id:3,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:4,options:{default:"SPENDADDRESS"}},no_script_type:{type:"bool",id:5}}},MessageSignature:{fields:{address:{rule:"required",type:"string",id:1},signature:{rule:"required",type:"bytes",id:2}}},VerifyMessage:{fields:{address:{rule:"required",type:"string",id:1},signature:{rule:"required",type:"bytes",id:2},message:{rule:"required",type:"bytes",id:3},coin_name:{type:"string",id:4,options:{default:"Bitcoin"}}}},SignTx:{fields:{outputs_count:{rule:"required",type:"uint32",id:1},inputs_count:{rule:"required",type:"uint32",id:2},coin_name:{type:"string",id:3,options:{default:"Bitcoin"}},version:{type:"uint32",id:4,options:{default:1}},lock_time:{type:"uint32",id:5,options:{default:0}},expiry:{type:"uint32",id:6},overwintered:{type:"bool",id:7,options:{deprecated:!0}},version_group_id:{type:"uint32",id:8},timestamp:{type:"uint32",id:9},branch_id:{type:"uint32",id:10},amount_unit:{type:"AmountUnit",id:11,options:{default:"BITCOIN"}},decred_staking_ticket:{type:"bool",id:12,options:{default:!1}}}},TxRequest:{fields:{request_type:{type:"RequestType",id:1},details:{type:"TxRequestDetailsType",id:2},serialized:{type:"TxRequestSerializedType",id:3}},nested:{RequestType:{values:{TXINPUT:0,TXOUTPUT:1,TXMETA:2,TXFINISHED:3,TXEXTRADATA:4,TXORIGINPUT:5,TXORIGOUTPUT:6}},TxRequestDetailsType:{fields:{request_index:{type:"uint32",id:1},tx_hash:{type:"bytes",id:2},extra_data_len:{type:"uint32",id:3},extra_data_offset:{type:"uint32",id:4}}},TxRequestSerializedType:{fields:{signature_index:{type:"uint32",id:1},signature:{type:"bytes",id:2},serialized_tx:{type:"bytes",id:3}}}}},TxAck:{options:{deprecated:!0},fields:{tx:{type:"TransactionType",id:1}},nested:{TransactionType:{fields:{version:{type:"uint32",id:1},inputs:{rule:"repeated",type:"TxInputType",id:2},bin_outputs:{rule:"repeated",type:"TxOutputBinType",id:3},lock_time:{type:"uint32",id:4},outputs:{rule:"repeated",type:"TxOutputType",id:5},inputs_cnt:{type:"uint32",id:6},outputs_cnt:{type:"uint32",id:7},extra_data:{type:"bytes",id:8},extra_data_len:{type:"uint32",id:9},expiry:{type:"uint32",id:10},overwintered:{type:"bool",id:11,options:{deprecated:!0}},version_group_id:{type:"uint32",id:12},timestamp:{type:"uint32",id:13},branch_id:{type:"uint32",id:14}},nested:{TxInputType:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},prev_hash:{rule:"required",type:"bytes",id:2},prev_index:{rule:"required",type:"uint32",id:3},script_sig:{type:"bytes",id:4},sequence:{type:"uint32",id:5,options:{default:4294967295}},script_type:{type:"InputScriptType",id:6,options:{default:"SPENDADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:7},amount:{type:"uint64",id:8},decred_tree:{type:"uint32",id:9},witness:{type:"bytes",id:13},ownership_proof:{type:"bytes",id:14},commitment_data:{type:"bytes",id:15},orig_hash:{type:"bytes",id:16},orig_index:{type:"uint32",id:17},decred_staking_spend:{type:"DecredStakingSpendType",id:18},script_pubkey:{type:"bytes",id:19}}},TxOutputBinType:{fields:{amount:{rule:"required",type:"uint64",id:1},script_pubkey:{rule:"required",type:"bytes",id:2},decred_script_version:{type:"uint32",id:3}}},TxOutputType:{fields:{address:{type:"string",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},amount:{rule:"required",type:"uint64",id:3},script_type:{type:"OutputScriptType",id:4,options:{default:"PAYTOADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:5},op_return_data:{type:"bytes",id:6},orig_hash:{type:"bytes",id:10},orig_index:{type:"uint32",id:11}}}}}}},TxInput:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},prev_hash:{rule:"required",type:"bytes",id:2},prev_index:{rule:"required",type:"uint32",id:3},script_sig:{type:"bytes",id:4},sequence:{type:"uint32",id:5,options:{default:4294967295}},script_type:{type:"InputScriptType",id:6,options:{default:"SPENDADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:7},amount:{rule:"required",type:"uint64",id:8},decred_tree:{type:"uint32",id:9},witness:{type:"bytes",id:13},ownership_proof:{type:"bytes",id:14},commitment_data:{type:"bytes",id:15},orig_hash:{type:"bytes",id:16},orig_index:{type:"uint32",id:17},decred_staking_spend:{type:"DecredStakingSpendType",id:18},script_pubkey:{type:"bytes",id:19}}},TxOutput:{fields:{address:{type:"string",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},amount:{rule:"required",type:"uint64",id:3},script_type:{type:"OutputScriptType",id:4,options:{default:"PAYTOADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:5},op_return_data:{type:"bytes",id:6},orig_hash:{type:"bytes",id:10},orig_index:{type:"uint32",id:11}}},PrevTx:{fields:{version:{rule:"required",type:"uint32",id:1},lock_time:{rule:"required",type:"uint32",id:4},inputs_count:{rule:"required",type:"uint32",id:6},outputs_count:{rule:"required",type:"uint32",id:7},extra_data_len:{type:"uint32",id:9,options:{default:0}},expiry:{type:"uint32",id:10},version_group_id:{type:"uint32",id:12},timestamp:{type:"uint32",id:13},branch_id:{type:"uint32",id:14}}},PrevInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:2},prev_index:{rule:"required",type:"uint32",id:3},script_sig:{rule:"required",type:"bytes",id:4},sequence:{rule:"required",type:"uint32",id:5},decred_tree:{type:"uint32",id:9}}},PrevOutput:{fields:{amount:{rule:"required",type:"uint64",id:1},script_pubkey:{rule:"required",type:"bytes",id:2},decred_script_version:{type:"uint32",id:3}}},TxAckInput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckInputWrapper",id:1}},nested:{TxAckInputWrapper:{fields:{input:{rule:"required",type:"TxInput",id:2}}}}},TxAckOutput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckOutputWrapper",id:1}},nested:{TxAckOutputWrapper:{fields:{output:{rule:"required",type:"TxOutput",id:5}}}}},TxAckPrevMeta:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"PrevTx",id:1}}},TxAckPrevInput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckPrevInputWrapper",id:1}},nested:{TxAckPrevInputWrapper:{fields:{input:{rule:"required",type:"PrevInput",id:2}}}}},TxAckPrevOutput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckPrevOutputWrapper",id:1}},nested:{TxAckPrevOutputWrapper:{fields:{output:{rule:"required",type:"PrevOutput",id:3}}}}},TxAckPrevExtraData:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckPrevExtraDataWrapper",id:1}},nested:{TxAckPrevExtraDataWrapper:{fields:{extra_data_chunk:{rule:"required",type:"bytes",id:8}}}}},GetOwnershipProof:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},coin_name:{type:"string",id:2,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:3,options:{default:"SPENDWITNESS"}},multisig:{type:"MultisigRedeemScriptType",id:4},user_confirmation:{type:"bool",id:5,options:{default:!1}},ownership_ids:{rule:"repeated",type:"bytes",id:6},commitment_data:{type:"bytes",id:7,options:{default:""}}}},OwnershipProof:{fields:{ownership_proof:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},AuthorizeCoinJoin:{options:{"(unstable)":!0},fields:{coordinator:{rule:"required",type:"string",id:1},max_total_fee:{rule:"required",type:"uint64",id:2},fee_per_anonymity:{type:"uint32",id:3,options:{default:0}},address_n:{rule:"repeated",type:"uint32",id:4,options:{packed:!1}},coin_name:{type:"string",id:5,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:6,options:{default:"SPENDADDRESS"}},amount_unit:{type:"AmountUnit",id:11,options:{default:"BITCOIN"}}}},GetPublicKeyMultiple:{fields:{addresses:{rule:"repeated",type:"BIP32Address",id:1},ecdsa_curve_name:{type:"string",id:2},show_display:{type:"bool",id:3},coin_name:{type:"string",id:4,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:5,options:{default:"SPENDADDRESS"}},ignore_xpub_magic:{type:"bool",id:6}},nested:{BIP32Address:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}}}},PublicKeyMultiple:{fields:{xpubs:{rule:"repeated",type:"string",id:1}}},FirmwareErase:{fields:{length:{type:"uint32",id:1}}},FirmwareRequest:{fields:{offset:{type:"uint32",id:1},length:{type:"uint32",id:2}}},FirmwareUpload:{fields:{payload:{rule:"required",type:"bytes",id:1},hash:{type:"bytes",id:2}}},SelfTest:{fields:{payload:{type:"bytes",id:1}}},FirmwareErase_ex:{fields:{length:{type:"uint32",id:1}}},RebootType:{values:{Normal:0,Boardloader:1,BootLoader:2}},Reboot:{fields:{reboot_type:{rule:"required",type:"RebootType",id:1}}},FirmwareUpdateEmmc:{fields:{path:{rule:"required",type:"string",id:1},reboot_on_success:{type:"bool",id:2}}},CardanoDerivationType:{values:{LEDGER:0,ICARUS:1,ICARUS_TREZOR:2}},CardanoAddressType:{values:{BASE:0,BASE_SCRIPT_KEY:1,BASE_KEY_SCRIPT:2,BASE_SCRIPT_SCRIPT:3,POINTER:4,POINTER_SCRIPT:5,ENTERPRISE:6,ENTERPRISE_SCRIPT:7,BYRON:8,REWARD:14,REWARD_SCRIPT:15}},CardanoNativeScriptType:{values:{PUB_KEY:0,ALL:1,ANY:2,N_OF_K:3,INVALID_BEFORE:4,INVALID_HEREAFTER:5}},CardanoNativeScriptHashDisplayFormat:{values:{HIDE:0,BECH32:1,POLICY_ID:2}},CardanoTxOutputSerializationFormat:{values:{ARRAY_LEGACY:0,MAP_BABBAGE:1}},CardanoCertificateType:{values:{STAKE_REGISTRATION:0,STAKE_DEREGISTRATION:1,STAKE_DELEGATION:2,STAKE_POOL_REGISTRATION:3}},CardanoPoolRelayType:{values:{SINGLE_HOST_IP:0,SINGLE_HOST_NAME:1,MULTIPLE_HOST_NAME:2}},CardanoTxAuxiliaryDataSupplementType:{values:{NONE:0,GOVERNANCE_REGISTRATION_SIGNATURE:1}},CardanoGovernanceRegistrationFormat:{values:{CIP15:0,CIP36:1}},CardanoTxSigningMode:{values:{ORDINARY_TRANSACTION:0,POOL_REGISTRATION_AS_OWNER:1,MULTISIG_TRANSACTION:2,PLUTUS_TRANSACTION:3}},CardanoTxWitnessType:{values:{BYRON_WITNESS:0,SHELLEY_WITNESS:1}},CardanoBlockchainPointerType:{fields:{block_index:{rule:"required",type:"uint32",id:1},tx_index:{rule:"required",type:"uint32",id:2},certificate_index:{rule:"required",type:"uint32",id:3}}},CardanoNativeScript:{fields:{type:{rule:"required",type:"CardanoNativeScriptType",id:1},scripts:{rule:"repeated",type:"CardanoNativeScript",id:2},key_hash:{type:"bytes",id:3},key_path:{rule:"repeated",type:"uint32",id:4,options:{packed:!1}},required_signatures_count:{type:"uint32",id:5},invalid_before:{type:"uint64",id:6},invalid_hereafter:{type:"uint64",id:7}}},CardanoGetNativeScriptHash:{fields:{script:{rule:"required",type:"CardanoNativeScript",id:1},display_format:{rule:"required",type:"CardanoNativeScriptHashDisplayFormat",id:2},derivation_type:{rule:"required",type:"CardanoDerivationType",id:3}}},CardanoNativeScriptHash:{fields:{script_hash:{rule:"required",type:"bytes",id:1}}},CardanoAddressParametersType:{fields:{address_type:{rule:"required",type:"CardanoAddressType",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},address_n_staking:{rule:"repeated",type:"uint32",id:3,options:{packed:!1}},staking_key_hash:{type:"bytes",id:4},certificate_pointer:{type:"CardanoBlockchainPointerType",id:5},script_payment_hash:{type:"bytes",id:6},script_staking_hash:{type:"bytes",id:7}}},CardanoGetAddress:{fields:{show_display:{type:"bool",id:2,options:{default:!1}},protocol_magic:{rule:"required",type:"uint32",id:3},network_id:{rule:"required",type:"uint32",id:4},address_parameters:{rule:"required",type:"CardanoAddressParametersType",id:5},derivation_type:{rule:"required",type:"CardanoDerivationType",id:6}}},CardanoAddress:{fields:{address:{rule:"required",type:"string",id:1}}},CardanoGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},derivation_type:{rule:"required",type:"CardanoDerivationType",id:3}}},CardanoPublicKey:{fields:{xpub:{rule:"required",type:"string",id:1},node:{rule:"required",type:"HDNodeType",id:2}}},CardanoSignTxInit:{fields:{signing_mode:{rule:"required",type:"CardanoTxSigningMode",id:1},protocol_magic:{rule:"required",type:"uint32",id:2},network_id:{rule:"required",type:"uint32",id:3},inputs_count:{rule:"required",type:"uint32",id:4},outputs_count:{rule:"required",type:"uint32",id:5},fee:{rule:"required",type:"uint64",id:6},ttl:{type:"uint64",id:7},certificates_count:{rule:"required",type:"uint32",id:8},withdrawals_count:{rule:"required",type:"uint32",id:9},has_auxiliary_data:{rule:"required",type:"bool",id:10},validity_interval_start:{type:"uint64",id:11},witness_requests_count:{rule:"required",type:"uint32",id:12},minting_asset_groups_count:{rule:"required",type:"uint32",id:13},derivation_type:{rule:"required",type:"CardanoDerivationType",id:14},include_network_id:{type:"bool",id:15,options:{default:!1}},script_data_hash:{type:"bytes",id:16},collateral_inputs_count:{rule:"required",type:"uint32",id:17},required_signers_count:{rule:"required",type:"uint32",id:18},has_collateral_return:{type:"bool",id:19,options:{default:!1}},total_collateral:{type:"uint64",id:20},reference_inputs_count:{type:"uint32",id:21,options:{default:0}}}},CardanoTxInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:1},prev_index:{rule:"required",type:"uint32",id:2}}},CardanoTxOutput:{fields:{address:{type:"string",id:1},address_parameters:{type:"CardanoAddressParametersType",id:2},amount:{rule:"required",type:"uint64",id:3},asset_groups_count:{rule:"required",type:"uint32",id:4},datum_hash:{type:"bytes",id:5},format:{type:"CardanoTxOutputSerializationFormat",id:6,options:{default:"ARRAY_LEGACY"}},inline_datum_size:{type:"uint32",id:7,options:{default:0}},reference_script_size:{type:"uint32",id:8,options:{default:0}}}},CardanoAssetGroup:{fields:{policy_id:{rule:"required",type:"bytes",id:1},tokens_count:{rule:"required",type:"uint32",id:2}}},CardanoToken:{fields:{asset_name_bytes:{rule:"required",type:"bytes",id:1},amount:{type:"uint64",id:2},mint_amount:{type:"sint64",id:3}}},CardanoTxInlineDatumChunk:{fields:{data:{rule:"required",type:"bytes",id:1}}},CardanoTxReferenceScriptChunk:{fields:{data:{rule:"required",type:"bytes",id:1}}},CardanoPoolOwner:{fields:{staking_key_path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},staking_key_hash:{type:"bytes",id:2}}},CardanoPoolRelayParameters:{fields:{type:{rule:"required",type:"CardanoPoolRelayType",id:1},ipv4_address:{type:"bytes",id:2},ipv6_address:{type:"bytes",id:3},host_name:{type:"string",id:4},port:{type:"uint32",id:5}}},CardanoPoolMetadataType:{fields:{url:{rule:"required",type:"string",id:1},hash:{rule:"required",type:"bytes",id:2}}},CardanoPoolParametersType:{fields:{pool_id:{rule:"required",type:"bytes",id:1},vrf_key_hash:{rule:"required",type:"bytes",id:2},pledge:{rule:"required",type:"uint64",id:3},cost:{rule:"required",type:"uint64",id:4},margin_numerator:{rule:"required",type:"uint64",id:5},margin_denominator:{rule:"required",type:"uint64",id:6},reward_account:{rule:"required",type:"string",id:7},metadata:{type:"CardanoPoolMetadataType",id:10},owners_count:{rule:"required",type:"uint32",id:11},relays_count:{rule:"required",type:"uint32",id:12}}},CardanoTxCertificate:{fields:{type:{rule:"required",type:"CardanoCertificateType",id:1},path:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},pool:{type:"bytes",id:3},pool_parameters:{type:"CardanoPoolParametersType",id:4},script_hash:{type:"bytes",id:5},key_hash:{type:"bytes",id:6}}},CardanoTxWithdrawal:{fields:{path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},amount:{rule:"required",type:"uint64",id:2},script_hash:{type:"bytes",id:3},key_hash:{type:"bytes",id:4}}},CardanoGovernanceRegistrationDelegation:{fields:{voting_public_key:{rule:"required",type:"bytes",id:1},weight:{rule:"required",type:"uint32",id:2}}},CardanoGovernanceRegistrationParametersType:{fields:{voting_public_key:{type:"bytes",id:1},staking_path:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},reward_address_parameters:{rule:"required",type:"CardanoAddressParametersType",id:3},nonce:{rule:"required",type:"uint64",id:4},format:{type:"CardanoGovernanceRegistrationFormat",id:5,options:{default:"CIP15"}},delegations:{rule:"repeated",type:"CardanoGovernanceRegistrationDelegation",id:6},voting_purpose:{type:"uint64",id:7}}},CardanoTxAuxiliaryData:{fields:{governance_registration_parameters:{type:"CardanoGovernanceRegistrationParametersType",id:1},hash:{type:"bytes",id:2}}},CardanoTxMint:{fields:{asset_groups_count:{rule:"required",type:"uint32",id:1}}},CardanoTxCollateralInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:1},prev_index:{rule:"required",type:"uint32",id:2}}},CardanoTxRequiredSigner:{fields:{key_hash:{type:"bytes",id:1},key_path:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}}}},CardanoTxReferenceInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:1},prev_index:{rule:"required",type:"uint32",id:2}}},CardanoTxItemAck:{fields:{}},CardanoTxAuxiliaryDataSupplement:{fields:{type:{rule:"required",type:"CardanoTxAuxiliaryDataSupplementType",id:1},auxiliary_data_hash:{type:"bytes",id:2},governance_signature:{type:"bytes",id:3}}},CardanoTxWitnessRequest:{fields:{path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}},CardanoTxWitnessResponse:{fields:{type:{rule:"required",type:"CardanoTxWitnessType",id:1},pub_key:{rule:"required",type:"bytes",id:2},signature:{rule:"required",type:"bytes",id:3},chain_code:{type:"bytes",id:4}}},CardanoTxHostAck:{fields:{}},CardanoTxBodyHash:{fields:{tx_hash:{rule:"required",type:"bytes",id:1}}},CardanoSignTxFinished:{fields:{}},CardanoSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2},derivation_type:{rule:"required",type:"CardanoDerivationType",id:3},network_id:{rule:"required",type:"uint32",id:4}}},CardanoMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:1},key:{rule:"required",type:"bytes",id:2}}},Success:{fields:{message:{type:"string",id:1,options:{default:""}}}},Failure:{fields:{code:{type:"FailureType",id:1},message:{type:"string",id:2}},nested:{FailureType:{values:{Failure_UnexpectedMessage:1,Failure_ButtonExpected:2,Failure_DataError:3,Failure_ActionCancelled:4,Failure_PinExpected:5,Failure_PinCancelled:6,Failure_PinInvalid:7,Failure_InvalidSignature:8,Failure_ProcessError:9,Failure_NotEnoughFunds:10,Failure_NotInitialized:11,Failure_PinMismatch:12,Failure_WipeCodeMismatch:13,Failure_InvalidSession:14,Failure_FirmwareError:99}}}},ButtonRequest:{fields:{code:{type:"ButtonRequestType",id:1},pages:{type:"uint32",id:2}},nested:{ButtonRequestType:{values:{ButtonRequest_Other:1,ButtonRequest_FeeOverThreshold:2,ButtonRequest_ConfirmOutput:3,ButtonRequest_ResetDevice:4,ButtonRequest_ConfirmWord:5,ButtonRequest_WipeDevice:6,ButtonRequest_ProtectCall:7,ButtonRequest_SignTx:8,ButtonRequest_FirmwareCheck:9,ButtonRequest_Address:10,ButtonRequest_PublicKey:11,ButtonRequest_MnemonicWordCount:12,ButtonRequest_MnemonicInput:13,_Deprecated_ButtonRequest_PassphraseType:14,ButtonRequest_UnknownDerivationPath:15,ButtonRequest_RecoveryHomepage:16,ButtonRequest_Success:17,ButtonRequest_Warning:18,ButtonRequest_PassphraseEntry:19,ButtonRequest_PinEntry:20}}}},ButtonAck:{fields:{}},PinMatrixRequest:{fields:{type:{type:"PinMatrixRequestType",id:1}},nested:{PinMatrixRequestType:{values:{PinMatrixRequestType_Current:1,PinMatrixRequestType_NewFirst:2,PinMatrixRequestType_NewSecond:3,PinMatrixRequestType_WipeCodeFirst:4,PinMatrixRequestType_WipeCodeSecond:5,PinMatrixRequestType_BackupFirst:6,PinMatrixRequestType_BackupSecond:7}}}},PinMatrixAck:{fields:{pin:{rule:"required",type:"string",id:1},new_pin:{type:"string",id:2}}},PassphraseRequest:{fields:{_on_device:{type:"bool",id:1,options:{deprecated:!0}}}},PassphraseAck:{fields:{passphrase:{type:"string",id:1},_state:{type:"bytes",id:2,options:{deprecated:!0}},on_device:{type:"bool",id:3}}},Deprecated_PassphraseStateRequest:{options:{deprecated:!0},fields:{state:{type:"bytes",id:1}}},Deprecated_PassphraseStateAck:{options:{deprecated:!0},fields:{}},HDNodeType:{fields:{depth:{rule:"required",type:"uint32",id:1},fingerprint:{rule:"required",type:"uint32",id:2},child_num:{rule:"required",type:"uint32",id:3},chain_code:{rule:"required",type:"bytes",id:4},private_key:{type:"bytes",id:5},public_key:{rule:"required",type:"bytes",id:6}}},BixinPinInputOnDevice:{fields:{}},ConfluxGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},chain_id:{type:"uint32",id:3}}},ConfluxAddress:{fields:{address:{type:"string",id:1}}},ConfluxSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{type:"bytes",id:2},gas_price:{type:"bytes",id:3},gas_limit:{type:"bytes",id:4},to:{type:"string",id:5},value:{type:"bytes",id:6},epoch_height:{type:"bytes",id:7},storage_limit:{type:"bytes",id:8},data_initial_chunk:{type:"bytes",id:9},data_length:{type:"uint32",id:10},chain_id:{type:"uint32",id:11}}},ConfluxTxRequest:{fields:{data_length:{type:"uint32",id:1},signature_v:{type:"uint32",id:2},signature_r:{type:"bytes",id:3},signature_s:{type:"bytes",id:4}}},ConfluxTxAck:{fields:{data_chunk:{type:"bytes",id:1}}},ConfluxSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{type:"bytes",id:2}}},ConfluxMessageSignature:{fields:{signature:{type:"bytes",id:2},address:{type:"string",id:3}}},ConfluxSignMessageCIP23:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},domain_hash:{type:"bytes",id:2},message_hash:{type:"bytes",id:3}}},CosmosGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},hrp:{type:"string",id:2},show_display:{type:"bool",id:3}}},CosmosAddress:{fields:{address:{type:"string",id:1}}},CosmosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},CosmosSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},CipherKeyValue:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},key:{rule:"required",type:"string",id:2},value:{rule:"required",type:"bytes",id:3},encrypt:{type:"bool",id:4},ask_on_encrypt:{type:"bool",id:5},ask_on_decrypt:{type:"bool",id:6},iv:{type:"bytes",id:7}}},CipheredKeyValue:{fields:{value:{rule:"required",type:"bytes",id:1}}},IdentityType:{fields:{proto:{type:"string",id:1},user:{type:"string",id:2},host:{type:"string",id:3},port:{type:"string",id:4},path:{type:"string",id:5},index:{type:"uint32",id:6,options:{default:0}}}},SignIdentity:{fields:{identity:{rule:"required",type:"IdentityType",id:1},challenge_hidden:{type:"bytes",id:2,options:{default:""}},challenge_visual:{type:"string",id:3,options:{default:""}},ecdsa_curve_name:{type:"string",id:4}}},SignedIdentity:{fields:{address:{type:"string",id:1},public_key:{rule:"required",type:"bytes",id:2},signature:{rule:"required",type:"bytes",id:3}}},GetECDHSessionKey:{fields:{identity:{rule:"required",type:"IdentityType",id:1},peer_public_key:{rule:"required",type:"bytes",id:2},ecdsa_curve_name:{type:"string",id:3}}},ECDHSessionKey:{fields:{session_key:{rule:"required",type:"bytes",id:1},public_key:{type:"bytes",id:2}}},CosiCommit:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},data:{type:"bytes",id:2}}},CosiCommitment:{fields:{commitment:{type:"bytes",id:1},pubkey:{type:"bytes",id:2}}},CosiSign:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},data:{type:"bytes",id:2},global_commitment:{type:"bytes",id:3},global_pubkey:{type:"bytes",id:4}}},CosiSignature:{fields:{signature:{rule:"required",type:"bytes",id:1}}},BatchGetPublickeys:{fields:{ecdsa_curve_name:{type:"string",id:1,options:{default:"ed25519"}},paths:{rule:"repeated",type:"Path",id:2}},nested:{Path:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}}}},EcdsaPublicKeys:{fields:{public_keys:{rule:"repeated",type:"bytes",id:1}}},DebugLinkDecision:{fields:{yes_no:{type:"bool",id:1},swipe:{type:"DebugSwipeDirection",id:2},input:{type:"string",id:3},x:{type:"uint32",id:4},y:{type:"uint32",id:5},wait:{type:"bool",id:6},hold_ms:{type:"uint32",id:7}},nested:{DebugSwipeDirection:{values:{UP:0,DOWN:1,LEFT:2,RIGHT:3}}}},DebugLinkLayout:{fields:{lines:{rule:"repeated",type:"string",id:1}}},DebugLinkReseedRandom:{fields:{value:{type:"uint32",id:1}}},DebugLinkRecordScreen:{fields:{target_directory:{type:"string",id:1}}},DebugLinkGetState:{fields:{wait_word_list:{type:"bool",id:1},wait_word_pos:{type:"bool",id:2},wait_layout:{type:"bool",id:3}}},DebugLinkState:{fields:{layout:{type:"bytes",id:1},pin:{type:"string",id:2},matrix:{type:"string",id:3},mnemonic_secret:{type:"bytes",id:4},node:{type:"HDNodeType",id:5},passphrase_protection:{type:"bool",id:6},reset_word:{type:"string",id:7},reset_entropy:{type:"bytes",id:8},recovery_fake_word:{type:"string",id:9},recovery_word_pos:{type:"uint32",id:10},reset_word_pos:{type:"uint32",id:11},mnemonic_type:{type:"BackupType",id:12},layout_lines:{rule:"repeated",type:"string",id:13}}},DebugLinkStop:{fields:{}},DebugLinkLog:{fields:{level:{type:"uint32",id:1},bucket:{type:"string",id:2},text:{type:"string",id:3}}},DebugLinkMemoryRead:{fields:{address:{type:"uint32",id:1},length:{type:"uint32",id:2}}},DebugLinkMemory:{fields:{memory:{type:"bytes",id:1}}},DebugLinkMemoryWrite:{fields:{address:{type:"uint32",id:1},memory:{type:"bytes",id:2},flash:{type:"bool",id:3}}},DebugLinkFlashErase:{fields:{sector:{type:"uint32",id:1}}},DebugLinkEraseSdCard:{fields:{format:{type:"bool",id:1}}},DebugLinkWatchLayout:{fields:{watch:{type:"bool",id:1}}},EmmcFixPermission:{fields:{}},EmmcPath:{fields:{exist:{rule:"required",type:"bool",id:1},size:{rule:"required",type:"uint64",id:2},year:{rule:"required",type:"uint32",id:3},month:{rule:"required",type:"uint32",id:4},day:{rule:"required",type:"uint32",id:5},hour:{rule:"required",type:"uint32",id:6},minute:{rule:"required",type:"uint32",id:7},second:{rule:"required",type:"uint32",id:8},readonly:{rule:"required",type:"bool",id:9},hidden:{rule:"required",type:"bool",id:10},system:{rule:"required",type:"bool",id:11},archive:{rule:"required",type:"bool",id:12},directory:{rule:"required",type:"bool",id:13}}},EmmcPathInfo:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcFile:{fields:{path:{rule:"required",type:"string",id:1},offset:{rule:"required",type:"uint32",id:2},len:{rule:"required",type:"uint32",id:3},data:{type:"bytes",id:4},data_hash:{type:"uint32",id:5},processed_byte:{type:"uint32",id:6}}},EmmcFileRead:{fields:{file:{rule:"required",type:"EmmcFile",id:1},ui_percentage:{type:"uint32",id:2}}},EmmcFileWrite:{fields:{file:{rule:"required",type:"EmmcFile",id:1},overwrite:{rule:"required",type:"bool",id:2},append:{rule:"required",type:"bool",id:3},ui_percentage:{type:"uint32",id:4}}},EmmcFileDelete:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcDir:{fields:{path:{rule:"required",type:"string",id:1},child_dirs:{type:"string",id:2},child_files:{type:"string",id:3}}},EmmcDirList:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcDirMake:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcDirRemove:{fields:{path:{rule:"required",type:"string",id:1}}},EosGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},EosPublicKey:{fields:{wif_public_key:{rule:"required",type:"string",id:1},raw_public_key:{rule:"required",type:"bytes",id:2}}},EosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},chain_id:{type:"bytes",id:2},header:{type:"EosTxHeader",id:3},num_actions:{type:"uint32",id:4}},nested:{EosTxHeader:{fields:{expiration:{rule:"required",type:"uint32",id:1},ref_block_num:{rule:"required",type:"uint32",id:2},ref_block_prefix:{rule:"required",type:"uint32",id:3},max_net_usage_words:{rule:"required",type:"uint32",id:4},max_cpu_usage_ms:{rule:"required",type:"uint32",id:5},delay_sec:{rule:"required",type:"uint32",id:6}}}}},EosTxActionRequest:{fields:{data_size:{type:"uint32",id:1}}},EosTxActionAck:{fields:{common:{type:"EosActionCommon",id:1},transfer:{type:"EosActionTransfer",id:2},delegate:{type:"EosActionDelegate",id:3},undelegate:{type:"EosActionUndelegate",id:4},refund:{type:"EosActionRefund",id:5},buy_ram:{type:"EosActionBuyRam",id:6},buy_ram_bytes:{type:"EosActionBuyRamBytes",id:7},sell_ram:{type:"EosActionSellRam",id:8},vote_producer:{type:"EosActionVoteProducer",id:9},update_auth:{type:"EosActionUpdateAuth",id:10},delete_auth:{type:"EosActionDeleteAuth",id:11},link_auth:{type:"EosActionLinkAuth",id:12},unlink_auth:{type:"EosActionUnlinkAuth",id:13},new_account:{type:"EosActionNewAccount",id:14},unknown:{type:"EosActionUnknown",id:15}},nested:{EosAsset:{fields:{amount:{type:"sint64",id:1},symbol:{type:"uint64",id:2}}},EosPermissionLevel:{fields:{actor:{type:"uint64",id:1},permission:{type:"uint64",id:2}}},EosAuthorizationKey:{fields:{type:{rule:"required",type:"uint32",id:1},key:{type:"bytes",id:2},address_n:{rule:"repeated",type:"uint32",id:3,options:{packed:!1}},weight:{rule:"required",type:"uint32",id:4}}},EosAuthorizationAccount:{fields:{account:{type:"EosPermissionLevel",id:1},weight:{type:"uint32",id:2}}},EosAuthorizationWait:{fields:{wait_sec:{type:"uint32",id:1},weight:{type:"uint32",id:2}}},EosAuthorization:{fields:{threshold:{type:"uint32",id:1},keys:{rule:"repeated",type:"EosAuthorizationKey",id:2},accounts:{rule:"repeated",type:"EosAuthorizationAccount",id:3},waits:{rule:"repeated",type:"EosAuthorizationWait",id:4}}},EosActionCommon:{fields:{account:{type:"uint64",id:1},name:{type:"uint64",id:2},authorization:{rule:"repeated",type:"EosPermissionLevel",id:3}}},EosActionTransfer:{fields:{sender:{type:"uint64",id:1},receiver:{type:"uint64",id:2},quantity:{type:"EosAsset",id:3},memo:{type:"string",id:4}}},EosActionDelegate:{fields:{sender:{type:"uint64",id:1},receiver:{type:"uint64",id:2},net_quantity:{type:"EosAsset",id:3},cpu_quantity:{type:"EosAsset",id:4},transfer:{type:"bool",id:5}}},EosActionUndelegate:{fields:{sender:{type:"uint64",id:1},receiver:{type:"uint64",id:2},net_quantity:{type:"EosAsset",id:3},cpu_quantity:{type:"EosAsset",id:4}}},EosActionRefund:{fields:{owner:{type:"uint64",id:1}}},EosActionBuyRam:{fields:{payer:{type:"uint64",id:1},receiver:{type:"uint64",id:2},quantity:{type:"EosAsset",id:3}}},EosActionBuyRamBytes:{fields:{payer:{type:"uint64",id:1},receiver:{type:"uint64",id:2},bytes:{type:"uint32",id:3}}},EosActionSellRam:{fields:{account:{type:"uint64",id:1},bytes:{type:"uint64",id:2}}},EosActionVoteProducer:{fields:{voter:{type:"uint64",id:1},proxy:{type:"uint64",id:2},producers:{rule:"repeated",type:"uint64",id:3,options:{packed:!1}}}},EosActionUpdateAuth:{fields:{account:{type:"uint64",id:1},permission:{type:"uint64",id:2},parent:{type:"uint64",id:3},auth:{type:"EosAuthorization",id:4}}},EosActionDeleteAuth:{fields:{account:{type:"uint64",id:1},permission:{type:"uint64",id:2}}},EosActionLinkAuth:{fields:{account:{type:"uint64",id:1},code:{type:"uint64",id:2},type:{type:"uint64",id:3},requirement:{type:"uint64",id:4}}},EosActionUnlinkAuth:{fields:{account:{type:"uint64",id:1},code:{type:"uint64",id:2},type:{type:"uint64",id:3}}},EosActionNewAccount:{fields:{creator:{type:"uint64",id:1},name:{type:"uint64",id:2},owner:{type:"EosAuthorization",id:3},active:{type:"EosAuthorization",id:4}}},EosActionUnknown:{fields:{data_size:{rule:"required",type:"uint32",id:1},data_chunk:{type:"bytes",id:2}}}}},EosSignedTx:{fields:{signature:{rule:"required",type:"string",id:1}}},EthereumSignTypedData:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},primary_type:{rule:"required",type:"string",id:2},metamask_v4_compat:{type:"bool",id:3,options:{default:!0}},chain_id:{type:"uint64",id:4}}},EthereumTypedDataStructRequest:{fields:{name:{rule:"required",type:"string",id:1}}},EthereumTypedDataStructAck:{fields:{members:{rule:"repeated",type:"EthereumStructMember",id:1}},nested:{EthereumStructMember:{fields:{type:{rule:"required",type:"EthereumFieldType",id:1},name:{rule:"required",type:"string",id:2}}},EthereumFieldType:{fields:{data_type:{rule:"required",type:"EthereumDataType",id:1},size:{type:"uint32",id:2},entry_type:{type:"EthereumFieldType",id:3},struct_name:{type:"string",id:4}}},EthereumDataType:{values:{UINT:1,INT:2,BYTES:3,STRING:4,BOOL:5,ADDRESS:6,ARRAY:7,STRUCT:8}}}},EthereumTypedDataValueRequest:{fields:{member_path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}},EthereumTypedDataValueAck:{fields:{value:{rule:"required",type:"bytes",id:1}}},EthereumGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},chain_id:{type:"uint64",id:3}}},EthereumPublicKey:{fields:{node:{rule:"required",type:"HDNodeType",id:1},xpub:{rule:"required",type:"string",id:2}}},EthereumGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},chain_id:{type:"uint64",id:3}}},EthereumAddress:{fields:{_old_address:{type:"bytes",id:1,options:{deprecated:!0}},address:{type:"string",id:2}}},EthereumSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{type:"bytes",id:2,options:{default:""}},gas_price:{rule:"required",type:"bytes",id:3},gas_limit:{rule:"required",type:"bytes",id:4},to:{type:"string",id:11,options:{default:""}},value:{type:"bytes",id:6,options:{default:""}},data_initial_chunk:{type:"bytes",id:7,options:{default:""}},data_length:{type:"uint32",id:8,options:{default:0}},chain_id:{rule:"required",type:"uint64",id:9},tx_type:{type:"uint32",id:10}}},EthereumSignTxEIP1559:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{rule:"required",type:"bytes",id:2},max_gas_fee:{rule:"required",type:"bytes",id:3},max_priority_fee:{rule:"required",type:"bytes",id:4},gas_limit:{rule:"required",type:"bytes",id:5},to:{type:"string",id:6,options:{default:""}},value:{rule:"required",type:"bytes",id:7},data_initial_chunk:{type:"bytes",id:8,options:{default:""}},data_length:{rule:"required",type:"uint32",id:9},chain_id:{rule:"required",type:"uint64",id:10},access_list:{rule:"repeated",type:"EthereumAccessList",id:11}},nested:{EthereumAccessList:{fields:{address:{rule:"required",type:"string",id:1},storage_keys:{rule:"repeated",type:"bytes",id:2}}}}},EthereumTxRequest:{fields:{data_length:{type:"uint32",id:1},signature_v:{type:"uint32",id:2},signature_r:{type:"bytes",id:3},signature_s:{type:"bytes",id:4}}},EthereumTxAck:{fields:{data_chunk:{rule:"required",type:"bytes",id:1}}},EthereumSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2},chain_id:{type:"uint64",id:3}}},EthereumMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:2},address:{rule:"required",type:"string",id:3}}},EthereumVerifyMessage:{fields:{signature:{rule:"required",type:"bytes",id:2},message:{rule:"required",type:"bytes",id:3},address:{rule:"required",type:"string",id:4},chain_id:{type:"uint64",id:5}}},EthereumSignMessageEIP712:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},domain_hash:{type:"bytes",id:2},message_hash:{type:"bytes",id:3}}},EthereumSignTypedHash:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},domain_separator_hash:{rule:"required",type:"bytes",id:2},message_hash:{type:"bytes",id:3},chain_id:{type:"uint64",id:4}}},EthereumTypedDataSignature:{fields:{signature:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},FilecoinGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},testnet:{type:"bool",id:3}}},FilecoinAddress:{fields:{address:{type:"string",id:1}}},FilecoinSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2},testnet:{type:"bool",id:3}}},FilecoinSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},KaspaGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},prefix:{type:"string",id:3,options:{default:"kaspa"}},scheme:{type:"string",id:4,options:{default:"schnorr"}}}},KaspaAddress:{fields:{address:{rule:"required",type:"string",id:1}}},KaspaSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_message:{rule:"required",type:"bytes",id:2},scheme:{type:"string",id:3,options:{default:"schnorr"}},prefix:{type:"string",id:4,options:{default:"kaspa"}},input_count:{type:"uint32",id:5,options:{default:1}}}},KaspaTxInputRequest:{fields:{request_index:{rule:"required",type:"uint32",id:1},signature:{type:"bytes",id:2}}},KaspaTxInputAck:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_message:{rule:"required",type:"bytes",id:2}}},KaspaSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:2}}},BackupType:{values:{Bip39:0,Slip39_Basic:1,Slip39_Advanced:2}},SafetyCheckLevel:{values:{Strict:0,PromptAlways:1,PromptTemporarily:2}},Initialize:{fields:{session_id:{type:"bytes",id:1},_skip_passphrase:{type:"bool",id:2,options:{deprecated:!0}},derive_cardano:{type:"bool",id:3}}},GetFeatures:{fields:{}},Features:{fields:{vendor:{type:"string",id:1},major_version:{rule:"required",type:"uint32",id:2},minor_version:{rule:"required",type:"uint32",id:3},patch_version:{rule:"required",type:"uint32",id:4},bootloader_mode:{type:"bool",id:5},device_id:{type:"string",id:6},pin_protection:{type:"bool",id:7},passphrase_protection:{type:"bool",id:8},language:{type:"string",id:9},label:{type:"string",id:10},initialized:{type:"bool",id:12},revision:{type:"bytes",id:13},bootloader_hash:{type:"bytes",id:14},imported:{type:"bool",id:15},unlocked:{type:"bool",id:16},_passphrase_cached:{type:"bool",id:17,options:{deprecated:!0}},firmware_present:{type:"bool",id:18},needs_backup:{type:"bool",id:19},flags:{type:"uint32",id:20},model:{type:"string",id:21},fw_major:{type:"uint32",id:22},fw_minor:{type:"uint32",id:23},fw_patch:{type:"uint32",id:24},fw_vendor:{type:"string",id:25},fw_vendor_keys:{type:"bytes",id:26},unfinished_backup:{type:"bool",id:27},no_backup:{type:"bool",id:28},recovery_mode:{type:"bool",id:29},capabilities:{rule:"repeated",type:"Capability",id:30,options:{packed:!1}},backup_type:{type:"BackupType",id:31},sd_card_present:{type:"bool",id:32},sd_protection:{type:"bool",id:33},wipe_code_protection:{type:"bool",id:34},session_id:{type:"bytes",id:35},passphrase_always_on_device:{type:"bool",id:36},safety_checks:{type:"SafetyCheckLevel",id:37},auto_lock_delay_ms:{type:"uint32",id:38},display_rotation:{type:"uint32",id:39},experimental_features:{type:"bool",id:40},offset:{type:"uint32",id:500},ble_name:{type:"string",id:501},ble_ver:{type:"string",id:502},ble_enable:{type:"bool",id:503},se_enable:{type:"bool",id:504},se_ver:{type:"string",id:506},backup_only:{type:"bool",id:507},onekey_version:{type:"string",id:508},onekey_serial:{type:"string",id:509},bootloader_version:{type:"string",id:510},serial_no:{type:"string",id:511},spi_flash:{type:"string",id:512},initstates:{type:"uint32",id:513},NFT_voucher:{type:"bytes",id:514},cpu_info:{type:"string",id:515},pre_firmware:{type:"string",id:516},coin_switch:{type:"uint32",id:517},build_id:{type:"string",id:518},battery_level:{type:"uint32",id:520},brightness_prcent:{type:"uint32",id:521},haptic_feedback:{type:"bool",id:522},auto_shutdown_delay_ms:{type:"uint32",id:523}},nested:{Capability:{options:{"(has_bitcoin_only_values)":!0},values:{Capability_Bitcoin:1,Capability_Bitcoin_like:2,Capability_Binance:3,Capability_Cardano:4,Capability_Crypto:5,Capability_EOS:6,Capability_Ethereum:7,Capability_Lisk:8,Capability_Monero:9,Capability_NEM:10,Capability_Ripple:11,Capability_Stellar:12,Capability_Tezos:13,Capability_U2F:14,Capability_Shamir:15,Capability_ShamirGroups:16,Capability_PassphraseEntry:17}}}},LockDevice:{fields:{}},EndSession:{fields:{}},ApplySettings:{fields:{language:{type:"string",id:1},label:{type:"string",id:2},use_passphrase:{type:"bool",id:3},homescreen:{type:"bytes",id:4},_passphrase_source:{type:"uint32",id:5,options:{deprecated:!0}},auto_lock_delay_ms:{type:"uint32",id:6},display_rotation:{type:"uint32",id:7},passphrase_always_on_device:{type:"bool",id:8},safety_checks:{type:"SafetyCheckLevel",id:9},experimental_features:{type:"bool",id:10},use_ble:{type:"bool",id:100},use_se:{type:"bool",id:101},is_bixinapp:{type:"bool",id:102},fastpay_pin:{type:"bool",id:103},fastpay_confirm:{type:"bool",id:104},fastpay_money_limit:{type:"uint64",id:105},fastpay_times:{type:"uint32",id:106}},nested:{ExportType:{values:{SeedEncExportType_NO:0,SeedEncExportType_YES:1,MnemonicPlainExportType_YES:2}}}},ApplyFlags:{fields:{flags:{rule:"required",type:"uint32",id:1}}},ChangePin:{fields:{remove:{type:"bool",id:1}}},ChangeWipeCode:{fields:{remove:{type:"bool",id:1}}},SdProtect:{fields:{operation:{rule:"required",type:"SdProtectOperationType",id:1}},nested:{SdProtectOperationType:{values:{DISABLE:0,ENABLE:1,REFRESH:2}}}},Ping:{fields:{message:{type:"string",id:1,options:{default:""}},button_protection:{type:"bool",id:2}}},Cancel:{fields:{}},GetEntropy:{fields:{size:{rule:"required",type:"uint32",id:1}}},Entropy:{fields:{entropy:{rule:"required",type:"bytes",id:1}}},WipeDevice:{fields:{}},LoadDevice:{fields:{mnemonics:{rule:"repeated",type:"string",id:1},pin:{type:"string",id:3},passphrase_protection:{type:"bool",id:4},language:{type:"string",id:5,options:{default:"en-US"}},label:{type:"string",id:6},skip_checksum:{type:"bool",id:7},u2f_counter:{type:"uint32",id:8},needs_backup:{type:"bool",id:9},no_backup:{type:"bool",id:10}}},ResetDevice:{fields:{display_random:{type:"bool",id:1},strength:{type:"uint32",id:2,options:{default:256}},passphrase_protection:{type:"bool",id:3},pin_protection:{type:"bool",id:4},language:{type:"string",id:5,options:{default:"en-US"}},label:{type:"string",id:6},u2f_counter:{type:"uint32",id:7},skip_backup:{type:"bool",id:8},no_backup:{type:"bool",id:9},backup_type:{type:"BackupType",id:10,options:{default:"Bip39"}}}},BackupDevice:{fields:{}},EntropyRequest:{fields:{}},EntropyAck:{fields:{entropy:{rule:"required",type:"bytes",id:1}}},RecoveryDevice:{fields:{word_count:{type:"uint32",id:1},passphrase_protection:{type:"bool",id:2},pin_protection:{type:"bool",id:3},language:{type:"string",id:4},label:{type:"string",id:5},enforce_wordlist:{type:"bool",id:6},type:{type:"RecoveryDeviceType",id:8},u2f_counter:{type:"uint32",id:9},dry_run:{type:"bool",id:10}},nested:{RecoveryDeviceType:{values:{RecoveryDeviceType_ScrambledWords:0,RecoveryDeviceType_Matrix:1}}}},WordRequest:{fields:{type:{rule:"required",type:"WordRequestType",id:1}},nested:{WordRequestType:{values:{WordRequestType_Plain:0,WordRequestType_Matrix9:1,WordRequestType_Matrix6:2}}}},WordAck:{fields:{word:{rule:"required",type:"string",id:1}}},SetU2FCounter:{fields:{u2f_counter:{rule:"required",type:"uint32",id:1}}},GetNextU2FCounter:{fields:{}},NextU2FCounter:{fields:{u2f_counter:{rule:"required",type:"uint32",id:1}}},DoPreauthorized:{fields:{}},PreauthorizedRequest:{fields:{}},CancelAuthorization:{fields:{}},BixinSeedOperate:{fields:{type:{rule:"required",type:"SeedRequestType",id:1},seed_importData:{type:"bytes",id:2}},nested:{SeedRequestType:{values:{SeedRequestType_Gen:0,SeedRequestType_EncExport:1,SeedRequestType_EncImport:2}}}},BixinMessageSE:{fields:{inputmessage:{rule:"required",type:"bytes",id:1}}},BixinOutMessageSE:{fields:{outmessage:{type:"bytes",id:1}}},DeviceBackToBoot:{fields:{}},BixinBackupRequest:{fields:{}},BixinBackupAck:{fields:{data:{rule:"required",type:"bytes",id:1}}},BixinRestoreRequest:{fields:{data:{rule:"required",type:"bytes",id:1},language:{type:"string",id:2},label:{type:"string",id:3},passphrase_protection:{type:"bool",id:4}}},BixinRestoreAck:{fields:{data:{rule:"required",type:"bytes",id:1}}},BixinVerifyDeviceRequest:{fields:{data:{rule:"required",type:"bytes",id:1}}},BixinVerifyDeviceAck:{fields:{cert:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},BixinWhiteListRequest:{fields:{type:{rule:"required",type:"WL_OperationType",id:1},addr_in:{type:"string",id:2}},nested:{WL_OperationType:{values:{WL_OperationType_Add:0,WL_OperationType_Delete:1,WL_OperationType_Inquire:2}}}},BixinWhiteListAck:{fields:{address:{rule:"repeated",type:"string",id:1}}},BixinLoadDevice:{fields:{mnemonics:{rule:"required",type:"string",id:1},language:{type:"string",id:5,options:{default:"en-US"}},label:{type:"string",id:6},skip_checksum:{type:"bool",id:7}}},BixinBackupDevice:{fields:{}},BixinBackupDeviceAck:{fields:{mnemonics:{rule:"required",type:"string",id:1}}},DeviceInfoSettings:{fields:{serial_no:{type:"string",id:1},cpu_info:{type:"string",id:2},pre_firmware:{type:"string",id:3}}},GetDeviceInfo:{fields:{}},DeviceInfo:{fields:{serial_no:{type:"string",id:1},spiFlash_info:{type:"string",id:2},SE_info:{type:"string",id:3},NFT_voucher:{type:"bytes",id:4},cpu_info:{type:"string",id:5},pre_firmware:{type:"string",id:6}}},ReadSEPublicKey:{fields:{}},SEPublicKey:{fields:{public_key:{rule:"required",type:"bytes",id:1}}},WriteSEPublicCert:{fields:{public_cert:{rule:"required",type:"bytes",id:1}}},ReadSEPublicCert:{fields:{}},SEPublicCert:{fields:{public_cert:{rule:"required",type:"bytes",id:1}}},SpiFlashWrite:{fields:{address:{rule:"required",type:"uint32",id:1},data:{rule:"required",type:"bytes",id:2}}},SpiFlashRead:{fields:{address:{rule:"required",type:"uint32",id:1},len:{rule:"required",type:"uint32",id:2}}},SpiFlashData:{fields:{data:{rule:"required",type:"bytes",id:1}}},SESignMessage:{fields:{message:{rule:"required",type:"bytes",id:1}}},SEMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:1}}},ResourceUpload:{fields:{extension:{rule:"required",type:"string",id:1},data_length:{rule:"required",type:"uint32",id:2},res_type:{rule:"required",type:"ResourceType",id:3},nft_meta_data:{type:"bytes",id:4},zoom_data_length:{rule:"required",type:"uint32",id:5},file_name_no_ext:{type:"string",id:6}},nested:{ResourceType:{values:{WallPaper:0,Nft:1}}}},ZoomRequest:{fields:{offset:{type:"uint32",id:1},data_length:{rule:"required",type:"uint32",id:2}}},ResourceRequest:{fields:{offset:{type:"uint32",id:1},data_length:{rule:"required",type:"uint32",id:2}}},ResourceAck:{fields:{data_chunk:{rule:"required",type:"bytes",id:1},hash:{type:"bytes",id:2}}},ResourceUpdate:{fields:{file_name:{rule:"required",type:"string",id:1},data_length:{rule:"required",type:"uint32",id:2},initial_data_chunk:{rule:"required",type:"bytes",id:3},hash:{type:"bytes",id:4}}},NFTWriteInfo:{fields:{index:{rule:"required",type:"uint32",id:1},width:{rule:"required",type:"uint32",id:2},height:{rule:"required",type:"uint32",id:3},name_zh:{type:"string",id:4},name_en:{type:"string",id:5}}},NFTWriteData:{fields:{index:{rule:"required",type:"uint32",id:1},data:{rule:"required",type:"bytes",id:2},offset:{rule:"required",type:"uint32",id:3}}},RebootToBootloader:{fields:{}},RebootToBoardloader:{fields:{}},ListResDir:{fields:{path:{rule:"required",type:"string",id:1}}},FileInfoList:{fields:{files:{rule:"repeated",type:"FileInfo",id:1}},nested:{FileInfo:{fields:{name:{rule:"required",type:"string",id:1},size:{rule:"required",type:"uint64",id:2}}}}},DeviceEraseSector:{fields:{sector:{rule:"required",type:"uint32",id:1}}},MoneroTransactionSourceEntry:{fields:{outputs:{rule:"repeated",type:"MoneroOutputEntry",id:1},real_output:{type:"uint64",id:2},real_out_tx_key:{type:"bytes",id:3},real_out_additional_tx_keys:{rule:"repeated",type:"bytes",id:4},real_output_in_tx_index:{type:"uint64",id:5},amount:{type:"uint64",id:6},rct:{type:"bool",id:7},mask:{type:"bytes",id:8},multisig_kLRki:{type:"MoneroMultisigKLRki",id:9},subaddr_minor:{type:"uint32",id:10}},nested:{MoneroOutputEntry:{fields:{idx:{type:"uint64",id:1},key:{type:"MoneroRctKeyPublic",id:2}},nested:{MoneroRctKeyPublic:{fields:{dest:{type:"bytes",id:1},commitment:{type:"bytes",id:2}}}}},MoneroMultisigKLRki:{fields:{K:{type:"bytes",id:1},L:{type:"bytes",id:2},R:{type:"bytes",id:3},ki:{type:"bytes",id:4}}}}},MoneroTransactionDestinationEntry:{fields:{amount:{type:"uint64",id:1},addr:{type:"MoneroAccountPublicAddress",id:2},is_subaddress:{type:"bool",id:3},original:{type:"bytes",id:4},is_integrated:{type:"bool",id:5}},nested:{MoneroAccountPublicAddress:{fields:{spend_public_key:{type:"bytes",id:1},view_public_key:{type:"bytes",id:2}}}}},MoneroTransactionRsigData:{fields:{rsig_type:{type:"uint32",id:1},offload_type:{type:"uint32",id:2},grouping:{rule:"repeated",type:"uint64",id:3,options:{packed:!1}},mask:{type:"bytes",id:4},rsig:{type:"bytes",id:5},rsig_parts:{rule:"repeated",type:"bytes",id:6},bp_version:{type:"uint32",id:7}}},MoneroGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},network_type:{type:"uint32",id:3},account:{type:"uint32",id:4},minor:{type:"uint32",id:5},payment_id:{type:"bytes",id:6}}},MoneroAddress:{fields:{address:{type:"bytes",id:1}}},MoneroGetWatchKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network_type:{type:"uint32",id:2}}},MoneroWatchKey:{fields:{watch_key:{type:"bytes",id:1},address:{type:"bytes",id:2}}},MoneroTransactionInitRequest:{fields:{version:{type:"uint32",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},network_type:{type:"uint32",id:3},tsx_data:{type:"MoneroTransactionData",id:4}},nested:{MoneroTransactionData:{fields:{version:{type:"uint32",id:1},payment_id:{type:"bytes",id:2},unlock_time:{type:"uint64",id:3},outputs:{rule:"repeated",type:"MoneroTransactionDestinationEntry",id:4},change_dts:{type:"MoneroTransactionDestinationEntry",id:5},num_inputs:{type:"uint32",id:6},mixin:{type:"uint32",id:7},fee:{type:"uint64",id:8},account:{type:"uint32",id:9},minor_indices:{rule:"repeated",type:"uint32",id:10,options:{packed:!1}},rsig_data:{type:"MoneroTransactionRsigData",id:11},integrated_indices:{rule:"repeated",type:"uint32",id:12,options:{packed:!1}},client_version:{type:"uint32",id:13},hard_fork:{type:"uint32",id:14},monero_version:{type:"bytes",id:15}}}}},MoneroTransactionInitAck:{fields:{hmacs:{rule:"repeated",type:"bytes",id:1},rsig_data:{type:"MoneroTransactionRsigData",id:2}}},MoneroTransactionSetInputRequest:{fields:{src_entr:{type:"MoneroTransactionSourceEntry",id:1}}},MoneroTransactionSetInputAck:{fields:{vini:{type:"bytes",id:1},vini_hmac:{type:"bytes",id:2},pseudo_out:{type:"bytes",id:3},pseudo_out_hmac:{type:"bytes",id:4},pseudo_out_alpha:{type:"bytes",id:5},spend_key:{type:"bytes",id:6}}},MoneroTransactionInputsPermutationRequest:{fields:{perm:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}},MoneroTransactionInputsPermutationAck:{fields:{}},MoneroTransactionInputViniRequest:{fields:{src_entr:{type:"MoneroTransactionSourceEntry",id:1},vini:{type:"bytes",id:2},vini_hmac:{type:"bytes",id:3},pseudo_out:{type:"bytes",id:4},pseudo_out_hmac:{type:"bytes",id:5},orig_idx:{type:"uint32",id:6}}},MoneroTransactionInputViniAck:{fields:{}},MoneroTransactionAllInputsSetRequest:{fields:{}},MoneroTransactionAllInputsSetAck:{fields:{rsig_data:{type:"MoneroTransactionRsigData",id:1}}},MoneroTransactionSetOutputRequest:{fields:{dst_entr:{type:"MoneroTransactionDestinationEntry",id:1},dst_entr_hmac:{type:"bytes",id:2},rsig_data:{type:"MoneroTransactionRsigData",id:3},is_offloaded_bp:{type:"bool",id:4}}},MoneroTransactionSetOutputAck:{fields:{tx_out:{type:"bytes",id:1},vouti_hmac:{type:"bytes",id:2},rsig_data:{type:"MoneroTransactionRsigData",id:3},out_pk:{type:"bytes",id:4},ecdh_info:{type:"bytes",id:5}}},MoneroTransactionAllOutSetRequest:{fields:{rsig_data:{type:"MoneroTransactionRsigData",id:1}}},MoneroTransactionAllOutSetAck:{fields:{extra:{type:"bytes",id:1},tx_prefix_hash:{type:"bytes",id:2},rv:{type:"MoneroRingCtSig",id:4},full_message_hash:{type:"bytes",id:5}},nested:{MoneroRingCtSig:{fields:{txn_fee:{type:"uint64",id:1},message:{type:"bytes",id:2},rv_type:{type:"uint32",id:3}}}}},MoneroTransactionSignInputRequest:{fields:{src_entr:{type:"MoneroTransactionSourceEntry",id:1},vini:{type:"bytes",id:2},vini_hmac:{type:"bytes",id:3},pseudo_out:{type:"bytes",id:4},pseudo_out_hmac:{type:"bytes",id:5},pseudo_out_alpha:{type:"bytes",id:6},spend_key:{type:"bytes",id:7},orig_idx:{type:"uint32",id:8}}},MoneroTransactionSignInputAck:{fields:{signature:{type:"bytes",id:1},pseudo_out:{type:"bytes",id:2}}},MoneroTransactionFinalRequest:{fields:{}},MoneroTransactionFinalAck:{fields:{cout_key:{type:"bytes",id:1},salt:{type:"bytes",id:2},rand_mult:{type:"bytes",id:3},tx_enc_keys:{type:"bytes",id:4},opening_key:{type:"bytes",id:5}}},MoneroKeyImageExportInitRequest:{fields:{num:{type:"uint64",id:1},hash:{type:"bytes",id:2},address_n:{rule:"repeated",type:"uint32",id:3,options:{packed:!1}},network_type:{type:"uint32",id:4},subs:{rule:"repeated",type:"MoneroSubAddressIndicesList",id:5}},nested:{MoneroSubAddressIndicesList:{fields:{account:{type:"uint32",id:1},minor_indices:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}}}}}},MoneroKeyImageExportInitAck:{fields:{}},MoneroKeyImageSyncStepRequest:{fields:{tdis:{rule:"repeated",type:"MoneroTransferDetails",id:1}},nested:{MoneroTransferDetails:{fields:{out_key:{type:"bytes",id:1},tx_pub_key:{type:"bytes",id:2},additional_tx_pub_keys:{rule:"repeated",type:"bytes",id:3},internal_output_index:{type:"uint64",id:4},sub_addr_major:{type:"uint32",id:5},sub_addr_minor:{type:"uint32",id:6}}}}},MoneroKeyImageSyncStepAck:{fields:{kis:{rule:"repeated",type:"MoneroExportedKeyImage",id:1}},nested:{MoneroExportedKeyImage:{fields:{iv:{type:"bytes",id:1},blob:{type:"bytes",id:3}}}}},MoneroKeyImageSyncFinalRequest:{fields:{}},MoneroKeyImageSyncFinalAck:{fields:{enc_key:{type:"bytes",id:1}}},MoneroGetTxKeyRequest:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network_type:{type:"uint32",id:2},salt1:{type:"bytes",id:3},salt2:{type:"bytes",id:4},tx_enc_keys:{type:"bytes",id:5},tx_prefix_hash:{type:"bytes",id:6},reason:{type:"uint32",id:7},view_public_key:{type:"bytes",id:8}}},MoneroGetTxKeyAck:{fields:{salt:{type:"bytes",id:1},tx_keys:{type:"bytes",id:2},tx_derivations:{type:"bytes",id:3}}},MoneroLiveRefreshStartRequest:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network_type:{type:"uint32",id:2}}},MoneroLiveRefreshStartAck:{fields:{}},MoneroLiveRefreshStepRequest:{fields:{out_key:{type:"bytes",id:1},recv_deriv:{type:"bytes",id:2},real_out_idx:{type:"uint64",id:3},sub_addr_major:{type:"uint32",id:4},sub_addr_minor:{type:"uint32",id:5}}},MoneroLiveRefreshStepAck:{fields:{salt:{type:"bytes",id:1},key_image:{type:"bytes",id:2}}},MoneroLiveRefreshFinalRequest:{fields:{}},MoneroLiveRefreshFinalAck:{fields:{}},DebugMoneroDiagRequest:{fields:{ins:{type:"uint64",id:1},p1:{type:"uint64",id:2},p2:{type:"uint64",id:3},pd:{rule:"repeated",type:"uint64",id:4,options:{packed:!1}},data1:{type:"bytes",id:5},data2:{type:"bytes",id:6}}},DebugMoneroDiagAck:{fields:{ins:{type:"uint64",id:1},p1:{type:"uint64",id:2},p2:{type:"uint64",id:3},pd:{rule:"repeated",type:"uint64",id:4,options:{packed:!1}},data1:{type:"bytes",id:5},data2:{type:"bytes",id:6}}},NearGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},NearAddress:{fields:{address:{type:"string",id:1}}},NearSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},NearSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},NEMGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network:{type:"uint32",id:2},show_display:{type:"bool",id:3}}},NEMAddress:{fields:{address:{rule:"required",type:"string",id:1}}},NEMSignTx:{fields:{transaction:{type:"NEMTransactionCommon",id:1},multisig:{type:"NEMTransactionCommon",id:2},transfer:{type:"NEMTransfer",id:3},cosigning:{type:"bool",id:4},provision_namespace:{type:"NEMProvisionNamespace",id:5},mosaic_creation:{type:"NEMMosaicCreation",id:6},supply_change:{type:"NEMMosaicSupplyChange",id:7},aggregate_modification:{type:"NEMAggregateModification",id:8},importance_transfer:{type:"NEMImportanceTransfer",id:9}},nested:{NEMTransactionCommon:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network:{type:"uint32",id:2},timestamp:{type:"uint32",id:3},fee:{type:"uint64",id:4},deadline:{type:"uint32",id:5},signer:{type:"bytes",id:6}}},NEMTransfer:{fields:{recipient:{type:"string",id:1},amount:{type:"uint64",id:2},payload:{type:"bytes",id:3},public_key:{type:"bytes",id:4},mosaics:{rule:"repeated",type:"NEMMosaic",id:5}},nested:{NEMMosaic:{fields:{namespace:{type:"string",id:1},mosaic:{type:"string",id:2},quantity:{type:"uint64",id:3}}}}},NEMProvisionNamespace:{fields:{namespace:{type:"string",id:1},parent:{type:"string",id:2},sink:{type:"string",id:3},fee:{type:"uint64",id:4}}},NEMMosaicCreation:{fields:{definition:{type:"NEMMosaicDefinition",id:1},sink:{type:"string",id:2},fee:{type:"uint64",id:3}},nested:{NEMMosaicDefinition:{fields:{name:{type:"string",id:1},ticker:{type:"string",id:2},namespace:{type:"string",id:3},mosaic:{type:"string",id:4},divisibility:{type:"uint32",id:5},levy:{type:"NEMMosaicLevy",id:6},fee:{type:"uint64",id:7},levy_address:{type:"string",id:8},levy_namespace:{type:"string",id:9},levy_mosaic:{type:"string",id:10},supply:{type:"uint64",id:11},mutable_supply:{type:"bool",id:12},transferable:{type:"bool",id:13},description:{type:"string",id:14},networks:{rule:"repeated",type:"uint32",id:15,options:{packed:!1}}},nested:{NEMMosaicLevy:{values:{MosaicLevy_Absolute:1,MosaicLevy_Percentile:2}}}}}},NEMMosaicSupplyChange:{fields:{namespace:{type:"string",id:1},mosaic:{type:"string",id:2},type:{type:"NEMSupplyChangeType",id:3},delta:{type:"uint64",id:4}},nested:{NEMSupplyChangeType:{values:{SupplyChange_Increase:1,SupplyChange_Decrease:2}}}},NEMAggregateModification:{fields:{modifications:{rule:"repeated",type:"NEMCosignatoryModification",id:1},relative_change:{type:"sint32",id:2}},nested:{NEMCosignatoryModification:{fields:{type:{type:"NEMModificationType",id:1},public_key:{type:"bytes",id:2}},nested:{NEMModificationType:{values:{CosignatoryModification_Add:1,CosignatoryModification_Delete:2}}}}}},NEMImportanceTransfer:{fields:{mode:{type:"NEMImportanceTransferMode",id:1},public_key:{type:"bytes",id:2}},nested:{NEMImportanceTransferMode:{values:{ImportanceTransfer_Activate:1,ImportanceTransfer_Deactivate:2}}}}}},NEMSignedTx:{fields:{data:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},NEMDecryptMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network:{type:"uint32",id:2},public_key:{type:"bytes",id:3},payload:{type:"bytes",id:4}}},NEMDecryptedMessage:{fields:{payload:{rule:"required",type:"bytes",id:1}}},NexaGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},prefix:{type:"string",id:3,options:{default:"nexa"}}}},NexaAddress:{fields:{address:{rule:"required",type:"string",id:1},public_key:{rule:"required",type:"bytes",id:2}}},NexaSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_message:{rule:"required",type:"bytes",id:2},prefix:{type:"string",id:3,options:{default:"nexa"}},input_count:{type:"uint32",id:4,options:{default:1}}}},NexaTxInputRequest:{fields:{request_index:{rule:"required",type:"uint32",id:1},signature:{type:"bytes",id:2}}},NexaTxInputAck:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_message:{rule:"required",type:"bytes",id:2}}},NexaSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},PolkadotGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},prefix:{rule:"required",type:"uint32",id:2},network:{rule:"required",type:"string",id:3},show_display:{type:"bool",id:4}}},PolkadotAddress:{fields:{address:{type:"string",id:1},public_key:{type:"string",id:2}}},PolkadotSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2},network:{rule:"required",type:"string",id:3}}},PolkadotSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},RippleGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},RippleAddress:{fields:{address:{rule:"required",type:"string",id:1}}},RippleSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},fee:{type:"uint64",id:2},flags:{type:"uint32",id:3},sequence:{type:"uint32",id:4},last_ledger_sequence:{type:"uint32",id:5},payment:{type:"RipplePayment",id:6}},nested:{RipplePayment:{fields:{amount:{rule:"required",type:"uint64",id:1},destination:{rule:"required",type:"string",id:2},destination_tag:{type:"uint32",id:3}}}}},RippleSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1},serialized_tx:{rule:"required",type:"bytes",id:2}}},SolanaGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},SolanaAddress:{fields:{address:{type:"string",id:1}}},SolanaSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},SolanaSignedTx:{fields:{signature:{type:"bytes",id:1}}},StarcoinGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},StarcoinAddress:{fields:{address:{type:"string",id:1}}},StarcoinGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},StarcoinPublicKey:{fields:{public_key:{rule:"required",type:"bytes",id:1}}},StarcoinSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{type:"bytes",id:2}}},StarcoinSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},StarcoinSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{type:"bytes",id:2}}},StarcoinMessageSignature:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},StarcoinVerifyMessage:{fields:{public_key:{type:"bytes",id:1},signature:{type:"bytes",id:2},message:{type:"bytes",id:3}}},StellarAssetType:{values:{NATIVE:0,ALPHANUM4:1,ALPHANUM12:2}},StellarAsset:{fields:{type:{rule:"required",type:"StellarAssetType",id:1},code:{type:"string",id:2},issuer:{type:"string",id:3}}},StellarGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},StellarAddress:{fields:{address:{rule:"required",type:"string",id:1}}},StellarSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},network_passphrase:{rule:"required",type:"string",id:3},source_account:{rule:"required",type:"string",id:4},fee:{rule:"required",type:"uint32",id:5},sequence_number:{rule:"required",type:"uint64",id:6},timebounds_start:{rule:"required",type:"uint32",id:8},timebounds_end:{rule:"required",type:"uint32",id:9},memo_type:{rule:"required",type:"StellarMemoType",id:10},memo_text:{type:"string",id:11},memo_id:{type:"uint64",id:12},memo_hash:{type:"bytes",id:13},num_operations:{rule:"required",type:"uint32",id:14}},nested:{StellarMemoType:{values:{NONE:0,TEXT:1,ID:2,HASH:3,RETURN:4}}}},StellarTxOpRequest:{fields:{}},StellarPaymentOp:{fields:{source_account:{type:"string",id:1},destination_account:{rule:"required",type:"string",id:2},asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4}}},StellarCreateAccountOp:{fields:{source_account:{type:"string",id:1},new_account:{rule:"required",type:"string",id:2},starting_balance:{rule:"required",type:"sint64",id:3}}},StellarPathPaymentStrictReceiveOp:{fields:{source_account:{type:"string",id:1},send_asset:{rule:"required",type:"StellarAsset",id:2},send_max:{rule:"required",type:"sint64",id:3},destination_account:{rule:"required",type:"string",id:4},destination_asset:{rule:"required",type:"StellarAsset",id:5},destination_amount:{rule:"required",type:"sint64",id:6},paths:{rule:"repeated",type:"StellarAsset",id:7}}},StellarPathPaymentStrictSendOp:{fields:{source_account:{type:"string",id:1},send_asset:{rule:"required",type:"StellarAsset",id:2},send_amount:{rule:"required",type:"sint64",id:3},destination_account:{rule:"required",type:"string",id:4},destination_asset:{rule:"required",type:"StellarAsset",id:5},destination_min:{rule:"required",type:"sint64",id:6},paths:{rule:"repeated",type:"StellarAsset",id:7}}},StellarManageSellOfferOp:{fields:{source_account:{type:"string",id:1},selling_asset:{rule:"required",type:"StellarAsset",id:2},buying_asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4},price_n:{rule:"required",type:"uint32",id:5},price_d:{rule:"required",type:"uint32",id:6},offer_id:{rule:"required",type:"uint64",id:7}}},StellarManageBuyOfferOp:{fields:{source_account:{type:"string",id:1},selling_asset:{rule:"required",type:"StellarAsset",id:2},buying_asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4},price_n:{rule:"required",type:"uint32",id:5},price_d:{rule:"required",type:"uint32",id:6},offer_id:{rule:"required",type:"uint64",id:7}}},StellarCreatePassiveSellOfferOp:{fields:{source_account:{type:"string",id:1},selling_asset:{rule:"required",type:"StellarAsset",id:2},buying_asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4},price_n:{rule:"required",type:"uint32",id:5},price_d:{rule:"required",type:"uint32",id:6}}},StellarSetOptionsOp:{fields:{source_account:{type:"string",id:1},inflation_destination_account:{type:"string",id:2},clear_flags:{type:"uint32",id:3},set_flags:{type:"uint32",id:4},master_weight:{type:"uint32",id:5},low_threshold:{type:"uint32",id:6},medium_threshold:{type:"uint32",id:7},high_threshold:{type:"uint32",id:8},home_domain:{type:"string",id:9},signer_type:{type:"StellarSignerType",id:10},signer_key:{type:"bytes",id:11},signer_weight:{type:"uint32",id:12}},nested:{StellarSignerType:{values:{ACCOUNT:0,PRE_AUTH:1,HASH:2}}}},StellarChangeTrustOp:{fields:{source_account:{type:"string",id:1},asset:{rule:"required",type:"StellarAsset",id:2},limit:{rule:"required",type:"uint64",id:3}}},StellarAllowTrustOp:{fields:{source_account:{type:"string",id:1},trusted_account:{rule:"required",type:"string",id:2},asset_type:{rule:"required",type:"StellarAssetType",id:3},asset_code:{type:"string",id:4},is_authorized:{rule:"required",type:"bool",id:5}}},StellarAccountMergeOp:{fields:{source_account:{type:"string",id:1},destination_account:{rule:"required",type:"string",id:2}}},StellarManageDataOp:{fields:{source_account:{type:"string",id:1},key:{rule:"required",type:"string",id:2},value:{type:"bytes",id:3}}},StellarBumpSequenceOp:{fields:{source_account:{type:"string",id:1},bump_to:{rule:"required",type:"uint64",id:2}}},StellarSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},SuiGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},SuiAddress:{fields:{address:{type:"string",id:1}}},SuiSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},SuiSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},TezosGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},TezosAddress:{fields:{address:{rule:"required",type:"string",id:1}}},TezosGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},TezosPublicKey:{fields:{public_key:{rule:"required",type:"string",id:1}}},TezosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},branch:{rule:"required",type:"bytes",id:2},reveal:{type:"TezosRevealOp",id:3},transaction:{type:"TezosTransactionOp",id:4},origination:{type:"TezosOriginationOp",id:5},delegation:{type:"TezosDelegationOp",id:6},proposal:{type:"TezosProposalOp",id:7},ballot:{type:"TezosBallotOp",id:8}},nested:{TezosContractID:{fields:{tag:{rule:"required",type:"TezosContractType",id:1},hash:{rule:"required",type:"bytes",id:2}},nested:{TezosContractType:{values:{Implicit:0,Originated:1}}}},TezosRevealOp:{fields:{source:{rule:"required",type:"bytes",id:7},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},public_key:{rule:"required",type:"bytes",id:6}}},TezosTransactionOp:{fields:{source:{rule:"required",type:"bytes",id:9},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},amount:{rule:"required",type:"uint64",id:6},destination:{rule:"required",type:"TezosContractID",id:7},parameters:{type:"bytes",id:8},parameters_manager:{type:"TezosParametersManager",id:10}},nested:{TezosParametersManager:{fields:{set_delegate:{type:"bytes",id:1},cancel_delegate:{type:"bool",id:2},transfer:{type:"TezosManagerTransfer",id:3}},nested:{TezosManagerTransfer:{fields:{destination:{type:"TezosContractID",id:1},amount:{type:"uint64",id:2}}}}}}},TezosOriginationOp:{fields:{source:{rule:"required",type:"bytes",id:12},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},manager_pubkey:{type:"bytes",id:6},balance:{rule:"required",type:"uint64",id:7},spendable:{type:"bool",id:8},delegatable:{type:"bool",id:9},delegate:{type:"bytes",id:10},script:{rule:"required",type:"bytes",id:11}}},TezosDelegationOp:{fields:{source:{rule:"required",type:"bytes",id:7},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},delegate:{rule:"required",type:"bytes",id:6}}},TezosProposalOp:{fields:{source:{type:"bytes",id:1},period:{type:"uint64",id:2},proposals:{rule:"repeated",type:"bytes",id:4}}},TezosBallotOp:{fields:{source:{type:"bytes",id:1},period:{type:"uint64",id:2},proposal:{type:"bytes",id:3},ballot:{type:"TezosBallotType",id:4}},nested:{TezosBallotType:{values:{Yay:0,Nay:1,Pass:2}}}}}},TezosSignedTx:{fields:{signature:{rule:"required",type:"string",id:1},sig_op_contents:{rule:"required",type:"bytes",id:2},operation_hash:{rule:"required",type:"string",id:3}}},TronGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},TronAddress:{fields:{address:{type:"string",id:1}}},TronSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},ref_block_bytes:{rule:"required",type:"bytes",id:2},ref_block_hash:{rule:"required",type:"bytes",id:3},expiration:{rule:"required",type:"uint64",id:4},data:{type:"string",id:5},contract:{rule:"required",type:"TronContract",id:6},timestamp:{rule:"required",type:"uint64",id:7},fee_limit:{type:"uint64",id:8}},nested:{TronContract:{fields:{transfer_contract:{type:"TronTransferContract",id:2},freeze_balance_contract:{type:"TronFreezeBalanceContract",id:11},unfreeze_balance_contract:{type:"TronUnfreezeBalanceContract",id:12},withdraw_balance_contract:{type:"TronWithdrawBalanceContract",id:13},trigger_smart_contract:{type:"TronTriggerSmartContract",id:31},freeze_balance_v2_contract:{type:"TronFreezeBalanceV2Contract",id:54},unfreeze_balance_v2_contract:{type:"TronUnfreezeBalanceV2Contract",id:55},withdraw_expire_unfreeze_contract:{type:"TronWithdrawExpireUnfreezeContract",id:56},delegate_resource_contract:{type:"TronDelegateResourceContract",id:57},undelegate_resource_contract:{type:"TronUnDelegateResourceContract",id:58}},nested:{TronTransferContract:{fields:{to_address:{type:"string",id:2},amount:{type:"uint64",id:3}}},TronTriggerSmartContract:{fields:{contract_address:{type:"string",id:2},call_value:{type:"uint64",id:3},data:{type:"bytes",id:4},call_token_value:{type:"uint64",id:5},asset_id:{type:"uint64",id:6}}},TronResourceCode:{values:{BANDWIDTH:0,ENERGY:1}},TronFreezeBalanceContract:{fields:{frozen_balance:{type:"uint64",id:1},frozen_duration:{type:"uint64",id:2},resource:{type:"TronResourceCode",id:3},receiver_address:{type:"string",id:4}}},TronUnfreezeBalanceContract:{fields:{resource:{type:"TronResourceCode",id:1},receiver_address:{type:"string",id:2}}},TronWithdrawBalanceContract:{fields:{owner_address:{type:"bytes",id:1}}},TronFreezeBalanceV2Contract:{fields:{frozen_balance:{type:"uint64",id:2},resource:{type:"TronResourceCode",id:3}}},TronUnfreezeBalanceV2Contract:{fields:{unfreeze_balance:{type:"uint64",id:2},resource:{type:"TronResourceCode",id:3}}},TronWithdrawExpireUnfreezeContract:{fields:{}},TronDelegateResourceContract:{fields:{resource:{type:"TronResourceCode",id:2},balance:{type:"uint64",id:3},receiver_address:{type:"string",id:4},lock:{type:"bool",id:5}}},TronUnDelegateResourceContract:{fields:{resource:{type:"TronResourceCode",id:2},balance:{type:"uint64",id:3},receiver_address:{type:"string",id:4}}}}}}},TronSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1},serialized_tx:{type:"bytes",id:2}}},TronSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2}}},TronMessageSignature:{fields:{address:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},WebAuthnListResidentCredentials:{fields:{}},WebAuthnAddResidentCredential:{fields:{credential_id:{type:"bytes",id:1}}},WebAuthnRemoveResidentCredential:{fields:{index:{type:"uint32",id:1}}},WebAuthnCredentials:{fields:{credentials:{rule:"repeated",type:"WebAuthnCredential",id:1}},nested:{WebAuthnCredential:{fields:{index:{type:"uint32",id:1},id:{type:"bytes",id:2},rp_id:{type:"string",id:3},rp_name:{type:"string",id:4},user_id:{type:"bytes",id:5},user_name:{type:"string",id:6},user_display_name:{type:"string",id:7},creation_time:{type:"uint32",id:8},hmac_secret:{type:"bool",id:9},use_sign_count:{type:"bool",id:10},algorithm:{type:"sint32",id:11},curve:{type:"sint32",id:12}}}}},wire_in:{type:"bool",id:50002,extend:"google.protobuf.EnumValueOptions"},wire_out:{type:"bool",id:50003,extend:"google.protobuf.EnumValueOptions"},wire_debug_in:{type:"bool",id:50004,extend:"google.protobuf.EnumValueOptions"},wire_debug_out:{type:"bool",id:50005,extend:"google.protobuf.EnumValueOptions"},wire_tiny:{type:"bool",id:50006,extend:"google.protobuf.EnumValueOptions"},wire_bootloader:{type:"bool",id:50007,extend:"google.protobuf.EnumValueOptions"},wire_no_fsm:{type:"bool",id:50008,extend:"google.protobuf.EnumValueOptions"},facotry:{type:"bool",id:50501,extend:"google.protobuf.EnumValueOptions"},bitcoin_only:{type:"bool",id:6e4,extend:"google.protobuf.EnumValueOptions"},has_bitcoin_only_values:{type:"bool",id:51001,extend:"google.protobuf.EnumOptions"},unstable:{type:"bool",id:52001,extend:"google.protobuf.MessageOptions"},wire_type:{type:"uint32",id:52002,extend:"google.protobuf.MessageOptions"},experimental:{type:"bool",id:53001,extend:"google.protobuf.FieldOptions"},include_in_bitcoin_only:{type:"bool",id:6e4,extend:"google.protobuf.FileOptions"},CommandFlags:{values:{Default:0,Factory_Only:1}},MessageType:{options:{"(has_bitcoin_only_values)":!0},values:{MessageType_Initialize:0,MessageType_Ping:1,MessageType_Success:2,MessageType_Failure:3,MessageType_ChangePin:4,MessageType_WipeDevice:5,MessageType_GetEntropy:9,MessageType_Entropy:10,MessageType_LoadDevice:13,MessageType_ResetDevice:14,MessageType_Features:17,MessageType_PinMatrixRequest:18,MessageType_PinMatrixAck:19,MessageType_Cancel:20,MessageType_LockDevice:24,MessageType_ApplySettings:25,MessageType_ButtonRequest:26,MessageType_ButtonAck:27,MessageType_ApplyFlags:28,MessageType_BackupDevice:34,MessageType_EntropyRequest:35,MessageType_EntropyAck:36,MessageType_PassphraseRequest:41,MessageType_PassphraseAck:42,MessageType_RecoveryDevice:45,MessageType_WordRequest:46,MessageType_WordAck:47,MessageType_GetFeatures:55,MessageType_SdProtect:79,MessageType_ChangeWipeCode:82,MessageType_EndSession:83,MessageType_DoPreauthorized:84,MessageType_PreauthorizedRequest:85,MessageType_CancelAuthorization:86,MessageType_RebootToBootloader:87,MessageType_SetU2FCounter:63,MessageType_GetNextU2FCounter:80,MessageType_NextU2FCounter:81,MessageType_Deprecated_PassphraseStateRequest:77,MessageType_Deprecated_PassphraseStateAck:78,MessageType_FirmwareErase:6,MessageType_FirmwareErase_ex:16,MessageType_FirmwareUpload:7,MessageType_FirmwareRequest:8,MessageType_SelfTest:32,MessageType_Reboot:3e4,MessageType_FirmwareUpdateEmmc:30001,MessageType_GetPublicKey:11,MessageType_PublicKey:12,MessageType_SignTx:15,MessageType_TxRequest:21,MessageType_TxAck:22,MessageType_GetAddress:29,MessageType_Address:30,MessageType_SignMessage:38,MessageType_VerifyMessage:39,MessageType_MessageSignature:40,MessageType_GetOwnershipId:43,MessageType_OwnershipId:44,MessageType_GetOwnershipProof:49,MessageType_OwnershipProof:50,MessageType_AuthorizeCoinJoin:51,MessageType_CipherKeyValue:23,MessageType_CipheredKeyValue:48,MessageType_SignIdentity:53,MessageType_SignedIdentity:54,MessageType_GetECDHSessionKey:61,MessageType_ECDHSessionKey:62,MessageType_CosiCommit:71,MessageType_CosiCommitment:72,MessageType_CosiSign:73,MessageType_CosiSignature:74,MessageType_BatchGetPublickeys:10016,MessageType_EcdsaPublicKeys:10017,MessageType_DebugLinkDecision:100,MessageType_DebugLinkGetState:101,MessageType_DebugLinkState:102,MessageType_DebugLinkStop:103,MessageType_DebugLinkLog:104,MessageType_DebugLinkMemoryRead:110,MessageType_DebugLinkMemory:111,MessageType_DebugLinkMemoryWrite:112,MessageType_DebugLinkFlashErase:113,MessageType_DebugLinkLayout:9001,MessageType_DebugLinkReseedRandom:9002,MessageType_DebugLinkRecordScreen:9003,MessageType_DebugLinkEraseSdCard:9005,MessageType_DebugLinkWatchLayout:9006,MessageType_EmmcFixPermission:30100,MessageType_EmmcPath:30101,MessageType_EmmcPathInfo:30102,MessageType_EmmcFile:30103,MessageType_EmmcFileRead:30104,MessageType_EmmcFileWrite:30105,MessageType_EmmcFileDelete:30106,MessageType_EmmcDir:30107,MessageType_EmmcDirList:30108,MessageType_EmmcDirMake:30109,MessageType_EmmcDirRemove:30110,MessageType_EthereumGetPublicKey:450,MessageType_EthereumPublicKey:451,MessageType_EthereumGetAddress:56,MessageType_EthereumAddress:57,MessageType_EthereumSignTx:58,MessageType_EthereumSignTxEIP1559:452,MessageType_EthereumTxRequest:59,MessageType_EthereumTxAck:60,MessageType_EthereumSignMessage:64,MessageType_EthereumVerifyMessage:65,MessageType_EthereumMessageSignature:66,MessageType_EthereumSignTypedData:464,MessageType_EthereumTypedDataStructRequest:465,MessageType_EthereumTypedDataStructAck:466,MessageType_EthereumTypedDataValueRequest:467,MessageType_EthereumTypedDataValueAck:468,MessageType_EthereumTypedDataSignature:469,MessageType_EthereumSignTypedHash:470,MessageType_NEMGetAddress:67,MessageType_NEMAddress:68,MessageType_NEMSignTx:69,MessageType_NEMSignedTx:70,MessageType_NEMDecryptMessage:75,MessageType_NEMDecryptedMessage:76,MessageType_TezosGetAddress:150,MessageType_TezosAddress:151,MessageType_TezosSignTx:152,MessageType_TezosSignedTx:153,MessageType_TezosGetPublicKey:154,MessageType_TezosPublicKey:155,MessageType_StellarSignTx:202,MessageType_StellarTxOpRequest:203,MessageType_StellarGetAddress:207,MessageType_StellarAddress:208,MessageType_StellarCreateAccountOp:210,MessageType_StellarPaymentOp:211,MessageType_StellarPathPaymentStrictReceiveOp:212,MessageType_StellarManageSellOfferOp:213,MessageType_StellarCreatePassiveSellOfferOp:214,MessageType_StellarSetOptionsOp:215,MessageType_StellarChangeTrustOp:216,MessageType_StellarAllowTrustOp:217,MessageType_StellarAccountMergeOp:218,MessageType_StellarManageDataOp:220,MessageType_StellarBumpSequenceOp:221,MessageType_StellarManageBuyOfferOp:222,MessageType_StellarPathPaymentStrictSendOp:223,MessageType_StellarSignedTx:230,MessageType_CardanoGetPublicKey:305,MessageType_CardanoPublicKey:306,MessageType_CardanoGetAddress:307,MessageType_CardanoAddress:308,MessageType_CardanoTxItemAck:313,MessageType_CardanoTxAuxiliaryDataSupplement:314,MessageType_CardanoTxWitnessRequest:315,MessageType_CardanoTxWitnessResponse:316,MessageType_CardanoTxHostAck:317,MessageType_CardanoTxBodyHash:318,MessageType_CardanoSignTxFinished:319,MessageType_CardanoSignTxInit:320,MessageType_CardanoTxInput:321,MessageType_CardanoTxOutput:322,MessageType_CardanoAssetGroup:323,MessageType_CardanoToken:324,MessageType_CardanoTxCertificate:325,MessageType_CardanoTxWithdrawal:326,MessageType_CardanoTxAuxiliaryData:327,MessageType_CardanoPoolOwner:328,MessageType_CardanoPoolRelayParameters:329,MessageType_CardanoGetNativeScriptHash:330,MessageType_CardanoNativeScriptHash:331,MessageType_CardanoTxMint:332,MessageType_CardanoTxCollateralInput:333,MessageType_CardanoTxRequiredSigner:334,MessageType_CardanoTxInlineDatumChunk:335,MessageType_CardanoTxReferenceScriptChunk:336,MessageType_CardanoTxReferenceInput:337,MessageType_CardanoSignMessage:350,MessageType_CardanoMessageSignature:351,MessageType_RippleGetAddress:400,MessageType_RippleAddress:401,MessageType_RippleSignTx:402,MessageType_RippleSignedTx:403,MessageType_MoneroTransactionInitRequest:501,MessageType_MoneroTransactionInitAck:502,MessageType_MoneroTransactionSetInputRequest:503,MessageType_MoneroTransactionSetInputAck:504,MessageType_MoneroTransactionInputsPermutationRequest:505,MessageType_MoneroTransactionInputsPermutationAck:506,MessageType_MoneroTransactionInputViniRequest:507,MessageType_MoneroTransactionInputViniAck:508,MessageType_MoneroTransactionAllInputsSetRequest:509,MessageType_MoneroTransactionAllInputsSetAck:510,MessageType_MoneroTransactionSetOutputRequest:511,MessageType_MoneroTransactionSetOutputAck:512,MessageType_MoneroTransactionAllOutSetRequest:513,MessageType_MoneroTransactionAllOutSetAck:514,MessageType_MoneroTransactionSignInputRequest:515,MessageType_MoneroTransactionSignInputAck:516,MessageType_MoneroTransactionFinalRequest:517,MessageType_MoneroTransactionFinalAck:518,MessageType_MoneroKeyImageExportInitRequest:530,MessageType_MoneroKeyImageExportInitAck:531,MessageType_MoneroKeyImageSyncStepRequest:532,MessageType_MoneroKeyImageSyncStepAck:533,MessageType_MoneroKeyImageSyncFinalRequest:534,MessageType_MoneroKeyImageSyncFinalAck:535,MessageType_MoneroGetAddress:540,MessageType_MoneroAddress:541,MessageType_MoneroGetWatchKey:542,MessageType_MoneroWatchKey:543,MessageType_DebugMoneroDiagRequest:546,MessageType_DebugMoneroDiagAck:547,MessageType_MoneroGetTxKeyRequest:550,MessageType_MoneroGetTxKeyAck:551,MessageType_MoneroLiveRefreshStartRequest:552,MessageType_MoneroLiveRefreshStartAck:553,MessageType_MoneroLiveRefreshStepRequest:554,MessageType_MoneroLiveRefreshStepAck:555,MessageType_MoneroLiveRefreshFinalRequest:556,MessageType_MoneroLiveRefreshFinalAck:557,MessageType_EosGetPublicKey:600,MessageType_EosPublicKey:601,MessageType_EosSignTx:602,MessageType_EosTxActionRequest:603,MessageType_EosTxActionAck:604,MessageType_EosSignedTx:605,MessageType_BinanceGetAddress:700,MessageType_BinanceAddress:701,MessageType_BinanceGetPublicKey:702,MessageType_BinancePublicKey:703,MessageType_BinanceSignTx:704,MessageType_BinanceTxRequest:705,MessageType_BinanceTransferMsg:706,MessageType_BinanceOrderMsg:707,MessageType_BinanceCancelMsg:708,MessageType_BinanceSignedTx:709,MessageType_SolanaGetAddress:10100,MessageType_SolanaAddress:10101,MessageType_SolanaSignTx:10102,MessageType_SolanaSignedTx:10103,MessageType_StarcoinGetAddress:10300,MessageType_StarcoinAddress:10301,MessageType_StarcoinGetPublicKey:10302,MessageType_StarcoinPublicKey:10303,MessageType_StarcoinSignTx:10304,MessageType_StarcoinSignedTx:10305,MessageType_StarcoinSignMessage:10306,MessageType_StarcoinMessageSignature:10307,MessageType_StarcoinVerifyMessage:10308,MessageType_AptosGetAddress:10600,MessageType_AptosAddress:10601,MessageType_AptosSignTx:10602,MessageType_AptosSignedTx:10603,MessageType_AptosSignMessage:10604,MessageType_AptosMessageSignature:10605,MessageType_WebAuthnListResidentCredentials:800,MessageType_WebAuthnCredentials:801,MessageType_WebAuthnAddResidentCredential:802,MessageType_WebAuthnRemoveResidentCredential:803,MessageType_BixinSeedOperate:901,MessageType_BixinMessageSE:902,MessageType_BixinOutMessageSE:904,MessageType_BixinBackupRequest:905,MessageType_BixinBackupAck:906,MessageType_BixinRestoreRequest:907,MessageType_BixinRestoreAck:908,MessageType_BixinVerifyDeviceRequest:909,MessageType_BixinVerifyDeviceAck:910,MessageType_BixinWhiteListRequest:911,MessageType_BixinWhiteListAck:912,MessageType_BixinLoadDevice:913,MessageType_BixinBackupDevice:914,MessageType_BixinBackupDeviceAck:915,MessageType_BixinPinInputOnDevice:1e4,MessageType_EthereumSignMessageEIP712:10200,MessageType_GetPublicKeyMultiple:10210,MessageType_PublicKeyMultiple:10211,MessageType_ConfluxGetAddress:10112,MessageType_ConfluxAddress:10113,MessageType_ConfluxSignTx:10114,MessageType_ConfluxTxRequest:10115,MessageType_ConfluxTxAck:10116,MessageType_ConfluxSignMessage:10117,MessageType_ConfluxSignMessageCIP23:10118,MessageType_ConfluxMessageSignature:10119,MessageType_TronGetAddress:10501,MessageType_TronAddress:10502,MessageType_TronSignTx:10503,MessageType_TronSignedTx:10504,MessageType_TronSignMessage:10505,MessageType_TronMessageSignature:10506,MessageType_NearGetAddress:10701,MessageType_NearAddress:10702,MessageType_NearSignTx:10703,MessageType_NearSignedTx:10704,MessageType_CosmosGetAddress:10800,MessageType_CosmosAddress:10801,MessageType_CosmosSignTx:10802,MessageType_CosmosSignedTx:10803,MessageType_AlgorandGetAddress:10900,MessageType_AlgorandAddress:10901,MessageType_AlgorandSignTx:10902,MessageType_AlgorandSignedTx:10903,MessageType_PolkadotGetAddress:11e3,MessageType_PolkadotAddress:11001,MessageType_PolkadotSignTx:11002,MessageType_PolkadotSignedTx:11003,MessageType_SuiGetAddress:11100,MessageType_SuiAddress:11101,MessageType_SuiSignTx:11102,MessageType_SuiSignedTx:11103,MessageType_FilecoinGetAddress:11200,MessageType_FilecoinAddress:11201,MessageType_FilecoinSignTx:11202,MessageType_FilecoinSignedTx:11203,MessageType_KaspaGetAddress:11300,MessageType_KaspaAddress:11301,MessageType_KaspaSignTx:11302,MessageType_KaspaSignedTx:11303,MessageType_KaspaTxInputRequest:11304,MessageType_KaspaTxInputAck:11305,MessageType_NexaGetAddress:11400,MessageType_NexaAddress:11401,MessageType_NexaSignTx:11402,MessageType_NexaSignedTx:11403,MessageType_NexaTxInputRequest:11404,MessageType_NexaTxInputAck:11405,MessageType_DeviceBackToBoot:903,MessageType_DeviceInfoSettings:10001,MessageType_GetDeviceInfo:10002,MessageType_DeviceInfo:10003,MessageType_ReadSEPublicKey:10004,MessageType_SEPublicKey:10005,MessageType_WriteSEPublicCert:10006,MessageType_ReadSEPublicCert:10007,MessageType_SEPublicCert:10008,MessageType_SpiFlashWrite:10009,MessageType_SpiFlashRead:10010,MessageType_SpiFlashData:10011,MessageType_SESignMessage:10012,MessageType_SEMessageSignature:10013,MessageType_NFTWriteInfo:10014,MessageType_NFTWriteData:10015,MessageType_ResourceUpload:10018,MessageType_ZoomRequest:10019,MessageType_ResourceRequest:10020,MessageType_ResourceAck:10021,MessageType_ResourceUpdate:10022,MessageType_ListResDir:10023,MessageType_FileInfoList:10024,MessageType_RebootToBoardloader:10025,MessageType_DeviceEraseSector:10026}},google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},public_dependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weak_dependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},message_type:{rule:"repeated",type:"DescriptorProto",id:4},enum_type:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},source_code_info:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nested_type:{rule:"repeated",type:"DescriptorProto",id:3},enum_type:{rule:"repeated",type:"EnumDescriptorProto",id:4},extension_range:{rule:"repeated",type:"ExtensionRange",id:5},oneof_decl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reserved_range:{rule:"repeated",type:"ReservedRange",id:9},reserved_name:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},type_name:{type:"string",id:6},extendee:{type:"string",id:2},default_value:{type:"string",id:7},oneof_index:{type:"int32",id:9},json_name:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},input_type:{type:"string",id:2},output_type:{type:"string",id:3},options:{type:"MethodOptions",id:4},client_streaming:{type:"bool",id:5},server_streaming:{type:"bool",id:6}}},FileOptions:{fields:{java_package:{type:"string",id:1},java_outer_classname:{type:"string",id:8},java_multiple_files:{type:"bool",id:10},java_generate_equals_and_hash:{type:"bool",id:20,options:{deprecated:!0}},java_string_check_utf8:{type:"bool",id:27},optimize_for:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},go_package:{type:"string",id:11},cc_generic_services:{type:"bool",id:16},java_generic_services:{type:"bool",id:17},py_generic_services:{type:"bool",id:18},deprecated:{type:"bool",id:23},cc_enable_arenas:{type:"bool",id:31},objc_class_prefix:{type:"string",id:36},csharp_namespace:{type:"string",id:37},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{message_set_wire_format:{type:"bool",id:1},no_standard_descriptor_accessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},map_entry:{type:"bool",id:7},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allow_alias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifier_value:{type:"string",id:3},positive_int_value:{type:"uint64",id:4},negative_int_value:{type:"int64",id:5},double_value:{type:"double",id:6},string_value:{type:"bytes",id:7},aggregate_value:{type:"string",id:8}},nested:{NamePart:{fields:{name_part:{rule:"required",type:"string",id:1},is_extension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leading_comments:{type:"string",id:3},trailing_comments:{type:"string",id:4},leading_detached_comments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},source_file:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}},Ta={nested:ba};const Yi=(d,e)=>{const i=d.filter(o=>A.default.gt(o.version.join("."),e));return i.length===0?"valid":i.some(o=>o.required)?"required":"outdated"},Ys=(d,e)=>d.filter(o=>A.default.gt(o.version.join("."),e)).map(o=>o.changelog),wr=d=>{let e=d[0];return d.forEach(i=>{A.default.gt(i.version.join("."),e.version.join("."))&&(e=i)}),e};var Q0;const Ft=c0(a.LoggerNames.Core),Jr=["firmware","firmware-v2","firmware-v8","firmware-btc-v8"],Ea={firmware:r.EFirmwareType.Universal,"firmware-v2":r.EFirmwareType.Universal,"firmware-v8":r.EFirmwareType.Universal,"firmware-btc-v8":r.EFirmwareType.BitcoinOnly};function wa(d){const e=Ea[d];return e===void 0?r.EFirmwareType.Universal:e}class qe{static enrichFirmwareReleaseInfo(e){if(!e||typeof e!="object")return{firmware:[],ble:[]};const i=Object.assign({},e);return Jr.forEach(o=>{const p=i[o];if(!(!p||!Array.isArray(p)||p.length===0))try{i[o]=p.map(S=>{if(!S||typeof S!="object"||S.firmwareType)return S;const C=wa(o);return Object.assign(Object.assign({},S),{firmwareType:C})})}catch(S){console.error(`Error enriching firmware field "${o}":`,S)}}),i}static load(e){return L(this,void 0,void 0,function*(){if(this.settings=e,!e.fetchConfig)return;const o=`${e.preRelease?"https://data.onekey.so/pre-config.json":"https://data.onekey.so/config.json"}?noCache=${Wr()}`;let p=null,S="none";if(e.configFetcher){Ft.debug("[DataConfig] Trying configFetcher (client-side fetcher)...");try{p=yield e.configFetcher(o),p?(S="configFetcher",Ft.log("[DataConfig] ConfigFetcher success")):Ft.debug("[DataConfig] ConfigFetcher returned null, will fallback to axios")}catch(C){Ft.warn("[DataConfig] ConfigFetcher error, will fallback to axios:",C)}}if(!p){Ft.debug("[DataConfig] Trying axios (SDK default fetcher)...");try{p=(yield M.default.get(o,{timeout:7e3})).data,S="axios",Ft.log("[DataConfig] Axios fetch success")}catch(C){Ft.warn("[DataConfig] Axios fetch error:",C)}}p?(Ft.log(`[DataConfig] Config loaded successfully via [${S}]`),this.deviceMap={[r.EDeviceType.Classic]:this.enrichFirmwareReleaseInfo(p.classic),[r.EDeviceType.Classic1s]:this.enrichFirmwareReleaseInfo(p.classic1s),[r.EDeviceType.ClassicPure]:this.enrichFirmwareReleaseInfo(p.classicpure),[r.EDeviceType.Mini]:this.enrichFirmwareReleaseInfo(p.mini),[r.EDeviceType.Touch]:this.enrichFirmwareReleaseInfo(p.touch),[r.EDeviceType.Pro]:this.enrichFirmwareReleaseInfo(p.pro)},this.assets={bridge:p.bridge}):Ft.warn("[DataConfig] All fetch methods failed, using built-in default config")})}static updateEnv(e){if(this.settings){const i=this.settings.env;this.settings=Object.assign(Object.assign({},this.settings),{env:e}),console.debug(`DataManager env updated: ${i} -> ${e}`)}}static checkAndReloadData(){return L(this,void 0,void 0,function*(){Wr()-this.lastCheckTimestamp>1e3*60*60*3&&(yield this.load(this.settings).then(()=>{this.lastCheckTimestamp=Wr()}))})}static getProtobufMessages(e="latest"){return this.messages[e]}static getSettings(e){return this.settings?typeof e=="string"?this.settings[e]:this.settings:null}}Q0=qe,qe.deviceMap={[r.EDeviceType.Classic]:{firmware:[],ble:[]},[r.EDeviceType.Classic1s]:{firmware:[],ble:[]},[r.EDeviceType.Mini]:{firmware:[],ble:[]},[r.EDeviceType.Touch]:{firmware:[],ble:[]},[r.EDeviceType.Pro]:{firmware:[],ble:[]},[r.EDeviceType.ClassicPure]:{firmware:[],ble:[]}},qe.assets=null,qe.messages={latest:Ad,v1:Ta},qe.lastCheckTimestamp=0,qe.getFirmwareStatus=(d,e)=>{var i,o;const p=Ze(d);if(p===r.EDeviceType.Unknown)return"unknown";const S=U0(d),C=y0(d);if(d.firmware_present===!1)return"none";if(w0.model_mini.includes(p)&&d.bootloader_mode)return"unknown";const B=Jt({features:d,updateType:"firmware",firmwareType:e}),U=(o=(i=Q0.deviceMap[p])===null||i===void 0?void 0:i[B])!==null&&o!==void 0?o:[];let se=C.join(".");return U.length>0&&S!==e&&(se="0.0.0"),Yi(U,se)},qe.getSysResourcesLatestRelease=({features:d,forcedUpdateRes:e,firmwareType:i})=>{var o,p,S;const C=Ze(d),B=y0(d);if(C!==r.EDeviceType.Pro&&C!==r.EDeviceType.Touch)return;const U=Jt({features:d,updateType:"firmware",firmwareType:i}),se=(p=(o=Q0.deviceMap[C])===null||o===void 0?void 0:o[U])!==null&&p!==void 0?p:[],pe=B.join("."),he=se.filter(Ae=>(e||A.default.gt(Ae.version.join("."),pe))&&!!Ae.resource);return(S=wr(he))===null||S===void 0?void 0:S.resource},qe.getSysFullResource=(d,e)=>{var i,o,p;const S=Ze(d);if(S===r.EDeviceType.Unknown||S!==r.EDeviceType.Pro&&S!==r.EDeviceType.Touch)return;const C=Jt({features:d,updateType:"firmware",firmwareType:e}),U=((o=(i=Q0.deviceMap[S])===null||i===void 0?void 0:i[C])!==null&&o!==void 0?o:[]).filter(se=>!!se.fullResource);return(p=wr(U))===null||p===void 0?void 0:p.fullResource},qe.getBootloaderResource=(d,e)=>{var i,o,p;const S=Ze(d);if(S===r.EDeviceType.Unknown)throw new Error("Device type is unknown");if(S!==r.EDeviceType.Pro&&S!==r.EDeviceType.Touch)return;const C=Jt({features:d,updateType:"firmware",firmwareType:e}),B=(o=(i=Q0.deviceMap[S])===null||i===void 0?void 0:i[C])!==null&&o!==void 0?o:[];if(B.length===0)throw new Error(`Could not found bootloader resource with deviceType:${S} firmwareUpdateField:${C}`);const U=B.filter(se=>!!se.bootloaderResource);return(p=wr(U))===null||p===void 0?void 0:p.bootloaderResource},qe.getBootloaderTargetVersion=(d,e)=>{var i,o,p,S;const C=Ze(d);if(C===r.EDeviceType.Unknown)return;const B=Jt({features:d,updateType:"firmware",firmwareType:e}),se=((o=(i=Q0.deviceMap[C])===null||i===void 0?void 0:i[B])!==null&&o!==void 0?o:[]).filter(pe=>!!pe.bootloaderResource);return(S=(p=se==null?void 0:se[0])===null||p===void 0?void 0:p.bootloaderVersion)!==null&&S!==void 0?S:void 0},qe.getBootloaderRelatedFirmwareVersion=(d,e)=>{var i,o,p,S;const C=Ze(d);if(C===r.EDeviceType.Unknown||!w0.model_mini.includes(C))return;const B=Jt({features:d,updateType:"firmware",firmwareType:e}),se=((o=(i=Q0.deviceMap[C])===null||i===void 0?void 0:i[B])!==null&&o!==void 0?o:[]).filter(pe=>!!pe.bootloaderRelatedFirmwareVersion);return(S=(p=se==null?void 0:se[0])===null||p===void 0?void 0:p.bootloaderRelatedFirmwareVersion)!==null&&S!==void 0?S:void 0},qe.getFirmwareChangelog=(d,e)=>{var i,o;const p=Ze(d);if(p===r.EDeviceType.Unknown)return[];const S=y0(d),C=Jt({features:d,updateType:"firmware",firmwareType:e}),B=(o=(i=Q0.deviceMap[p])===null||i===void 0?void 0:i[C])!==null&&o!==void 0?o:[];if(d.firmware_present===!1||w0.model_classic.includes(p)&&d.bootloader_mode)return Ys(B,"0.0.0");const U=S.join(".");return Ys(B,U)},qe.getFirmwareLatestRelease=(d,e)=>{var i,o;const p=Ze(d);if(p===r.EDeviceType.Unknown)return;const S=Jt({features:d,updateType:"firmware",firmwareType:e}),C=(o=(i=Q0.deviceMap[p])===null||i===void 0?void 0:i[S])!==null&&o!==void 0?o:[],B=wr(C);if(!B)return B;if(!B.resource){const U=Q0.getSysResourcesLatestRelease({features:d,firmwareType:e});return Object.assign(Object.assign({},B),{resource:U})}return B},qe.getBLEFirmwareStatus=d=>{var e,i;const o=Ze(d);if(o===r.EDeviceType.Unknown)return"unknown";const p=Yr(d);if(!p)return"none";const S=(i=(e=Q0.deviceMap[o])===null||e===void 0?void 0:e.ble)!==null&&i!==void 0?i:[],C=p.join(".");return Yi(S,C)},qe.getBleFirmwareChangelog=d=>{var e,i;const o=Ze(d);if(o===r.EDeviceType.Unknown)return[];const p=Yr(d);if(!p)return[];const S=(i=(e=Q0.deviceMap[o])===null||e===void 0?void 0:e.ble)!==null&&i!==void 0?i:[],C=p.join(".");return Ys(S,C)},qe.getBleFirmwareLatestRelease=d=>{var e,i;const o=Ze(d);if(o===r.EDeviceType.Unknown)return;const p=(i=(e=Q0.deviceMap[o])===null||e===void 0?void 0:e.ble)!==null&&i!==void 0?i:[];return wr(p)},qe.getTransportStatus=d=>{var e,i;const o=(i=(e=Q0.assets)===null||e===void 0?void 0:e.bridge)===null||i===void 0?void 0:i.version;return o?A.default.gte(d,o.join("."))?"valid":"outdated":"valid"},qe.getBridgeChangelog=()=>{var d;return(d=Q0.assets)===null||d===void 0?void 0:d.bridge.changelog},qe.isBleConnect=d=>d==="react-native"||d==="lowlevel"||d==="desktop-web-ble",qe.isDesktopWebUsb=d=>d==="desktop-webusb",qe.isBrowserWebUsb=d=>d==="webusb";const Xs={model_mini:[{minVersion:"3.3.0",messageVersion:"latest"},{minVersion:"0.0.1",messageVersion:"v1"},{minVersion:"0.0.0",messageVersion:"latest"}],model_touch:[{minVersion:"4.5.0",messageVersion:"latest"},{minVersion:"0.0.1",messageVersion:"v1"},{minVersion:"0.0.0",messageVersion:"latest"}]},Sa=d=>{var e;if(!d)return{messages:qe.messages.latest,messageVersion:"latest"};const i=y0(d).join("."),o=Ze(d),p=Xs[o]||zi[o]&&zi[o].map(C=>Xs[C]).find(C=>C!==void 0),S=(e=p==null?void 0:p.sort((C,B)=>A.default.compare(B.minVersion,C.minVersion)))!==null&&e!==void 0?e:[];for(const{minVersion:C,messageVersion:B}of S)if(A.default.gte(i,C))return{messages:qe.messages[B],messageVersion:B};return{messages:qe.messages.latest,messageVersion:"latest"}},Xi=d=>{if(!d)return{support:!1};const e=Ze(d);if(e===r.EDeviceType.Touch||e===r.EDeviceType.Pro)return{support:!1};const i=y0(d).join(".");return{support:A.default.gte(i,"2.3.0"),require:"2.3.0"}},Ra=d=>{if(!d)return{support:!1};const e=Ze(d);if(e===r.EDeviceType.Touch||e===r.EDeviceType.Pro)return{support:!0};const i=y0(d).join(".");return{support:A.default.gte(i,"2.4.0"),require:"2.4.0"}},Aa=(d,e)=>L(void 0,void 0,void 0,function*(){var i,o,p,S,C;const{features:B,commands:U}=d,se=(B==null?void 0:B.unlocked)===!1,{passphraseState:pe,newSession:he,unlockedAttachPin:Ae}=yield Id(B,U,Object.assign({},e)),Oe=Ze(B)===r.EDeviceType.Touch||Ze(B)===r.EDeviceType.Pro,je=pe&&(B==null?void 0:B.passphrase_protection)!==!0;return(Oe&&se||je)&&(yield d.getFeatures()),B!=null&&B.device_id&&d.updateInternalState((o=(i=d.features)===null||i===void 0?void 0:i.passphrase_protection)!==null&&o!==void 0?o:!1,pe,(S=(p=d.features)===null||p===void 0?void 0:p.device_id)!==null&&S!==void 0?S:"",he,(C=d.features)===null||C===void 0?void 0:C.session_id),{passphraseState:pe,newSession:he,unlockedAttachPin:Ae}}),Id=(d,e,i)=>L(void 0,void 0,void 0,function*(){if(!d)return{passphraseState:void 0,newSession:void 0,unlockedAttachPin:void 0};const o=y0(d),p=Ze(d);if(Ki(d,y.Enum_Capability.Capability_AttachToPin)||p===r.EDeviceType.Pro&&A.default.gte(o.join("."),"4.15.0")){const{message:se,type:pe}=yield e.typedCall("GetPassphraseState","PassphraseState",{passphrase_state:i!=null&&i.onlyMainPin||i==null?void 0:i.expectPassphraseState});if(pe==="CallMethodError")throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"Get the passphrase state error");return{passphraseState:se.passphrase_state,newSession:se.session_id,unlockedAttachPin:se.unlocked_attach_pin}}const{message:B,type:U}=yield e.typedCall("GetAddress","Address",{address_n:[rt(44),rt(1),rt(0),0,0],coin_name:"Testnet",script_type:"SPENDADDRESS",show_display:!1});if(U==="CallMethodError")throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"Get the passphrase state error");return{passphraseState:B.address,newSession:void 0,unlockedAttachPin:void 0}}),bi=(d,e)=>{if(!d)return!1;const i=y0(d).join("."),o=Ze(d);return e!=null&&e.includeNode&&o===r.EDeviceType.Pro?A.default.gte(i,"4.14.0"):e!=null&&e.includeNode&&o===r.EDeviceType.Touch?A.default.gte(i,"4.11.0"):e!=null&&e.includeNode&&w0.model_classic1s.includes(o)?A.default.gte(i,"3.12.0"):e!=null&&e.includeNode&&w0.model_mini.includes(o)?A.default.gte(i,"3.10.0"):e!=null&&e.includeNode?!1:o===r.EDeviceType.Touch||o===r.EDeviceType.Pro?A.default.gte(i,"3.1.0"):A.default.gte(i,"2.6.0")},Js=d=>{if(!d)return{support:!1};const e=y0(d).join("."),i=Ze(d);return w0.model_mini.includes(i)?{support:!0}:{support:A.default.gte(e,"3.4.0")}},Ia=d=>d==="bitcoinonly"?"firmware-btc-v8":"firmware-v8",Jt=({features:d,updateType:e,targetVersion:i,firmwareType:o})=>{const p=Ze(d),S=y0(d);if(e==="ble")return"ble";const C=Ia(o);if(w0.model_mini.includes(p))return C;if(p===r.EDeviceType.Touch){if(i){if(A.default.eq(i,"4.0.0"))return"firmware-v2";if(A.default.gt(i,"4.0.0"))return C}return A.default.lt(S.join("."),"3.4.0")?"firmware":C}return p===r.EDeviceType.Pro?C:"firmware"},Od=(d,e)=>{const i=Ze(d);if(e==="ble")return["ble"];if(i==="classic"||i==="classic1s"||i==="mini"||i==="classicpure")return["firmware-v8"];if(i==="touch"){const o=y0(d).join(".");return A.default.gt(o,"4.0.0")?["firmware-v8","firmware"]:A.default.gte(o,"4.0.0")?["firmware-v2","firmware"]:!o||A.default.lt(o,"3.0.0")?["firmware-v8","firmware-v2","firmware"]:["firmware"]}return i==="pro"?["firmware-v8"]:["firmware"]};function Qs(d){let e=d.split(".");for(;e.length<3;)e.push("0");return e=e.map(i=>g.isNaN(parseInt(i,10))?"0":i),e.join(".")}const en=d=>{const e=Object.assign({},d);return e.onekey_firmware_version&&!A.default.valid(e.onekey_firmware_version)&&(e.onekey_firmware_version=Qs(e.onekey_firmware_version)),e.onekey_version&&!A.default.valid(e.onekey_version)&&(e.onekey_version=Qs(e.onekey_version)),e},Cd=require$$13,Oa=()=>Cd.version,tn=`https://jssdk.onekey.so/${Oa()}/`,kd=[{origin:"file://"},{origin:"1key.so"},{origin:"onekey.so"},{origin:"onekeycn.com"},{origin:"onekeytest.com"},{origin:"localhost"}],xd=["jnmbobjmhlngoefaiojfljckilhhlhcj","acmacodkjbdgmoleebolmdjonilkdbch","mcohilncbfahbmgdjkbpemcciiolgcge"];var P0;const N0=2,Dd={configSrc:"./data/config.json",version:"",debug:!1,priority:N0,trustedHost:!1,connectSrc:tn,iframeSrc:`${tn}iframe.html`,parentOrigin:typeof window<"u"&&window.location?window.location.origin:"",extension:typeof chrome<"u"&&((P0=chrome==null?void 0:chrome.runtime)===null||P0===void 0?void 0:P0.id)||"",supportedBrowser:typeof navigator<"u"?!/Trident|MSIE|Edge/.test(navigator.userAgent):!0,env:"web",lazyLoad:!1,timestamp:new Date().getTime()},Ca=()=>{if(typeof chrome<"u"&&chrome.runtime&&typeof chrome.runtime.onConnect<"u")return"webextension";if(typeof navigator<"u"){if(typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative")return"react-native";if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)return"electron"}return"web"},ka=d=>{if(typeof d=="string")return d.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*onekey\.so\//)||d.match(/^https?:\/\/localhost:[58][0-9]{3}\//),d},Md=(d={})=>{const e=Object.assign({},Dd);Object.prototype.hasOwnProperty.call(d,"debug")&&(e.debug=d.debug),d.isFrame&&(e.parentOrigin=d.parentOrigin),typeof d.connectSrc=="string"&&(e.connectSrc=d.connectSrc);let i;typeof window<"u"?i=window.ONEKEY_CONNECT_SRC:typeof commonjsGlobal<"u"&&(i=commonjsGlobal.ONEKEY_CONNECT_SRC),typeof i=="string"&&(e.connectSrc=ka(i),e.debug=!0);const o=e.connectSrc||tn;return e.iframeSrc=`${o}iframe.html`,d.transportReconnect&&(e.transportReconnect=d.transportReconnect),d.lazyLoad&&(e.lazyLoad=d.lazyLoad),typeof d.env=="string"?e.env=d.env:e.env=Ca(),d.timestamp&&(e.timestamp=d.timestamp),d.preRelease&&(e.preRelease=d.preRelease),d.fetchConfig&&(e.fetchConfig=d.fetchConfig),e};function Pd({currentVersion:d,bootloaderVersion:e,willUpdateFirmware:i,targetBootloaderVersion:o,bootloaderRelatedFirmwareVersion:p}){return o&&A.default.gte(e,o.join("."))?!1:!!(A.default.gte(i,p.join("."))||A.default.gte(d,p.join(".")))}function Nd(d,e){const i=Ze(d),o=i===r.EDeviceType.Mini,p=e==="firmware"&&i===r.EDeviceType.Classic&&d.bootloader_version==="1.8.3";return o||p}function rn(d,e){const i=Ze(d);if(!w0.model_touch.includes(i))return!1;const o=y0(d).join("."),p=xr(d).join("."),S=qe.getBootloaderTargetVersion(d,e);return S?A.default.gte(o,"3.2.0")&&A.default.gte(o,"4.1.0")&&A.default.lte(p,S.join(".")):!1}function xa({features:d,willUpdateFirmware:e,firmwareType:i}){const o=Ze(d);if(!w0.model_mini.includes(o)||!e)return!1;const p=y0(d).join("."),S=xr(d).join("."),C=qe.getBootloaderTargetVersion(d,i);if(C&&A.default.gte(S,C.join(".")))return!1;const B=qe.getBootloaderRelatedFirmwareVersion(d,i);return B?Pd({currentVersion:p,bootloaderVersion:S,willUpdateFirmware:e,targetBootloaderVersion:C,bootloaderRelatedFirmwareVersion:B}):!1}const et=16*1024;function sn(d){const e=new Uint8Array(d.slice(0,Math.min(et,d.byteLength))),i=P.default.wrap(e,void 0,void 0,!0);i.LE(),i.readByte(),i.readByte(),i.readByte(),i.readByte();const o=i.readUint32();i.readUint32();const p=i.readUint32();return o+p===d.byteLength}const Ut={en:"English",zh_cn:"",zh_hk:"",ja:"",ko:"",fr:"Franais",de:"Deutsch",ru:"Russian",es:"Spanish",it:"Italiano",pt_br:"Portuguese (Brazil)"},Da=d=>{let e=[];switch(d){case r.EDeviceType.Classic:case r.EDeviceType.Mini:e=["en","zh_cn"];break;case r.EDeviceType.Classic1s:case r.EDeviceType.ClassicPure:e=["en","zh_cn","zh_hk","ja","pt_br","de","ko"];break;case r.EDeviceType.Touch:case r.EDeviceType.Pro:e=Object.keys(Ut);break;default:e=[];break}return e.map(i=>({code:i,label:Ut[i]}))},nn=d=>{switch(d){case r.EDeviceType.Mini:case r.EDeviceType.Classic:case r.EDeviceType.Classic1s:case r.EDeviceType.ClassicPure:return[{seconds:0,minute:1,hour:0,day:0},{seconds:0,minute:2,hour:0,day:0},{seconds:0,minute:5,hour:0,day:0},{seconds:0,minute:10,hour:0,day:0},{seconds:0,minute:0,hour:0,day:0}];case r.EDeviceType.Touch:case r.EDeviceType.Pro:return[{seconds:30,minute:0,hour:0,day:0},{seconds:0,minute:1,hour:0,day:0},{seconds:0,minute:2,hour:0,day:0},{seconds:0,minute:5,hour:0,day:0},{seconds:0,minute:10,hour:0,day:0},{seconds:0,minute:30,hour:0,day:0},{seconds:0,minute:0,hour:0,day:0}];default:return[]}},Rt=d=>{switch(d){case r.EDeviceType.Mini:return[];case r.EDeviceType.Classic:case r.EDeviceType.Classic1s:case r.EDeviceType.ClassicPure:return[{seconds:0,minute:1,hour:0,day:0},{seconds:0,minute:3,hour:0,day:0},{seconds:0,minute:5,hour:0,day:0},{seconds:0,minute:10,hour:0,day:0},{seconds:0,minute:0,hour:0,day:0}];case r.EDeviceType.Touch:case r.EDeviceType.Pro:return[{seconds:0,minute:1,hour:0,day:0},{seconds:0,minute:2,hour:0,day:0},{seconds:0,minute:5,hour:0,day:0},{seconds:0,minute:10,hour:0,day:0},{seconds:0,minute:0,hour:0,day:0}];default:return[]}},an=()=>({default:{name:"default",hex:""},original:{name:"original",hex:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c0000000000000000000000000000003c000000000000000000000000000003fc000000000000000000000000000003fc000000000000000000000000000003fc000000000000000000000000000003fc0000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ff000000000000000000000000000000ff000000000000000000000000000003ffc00000000000000000000000000003ffc0000000000000000000000000000f00f0000000000000000000000000000f00f0000000000000000000000000003c003c000000000000000000000000003c003c000000000000000000000000003c003c000000000000000000000000003c003c000000000000000000000000003c003c000000000000000000000000003c003c000000000000000000000000003c003c000000000000000000000000003c003c000000000000000000000000000f00f0000000000000000000000000000f00f00000000000000000000000000003ffc00000000000000000000000000003ffc00000000000000000000000000000ff000000000000000000000000000000ff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},circleweb:{name:"circleweb",hex:"00486003070c08080c01c1c0380000c0007cc003fc04080c08017f801800018000f7c0033806080c08031d80180001000088400218020c0c0802018018000700008040020e0304041806018018003f0001f0400206010404180401803000f9000188e00403018604100c03c06003e180030fe00c01808e3e10080271f01f0180070f383e00c0fe7f3018041fb83c00801e880ff38060e1e3fc10080e0ee000c0f87007c0c020c0c1c610101c0780006078600300703f80c18320201803000070182003001c3b80c1816040100300007f0c6001000660c0e383f08010010007fc0660030001c043ff8319001001007cf00340030000c07f9cfe0e00100307e0c00160030000c07c84fe0e0078033e00c001e003e001c0d8c48e0c03cc0fe0018001f006ffc7f38c448e0c0e07ff00018001b80c03fc3f06669bfe7807fc000180019e3800181f062293e7c0071c00018001ffe0001809831292c1000c060007c001e0c0001808c3929481001c02007fc003806000181071bfa48100780307f0e0030020001c3038ffe8c30ff801fe00600700303ffff00c3ff8eff81801e000300e001fe071fe07381a7f00180100003f1e0010006043e7600c430018030000f9f200100040603ce007c30008060001c0c600100040600cc006c3000c0c00018083003000406007c007e3800f3800030083002001c07ffcc007fffe3ff0000200838060ffe0f1fc40071c0fe07000020047c0ffc03f800cc0061800c0300006003cfff00039c01fe00e1800c010007e00207fc00030c1fe701f38018018ffff002cc06000607f863c71fe01801fe0030033802000403c063ff0c3c0801800038021003003c0300e2311c07880180001802300103e402039e31f700fc0300000c0760013c06060e1e31e1807c0600000f966001c0031ff813ff40c07e1c00003ffc20018001f0e0333e607183fc0000601c20010000e0606222203900ff0000c00c70030007e020c662101f00e7fe00800fd803003ec0218463180600601ff90000780601f0c03f086308060060007f00003e0e0780607f886104fe0060000300001ff9fc0060c0f841079e0040000100000dc060003f807041060600c000018000058060007b807041840301f00001800007003001c1007fc3ec01831c00008000070010070100706c3c01fe07000fc0000600181c018060380c01f001c078e010060018700380c0300c01e00070c03870060018c006e1c010040330001d801fd00e001b001c7ec0100606180007000e001a001c003818c03007fc0c00030006003f003c00701040300ffc0e000300040fc3807f00e02060f0080c07000300040680c1c18180407f98380603800300060300ff00c300405f87fc0301c00300060100ce006600808183c40100e1ff000711008600380100818106018063038009f"},circuit:{name:"circuit",hex:"ffffffc18380002180001c0380f00c0000000041038000608000380701e0180000000063038000608000700e03c030400000003e038000218000e01c078060e000000000038000330001c0380f00c1b0000000000380001e000380701e0183180000001c03800000000700e03c03060c0000003703800000000e01c078060c060000006103800000001c0380f00c1803ffffffc18387ff8000380701e0183001ffffffc18387ff8000700e03c0306000000000610387ff8000e01c078060c000000000330387878001c0380f00c180000000001c038707800380701e0183038000000000038703800700e03c030606c000000000038707800e01c078060c0c6000000000038787801c0380f00c181830ffffffc00387ff80380701e018303018ffffffe00387ff80700e03c03060600c000000600387ff80e01c078060c0c0060000006003800001c0380f00c18180033ffffe600380000380701e01830300013ffffe600380000700e03c03060600003ffffe600380000e01c078060c0c02013ffffe600380001c0380f00c181807013c001e6007c000380701e01830300f813c001e600fe000700e03c03060601fc13c001e601ff000e01c078060c0c03de03c001e601ff001c0380f00c1818078f03c001e601ff00380701e01830300f0783c001e601ff00700e03c03060601e03c3c001e600ff00e01c078060c0c03c01e3c001e600fe01c0380f00c181807800f3c001e600380380701e01830300f00073c001e600000700e03c03060601e00033c001e600000e01c078060c0c03c00013c001e600001c0380f00c181807800003c001e60000380701e01830300f000003ffffe60000700e03c03060601e0c0013ffffe60000e01c078060c0c03c1f0033ffffe60001c0380f00c1818078218073ffffe6000380701e01830300f06080f0000006000700e03c03060601e06081e0000006000e01c078060c0c03c02083cffffffe001c0380f00c1818078133078ffffffc00380701e01830300f07de0f0000000000700e03c03060601e08401e0000000000e01c078060c0c03c18203c0000000001c0380f00c1818078102078100000000380701e01830300f01860f0200000000700e03c03060601e00c41e0400000000e01c078060c0c03c00783c0800078001c0380f00c181807800007810000cc00380701e01830300f00000f0200018600700e03c03060600780001e040fff0200e01c078060c03003c0003c0800018201c0380f00c1801801e00078100000860380701e3f80c00c00f000f0200000fc0700e03c63006006007801e0400000300e01c07841003003003c03c08001c0001c0380f041001801801e078100066000380701e041000c00c00f0f0200043000700e03c0630006006e079e04000c1000e01c07803e0003003b83fc08038"},starweb:{name:"starweb",hex:"01e600002f804210c218803f80001bc01f86000020f04610e31883c10000187ef1890000200e4331a1308e010000042331190ffe2003c1e010e070010ffe2623221108022000e04210c0c001180622112221880223e078040803c0f11004211144218c0222386404080cc31110047108444204022308230004104611100c5088cc46440201081188046246311008188c88844603110890c800c2462010180844888c420311f88830038446e230108c441088e33e10188810030447823e10c4421108a1e0100084180208400203e046221111000008008618060840040000222223111000180002140b104006000222112233180ffe1e830219104f1ff8023111222220f00701c1221120e01807c0111162220780058070a1210180680078111044646e0000403c80e14780c0001d888844446203e23006e0c1990110e01988884447830e201821e0c1e10601fc107888844e010c3106006041c1082104201c8888d8008410030030c1823002086006c448e030c210808030c3024042184301c44880f841e0407818e6048081f087c0443b038c2080203c1dae070180610c70351c0e061000fffe17ba0fffc003081c0e181802180e08038b36380438061006067c30030c300401f937f000070c30030fd2080186c002009daf601000d8600612110403038001004decc0200070300c221182060dffc0c063f980c07fec18186211c18818403ffffb37ffff00860c30e21120f0602000fe0e1c1fe00101834122111060c0180303861870300200c1822211180102060c007e1f800c08106006221116020f813000c738c0062078100e2211130418c0f0031ffe2003c0c608122211118830618f07fbf7f81c608304622211113070c3007f32d33f8030c383a2220191301d8600f026d903c0184603222088914c070c03606edd81b00c380ca26088998300181c4076db808e0400186644888981c010e080e7f9c0418200e0644488890070230181873860607103802444888a100e6c0107061838200d8e001c44888c3c03f0033f06183a3003f00f0c44c0486700b007c6061838f803c03984c0444841c180ec0c04083c0c0060e08488445080610008180c1c06040021804288446180620008321e1e12040011806108442100421810222e1911040610802108624200c43f10424a1490823f08c01091e24600846310838924704231884018913283818842010309243022108c4078530f807908c2220611a01811108427c07c03800708fe240c10c20c091ec43c007081b00010f0283210c2130d07c20003e0c28e00100039c210c210c70002001c504484e010003e0200c2101f000201f848c44437f003f00221211003e0033f98888442233ffe6000221110019fffa110888c2311200060e0261121c1800122310c0a2118c00043a1640923718000c62114"},stars:{name:"stars",hex:"0000000000000000000000000000000007e000000000000000000000000000000ff000000000000000000000000000001ff800000000000000200000000000043ffc00000001000000000000008000007ffe0800000380000000000001c000007ffe00000001000000000000009038007ffe0000000800000000001c00027c007ffe0000002040000000003e0000fe007ffe80000000003ff000003e0000fe007ffe2a00014021fffe00003e0000fe003ffc0080780007ffff80001c00007c001ff80028fc001fffffe00080000038000ff00002fc003ffffff000020000800007e00000fc00fffffffc02000000000000000000fc01ffc63ffe080100010000000800007803ffc63fff000000000000000000000003ffc63fff200080020000000400010007ffc63fff80000000000000000000000fffc63fffc0002008000000020004000fe00007ffc0000000000000000010001fe00000ffe0001020000000010020001fe000007fe0000000000000004000003ffc00003ff0000840000000000080003ffe07c03ff0000000000000002000003ffe07f03ff0000780000000000200007ffe07f83ff8000fc0000000001800007ffe07f83ff8000fc0000000003c00007ffe07f03ff8000fc0000000003c00007ffe07c07ff8000fc0000000001800007ffe0000fff8000780000000000000007ffe00007ff8000000008000001000007ffe00001ff800010001c000000000007ffe07e01ff8000000008000001000007ffe07f80ff8000100020000002000017ffe07fc0ff8000000000000000000043ffe07fc0ff000010004000c002000203ffe07fc0ff500008000000c000000803ffe07f80ff0480000100000004001c01ffe07e01fe0030080000000000000801ffc00001fe0030000400000004000000fe000003fc0000080000000000000000fe00000ffc00000008000000080000007e00003ff800000400000000000000003ffc63fff000000020000000080000003ffc63fff000000780000000000000009ffc63ffe000000fc0000000100000020ffc63ffc000001fe00000000000000003fc63ff0000001fe00000007800000401fffffe0000001fe0000000fc0000e0007ffff84000001fe0000000fd5401f0001fffe00000014fc0000000fc0155f00003ff0010000a0790000000fc0001f0000000000000500000000000780000e000000000040100000400000200000004000000000194000001000000000000010000000003c0000000800008000000004000000003c000000020000000000000000000000180000000080020000000001000000000000000000180800000000006000000000000080003c1c00000000006000000000000000003c0800001000000000000000000000001800000000000000000000000000000000"},bitcoin_b2:{name:"bitcoin_b2",hex:"000000000000000000000000000000000000000000000007800000000000000000000000000000fffc000000000000000000000000000fffffc00000000000000000000000003ffffff0000000000000000000000000fffffffc000000000000000000000003fffffffe000000000000000000000007ffffffff80000000000000000000000fffffffffc0000000000000000000001fffffffffe0000000000000000000007ffffffffff8000000000000000000007ffffffffff800000000000000000000fffffffffffc00000000000000000001fffffc7ffffe00000000000000000003fffff8f3ffff00000000000000000007fffff8f1ffff00000000000000000007fffff8e3ffff8000000000000000000ffffc10e3ffffc000000000000000000ffff800e3ffffc000000000000000001ffffc0003ffffe000000000000000001fffff0001ffffe000000000000000003fffff80007ffff000000000000000003fffff81803ffff000000000000000003fffff83f01ffff000000000000000003fffff03f80ffff000000000000000007fffff03fc0ffff800000000000000007fffff03fc0ffff800000000000000007fffff07fc0ffff800000000000000007ffffe07fc0ffff800000000000000007ffffe03f80ffff80000000000000000fffffe00001ffffc0000000000000000fffffe00003ffffc0000000000000000fffffc00007ffffc0000000000000000fffffc0f807ffffc00000000000000007ffffc0fe03ffff800000000000000007ffffc1ff01ffff800000000000000007ffff81ff81ffff800000000000000007ffff81ff80ffff800000000000000007fff801ff80ffff800000000000000003fff003ff81ffff000000000000000003fff000ff01ffff000000000000000003fffc000001ffff000000000000000003ffff800003ffff000000000000000001ffffc00007fffe000000000000000001ffffc7000ffffe000000000000000000ffffc71ffffffc000000000000000000ffff8f1ffffffc0000000000000000007fff8f1ffffff80000000000000000003fffce3ffffff00000000000000000003ffffe3ffffff00000000000000000001fffffffffffe00000000000000000000fffffffffffc000000000000000000007ffffffffff8000000000000000000007ffffffffff8000000000000000000001fffffffffe0000000000000000000000fffffffffc00000000000000000000007ffffffff800000000000000000000001fffffffe000000000000000000000000fffffffc0000000000000000000000003ffffff00000000000000000000000000fffffc000000000000000000000000000fffc000000000000000000000000000007800000000000000000000000000000000000000000000000"},bitcoin_shade:{name:"bitcoin_shade",hex:"00000000000002aaaa00000000000000000000000000155757600000000000000000000000002aeffef80000000000000000000000015dffffff000000000000000000000003bffbfbab80000000000000000000000ffff7f75540000000000000000000001ffe800aaaa0000000000000000000003fdc00005550000000000000000000007fb000002aa800000000000000000000ffc00000055600000000000000000001ff80007002ae00000000000000000003ff00007801fd00000000000000000007fe00007882fa80000000000000000007fc41c0f1f07f4000000000000000000ff889f8f1e0bea000000000000000001ff113fff1e15fd000000000000000001fe223ffe3c2aff000000000000000003fc440fff3c157f000000000000000003f88883fffc3ebf800000000000000007fd5103fff85f7f800000000000000007faaa23fffe3fbfc00000000000000007f55547f9ff9fdfc0000000000000000feaaa87f07fcfffc0000000000000000ff55547f01fe7dfe0000000000000000feaaa8ff00fe3efe0000000000000001fc5554fe007f5f7e0000000000000001feaaa8fe087f3efe0000000000000001fd7551fc147f1d7f0000000000000001febfe9fc00ff3aff0000000000000001fd77f3ff00ff177f0000000000000001feefebfffffe2eff0000000000000001fd5ff3fffffe1d7f0000000000000001febfe7fbfffc2aff00000000000000017d7fe7f0fff0577f0000000000000000feafeff03fe0eefe0000000000000001dd5d4fe00ff1557d0000000000000000beba0fe207f02a7a00000000000000015555dfe503f854760000000000000000aeabffc283f808ee00000000000000005757ffc143fc11de0000000000000000aaa7ffc2a3fc22be00000000000000005751fff007fc457c00000000000000006ba83ffe0ff889fc00000000000000005d540ffffff801f800000000000000003baa0ffffff003f8000000000000000037d40f7ffff007f000000000000000003fea0f1fffe00fe000000000000000001ff11e3dff800fd000000000000000000ff21e3c08001ba000000000000000000ffc3c3c00001740000000000000000007fc8c7800002ac0000000000000000003ff007800005500000000000000000003ff22780000aa00000000000000000001ffd40000055400000000000000000000ffea88800aa8000000000000000000007ffd11501d50000000000000000000003fff2aa1bfa0000000000000000000000ffffd7fff400000000000000000000007fffffffe800000000000000000000001fffffffd000000000000000000000000fffffffc0000000000000000000000001ffffff000000000000000000000000007ffffc0000000000000000000000000007ffc00000000000000"},bitcoin_b:{name:"bitcoin_b",hex:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000380000000000000000000000000000003e0000000000000000000000000000003e1800000000000000000000000000007c1f00000000000000000000000000007c3e00000000000000000000000001007c3e00000000000000000000000001f07c3e00000000000000000000000003fff83c00000000000000000000000003fffc7c00000000000000000000000003fffffc00000000000000000000000001fffffc000000000000000000000000003ffffe000000000000000000000000001fffff800000000000000000000000001fffffe00000000000000000000000001ff7fff00000000000000000000000001fe07ff80000000000000000000000001fe01ffc0000000000000000000000003fe00ffe0000000000000000000000003fe007fe0000000000000000000000003fe003fe0000000000000000000000003fc003fe0000000000000000000000007fc003fe0000000000000000000000007fc003fe0000000000000000000000007fc007fe0000000000000000000000007ff00ffc000000000000000000000000fffffffc000000000000000000000000fffffff8000000000000000000000000fffffff0000000000000000000000000ffffffc0000000000000000000000001ff0fffc0000000000000000000000001ff01ffe0000000000000000000000001fe007ff0000000000000000000000001fe001ff8000000000000000000000003fe000ff8000000000000000000000003fe000ffc000000000000000000000003fc000ffc0000000000000000000000e7fc0007fc0000000000000000000001fffc000ffc0000000000000000000001fffc000ffc0000000000000000000001fffe001ffc0000000000000000000003ffffc07ff80000000000000000000000fffffffff800000000000000000000000ffffffff0000000000000000000000001fffffff0000000000000000000000001ffffffe0000000000000000000000001f3ffffc0000000000000000000000001e0ffff00000000000000000000000003e0f07800000000000000000000000003e1f00000000000000000000000000003e1f00000000000000000000000000003e1f00000000000000000000000000003c3e0000000000000000000000000000043e0000000000000000000000000000003e0000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},bitcoin_full:{name:"bitcoin_full",hex:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007e000020000000000000000000000003ff8001e000f000000000000f00000007ffe003e001f000000000000f8000000ffff003c001f030000000000f8000001fe7f803c001f1f0000000000f0000003fe5fc03c00041e000000000040000007f01fe07c00001e000000000000000007f01fe07800001e00000000000000000ff807e07fe01e3ff03fc0fe01e0ff800ff8c3f07ff03e3ff0ffc1ff81e1ffc00ff8c3f0fff83c3fe1ffc3ff83e1ffe00ff007f0fcf83c3fe3f087cfc3c3e3e00ff007f0f07c3c3c03e00f87c3c3c1e00ff187f0f03c7c7807c00f03c3c3c1e00fe1c7f0f03c787807801e03c7c3c1e00f81c7f1e03c787807801e03c783c1e00fc007e1e07c78780f801e03c78781e007f00fe1e078f8f00f801e07c78783e007f4ffe1e078f0f00f801e07878783c003f4ffc3c0f0f0f00f801e0f8f0783c001ffff83c1f0f0f807c01f0f0f0f83c000ffff03ffe0f0ffc7fe1fff0f0f07c0007ffe03ffc1e0ffc3fe0ffe0f0f0780003ff807ff81e07fc1ff07fc1f0f07800007c000fc00001f007c01e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},bitcat:{name:"bitcat",hex:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003ff000000000000000000000000001e1ffff1e000000000000000000000007efffffcf80000000000000000000000e3ffffff1c0000000000000000000000c7ffffffce00000000000000000000019fffffffe60000000000000000000001bffffffff600000000000000000000013ffffffffa0000000000000000000000781fffe07c0000000000000000000000e10fffc41c0000000000000000000000e00fffc01e0000000000000000000001f00fcfe03e0000000000000000000001fc3f83f0fe0000000000000000000001ffff83ffff0000000000000000000003ffff87ffff0000000000000000000001ffffefffff0000000000000000000003ffefefefff0000000000000000000001ffefefdfff0000000000000000000001ffefcfdffe0000000000000000000001fff7979ffe0000000000000000000000fff8383ffc00000000000000000000007ffffffff800000000000000000000003ffffffff0000000000000000000000027ffffffc00000000000000000000000783f87fc380000000000000000000000f9c00003fc0000000000000000000000f7f703fffc0000000000000000000001e7f783fffe0000000000000000000001effb87fffe0000000000000000000003effbffffff0000000000000000000003effbffffff0000000000000000000007e7f3ffffff8000000000000000000007c001ffffff800000000000000000000f00007fffffc00000000000000000000e00003fffffc00000000000000000000c01001fffffe00000000000000000001803f00fffffe00000000000000000001803fc0fffffe000000000000000000010030e07fffff000000000000000000030030707fffff000000000000000000020070303fffff000000000000000000020060303fffff000000000000000000020060703fffff80000000000000000006007fe03fffff8000000000000000000600ffc01fffff8000000000000000000600c38037ffff8000000000000000000603c0c037ffff8000000000000000000603f8e037ffff8000000000000000000601f8e037ffffbf8000000000000000060180e037ffffbfe0000000000000000301c0c0760fffbfe0000000000000000301ffc071f3ff7ff00000000000000003807f80f3f9ff7ff00000000000000001c00601f3fdfefff00000000000000000e00003f7fdfdffe00000000000000000300007f7fdf3ffe0000000000000000000000ff3fd8fffc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},nyancat:{name:"nyancat",hex:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000030000000000000000000000000000000cc000000000000000000000000000000cc0000000000000000000000000000003000000000000000000000000000000030000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffe00000000000000000000000fffffffff00000000000000000000003ff9ffffff80000000000000000000003f19bfffff80000000000000000000003f833fffff80000000000000000000003fc03fffff80000000000000000000003fc03fffff80000000000000000000003f861fffff80000000000000000000003f870f8fff80000000000000000000003f8f8f87ff80000000000000000000003f0f0e71ff83800000000000000000003e000e79ff83c00000003fffe000000f3e101e7e7f8fc00000083fffe000000f3e3c3e7e7f8fc000000ffffffffff007303e3e7f001fc000000ffffffe1ff3c3207e1e7f807fc000000ffffffe1fe1e03c1c3e7fb7ffc000000f07fffe4fe0f03c003e7fffffc000000f87fffc4ff0703c803cffffffc000000f33fffc8ff83c399861fffffff000000f33fff9cffc3c3f9ff1ff7ffdf000000e47f0780ffe0f3fbff9fe7ffcf000000c67f87e3fff0e3ffff9fe7ff8f000000e07f33fff87803ffff9f87e20f000000f0ff33fff87c03ffff9f87e20f000000fffe47fffb3f83ffff9fffffff000000fffc67fff13fc3ffff9fffffff000000fffe07fff67ff3ffff9fe78e3f000000ffff0fffc67ff3ffff9fe78e3f000000ffffffffe07ff3ffffe7e0003c000000fffffffff8ffe3ffffe7e00038000000ff134bffffce00fffff9ffffe0000000fc0001ffff0000fffff9ffffe00000000000000000003f0000000000000000000000000000003f0000000000000000000000000000003c010000000c000000000000000000003c01c000780e000000000000600600000000000000000000000000006006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000018000000000000000000000000000000180000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},coffee:{name:"coffee",hex:"0000000000000000000000000000000000000000000000000001fff8000000000000000000000000001e00bfc0000000000000000000000000e00005f800000000000000000000000180002bff00000000000000000000000600005fffc00000000000000000000008000003fff000000000000000000000100000007ffc00000000000000000000300000000ffe000000000000000000002000000001ff000000000000000000002000000000ff8000000000000000000040000000003fc000000000000000000040000000000fe0000000000000000000400000000007f0000000000000000000400000000003f0000000000000000000600000000001f8000000000000000000600000000000f8000000000000000000600000000000780000000000000000007000000000007c000000000000000001f800000000003c00000000000000000e7c00000000003800000000000000001c7e0000000000380000000000000000707f0000000000380000000000000000c57f80000000003000000000000000018a3fe000000000300000000000000003053ff0000000006000000000000000062abffc000000004000000000000000045dffff8000000180000000000000000c3bbfffe000000600000000000000000865dfff5e00003000000000000000001ac0ffffe1ffff80000000000000000011437fffd000000000000000000000003281afffa00000000000000000000000350047ff400000000c000000000000002080e7ff800000003f00000000000000250077ffd00000017f8000000000000022a83bffa20000003fc0000000000000251003ff400000000f40000000000000209801fe880000000680000000000000314800ff40000000030000000000000032ac00ffa000000001000000000000003546007f40000000011000000000000010eb003e8800000001a00000000000001179c11f50010400008000000000000018bae16b8202080000800000000000000957f0160404480001000000000000000c8ff80be80aac0001000000000000000477ff54fd558f803600000000000000063bfff27bba00fffc000000000000000357ffff3f500007f00000000000000001abffff9aa00000000000000000000000d5ffffc40000000000000000000000406bffffe200000000000000000000000031fffff1d4000000000000000000080818bffff8fea808ab80000000000000040c5ffffc7fd5555f8000000000002010472ffffe1fffbbff000000000000000409d7ffff0ffffffe000000000000080000e3ffff87fffffc00000000000020852139ffff81fffff00000000000000003041e3fffc0ffffe000000000000000501907c7ffe03fff8000000000000000220000fafff01ffe00000000000000000004101fd5f807f80000"},flower:{name:"flower",hex:"e598b7fdffdf7dc00000000000000000fbe46fffffff1d80024000000000000054917defffff77bc0830000000000000ef68b7ffffff7ffe2020000000000000ffb65ffffffffbe641600000000000003fdd97ffffdf7dfcb6a80000000000001ff68affffffffdc2dd600000000000087eb457f7fdffff8fb8600000000000071ffa7bf7ffffef3fe740000000000003cff63ffbfdffff3fdcc000000000000ab37a5ffbfffff7fbb9c0000000000008d9d757fdfa7f0ff7d38000000000000f3e7caffd4e7effefe7007000000000077b7ea55e24bf3fbace078c0000000009c79e83ec220d7f7f9c3e780000000006effd41f388007eff393888000000000b75fed9f20080fbffe1e410000000000ebffbbe700128bfffc714200000000007dfbfef9400003febdcc2c0000000000ff7ff7be7302217efe34180000000000f3fffef80809007ff8c83000000000003dbfd760004020ffe721c000000000000007fbf9000041ff9e33800000000000c373ff408112017ef8de000000000000013c7ffaa400047f2638ff0000000000873700410000987999c3f6c000000000057bf1ac042c04fe7e1fbfc00000000014adfff0026041ffe1ffffe000000000095feff0624008003fffff8000000000133bfffe0c0031fffffff800000000000ffdfffc801981ffffff00000000000007dbfff1080300fffff0000000000000217fedc60100033fff00000000000000189fff8e480001c00000000000000000e80bf81dc00800700050100000000000008009fbd088081f0000ce00000000000410b5ffe2001607c00007000000000020637fffe6800180fe009c0000000000050fbfffef860ff807ffe00000000000885ffdffdf9796ffc00000000000000070ff3fff9fb798bffe0000000000000046fbffffff37edf7ffc0000000000000357dedffff7ff6fffffc0000000000007be7efffbffffbffffff000000000000cfbfcf7fbffbfddff3ffe000000000001c7e0fff7ffbfeefff3ff800000000007ff00ffe3ffbfffbffe37c0000000000fec008a4fffdfffe7fff7e0000000000b5001181bbfdffff8efedf8000000000580042046ffdffdfe1dff58000000000000507807ffcfffffc6ffb800000000004000420bffcfffeff3c3e0000000000120808503ffc7fffffdf00000000000030c018813ffe3ffdf7e7800000000000f7003a211ffc3ffef9f5c00000000000f80030022dfe4efd7f79600000000000000060800ffc0eef9cb5e000000000000000424403dc07f5c7ea0000000000000000d04823ad41ffc3fe0000000000000000909820b9007dc07e000000000000000192200009000f000000000000000000010060201180080000000000000000000148c000040040000000000000000000035380000400001000000000000000"},saturn:{name:"saturn",hex:"00000000000000000000007800a00300000000000000000000000703ffffc0c000000000000000028000707eaaa0f8600000000000000101010307d5011d1c30000000000000000000007aa2aaa3cf1000000000000000000401d54404045708000000000000000888086a0fe80a2b880000000000000019541017f00f059988000000000000023aaaa0000000c24b880000000000004455554000000025458800000000000080aaeae880000010a98800000000000107fd55d5000000080d900000000000023bfbbbaa0000000aab9000000000000577f7ff5540000004432000000000000aaffefeaaa88000080b210000000000555ffdff5550400009564200000000102abfefffbaa0000008b6400000000000557fdfff7750200008ac800000000000aafefffefaa0800010490800000000415dfdfffffd5510001552100000000002abffffffffaa000022a6200000000004777fffffffd50000456440000000020aefffffffffaa88008ac88000000000115fffffffff555000959100000000002abffffffffbbaa0012b22000000004457ffdffffff7f5440256440000000010affeffffffeefea804a980000000026415dfffffffdffd5009530000000008980abffffffefffba032a4400000001138157ffffffdfff7c045c88000000004e82affffffffffff808d900000000009d815dfffffdfffff010e400000000026a82bbfffffbffffc022c88000000044c50557ffffffffff80d5900000000089ca08affffffffffe212e44000000003794115ffffffffffc051c80000000044e2802bffffffffff00a3220000000089d504557ff7fffffe4056440000000112aa000afeaffffff880b910000000002554001555ffffffe010f200000000004aa80002bfffffff882ac880000000009550004577fffffe00573000000000012aa0022afffffff8808cc0000000000255400015ffffffe10159100000000004a280002bffffff882ae4000000000009a4800105fffffc0455904000000000134100000afffff0808e40400000000026910000955fff84515901800000000026a2000022bffc2028e60300000000004d520000457fe04057901c00000000008b42000022fe0008ae406a0000000000995200001fc000157101d400000000001aa200000002022bca07a800000000003642000000000557305d5000000000003a8100000000aab880eaa0000000000036518000000515c403d5c000000000003a2a600000a2af102eab0000000000003b241c007e5578c03d460000000000003a9883ff888bc200ea980000000000001d445101115e100755600000000000001a60aaaa2be1803aa3800000000000008f1604057e0c74c45c0000000000000083eaeaafe0e087ffc00000000000000060ffdffc0e0400000000000000000000"},jupiter:{name:"jupiter",hex:"0000000008907bfdb7bf2b948000000000000000041eaff7a9d5f3fa0080000000000000012cfffefefe755400800000000000080b3fff5ffff7ffbfa0400000000000008644cbddff7ffffb804000000000000000beffffffffdbb880200000000000010aa7fb7ddf5df5de1020000000000004e579eef6fbffff7be6200000000000049bf27fdfbdefffedf0100000000000010500fffffffeffff6410000000000000261fffffffffffffd8100000000000000fd71fbdf7f7fbeebc0000000000000123e72dffecdbb4b500080000000000008040a58a03ef1a76500800000000000000393941ded666b34a08000000000000000047cf35da1d74a08800000000000000000041990af81d6688000000000000800000000000ef80180400000000000000000400100c38ea0204000000000000010d0804838540f82004000000000000003f1f80002eb9fa8004000000000000007c7ffffc17ffe33c0400000000000417707fffb2fffbc66c0400000000000099c3ffffc7ffff23ff04000000000003183cffff3dfffcd0e00400000000000000a27ffefffff9ff080400000000005c095c3ff306ffffd080040000000000001000001e03ffffc000040000000000000000000024f70100000400000000000000000001f7500eff4004000000000000001037ff7f07fedea20400000000000037f7fefffff9bfbb510000000000000001b7ffffffffd642000800000000000018f83d4fd2340000c008000000000000000080005080000c0008000000000000000000000007ffd06088000000000000000003e080fa36214008000000000000000b7e1f7f7cd0b00010000000000000080b4e753fffec18b01000000000000807cc1fa0401c9affc01000000000001012123246fe03ffc40020000000000001450a77bbff800020e02000000000000081056e7f49e00e0008200000000000002079e19fff685000884000000000001008e031388ff1a1cf4040000000000000151ca2e572d6233b80000000000000000aff00ea4280cc40008000000000000002bfd4309d02008241000000000000000bdff017f03ff209c1000000000000000421af0000f276f7020000000000000080080153473ff9e522000000000000000032a6f4cfebf7fa8400000000000000020a990813bdff68040000000000000000106016fc77eb500800000000000000008c04e5fc081930100000000000000000000209f9b7f40010000000000000000000042402a30ac3200000000000000000000a028904510040000000000000000000240137194cc08000000000000000020010680a1a00010000000000000000000000028100000200000000000000000000400800000004000000000000000000000010000102080000000000000000000000010040001000000000"},einstein:{name:"einstein",hex:"fffe812fffffffffffffff8800000000f7d10057fffffffffffffe1000000000fee800a88bfffffffffffd4000000000fdfd0111fffffffffffffda000000000b2fa0003fffffffffffffe9000000000f5f70045ffffffffffffff4000000000eaec000027ffffffffffffe000000000ddf8015001ffffffffffff1080000000b2f20000023fffffffffff9c00000000cdfe0000017ffff7fffffdd800000000cafc0000002fffe07ffffef80000000020f20001101fffe00ffffff900000000e0e8000a0003ffc01fffffae0000000045f400040001ff0007ffffc740000000806800003880fe800fffefe1800000005578000d3cc0fd8733fffd50c000000022e800080420fa8f9bffffa0000000000475400013007501dfff7df12000000000a880100c80f8846bfffea82000000001b000000e41fd0027fffd841000000020b002000ea0fe830bfffe8010000000045007011fc0ffffc7ffffc010000000004008a02388ffcfaffffd8000000000005007880750ff70e7fffdc0010000000020001e1fa03faff3fefec00200000000000617c3f07fdf7ffd7c1000000000000002c80ea03fe3efbefca000000000000000effdc01ffe7dddff400000000000000299ff803fffdbbabb000000000000000175ff007fffff7dfd4000000000000000f7ff803fffffaaeea0000000000000015dff001fffff55fc1c60000000000001bfff203ffffe3abfb8400000000000017f7f405fffff747d6720000000000000dffe803ffffee82e80800000000000004ffd001fdfff951704000000000000002abe003fffffa22b800000000000000095fc0017eff7f67fc0000000008000002bfc000feffe89f2800000000000000005f80005f7fe51fd400000000000000003f00002b3fe09b8220000000000000051f4000039ff85d8500000000000000002e80000fbfc0eea800000000000000103d44001fdfc0dd34000000000000000029a0003fefe0a77800000000000000101400015ff7c0775000000000060000000aaa046afee8cd98000000000800000015545d53fd780e08000000000a000000020008097fe02248000000000400000004001695ff804000000000000c00000000081820ffc00000000000000c00000040000140ff8000000000000008000000000000029f8000000000000008000000000000007f4000000000000000000000000000001f000000000000000000000000000000170000000000000000000000000000022b0000000000000000000000000000051600000000000000000000000000002b8a0000000000000000000000000000551400000000000000000000000000002ba40000000000000000000000000057ff4000000000000000000000000000fffece00000000000000000000000001ffff9fc00000000000000"},piggy:{name:"piggy",hex:"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000c001fffe000000000000000000000003e00fffffc00000000000000000000007f03ffffff0000000000000000000000630fffffffc000000000000000000003631ffffffff000000000000000000001ff3ffffffff801000000000000000001fe7fffe7fffc0180000000000000000078fffc66fffc0780000000000000000019fffe0cfff83f8000000000000000001fffff00fff8ff0000000000000000000fffff00fff3ff00000000000000000007fffe187ff3ff00000000000000000007fffe1c3ff7fe00000000000000000007fffe3e3ffffc00000000000000000007fffc3c3fffe000000000000000000007fff8003fffc000000000000000000007fff8407fffe000000000000000000007fff8f0fffff000000000000000000007ffc0f8fffff000000000000000000007ff81f87fff3000000000000000000007fff0707fff3800000000000000000007fff000ffff3f00000000000000000007fff200ffffff80000000000000000007ffe661ffffff80000000000000000007fffe7fffffff00000000000000000003fffeffffffff00000000000000000003ffffffffffff00000000000000000003fffffffffffe00000000000000000003fffffffffff800000000000000000003ffffffffffc000000000000000000003fe3ffffff80000000000000000000001fe00fffe000000000000000000000001fcc0007e000000000000000000000001fc7c007e7c0000000000000000000001f87e003e3c0000000000000000000000f87c003e3c0000000000000000000000f83e001e3c0000000000000000000000781e001e1c0000000000000000000000700e000e1c00000000000000000000003006000e0c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000384327c0021938007c2113e0078f800040e3e600061914007c613300030a8000c0b3e600061d16001061e200030200008192a700071d12001071838003020000811227000d15120010d1838003020000c1b226000f13160010f1c2000302000040a22600099314001099320003020000786227c008933c00108913e00fc20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},honeybadger:{name:"honeybadger",hex:"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ddda80000000000000000000000000150046f00000000005a80000000000004fffff8c00000000bb4c000000000002beff749b80000001e40300000000000cfa9bc5296000001f4ff080000000000be6f7eb015800f6ea9b3e600000000033bdfdf999eea7dd8ef6cc1000000000fffffff7ca9fd9afb87d2f1800000001fdffffffc4c600eff9fd1164000000017fffff7f7d9b27bfeffd00e400000002ffffffffff6edd7fe7f8022400000004fffffffffe71d7fff7d8400380000005fffff7fffdffffffbf4441408000000bffffffffffffdffffe000092c000003fbbfffffffffffffee900000080000033f7f7ffffffffff1bb210000040000067856bfffffffffc15d4000001800000cb8915fffffffff008e40001470000011ea9317fffffffe0054a0006bc0000023d18a15bffffffc0025400180000000c6a004895957fbf5000ac006000000031e400264a45656900015000c000000181580094a0aa8a521001200700000006094a012a20848a400000000c0000003800a000111040942200009010000000e0350004890009089488004820000003826b041142400080021100041000000248220c00020200011205000a1000000400880e0085008000241c20020800000680203c00088040001020780108000003000078000000082080408e00440000039000e00000111a42fd91858024000001c003800000f237ff4aa100e022000000c00f0000032020000092003051000000783a00015c20200000a20018490000001fc6001ba02030000193000e28800000000402e400101cc00088e003077fe00000080500000c0730008058018a01500000041800000e001800d28800e017e80000081f00000604580064780022aef0000004058000038038003fe000355ed000000400400000ffe0000080000ff7000000040840000020000000000000000000000792400000000000000000000000000002ffc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},dragon:{name:"dragon",hex:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000003f8c000000000000000000000100000007ef0000000000000000008d848300000871f8000000000000001effffc1800007fe3ff02000000000003fff1ffce10001ff3ffee001f8000001f7fdffffe80000381a7f80003f00f9063efffd7ff881001d7eff00000783ff8dfffffdffdec1007f1df1400001effeebfdb801f7bf7080fe0dce000000ffffffff30001efd30807c0ffd0000003fffffff0000037778807c00070000000003fffbde0000edfcc06c000f0000000001fffbc600003b7c607e000800000000007dee7200000fae383b000820000000008fbc3a0000037e1f07c0017c0000000063f230000001ff8f81e002600000000007e0400000005fca81f6074400000000ffc00000000037fa80ff039e00000001ff80000000000ff3805d006200000003fc000000000007fd807f83c20000039f00000000000003ffc07e8fc00000059c00000000000001ffe1ff1f70000001f0000000000000005fffbdfe20000021c00000000000083077dffc380000002f80000000000004185ffbfbf00000001c60000000000003fbe3eff63000000001300000000000003fffbfc0400000001638000000000000503fdc00000000000e40000000000005d83ff000000000000000000000000003901f8000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},narwal:{name:"narwal",hex:"0000000000000000000000000000000000000000000000000000000000000000000000003f000000000000000000000000000000e3000000000000000000000000000003810000000000000000000000000000060180000000000000000000000000000c018000000000000000000000000000180180000000000000000000000000001801800000000000000000000000000010018000000000000000000000000000100180000000000000000000000000001800c0000000000000000000000000001800c0000000000000001e00000000001800e000000000000000fc00000000000c003ffff00000000003f800000000000e000007fe00000000063000000000000300000006000000003ce00000000000038000000c00000000618000000000000e01800038003ffc01cf000000000000180780007007f80fc71c000000000000701e0001c07c00007c78000000000000c073f03f01e0000060c000000000000180c07ff80f000011c380000000000003018000003c00003f078000000000000603800000e000801c0cc000000000000c03000001c001c0381860000000000018030000070001c060f0700000000000180700000c00008060c330000000000030070000380000007f8638000000000030030000700000001e0e18000000000030030000c00000000018180000000000300380018000080000701800000000003001c00700000fc00fe01800000000003000e00c000003ffffc018000000000030003838000001ffffc038000000000030000ff0000000fc07c0300000000000300007c000000070008030000000000018003e00000000300100600000000000180000000000000e0e00e000000000000c00000000000001f000c000000000000c00000000000000000180000000000006000000000000000003000000000000030000000000000000070000000000000180000000000000000e00000000000000c000000000000000180000000000000060000400000000003c0000000000000030000c0010000000e6000000000000001c00180018000001c3000000000000000700180030000007018000000000000001c038003000001c00c000000000000000f030007000007c0060000000000000001e3000600003c780600000000000000007f000e0003e00f0300000000000000000f000c007f0001e3000000000000000003001cffe000003e000000000000000003003ff0000000000000000000000000030060000000000000000000000000000300c000000000000000000000000000030180000000000000000000000000000187000000000000000000000000000001fe0000000000000000000000000000007000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},rabbit:{name:"rabbit",hex:"00000000000000000000000000000000000000000000000bf800000000000000000000000000007eaf8000000000000000000000000003e000e00000000000000000000000000e000020000000000000000000000000180000600000000000000000000000003000006000000000000000000000000060000180000000000000000000000000c000038000000000000000000000000180000e0000000000000000000000000b0000380000000000000000000000001f00007e000000000000000000000000e0000003800000000000000000000001c0000000e0000000000000000000000300000000380000000000000000000006000000000c000000000000000000000c00000000060000000000000000000008180000000200000000000000000000183c000000030000000000000000000010180000000600000000000000000000100000a015fc00000000000000000000300000ffff6000000000000000000000100000d54000000000000000000000003000007c0000000000000000000000001000000700000000000000000000000018000001e0000000000000000000000018000000380000000000000000000000080000000e00000000000000000000000c0000000300000000000000000000000700000001800000000000000000000001a0000000c00000000000000000000000e00000007000000000000000000000002000000018000000000000000000000060000000080000000000000000000000400000000c00000000000000000000006000000006000000000000000000000060000000020000000000000000000000c0000000030000000000000000000001800000b8018000000000000000000002000001ee0080000000000000000000060000030000c0000000000000000000060000060000c00000000000000000000400000c00007c0000000000000000000400000800002f0000000000000000000400000800000180000000000000000006000018000000c0000000000000000006030008000000400000000000000000030380180000006000000000000000000186c00800000060000000000000000000fc400c000000200000000000000000002030040000006000000000000000000000185600000040000000000000000000000dfe00000040000000000000000000000700000000c000000000000000000000040000000180000000000000000000000c0000060700000000000000000000000c00003ffc000000000000000000000018000030a00000000000000000000000080000100000000000000000000000000c000060000000000000000000000000070001c000000000000000000000000003fb7f00000000000000000000000000002fe80000000000000000000000000000000000000000000000"},bunny:{name:"bunny",hex:"000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000002000078000000000000000000000000078000f800000000000000000000000007c000f800000000000000000000000007c001f800000000000000000000000007e0019800000000000000000000000006700318000000000000000000000000063007180000000000000000000000000610061800000000000000000000000006180c1800000000000000000000000004080c18000000000000000000000000040c1c18000000000000000000000000040c1818000000000000000000000000060c1830000000000000000000000000060c1030000000000000000000000000060c1030000000000000000000000000020c1060000000000000000000000000030c1060000000000000000000000000030410e0000000000000000000000000019ffcc000000000000000000000000003ffffc000000000000000000000000007f007e00000000000000000000000001e0000780000000000000000000000007c00001c000000000000000000000000f0000006000000000000000000000001e00000030000000000000000000000038000000180000000000000000000000700000000c000000000000000000000060000000060000000000000000000000c0000000060000000000000000000001c000000003000000000000000000000180000000030000000000000000000003800000000180000000000000000000038000000001800000000000000000000700007f8001c0000000000000000000070001f9c000c000000000000000000007000700e000c00000000000000000000f000e007800c00000000000000000000e001c003800c00000000000000000000e0030001800c00000000000000000000e0030000c00c00000000000000000000e0070000c00c00000000000000000000e0060000c00c00000000000000000000e0040001c00c00000000000000000000e00c0000c00c0000000000000000000070080000401c0000000000000000000070080000c01c00000000000000000000700c0000c01c00000000000000000000380e0000c0380000000000000000000038060000c0380000000000000000000018040000c030030000000000200000001c0400008070038006000000600000004e060000806006fc1e00000070007e1c7e07000180f88cfdfc000000d00067ffdf03800701fbf80f9c0000025801f03083c3800603fe40001fe00003cf0fc00001e1800c0f900000007e003ec7fc0000007fc0383e000000000600f800000000001ff0fbf8000000000000000000000000001fff80000000000000000000000000000000000000000000000000000000000000000000000000000"},rooster:{name:"rooster",hex:"0000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000bc000000000000000000000000000000fc000000000000000000000000000001fc000000000000000000000000000001f8000000000000000000000000000003fc000000000000000000000000000003ff000000000000000000000000000003ff800000000000000000000000000007ffc00000000000000000000000000007ffe00000000000000000000000000000fff00000000030000000000000000000fff800000000fe000000000000000000fff800000003ff000000000000000000fffc00000007fc000000000000000000fffe0000000fe00000000000000000007fff0000001fc00000000000000000003fff8000001ffc0000000000000000003fff800000ffff0000000000000000003fffc00003ffff8000000000000000003fffe00007ffffc000000000000000003ffffe000fffffc000000000000000007fffffc01ffffb0000000000000000007ffffffc3ffff10000000000000000007fffffffffffe18000000000000000003ffffffffffff08000000000000000003ffffffffffff08000000000000000003ffffffffffff08000000000000000001ffffffffffff00000000000000000001fffffffffffe00000000000000000000fffffffffffc00000000000000000000fffffffffffc000000000000000000007fffffffff98000000000000000000003fffffffffb0000000000000000000001ffffffffe00000000000000000000000ffffffffe000000000000000000000007fffffff6000000000000000000000003fffffff0000000000000000000000001fffffff0000000000000000000000000fffffff00000000000000000000000007fffffc00000000000000000000000001fffffc000000000000000000000000007fffec000000000000000000000000001fffc0000000000000000000000000000fffc0000000000000000000000000000ff9800000000000000000000000000007d00000000000000000000000000000078000000000000000000000000000000780000000000000000000000000000007000000000000000000000000000000070000000000000000000000000000000f0000000000000000000000000000000f0000000000000000000000000000000e0000000000000000000000000000000e0000000000000000000000000000017e000000000000000000000000000007ff000000000000000000000000000000ef000000000000000000000000000001fe000000000000000000000000000000fc0000000000000000000000000000038800000000000000000000000000000010000000000000000000000000000000000000000000000000"},genesis:{name:"genesis",hex:"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fd8003f600000039e118000bc71c7000318000c00000006c311800086db6d80031e380c6fe38e06c3319cf186db6d80031b6c0c6db6d806ce2186d91cdb6d80031b7c0c6db7de06c3619edb30db6780031b600c6db60606c341b6da30db6180031b3c0c6db3dc039e471eda3e71c700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001ec0000006c00000003006030006000030c0000006c0000000300003000c000030f1cf1ce6ce681cf03cd6f361ce000030d86db1b6db7836d836f6dbc36c000030d9edb1f6db6036d836c6db836c000030db6db186db6036d836c6dbc36c00001ed9ed9cf6ce601cd83cc6db61cc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030c00d80030300030000c0000000000030c00180030600030000c0000e71ce78f0f1cd9cdb8739a3c73cd9c018db1b6db0d86db6db066de361b6f3001efb1b6db0d9edb6db066d8367b6e3c006c31b6db0db6db6db066d836db6f0c01c79ce6cf0f1ed9c79863983c7b6db8000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003f000000000000000000000000000000ffc03bbbbbbbbb93b3bbb00000000001f3e02aaaaaaaaab2aa22900000000001c0e02aaaaaaaaa93abbb90000000000380702aaaaaaaaa90aaaa90000000000380703bbbbbbbbbbbb3bb97fff000000380700000000000000000140010000003807039bbb9393bbb93bb940010000003fff02a2aa2a32228b22894001000000ffffc3a2bbbb13bbb933b940017f0000ffffc0a2a8aa128a8920894001417c00ffffc39bbbabbbbbbbbbb940014145c0e001c00000000000000001c001c1c76ae001c2bbbbb93ab939399140014145c0e001c2a20a0aa2a28aa2314001417c00e001c3b30bbbb3bbbbba1140017f0000e001c0a20a8aa0aaa2aa114001000000e001c0a20bbab8babab9b94001000000e001c000000000000000014001000000e001c3bb3b933b939bbbb97fff000000e001c08a8a32a2aaa20a210000000000f807c0bb3b133abba33bb10000000000ff3fc0a28a12aaaaa222a100000000007fff80bb3a3b3bab9bbba3000000000007f8000000000000000000000000000001e0000000000000000000000000000000000"},my_bank:{name:"my_bank",hex:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003f000000000000000000000000000000ffc00000000000000000000000000003fff0000000000000000000000000000ffffc000000000000000000000000003fffff00000000000000000000000001ffffffe0000000000000000000000007fffffff800000000000000000000001ffffffffe00000000000000000000007fffffffff8000000000000000000001ffffffffffe000000000000000000007fffffffffff80000000000000000001ffffffffffffe0000000000000000000000000000000000000000000000000000000000000000000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000003f8fe3f8fe00000000000000000000000000000000000000000000000000000000000000000000000000000000000007fffffffffff800000000000000000007fffffffffff800000000000000000007fffffffffff800000000000000000007fffffffffff8000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c078781e0007f800780381c070780003c0f87c3e0007fe007803c1c070f80003e0f83c3c0007fe007c03e1c071f00003e1f81e7800071f00fc03e1c073e00003e1f81e7800070f00fe03f1c073c00003f1f80ff000071e01fe03f1c077800003f3f80ff00007fe01ee03f9c07f000003f3f807e00007fe01cf03bdc07f000003fbf807c00007ff03cf039dc07f800003bff803c000070f03ff039fc077c00003bf7803c000070703ff838fc073c000039f7803c000070f07ff838fc071e000039e7803c00007ff0783c387c071f000039e7803c00007fe0f03c383c070f800038e7803c00007fc0f03c383c07078000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},candle:{name:"candle",hex:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000030000000000000000000000000000000380000000000000000000000000000003c0000000000000000000000000000003c0000000000000000000000000000003e0000000000000000000000000000003e0000000000000000000000000000007e0000000000000000000000000000007f000000000000000000000000000000ff000000000000000000000000000001ff000000000000000000000000000003ff000000000000000000000000000003ff000000000000000000000000000007ff000000000000000000000000000007ff00000000000000000000000000000ffe00000000000000000000000000000ffe00000000000000000000000000001fbe00000000000000000000000000001fbe00000000000000000000000000001f3e00000000000000000000000000003f3e00000000000000000000000000003e3e00000000000000000000000000003e3f00000000000000000000000000003c3f80000000000000000000000000003c3f80000000000000000000000000003c3fc0000000000000000000000000007c3fc0000000000000000000000000007c3fc0000000000000000000000000007c1fe0000000000000000000000000003c1fe0000000000000000000000000003c0fe0000000000000000000000000003c07e0000000000000000000000000003c07e0000000000000000000000000003c03c0000000000000000000000000001e03c0000000000000000000000000001e01c0000000000000000000000000000e01800000000000000000000000000007018000000000000000000000000000070100000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fe000000000000000000000000000001ff000000000000000000000000000003ff800000000000000000000000000003ff800000000000000000000000000003ff800000000000000000000000000003ff800000000000000000000000000003ff800000000000000000000000000003ff800000000000000000000000000003ff800000000000000000000000000003ff800000000000000000000000000003ff800000000000000000000000000003ff800000000000000000000000000003ff800000000000000"},ancap:{name:"ancap",hex:"0000001fffffffffffffffffff8000000000001fffffffffffffffffff0000000000001fffffffffffffffffff0000000000000f0000000ffffffffffe0000000000000780000007fffffffffc0000000000000780000007fffffffffc00000000000003c0000003fffffffff800000000000003e03fffc3fffffffff800000000000001e07fffe1fffffffff000000000000000f07ffff0fff0007ff000000000000000f07800f0ffe0007fe000000000000000787800787fe000ffc000000000000000783c00787fc001ffc0000000000000003c3e003c3fc001ff80000000000000003e1e003e3f8003ff80000000000000001e0f001e1f0003ff00000000000000000f0f000f0f0007ff00000000000000000f07800f0e000ffe0000000000000000078780079e000ffc00000000000000000783c0079e001ffc000000000000000003c3e003fc001ff8000000000000000003e1e003fc003ff8000000000000000001e0f001f8003ff0000000000000000000f0f000f8007ff0000000000000000000f07800f000ffe00000000000000000007878000000ffc0000000000000000000783c000001ffc00000000000000000003c3e000001ff800000000000000000003e1e000003ff800000000000000000001e0f000003ff000000000000000000000f0f000007fe000000000000000000000f0780000ffe00000000000000000000078780000ffc0000000000000000000007c3c0001ffc0000000000000000000003c3e0001ff80000000000000000000001e1e0003ff80000000000000000000001e0f0003ff00000000000000000000000f0f0007fe00000000000000000000000f07800ffe00000000000000000000000787800ffc000000000000000000000007c3c01ffc000000000000000000000003c3e01ff8000000000000000000000001e1e03ff8000000000000000000000001e0f03ff0000000000000000000000000f0f07fe0000000000000000000000000f078ffe00000000000000000000000007878ffc00000000000000000000000007c3dffc00000000000000000000000003c3fff800000000000000000000000001e1fff800000000000000000000000001e0fff000000000000000000000000000f0ffe000000000000000000000000000f0ffe00000000000000000000000000078ffc0000000000000000000000000007cffc0000000000000000000000000003cff80000000000000000000000000001eff80000000000000000000000000001eff00000000000000000000000000000ffe00000000000000000000000000000ffe000000000000000000000000000007fc000000000000000000000000000007fc000000000000000000000000000003f8000000000000000000000000000001f800000000000000"},anonymous:{name:"anonymous",hex:"000000001f0000fffc0003e000000000000000001e30007ff80071e000000000000000001cf0003ff0007ce0000000000000000019fe001fe001fee000000000000000003bff801fc08fffe000000000000000003fffe01fc01fffe000000000000000003ffff11fe03fffe000000000000000003ffff83ff87fffe000000000000000003ffffc3ff0ffffe000000000000000003ffffe3fe1fffff000000000000000003ff07e1fe3f03ff000000000000000003fc01f0fe7c00ff000000000000000003f00070fff8003f000000000000000003e00010ffc0003f000000000000000003800000ffc0000f000000000000000003000000ffc00000000000000000000003800010ffe0007c0000000000000000038007f07fffffff0000000000000000033ffff0ffffffff000000000000000003fffff0ffffffff000000000000000003fffff0ffffffff000000000000000003fffff0ffffffff000000000000000001ffffe0ffffffff000000000000000000fffff0fffffffe000000000000000000fffff0fffffffe0000000000000000007fffe0fffffffe0000000000000000007fffe0fffffffc0000000000000000003fffc0fffffff80000000000000000011fff80ff3ffff000000000000000000187e100ff1fffe0000000000000000000800200ffce000800000000000000000081fe10ffef0008000000000000000000c8fe31ffeff80800000000000000000048ff31fffff888000000000000000000643fa1fffff090000000000000000000241ff1ffffe110000000000000000000320ff9fdffc1200000000000000000001803f8f8ff822000000000000000000019006000fe06600000000000000000000c800000380c400000000000000000000e4000200018c000000000000000000006300070003180000000000000000000031800f8006180000000000000000000038f00f801c3000000000000000000000187fe001fe60000000000000000000001c3ff83ffe60000000000000000000000c07fffffcc0000000000000000000000e03fffff9c00000000000000000000006183ffff98000000000000000000000031f001ff30000000000000000000000031fe01fe60000000000000000000000019fe03fe60000000000000000000000019ff03fcc000000000000000000000000cff07fdc0000000000000000000000004fe07ff80000000000000000000000007fe03ff00000000000000000000000003fc03ff00000000000000000000000001fc01fe00000000000000000000000000fc01fc000000000000000000000000007c03f8000000000000000000000000007e03f8000000000000000000000000003e03f0000000000000000000000000003e07e0000000000000000000000000001e07c00000000000000"},mushroom:{name:"mushroom",hex:"00000000000000000000000000000000000000000000007ff40000000000000000000000000007ffffc00000000000000000000000003ffffff8000000000000000000000000ffffffff000000000000000000000003fffe007fc0000000000000000000000ffff8001ff0000000000000000000001ffff0000ffc000000000000000000003f87f00007fe000000000000000000007f07f00007ff00000000000000000000fe07f8000fff80000000000000000001fe1ffc003fffc0000000000000000003ffbfffabffffe0000000000000000007fffffffffffff000000000000000000ffffe3ffffffff800000000000000001ffff01ffffffffc00000000000000003fffc01ffffffffc00000000000000003fff801fffff07fc00000000000000007fff003fffff01fe00000000000000007fff007fffff00ff0000000000000000ff3f83ffffff807f0000000000000000fc3fffffffffc07f0000000000000000f83ffffffffffaff8000000000000001f03fffffffffffff8000000000000001f03fffffffffffff8000000000000001f07fffffffffffffc000000000000001f0ffffffffffffffc000000000000001f1ffffd557ffffffc000000000000001fffffaaaaabfffff8000000000000000ffffd5555555ffff8000000000000000fffeaa8808aaafff00000000000000007fd550000011555c00000000000000000aaa0000000022a800000000000000000000000000000000000000000000000000000002aa00000000000000000000000000055555500000000000000000000000000aaaaaa8000000000000000000000000055555500000000000000000000000000aaaaaa8000000000000000000000000055555500000000000000000000000000aaaaaa8000000000000000000000000055555500000000000000000000000000aaaaaa80000000000000000000000001ffffffc0000000000000000000000001ffffffc0000000000000000000000001ffffffc0000000000000000000000001ffffffe0000000000000000000000001ffffffe0000000000000000000000003ffffffe0000000000000000000000003ffffffe0000000000000000000000003ffffffe0000000000000000000000003fffffff0000000000000000000000003fffffff0000000000000000000000007fffffff0000000000000000000000007fffffff0000000000000000000000007fffffff0000000000000000000000007fffffff0000000000000000000000007fffffff0000000000000000000000003ffffffe0000000000000000000000001ffffffc00000000000000000000000007fffff000000000000000000000000001ffffc0000000000000000000000000003fff800000000000000000000000000007f400000000000000"},invader:{name:"invader",hex:"0000000003fc0000000003fc000000000000000003fc0000000003fc000000000000000003fc0000000003fc000000000000000003fc0000000003fc000000000000000003fc0000000003fc000000000000000003fc0000000003fc00000000000000000003fc000003fc0000000000000000000003fc000003fc0000000000000000000003fc000003fc0000000000000000000003fc000003fc0000000000000000000003fc000003fc0000000000000000000003fc000003fc0000000000000000000003fc000003fc0000000000000000000003fc000003fc00000000000000000003fffffffffffffc000000000000000003fffffffffffffc000000000000000003fffffffffffffc000000000000000003fffffffffffffc000000000000000003fffffffffffffc000000000000000003fffffffffffffc000000000000000003fffffffffffffc000000000000000003fffffffffffffc0000000000000003fffc03fffffc03fffc00000000000003fffc03fffffc03fffc00000000000003fffc03fffffc03fffc00000000000003fffc03fffffc03fffc00000000000003fffc03fffffc03fffc00000000000003fffc03fffffc03fffc00000000000003fffc03fffffc03fffc00000000000003fffc03fffffc03fffc000000000003fffffffffffffffffffffc0000000003fffffffffffffffffffffc0000000003fffffffffffffffffffffc0000000003fffffffffffffffffffffc0000000003fffffffffffffffffffffc0000000003fffffffffffffffffffffc0000000003fffffffffffffffffffffc0000000003fffffffffffffffffffffc0000000003fc03fffffffffffffc03fc0000000003fc03fffffffffffffc03fc0000000003fc03fffffffffffffc03fc0000000003fc03fffffffffffffc03fc0000000003fc03fffffffffffffc03fc0000000003fc03fffffffffffffc03fc0000000003fc03fffffffffffffc03fc0000000003fc03fffffffffffffc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000003fc03fc0000000000000003fffc03fffc0000000000000000000003fffc03fffc0000000000000000000003fffc03fffc0000000000000000000003fffc03fffc0000000000000000000003fffc03fffc0000000000000000000003fffc03fffc0000000000000000000003fffc03fffc0000000000000000000003fffc03fffc00000000000000000000000000000000000000000000000000000000000000000000000000"},mtgox:{name:"mtgox",hex:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007f800000000000000000000000000003ffc0000000000000000000000000000fffc0000000000000000000000000003c1fe000000000000000000000000000e00fe000000000000000000000000001800fe000000000000000000000000007000fc00000000000000000000000000c000fc000000000000000000000000030001fc000000000000000000000000060001f8000000000000000000000000080001f8000000000000000000000000000003f8000000000000000000000000000003f0000000000000000000000000000007f0000000000000000000000000000007e000000000000000000000000000000fc000000000000000000000000000001fc000000000000000000000000000003f8000000000000000000000000000003f0000000000000000000000000000007f000000000000000000000000000000fe00028000a2aaaa81ffff01fffe0ff1fc0005400155555543ffff87ffff07f9fc0002a002a2aaaa87ffffcfffff87fff8000540055555550fffffcfffffc3fff0000aa00aa002800f00001f0007c1ffe0000550155005000f00001e0007c1ffc0000aa82aa002800f00001e000780ffc0000554154005001f0fffde0007807f80000a2828a00a801e0fffde000780ffc0000514514005001e1fffde000781ffc0000a2aa0a00a001e1fffbe000783ffe0001415414005001e0007bc000787fff0000a0a80a00a001e0007bc000f8ffff0001405414005001f000fbe001f1fe7f8000a0282800a2a1fffff3fffff3fc3f8001405014005141fffff1ffffe7f81fc000a0202800a2a0ffffe0ffffcff01fe0014000140141403fff847fff1fe00fe000000000000000000008000000000000000000000000000000100000000000000000000000000000000000aaaa8000000000000000000000001000555500000000000000000000000020002aaa0000000000000000000000004000155400000000000000000000000000002aa8000000000000000000000000400155500000000000000000000000008002aaa000000000000000000000000140055540000000000000000000000000a02aaa8000000000000000000000000151555100000000000000000000000000aaaa800000000000000000000000000155550000000000000000000000000000aaa8000000000000000000000000000155500000000000000000000000000000aa800000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},electrum:{name:"electrum",hex:"0000000000000000000000000000000000000000000000000000000000000000000000000000000fe00000000000000000000000000001ffff0000000000000000000000000007ffffc00000000000000000000000003ffffff00000000000000000000000007ffffffc000000000000000000000001ffffffff000000000000000000000003e07ffc0f80000000000000000000000f801ff003e0000000000000000000001f0f07c1e1f0000000000000000000003f3fc38ff9f8000000000000000000007e3ff01ff8fc000000000000000000007e7ffc7ffcfe00000000000000000000fe7ff83ffc7e00000000000000000001fc7ff11ffe7f00000000000000000003fcffe38ffe7f80000000000000000003fcffc7c7fe7f80000000000000000007fcff8fe3fe7fc0000000000000000007fcff8001fe7fc000000000000000000ffc7000000e7fe000000000000000000ffc000fe0007fe000000000000000001ffc067ffc403ff000000000000000001ff07cfffe7c0ff000000000000000001fc078ffff3c87f000000000000000001f8e79f97f1ce1f000000000000000003f1e33f97f98f8f800000000000000003e7f33e01f89fc7800000000000000003c7f27e00fc9fe7800000000000000003cff07f187c1ff38000000000000000039ff8ff1cfe3ff38000000000000000039ff8ff18fe3ff38000000000000000039ff8ff007e3ff38000000000000000039ff8ff1c7e3ff3800000000000000003cff87f1e7c1fe7800000000000000003cff23f1c7c9fe7800000000000000003e7f33e00f89fcf800000000000000003f1f31f97f9cf1f800000000000000001f8e79f97f1ce3f000000000000000001fc278ff7e3c87f000000000000000001ff07c7ffe7c1ff000000000000000001ffc067ffc407ff000000000000000000ffe000fe0007fe000000000000000000ffe7800003e7fe0000000000000000007fcff8ee1fe7fc0000000000000000007fcffcfe3fe7fc0000000000000000003feffc7c7fe7f80000000000000000003feffe38ffe7f80000000000000000001fe7ff11ffe7f00000000000000000000fe7ff83ffefe00000000000000000000fe7ffc3ffcfe000000000000000000007f3ff01ffcfc000000000000000000003f3fe387f9f8000000000000000000001f8f07e0e3f0000000000000000000000fc01ff007e00000000000000000000003f0fffe1fc00000000000000000000001ffffffff000000000000000000000000fffffffe0000000000000000000000003ffffff800000000000000000000000007ffffc000000000000000000000000001ffff00000000000000000000000000000fe0000000000000000000000000000000000000000000000000000000000000000000000000000000"},mycelium:{name:"mycelium",hex:"000000000000000000000000000000000000000000000000000000000000000000000000000000fffe0000000000000000000000000003f7df800000000000000000000000001f07c1f00000000000000000000000007807c03c000000000000000000000001c007c0070000000000000000000000030007c00180000000000000000000000e0007c000e0000000000000000000001c0007c0007000000000000000000000300007c0001800000000000000000000600007c0000c00000000000000000000c0000fe000060000000000000000000180000fe000030000000000000000000180003ff800030000000000000000000300007ffc0001800000000000000000060001ffff0000c00000000000000000040007ffffc0004000000000000000000c000ff01fe0006000000000000000000807ffc007ffc0200000000000000000180fff8003ffe0300000000000000000181ffe0000fff0300000000000000000101cf800003e70100000000000000000301c7800003c70180000000000000000201ffc00007ff0180000000000000000200fff0001fff00c0000000000000000600fff8003ffe00c00000000000000006007ffe00fffc00c00000000000000006003cff83fe7c00c00000000000000004003c3ffff87c00400000000000000004003c0fffe07c00400000000000000004003c07ffc07c00400000000000000004003c01ff007c00400000000000000004003c00fe007c00400000000000000004003c007e007c00400000000000000004003c007c007c00400000000000000006003c007c007c00c00000000000000006003c007c007c00c00000000000000006007c007c007c00c00000000000000002007c007c007c00c0000000000000000200fe007c00fe0180000000000000000300fe007c01ff0180000000000000000103ff807c03ff8180000000000000000107ffe07c0fffe30000000000000000019ffff07c3ffffb000000000000000000ff83fc7c7fc7fe000000000000000000fe00ff7dff01fe0000000000000000007c007ffffc007e00000000000000000070001ffff0001c000000000000000000300007ffe00018000000000000000000100001e7800030000000000000000000180001e70000300000000000000000000c0001ff000060000000000000000000060000fe0000c0000000000000000000030000fe0001800000000000000000000180003800070000000000000000000000e00000000e0000000000000000000000300000001800000000000000000000001c00000070000000000000000000000007800003e0000000000000000000000001e0001f000000000000000000000000003f01fc000000000000000000000000000fffe0000000000000000000000000000000000000000000000"},ethereum:{name:"ethereum",hex:"0000000000000000000000000000000000000000000000030000000000000000000000000000000280000000000000000000000000000007000000000000000000000000000000068000000000000000000000000000000f4000000000000000000000000000001ea000000000000000000000000000001f5000000000000000000000000000003ea000000000000000000000000000003f5000000000000000000000000000007ea80000000000000000000000000000ff540000000000000000000000000000feaa0000000000000000000000000001ff540000000000000000000000000001feaa0000000000000000000000000003ff550000000000000000000000000007feaa8000000000000000000000000007ff55400000000000000000000000000ffeaa800000000000000000000000000fff55400000000000000000000000001ffeaaa00000000000000000000000003fff55500000000000000000000000003ffeaaa80000000000000000000000007ffc55500000000000000000000000007ffa2aa8000000000000000000000000ffd40554000000000000000000000001ffaa00aa000000000000000000000001fd540055000000000000000000000003eaaa000a000000000000000000000003d5540005000000000000000000000006aaaa000080000000000000000000000d55540000000000000000000000000002aaaa0000000000000000000000000001555400000000000000000000000000002aaa0000000000000000000000000000155400000000000000000000000000040aaa00008000000000000000000000030154000100000000000000000000000380aa0002000000000000000000000001e0540015000000000000000000000000f80a002a000000000000000000000000fe0400540000000000000000000000007f0202a80000000000000000000000003fc005500000000000000000000000001ff00aa00000000000000000000000001ff855400000000000000000000000000ffeaaa000000000000000000000000007ff554000000000000000000000000007feaa8000000000000000000000000003ff550000000000000000000000000001feaa0000000000000000000000000000ff540000000000000000000000000000fea800000000000000000000000000007f5400000000000000000000000000003ea800000000000000000000000000003f5000000000000000000000000000001ea000000000000000000000000000000f4000000000000000000000000000000680000000000000000000000000000007000000000000000000000000000000028000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000"},litecoin:{name:"litecoin",hex:"00000000000000aaaa00000000000000000000000000057fff400000000000000000000000000fffffe80000000000000000000000005ffffff4000000000000000000000000fffffffa000000000000000000000005ff8001ff40000000000000000000000bfc00003fa00000000000000000000017f000011fd0000000000000000000003fc0000aa3f8000000000000000000007f00000171fc00000000000000000000fe000000fcfe000000000000000000017c001ff9707d00000000000000000002f8222aa8803e80000000000000000001f5403558001f40000000000000000003e2882ab8000f80000000000000000007c51075500007c000000000000000000fc8206ab00033a00000000000000000079040557001fbd000000000000000000f80806ee002f9e000000000000000001f0100dfe015fdf000000000000000002f0200ffe0abfef800000000000000001e0404ffe1557cf400000000000000003e0808ffc0aae0f800000000000000001e0151ffc055807400000000000000003e02a1ffcc2a007800000000000000007c5541fffc50007c00000000000000003caaa3fffc80007800000000000000007dd553fff800007c00000000000000003daaa3fff00000ba00000000000000007dd503ffc000073c00000000000000003ce80fff00002fba00000000000000007dd03fff0000573c00000000000000003d807fff0002abba00000000000000007c007ffe0005577c00000000000000003c007ffe008aaafa00000000000000007c008ffe0115547c00000000000000003e000ffe0222a07800000000000000005e010ffc0000007400000000000000003e0a9ffc000000f800000000000000001e151fffffff00f000000000000000002f7a9fffffff00f800000000000000001f7d1fffff5601f000000000000000000fbebfffeaaa01e80000000000000000179d3ffdd55603d000000000000000000bda3fffaaaa3be0000000000000000007c03ffffffc77c0000000000000000003e000000000ef80000000000000000001f0000000005f40000000000000000002f800a22022be800000000000000000017c055440457f00000000000000000000be3eaa8088fe000000000000000000005f3d550111fc000000000000000000002f8aa80003f80000000000000000000017e540000ff0000000000000000000000bf800003fa00000000000000000000005ff0001ff400000000000000000000002bff83ffe8000000000000000000000005ffffff40000000000000000000000002fffffe8000000000000000000000000057ffd5000000000000000000000000000aaaa00000000000000000000000000000550000000000000000000000000000000000000000000000000000000000000000000000000000000"},myetherwallet:{name:"myetherwallet",hex:"000000000000007ffe0000000000000000000000000007d555e00000000000000000000000001aaaaab800000000000000000000000075455556000000000000000000000001aab2aaab800000000000000000000006557d555540000000000000000000000eaa7aaaaab0000000000000000000001f557d555558000000000000000000003b2abcaaaaac000000000000000000007354cd55555600000000000000000000f2a9ceaaaaab0000000000000000000175958001555580000000000000000002ebcb3ffcaaaac0000000000000000002e4d2ffff155540000000000000000006caeaffffcaaaa000000000000000000dd4f77ffff55550000000000000000009aa66bffffaaab0000000000000000013957e3ffffd555800000000000000001aaabc9ffffeaaa8000000000000000035553d5fffff55540000000000000000272abcafffffaaac0000000000000000365535501fff955400000000000000006eaa7eaaa7ffcaaa00000000000000004e55665541ffd55600000000000000005ca8672abaffeaaa0000000000000000dd572755797fe5560000000000000000baa7caaa9c7feaaa0000000000000000b94ff3955d3ff5550000000000000000baaffdaaaebff2ab0000000000000000f54ffdd0003ff5550000000000000000f2aff9c7fffff2ab0000000000000000e54ff8e1fffff55100000000000000008aaffaa83ffff2a70000000000000000d54ff9744ffff54f0000000000000000aaaffc7283fff2af0000000000000000d54ffd75507ff55d0000000000000000aaaffebaaa9fea9f0000000000000000d557fe395507e55a00000000000000006aa7ff1caac8eaaa00000000000000005557ff9d54f1153a00000000000000006aabffccaa6e2a7200000000000000005553fff0157e557400000000000000002aa9ffffeabcaaec00000000000000003154ffffe53d54e40000000000000000122afffff2bcaac8000000000000000014547ffff57555d800000000000000000aaa3ffffa7ea9d0000000000000000009110ffff96653900000000000000000062287fffca6aba00000000000000000045541fffed7534000000000000000000288a87ffecb2740000000000000000001151407e1939780000000000000000000a2228001a9ab000000000000000000004445500795ce0000000000000000000068aaaa7329cc000000000000000000001111153f54d8000000000000000000000a222abeaab0000000000000000000000445555e55600000000000000000000003888a9caa800000000000000000000000d1554d57000000000000000000000000322222bc0000000000000000000000000e4455e000000000000000000000000001fabf000000000000000000000000000007e000000000000000"},zcash:{name:"zcash",hex:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007f80000000000000000000000000000ffffc000000000000000000000000003fffff80000000000000000000000000ffffffe0000000000000000000000003fffffff800000000000000000000000ffffffffc00000000000000000000001fffffffff00000000000000000000003ffe001fff80000000000000000000007ff00003ffc000000000000000000000ffc00000ffe000000000000000000001ff803f003ff000000000000000000003fe003f001ff000000000000000000007fc003f000ff800000000000000000007f8003f0007fc0000000000000000000ff0003f0003fc0000000000000000000fe01fffff01fe0000000000000000001fe01fffff00ff0000000000000000001fc01fffff007f0000000000000000003f881fffff007f0000000000000000003f801fffff003f8000000000000000003f201ffffe003f801f800e001f80e01c7f401ffffe003f807fe00f007fe0e01c7f008003fc001fc0fff01f00fff0e01c7f010007f8001fc1e0f01f00f070e01c7e02000ff8001fc1e0703f81e078e01cfe04001ff0001fc1c0703b81e078e01cfe88083fe0001fc3c0783b80f000e01cfe10103fc0000fc3c00079c0fc00e01cfe20207fc0000fc3c00071c07f00fffcfe4040ff80000fc3c00071e03fc0fffcfe8880ff00001fc3c000f0e007e0fffcfe1101fe00001fc3c000e0e001f0e01cfe2223fe00001fc3c078fff00078e01c7e4407fc00001fc1c071fff1c078e01c7f0887f800001fc1e071c071c078e01c7f510ff777003f81e0f3c079e070e01c7f2a1fffff003f80ffe38038fff0e01c3f943fffff003f807fc380387fe0e01c3faabfffff007f001f87803c1f80e01c1fd53fffff007f0000000000000000001fcabfffff00ff0000000000000000000fe53fffff01fe0000000000000000000ff2803f0081fe00000000000000000007f9553f1003fc00000000000000000003fcaa3f2007fc00000000000000000003fe443f400ff800000000000000000001ff2abf003ff000000000000000000000ffc100007fe0000000000000000000007ff2a221ffc0000000000000000000003ffc000fff80000000000000000000001fffe1ffff00000000000000000000000ffffffffe000000000000000000000003fffffff8000000000000000000000001fffffff00000000000000000000000003fffffc00000000000000000000000000fffff0000000000000000000000000000fff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},dash:{name:"dash",hex:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007fffffc03fffff00ffffff8fe000fe007fffffe07fffff81ffffff8fe000fe00ffffffe1ffffff83ffffff1fc001fc00ffffffe1ffffff87ffffff1fc001fc00ffffffe3ffffff8fffffff1fc001fc0000000fe3f8003f8fe000003f8003f80000001fc7f8003f8fe000003f8003f80fff001fc7f0007f1fffffe03ffffff81ffe001fc7f0007f1ffffff07ffffff81ffe003f87f1ffff1ffffff87ffffff01ffe003f8fe1fffe0ffffff87ffffff03ffe003f8fe1fffe07fffff8fffffff00000007f0fe3fffe000003f8fe000fe00000007f1fc3fffc000007f8fe000fe007ffffff1fc001fc7ffffff1fc001fe00ffffffe1fc001fc7ffffff1fc001fc00ffffffe3f8003f8ffffffe1fc001fc00ffffffc3f8003f8ffffffc3fc003fc01ffffff03f8003f8ffffff83f8003f800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},bitcoin_cash:{name:"bitcoin_cash",hex:"00003ffff00ffffffffff00ffffc000000003ffff01ffffffffff80ffffc000000003fffe03ffffffffffc07fffc000000003fffc03ffff1fffffc03fffc000000003fffc07ffe30fffffe03fffc000000003fff80fffe38ffffff01fffc000000003fff80fffe38ffffff01fffc000000003fff01fffe3803ffff80fffc000000003fff03ffff0000ffffc0fffc000000003fff03ffff0000ffffc0fffc000000003ffe03fff000007fffc07ffc000000003ffe07ffc003c07fffe07ffc000000003ffe07ffc00fe03fffe07ffc000000003ffc07ffc00ff07fffe03ffc000000003ffc0ffffe0ff07ffff03ffc000000003ffc0ffffe07e07ffff03ffc000000003ffc0ffffe07c0fffff03ffc000000003ffc0ffffe07801ffff03ffc000000003ffc0fffff00000ffff03ffc000000003ffc0fffff000007fff03ffc000000003ffc0fffff003c07fff03ffc000000003ffc0fffff03fe03fff03ffc000000003ffc0fffff83ff03fff03ffc000000003ffc0fffff81ff03fff03ffc000000003ffc0fffff81fe03fff03ffc000000003ffc0fffff81fe07fff03ffc000000003ffc0fffffc1f807fff03ffc000000003ffc07ffffc0e00fffe03ffc000000003ffe07ffffc0001fffe07ffc000000003ffe07ffffc0007fffe07ffc000000003ffe03fffe0003ffffc07ffc000000003fff03fffe0023ffffc0fffc000000003fff03fffe0061ffffc0fffc000000003fff01fffe3c71ffff80fffc000000003fff80fffffc71ffff01fffc000000003fff80fffffc71ffff01fffc000000003fffc07ffffe3ffffe03fffc000000003fffc07ffffffffffc03fffc000000003fffe03ffffffffffc07fffc000000003fffe01ffffffffff807fffc000000003ffff00ffffffffff00ffffc000000003ffff807ffffffffe01ffffc000000003ffffc03ffffffffc03ffffc000000003ffffe00ffffffff007ffffc000000003fffff007ffffffe00fffffc000000003fffff801ffffff801fffffc000000003fffffc007ffffe003fffffc000000003fffffe000ffff0007fffffc000000003ffffff0000ff0000ffffffc00000000000000000000000000000000000000000000000000000000000000000000000000038000001c000000000e00000000001fe39800001c001fe0000e00000000001ff198000018003fc0000e00000000001c7818000000007840000e00000000001c3b9f1f3f1dfc700fc7eff0000000001c739f3f7f9dfe700fe7eff0000000001ff39878739dcee000ee0e78000000001ffb9870e1ddc6e0036f0e38000000001c3b9870e1ddc6700fe7ce38000000001c3b9870e1ddc6701c61ee38000000001c3b987071ddc6781c606e38000000001ffb9fff7f9dc63fffefee38000000001ff39fbf3f1dc61fefefee380000"},bitcoin_gold:{name:"bitcoin_gold",hex:"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fc000000000000000000000000000000ff80000000000000000000000000000007e00000000000000000000000000000fcf80000000000000000000000000000ff1e0000000000000000000000000000ffe78000000000000000000000000000fff9c000000000000000000000000000fffce000000000000000000000000000ffff7000000000000000000000000000ffffb800000000000000000000000000ffffdc00000000000000000000000000ffffee00000000000000000000000000c7fff700000000000000000000000000fdfffb00000000000000000000000000ff7ffb80000000000000000000000000f7bffd80000000000000000000000000f1dffec0000000000000000000000000f0fffec0000000000000000000000000fe37ffe0000000000000000000000000ffbbff60000000000000000000000000ffddff60000000000000000000000000ffcdfff00000000000000000000000001fceffb00000000000000000000000000fc6ffb3f1ffe7e1f8770e1f81f8f1fc0fc3ffb3f9ffeff3fc778e3fc7fcf1ff0fc37ff3f9fffff7fe77ce7fe7fef1ff7fc37ff3b9c71e3f0f77cef0cf1ef1e7ff837fd3f9c73c0e0f77eee00e0ef1e3ffc37fd3f9c73c0e0777fee7fe0ff1e3ffe37fd3fdc73c0e07777ee7ee0ff1e3fff37fd39dc73c0e0f777ee7ee0ef1e307f37ff39dc71e3f0f773ef0ef1ef1e707f37ff3fdc71ff7fe771e7fe7feffff07f3ffb3fdc70ff3fc771e7fc7fcffff07f6ffb3f9c707e1f8770e1f01f0fffc1ffeffb0000000000000000000000000ffedfff0000000000000000000000000fffdff60000000000000000000000000ffbbff60000000000000000000000000fe77ffe0000000000000000000000000f0effec0000000000000000000000000f1dfffc0000000000000000000000000e7bffd80000000000000000000000000ff7ffb80000000000000000000000000f9fffb0000000000000000000000000087fff600000000000000000000000000ffffee00000000000000000000000000ffffdc00000000000000000000000000ffffb800000000000000000000000000ffff7000000000000000000000000000fffce000000000000000000000000000fffbc000000000000000000000000000ffe78000000000000000000000000000ff1e0000000000000000000000000000f878000000000000000000000000000003e00000000000000000000000000000ff800000000000000000000000000000fc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},vertcoin:{name:"vertcoin",hex:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003ff00000000000000000000000000003ffff000000000000000000000000001fffffc00000000000000000000000003ffffff0000000000000000000000000fffffff8000000000000000000000003fffffffe000000000000000000000007ffffffff00000000000000000000000fffffffff80000000000000000000001fffffffff00000000000000000000003fffffffff00000000000000000000007ffffffffe00000000000000000000007ffffffffc0000000000000000000000fffffffffc0000000000000000000001fffffffff80000000000000000000001fffffffff00000000000000000000003ffffffffe00200000000000000000003ffffffffe00200000000000000000007ffffffffc00700000000000000000007ffffffff800f00000000000000000007ffffffff801f80000000000006000007ffffffff001f8000000000000600000ffffffffe003f8000004000000000000ffffffffe007f8000004000000000000ffffffffc007f81e049f83c1e0613c00ffffffff800ff83f05df8fc3f0e1fe00fe000fff001ffc61860408061821c200fc0007ff003ffc40840418040c218200f80003fe003ffc40840410040c218300ffe001fc007ffcff840410040c218300fff001fc00fff8c0040410040c218300fff800f800fff840040418040c218300fff8007001fff8600404180608218300fffc003003fff83084040c03182183007ffe002007fff81f840787e1f02183007fff000007fff80000000000000000007fff00000ffff00000000000000000003fff80001ffff00000000000000000003fffc0001fffe00000000000000000003fffe0003fffe00000000000000000001fffe0007fffc00000000000000000000ffff0007fffc00000000000000000000ffff800ffff8000000000000000000007fffc01ffff8000000000000000000003fffc03ffff0000000000000000000003fffe03fffe0000000000000000000001ffff07fffc0000000000000000000000ffff8ffff800000000000000000000007fffdffff000000000000000000000001fffffffe000000000000000000000000fffffff80000000000000000000000003fffffe00000000000000000000000000fffff8000000000000000000000000001fffe00000000000000000000000000001fe0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},namecoin:{name:"namecoin",hex:"00000000000000000000000000000000000000000000000ff00000000000000000000000000000ffff0000000000000000000000000003ffffc00000000000000000000000000ffffff00000000000000000000000001ffffff80000000000000000000000007ffffffe000000000000000000000000ffffffff000000000000000000000001ffffffff800000000000000000000003ffffffffc00000000000000000000007ffffffffe00000000000000000000007ffffffffe0000000000000000000000fff87fff1f0000000000000000000000fff07ffc3f0000000000000000000001ffe03ffc3f8000000000000000000001ffe01ff83f8000000000000000000003ffe11ff87fc000000000000000000003ffc18ff87fc000000000000000000003ffc187f07fc000000000000000000007ffc1c3f07fe000000000000000000007ffc0e3f0ffe000000000000000000007ff8061f0ffe000000000000000000007ff8070e0ffe000000000000000000007ff843860ffe000000000000000000007ff061c61ffe000000000000000000007ff071c21ffe000000000000000000007ff0f8e01ffe000000000000000000007ff0f8701ffe000000000000000000007fe0fc383ffe000000000000000000003fe0fe383ffc000000000000000000003fe1fe183ffc000000000000000000003fe1ff087ffc000000000000000000003fc1ff807ffc000000000000000000001fc1ffc07ff8000000000000000000001fc3ffc0fff8000000000000000000000f87ffe1fff0000000000000000000000fffffffffe00000000000000000000007ffffffffe00000000000000000000003ffffffffc00000000000000000000001ffffffff800000000000000000000000ffffffff0000000000000000000000007ffffffe0000000000000000000000003ffffffc0000000000000000000000001ffffff800000000000000000000000007ffffe000000000000000000000000001ffff80000000000000000000000000003ffc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001c0000000000000000000000000000001c0000000000000000000000000000001800000000000000000000000000000000000000000000000fc1fcfff0f87e7e39fc0000000000001fe3f8fff1fcfefe39fc0000000000001ce739ce738de1e7399c0000000000001cee39ce731dc1c7738c00000000000018ee39ce77f9c1c7739c00000000000038ee31ce77f1c187739c00000000000039ce738e7701c18e731c00000000000039cff39c63f1f9fe671c00000000000039c7f39ce3f1f9fce73800000000000031c3e39ce1f07870e73800000000000000000000000000000000000000"},monacoin:{name:"monacoin",hex:"00000000002000000000040000000000000000000030000000000c0000000000000000000030000000000c0000000000000000000038000000001c000000000000000000003c000000003c000000000000000000007c000000003e000000000000000000007e000000007e000000000000000000007f00000000fe000000000000000000007f00000000fe00000000000000000000ff80000001ff00000000000000000000ff80000001ff00000000000000000000ffc0000003ff00000000000000000000ffe0000007ff00000000000000000001ffe0000007ff80000000000000000001fff07ffe0fff80000000000000000001ffffffffffff80000000000000000001ffffffffffff80000000000000000001ffffffffffff80000000000000000003ffffffffffffc0000000000000000003ffffffffffffc0000000000000000003ffffffffffffc0000000000000000003ffffffffffffc0000000000000000007ffffffffffffe000000000000000000ffffffffffffff000000000000000001ffffffffffffff800000000000000003ffffffffffffffc00000000000000007fff1ffffff8fffe00000000000000007ffe3ffffffc7ffe0000000000000000fffc7ffffffe3fff0000000000000001fff8ffffffff1fff8000000000000001fff1ffffffff8fff8000000000000003fff3fe7ffe7fc7ffc000000000000003ffe7fe3ffc7fe7ffc000000000000003fffffe3ffc7fffffc000000000000007ffffff0000ffffffe000000000000007ffffff0001ffffffe000000000000007ffffff8001ffffffe000000000000007ffffffcfe3ffffffe000000000000007ffffffc7e3ffffffe000000000000007ffffffe3c7ffffffe000000000000007ffffffe3cfffffffe000000000000007fffffff18fffffffe000000000000007fffffff91fffffffe000000000000003fffffff81fffffffc000000000000003fffffffc3fffffffc000000000000003fffffffc3fffffffc000000000000001fffffffe7fffffff8000000000000001fffffffeffffffff8000000000000000ffffffffffffffff00000000000000007fffffffffffffff00000000000000007ffffffffffffffe00000000000000003ffffffffffffffc00000000000000001ffffffffffffff800000000000000000ffffffffffffff0000000000000000007ffffffffffffe0000000000000000001ffffffffffff80000000000000000000ffffffffffff000000000000000000003ffffffffffc000000000000000000000ffffffffff00000000000000000000003ffffffffc00000000000000000000000ffffffff0000000000000000000000000ffffff000000000000000000000000000ffff0000000000000000000000000000000000000000000000"},doge:{name:"doge",hex:"000000000000023c0000000000000000000000000000027c0000000000000000000000000000023a0000000000000000000000000000031a0000000000000000000000000000023e0000000000000000000000000000020d00000000000000000000000000000204800000000000000000000000000002168000000000000000000000000000020b40000000000000000000000000000405800000000000000000000000000004c8d000000000000000000000000000057f25580000000000000000000000001afbcfe200000000000000001600000075757ffd000000000000000021800001aaefaffe400000000000000041e0001d5557f7ff2000000000000000027c01ceaabffaffd000000000000000411a0e755577ff7fe8000000000000004288d8aa889befffe80000000000000041552555415fdffdf40000000000000042a286aaba15ff1bfa00000000000000401541555c45f86ff5200000000000004002808aae2a6cf6fd200000000000004010815ddd9559177e40000000000000200080abbb83ac17ff40000000000000200045455f44f217ffc010000000000020062aeafee0ff8fffe0f0000000000010050555fdfc7ffffff1c00000000000100302aaabfbbbffffff0000000000001000c55557ffdfffbffc00000000000008002aaaafeebfeffffc000000000000040013d558e1fffe07fcfc000000000004202baab20bbffc07ffa000000000000244475567c17ff003ff000000000000020a4eaac8e4bfe001fefe000000000001441dd580e0ffc001ff80000000000002a0bbaa80ecffc000ff7e0000000000037577778097ffc0007f8700000000000286eeebe06fffc0007ff8000000000003015ddddfddffe4003f8c000000000002823bbeaaabffe2003f800000000000036374ff554dfffc007fc000000000000282ebffeabffffc007fc0000000000003655fffffffffd6007fc0000000000002a27ffffffffbfe007fc0000000000002547fffffffcfd6003fc0000000000001aaffffffffcdfa087fc000000000000111ffffffffd576107fc00000000000012a7fffffffeaba00ffc0000000000000557fffffffe55c00ffc0000000000000e8ffffffffeaba01ffc0000000000000d57fffffffffc401ffc0000000000000aa3ffffffff00083ffe0000000000000d43fffffffe000d7ff60000000000000aa7ffffffff00bafff70000000000000943ffffffff0157fff78000000000000aa3ffffffffc2affff7c000000000000b45ffffffffffffffd78000000000000aa9ffffffffffefffafc000000000000150ffffffffffffffd7c000000000000aaa7fffffffffffff3fe0000000000007543fffffffffffff77f0000000000006a89fffffffffffffaff0000000000005140fffffffffffff5ff000000"},digibyte:{name:"digibyte",hex:"0000000000000003c000000000000000000000000000007ffe0000000000000000000000000001ffff8000000000000000000000000007ffffe00000000000000000000000001fc003f80000000000000000000000003f0000fc0000000000000000000000007c00003e000000000000000000000000f800001f000000000000000000000001f000000f800000000000000000000003e0000007c00000000000000000000003c0000003c000000000000000000000078000cc01e0000000000000000000000f00009800f0000000000000000000000f01fffc00f0000000000000000000000e01ffff8070000000000000000000001e03ffffc078000000000000000000001c00000fe038000000000000000000001c000003e038000000000000000000001c000003e038000000000000000000003c003e03e03c000000000000000000003c003c03e03c000000000000000000003c003c03c03c000000000000000000003c007807c03c000000000000000000003c007807803c000000000000000000003c00f80f003c000000000000000000001c00f01f0038000000000000000000001c00f03e0038000000000000000000001c01f1f80038000000000000000000001e01fff00078000000000000000000000e03ff800070000000000000000000000f03fc0000f0000000000000000000000700cc0000e0000000000000000000000780000001e00000000000000000000003c0000003c00000000000000000000003e0000007c00000000000000000000001f000000f800000000000000000000000f800001f0000000000000000000000007c00003e0000000000000000000000003f0000fc0000000000000000000000001fe007f800000000000000000000000007ffffe000000000000000000000000001ffff80000000000000000000000000003ffc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000180060000000000000000000000001fc3000c7f000000000000000000000019e0000063000600000000000000000038e00600c3000e06000000000000000030c63f98c6719f1f800000000000000030c66318fc330c31800000000000000061cc63318c3618730000000000000000618cc6318c34187f00000000000000006318c6330c3c30600000000000000000fe18ee63983838600000000000000000fc18ec63f0303c7c000000000000000000000c00006000000000000000000000000018000060000000000000000000000003f00003c0000000000000000000000001c0000300000000000000"},decred:{name:"decred",hex:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001fffc0007ffffe0000000000000000000fffe0003fffffc0000000000000000007fff0001ffffff0000000000000000003fffc000ffffff8000000000000000001fffe0007fffffc0000000000000000007fff0001ffffff0000000000000000003fff8000ffffff0000000000000000001fffc0007fffff8000000000000000000fffe0003fffffc0000000000000000007fff8001fffffe0000000000000000003fffc000007ffe0000000000000000003fffe000001fff000000000000000000fffff000000fff000000000000000001fffff8000007ff800000000000000003fffffc000003ff80000000000000000ffffffe000001ff80000000000000001fffffff800001ffc0000000000000001fffffffc00000ffc0000000000000003fffffffe00000ffc0000000000000007ffffffff00000ffc0000000000000007ffe0000000000ffc000000000000000fff80000000000ffc000000000000000fff00000000000ffc000000000000001ffe00000000000ffc000000000000001ffc00000000000ffc000000000000001ff800000000001ffc000000000000003ff800000000001ff8000000000000003ff000000000003ff8000000000000003ff000000000007ff8000000000000003ff00000000000fff0000000000000003ff00000000001fff0000000000000003ff00000000007ffe0000000000000003ff00000ffffffffe0000000000000003ff000007fffffffc0000000000000003ff000003fffffff80000000000000003ff800001fffffff80000000000000001ff8000007ffffff00000000000000001ffc000003fffffc00000000000000001ffe000001fffff800000000000000000fff000000fffff000000000000000000fff8000007fffc0000000000000000007ffe000003fffc0000000000000000007fffff8001fffe0000000000000000003fffffc0007fff0000000000000000001fffffe0003fff8000000000000000000ffffff0001fffc000000000000000000ffffff8000fffe0000000000000000003fffffe0007fff8000000000000000001ffffff0003fffc000000000000000000ffffff8000fffe0000000000000000003fffffc0007fff00000000000000000007ffffe0003fff80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},multibit:{name:"multibit",hex:"0ffc07f8e01c7ffe07ff0000000000001ff80ff9e03c7fff83ff8000000000003ff03ff9e03c7fffc0ffc000000000007fe07ff9e03c7fffe0ffc000000000007fc0fff9e03c7ffff07fe00000000000ffc1fff9e03c7ffff83ff00000000000ff83ff81e03c7ffffc1ff00000000000ff07e001e03c17fffe0ff80000000000fe0f0001e03c03ffff0ffc0000000000fe1f0001e03c00ffff87fc0000000000fc1f1fffffff803fff83fe0000000000f83f1ffffffffc0fffc3fe0000000000f87f1fffffffff07ffe1fe0000000000f07f1fffffffffc3ffe1ff0000000000f0ff00fff87fffe3fff0ff0000000000e0ff003fe001fff1fff0ff8000000000e0ff801fe0007ff1fff87f8000000000e1fffe1fe0003ff9fff87f8000000000c3ffff1fe0f81ff8fff87f8000000000c3ffff1fe1fc0ff8fffc3fc000000000c3ffff1fe1fe0ff8fffc3fc00000000087ffff1fe1fe0ff8fffc1fc00000000087ffff1fe1ff0ff8fffe1fc00000000087ffff1fe1fe0ff8fffe1fe00000000087ffff1fe0fc0ff1fffe1fe0000000008fffff1fe0f01ff1fffe1fe0000000000fffff1fe0003fe3fffe1fe0000000000fffff1fe0007fc3ffff0fe0000000000fffff1fe001ff87ffff0fe0000000000fffff1ffffffe07ffff0fe0000000000fffff1ffffffe03ffff0fe0000000000fffff1fffffffe0ffff0fe0000000000fffff1ffffffff87fff0fe0000000000fffff1e3f8c03fc7fff0fe0000000000fffff1e3f0c00fe3fff0fe0000000000fffff1e3f8c007f3fff0fe0000000000fffff1e3f8c003f1fff0fe0000000000fffff1e3f8c7c3f1fff0fe0000000000fffff1e3f8c7e1f9ffe1fe00000000087ffff1e000c7e1f9ffe1fe00000000087ffff1e000c7e1f9ffe1fe00000000087ffff1e000c7e1f9ffe1fc00000000087ffff1e1f0c7e1f9ffe1fc000000000c3ffff1e3f8c7e1f1ffc3fc000000000c3ffff1e3f8c7e1f1ffc3fc000000000c3ffff1e3f8c7c3f1ff83fc000000000e1ffe01e3f8c003f3ff87f8000000000e1ffc01e3f08007e3ff07f8000000000e0ffc03e3f0801fc7ff07f8000000000f0ff8ffffffffffc7ff0ff0000000000f0ff8ffffffffff0ffe0ff0000000000f87f8fffffffffe1ffe1ff0000000000f83f8fffffffff83ffc3fe0000000000fc3f8fffffffe007ff83fe0000000000fe1f8001e03c001fff87fc0000000000fe0f8001e03c007fff07fc0000000000ff07c001e03c07fffe0ff80000000000ff83fff9e03c7ffffc1ff80000000000ff83fff9e03c7ffff83ff000000000007fc1fff9e03c7ffff03fe000000000007fe07ff9e03c7fffe07fe000000000003ff03ff9e03c7fffc0ffc000000000001ff81ff9e03c7fff81ff8000000000000ffc0ff9e03c7ffe03ff000000000000"},reddit:{name:"reddit",hex:"00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007c000000000000000000000000000f80fe000000000000000000000000000ff9c7000000000000000000000000001cff8300000000000000000000000000180f830000000000000000000000000018038300000000000000000000000000380183000000000000000000000000003001cf000000000000000000000000003000fe0000000000000000000000000070007c000000000000000000000000006000000000000000000000000000000060000000000000000000000000000003f00000000000000000000000000000ffffc000000000000000000000000007fffff800000000000000000000001c1fc000fe0e000000000000000000007ffc00000fbf80000000000000000000fff0000003ffc0000000000000000001c3c0000000f0e0000000000000000001878000000078600000000000000000018e000000001c600000000000000000018c000000000c600000000000000000019c01f001e006600000000000000000019803f803f00760000000000000000001f003f807f803e0000000000000000000f003f807f803c00000000000000000007003f807f803800000000000000000007003f803f001800000000000000000007001f001f0018000000000000000000070000000000380000000000000000000700000000003800000000000000000003000000000030000000000000000000030000000000300000000000000000000180000000007000000000000000000001c00c000c00e000000000000000000000e00f003c00c0000000000000000000007007fff803c0000000000000000000007801ffe00780000000000000000000001c001e000e00000000000000000000000f0000003c000000000000000000000007e00001f8000000000000000000000001fc000fe00000000000000000000000003fffff0000000000000000000000000007fff8000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hacker:{name:"hacker",hex:"00000000000000000000000000000000000000007ffffffffffffffe00000000000000004000040000200002000000000000000040000403c020000200000000000000004000041ff820000200000000000000004000043ffc20000200000000000000004000047ffe20000200000000000000004000047ffe2000020000000000000000400004ffff2000020000000000000000400004ffff2000020000000000000000400004ffff2000020000000000000000400004ffff2000020000000000000000400004ffff2000020000000000000000400004ffff2000020000000000000000400004ffff20000200000000000000004000047ffe20000200000000000000004000047ffe20000200000000000000004000043ffc20000200000000000000004000040ff0200002000000000000000040000403c02000020000000000000000400004000020000200000000000000007ffffffffffffffe000000000000000040000400002000020000000000000000400004000020000200000000000000004000040000207f020000000000000000400004000021ffc20000000000000000400004000023ffe20000000000000000400004000023fff20000000000000000400004000027fff20000000000000000400004000027fff2000000000000000040000400002ffffa000000000000000040000400002ffffa000000000000000040000400002ffffa000000000000000040000400002ffffa0000000000000000400004000027fff20000000000000000400004000027fff20000000000000000400004000023fff20000000000000000400004000023ffe20000000000000000400004000021ffc200000000000000004000040000207f02000000000000000040000400002000020000000000000000400004000020000200000000000000007ffffffffffffffe00000000000000004000040000200002000000000000000040780403c0201e02000000000000000041ff040ff020ff82000000000000000043ff843ffc21ffc2000000000000000047ffc47ffe23ffe200000000000000004fffe47ffe27fff200000000000000004fffe4ffff27fff200000000000000005fffe4ffff27fffa00000000000000005ffff4ffff2ffffa00000000000000005ffff4ffff2ffffa00000000000000005ffff4ffff2ffffa00000000000000005ffff4ffff2ffffa00000000000000004fffe4ffff27fff200000000000000004fffe47ffe27fff2000000000000000047ffc47ffe23ffe2000000000000000043ff843ffc21ffc2000000000000000041ff041ff820ff820000000000000000407c0403c0203e020000000000000000400004000020000200000000000000007ffffffffffffffe0000000000000000000000000000000000000000"},polis:{name:"polis",hex:"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e000000000007fe00000000e00070001c000000000007ff00000000e0007000180000080000070f00000000e00070000000000c0000070780000000e00070000000001c000007038fc733f8e1f873be3c00003e00000707bfe7f7fce3fc73ff3c00003f00000707bcf7f71ee79e73ef3c00007f000007ff3877871ee70e7387bc00007f800007ff01f7803eefff7387bc0000ff800007fe1ff783feefff7387bc0000ffc00007003e7787deeffe7387bc0001ffc000070078778e1eef007387bc0003f7e000070070f78e1ee70e7387bc0003f3f000070079f78f3ee7fe7387bc0007e3f00007003ff787fee3fc7387bc0007c1f80007001e7783cee1f87387bc000fc0f8000000000000000000000000000f80fc000000000000000000000000001f807e000000000000000000000000003f007e0007fe0003ce000000000000003f003f0007ff0003ce000000000000007e001f00070f0003c0000000000000007c001f8007078003c000000000000000fc000f8007038fe3ce3f800000000001f8000fc007079ff3ce7fc00000000001f80007e00707befbcef1c00000000003f00007e007ff387bcef1c00000000003f00003f007ff783bcefc000000000007e00001f007fe783bce7f800000000007c00001f80700783bce1fc0000000000fc00000f80700783bce03e0000000001f83fffffc0700383bcee0e0000000001f87fffffe07003cfbcef9e0000000003f07fffffe07001ff3ce7fc0000000003e0fffffff07000fe3ce3f80000000007e0fffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},carlos:{name:"carlos",hex:"000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c0000000000000000000000000000007f80000007f000000000000000000000ffc00000fffc00000000000000000000fee00000fffc00000000000000000001fe300380fffa00000000000000000000f8180f807ff800000000000000000003ff0806f87ff000000000000000000007f88002807fd000000000000000000007ffc4000070300000000000000000000f4fe0000180000000000000000000000e0fe0000000000000000000000000001e7ff0000000000000000000000000001e7ff0000000000000000000000000001c7bf0000000000000000000000000001c09f0000000000000000000000000001d05f0000000000000000000000000001c01f1800000000000000000000000001c01e1800000000000000000000000000e01e3800000000000000000000000000cffc300000000000000000000000000047fc000000000000000000000000000007f400000000000000000000000000000fe000000000000000000000000000000fc800000000000000000000000000000fc800000000000000000000000000000781e0000000000000000000000000000007e000000000000000000000000000000fe000000000000000000000000000003fc00000000000000000000000000000ff800000000000000000000000000008ff0000000000000000000000000000107e0000000000000000000000000000003e0000000000000000000000000000007c000000000000000000000000000000fc000000000000000000000000000001f8000000000000000000000000000003f0000000000000000000000000000183f0000000000000000000000000000103f0000000000000000000000000000407f000000000000000000000000000040ee000000000000000000000000000040e00000000000000000000000000000c1c60000000000000000000000000000c39c0000000000000000000000000000e73c0000000000000000000000000000e73c0000000000000000000000000000e6780000000000000000000000000000ee780000000000000000000000000000ec780000000000000000000000000001fc780000000000000000000000000003f8700000000000000000000000000003f8700000000000000000000000000002f8700000000000000000000000000003f8700000000000000000000000000001f0200000000000000000000000000001f0000000000000000000000000000001d0000000000000000000000000000001f0000000000000000000"},xrc:{name:"xrc",hex:"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fc000000000000000000000000000003ff00000000000000000000000000000fff80000000000000000000000000001fff80000000000000000000000000007f8fc038000000000000000000000000fe07c0fe000000000000000000000001fc03c3ff800000000000000000000001f803cfffc00000000000000000000003f003ff83c00000000000000000000003e007fe01e00000000000000000000007c007fc00f0000000000000000000000f800ff800f0000000000000000000000f801ff080e0000000000000000000000f001ff3c3e0000000000000000000001f003fffffe0000000000000000000001f043fffffc0000000000000000000007f0e7fffff8000000000000000000000ff1fffffff0000000000000000000003fffffffffe0000000000000000000007fffffffffe000000000000000000000fffffffffff000000000000000000001fffffffffff800000000000000000001fffffffffffc00000000000000000003f83fffe0fffe00000000000000000003f00fffc03fff00000000000000000007e007ff801fff00000000000000000007c703ff180fff8000000000000000000fcf83ff3e0fff8000000000000000000f9cc1fe6307ffc000000000000000000f9861fec107ffc000000000000000001f9861fec107ffc000000000000000001f98c1fe6307ffc000000000000000001f8fc3fe7e0fffe000000000000000001fc783073c0fffe000000000000000001fe00603001fffe000000000000000001ff00e03803fffe000000000000000001ff81f03e0ffffe000000000000000001fe7ff87ff3fffe000000000000000000fc0ffcffc1fffe000000000000000000fcc3ffff18fffc000000000000000000fcf87fc07cfffc0000000000000000007e78000439fff80000000000000000007f223c7c91fff80000000000000000003f0e793dc3fff00000000000000000001fff3399fffff00000000000000000001fff87c3ffffe00000000000000000000fffffffffffc000000000000000000007ffffffffff8000000000000000000001ffffffffff0000000000000000000000fffffffffc00000000000000000000003ffffffff0000000000000000000000007ffffff800000000000000000000000003ffff80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"}}),on=()=>({"wallpaper-1":{name:"wallpaper-1",hex:"77616c6c70617065722d312e706e67"},"wallpaper-2":{name:"wallpaper-2",hex:"77616c6c70617065722d322e706e67"},"wallpaper-3":{name:"wallpaper-3",hex:"77616c6c70617065722d332e706e67"},"wallpaper-4":{name:"wallpaper-4",hex:"77616c6c70617065722d342e706e67"}}),Ti=()=>({"wallpaper-1":{name:"wallpaper-1",hex:"77616c6c70617065722d312e6a7067"},"wallpaper-2":{name:"wallpaper-2",hex:"77616c6c70617065722d322e6a7067"},"wallpaper-3":{name:"wallpaper-3",hex:"77616c6c70617065722d332e6a7067"},"wallpaper-4":{name:"wallpaper-4",hex:"77616c6c70617065722d342e6a7067"},"wallpaper-5":{name:"wallpaper-5",hex:"77616c6c70617065722d352e6a7067"},"wallpaper-6":{name:"wallpaper-6",hex:"77616c6c70617065722d362e6a7067"},"wallpaper-7":{name:"wallpaper-7",hex:"77616c6c70617065722d372e6a7067"}}),Ma=(d,e)=>{var i,o;let p;switch(d){case r.EDeviceType.Classic:case r.EDeviceType.Classic1s:case r.EDeviceType.Mini:case r.EDeviceType.ClassicPure:p=an();break;case r.EDeviceType.Touch:p=on();break;case r.EDeviceType.Pro:p=Ti();break;default:p={}}return(o=(i=p[e])===null||i===void 0?void 0:i.hex)!==null&&o!==void 0?o:""},Pa=d=>{let e;const i=Ze(d),o=y0(d).join(".");switch(i){case r.EDeviceType.Classic:case r.EDeviceType.Classic1s:case r.EDeviceType.Mini:case r.EDeviceType.ClassicPure:e=an();break;case r.EDeviceType.Touch:e=on();break;case r.EDeviceType.Pro:A.default.gte(o,"4.10.0")?e=Ti():e=Object.keys(Ti()).slice(0,4).reduce((p,S)=>(p[S]=Ti()[S],p),{});break;default:e={}}return Object.keys(e)},Na=({deviceType:d,homeScreenType:e,thumbnail:i})=>{const p={touch:{thumbnail:{Nft:{width:238,height:238},WallPaper:{width:144,height:240}},full:{width:480,height:800}},pro:{thumbnail:{Nft:{width:226,height:226,radius:40},WallPaper:{width:144,height:240,radius:40}},full:{width:480,height:800}}}[d];if(p)return i?p.thumbnail[e]:p.full},mt=d=>d==="react-native"||d==="lowlevel",_t=d=>new Promise(e=>{setTimeout(e,d)}),vt=d=>{if(!d)return;const{onekey_serial:e,se_ver:i}=d;if(!e)return;const o=+e.slice(5);if(!Number.isNaN(o))return o>=21032200001&&o<=21032201500&&i==="1.1.0.2"},Bd=d=>{if(!vt(d))return null;const e=ur(d),i=Ze(d),o=d.se_ver;return{serialNo:e,seVersion:o,deviceType:i||"Unknown"}},dn="CORE_EVENT",Sr=d=>{const{data:e}=d,i={event:e.event,type:e.type,payload:e.payload};return typeof d.id=="number"&&(i.id=d.id),typeof i.success=="boolean"&&(i.success=e.success),i},Ji=d=>{let e={error:d.message,code:d.code};return d instanceof r.HardwareError&&(e={error:d.message,code:d.errorCode}),{success:!1,payload:e}},Qr="UI_EVENT",Ie={REQUEST_PIN:"ui-request_pin",INVALID_PIN:"ui-invalid_pin",REQUEST_BUTTON:"ui-button",REQUEST_PASSPHRASE:"ui-request_passphrase",REQUEST_PASSPHRASE_ON_DEVICE:"ui-request_passphrase_on_device",REQUEST_DEVICE_IN_BOOTLOADER_FOR_WEB_DEVICE:"ui-request_select_device_in_bootloader_for_web_device",REQUEST_DEVICE_FOR_SWITCH_FIRMWARE_WEB_DEVICE:"ui-request_select_device_for_switch_firmware_web_device",CLOSE_UI_WINDOW:"ui-close_window",CLOSE_UI_PIN_WINDOW:"ui-close_pin_window",DEVICE_PROGRESS:"ui-device_progress",BLUETOOTH_PERMISSION:"ui-bluetooth_permission",BLUETOOTH_UNSUPPORTED:"ui-bluetooth_unsupported",BLUETOOTH_POWERED_OFF:"ui-bluetooth_powered_off",BLUETOOTH_CHARACTERISTIC_NOTIFY_CHANGE_FAILURE:"ui-bluetooth_characteristic_notify_change_failure",LOCATION_PERMISSION:"ui-location_permission",LOCATION_SERVICE_PERMISSION:"ui-location_service_permission",FIRMWARE_PROCESSING:"ui-firmware-processing",FIRMWARE_PROGRESS:"ui-firmware-progress",FIRMWARE_TIP:"ui-firmware-tip",PREVIOUS_ADDRESS_RESULT:"ui-previous_address_result",WEB_DEVICE_PROMPT_ACCESS_PERMISSION:"ui-web_device_prompt_access_permission",BOOTLOADER:"ui-device_bootloader_mode",NOT_IN_BOOTLOADER:"ui-device_not_in_bootloader_mode",REQUIRE_MODE:"ui-device_require_mode",NOT_INITIALIZE:"ui-device_not_initialized",SEEDLESS:"ui-device_seedless",FIRMWARE_OLD:"ui-device_firmware_old",FIRMWARE_NOT_SUPPORTED:"ui-device_firmware_unsupported",FIRMWARE_NOT_COMPATIBLE:"ui-device_firmware_not_compatible",FIRMWARE_NOT_INSTALLED:"ui-device_firmware_not_installed",NOT_USE_ONEKEY_DEVICE:"ui-device_please_use_onekey_device"};a.FirmwareUpdateTipMessage=void 0,function(d){d.CheckLatestUiResource="CheckLatestUiResource",d.StartDownloadFirmware="StartDownloadFirmware",d.FinishDownloadFirmware="FinishDownloadFirmware",d.DownloadLatestUiResource="DownloadLatestUiResource",d.DownloadFirmware="DownloadFirmware",d.DownloadBleFirmware="DownloadBleFirmware",d.DownloadLatestBootloaderResource="DownloadLatestBootloaderResource",d.DownloadLatestUiResourceSuccess="DownloadLatestUiResourceSuccess",d.DownloadFirmwareSuccess="DownloadFirmwareSuccess",d.DownloadBleFirmwareSuccess="DownloadBleFirmwareSuccess",d.DownloadLatestBootloaderResourceSuccess="DownloadLatestBootloaderResourceSuccess",d.AutoRebootToBootloader="AutoRebootToBootloader",d.GoToBootloaderSuccess="GoToBootloaderSuccess",d.SelectDeviceInBootloaderForWebDevice="SelectDeviceInBootloaderForWebDevice",d.SwitchFirmwareReconnectDevice="SwitchFirmwareReconnectDevice",d.ConfirmOnDevice="ConfirmOnDevice",d.FirmwareEraseSuccess="FirmwareEraseSuccess",d.StartTransferData="StartTransferData",d.InstallingFirmware="InstallingFirmware",d.UpdateBootloader="UpdateBootloader",d.UpdateBootloaderSuccess="UpdateBootloaderSuccess",d.UpdateSysResource="UpdateSysResource",d.UpdateSysResourceSuccess="UpdateSysResourceSuccess",d.FirmwareUpdating="FirmwareUpdating",d.FirmwareUpdateCompleted="FirmwareUpdateCompleted"}(a.FirmwareUpdateTipMessage||(a.FirmwareUpdateTipMessage={}));const O0=(d,e)=>({event:Qr,type:d,payload:e}),bt={INIT:"iframe-init",INIT_BRIDGE:"iframe-init-bridge",CALL:"iframe-call",CANCEL:"iframe-cancel",SWITCH_TRANSPORT:"iframe-switch-transport",CALLBACK:"iframe-callback"},Ld=(d,e)=>({event:Qr,type:d,payload:e}),Ei="RESPONSE_EVENT",Ht=(d,e,i)=>({event:Ei,type:Ei,id:d,success:e,payload:e?i:r.serializeError(i)}),$t={RECEIVE_PIN:"ui-receive_pin",RECEIVE_PASSPHRASE:"ui-receive_passphrase",SELECT_DEVICE_IN_BOOTLOADER_FOR_WEB_DEVICE:"ui-receive_select-device-in-bootloader-for-web-device",SELECT_DEVICE_FOR_SWITCH_FIRMWARE_WEB_DEVICE:"ui-receive_select-device-for-switch-firmware-web-device"},qd=(d,e)=>({event:Qr,type:d,payload:e}),fn="DEVICE_EVENT",a0={CONNECT:"device-connect",CONNECT_UNACQUIRED:"device-connect_unacquired",DISCONNECT:"device-disconnect",CHANGED:"device-changed",ACQUIRE:"device-acquire",RELEASE:"device-release",ACQUIRED:"device-acquired",RELEASED:"device-released",USED_ELSEWHERE:"device-used_elsewhere",UNREADABLE:"unreadable-device",LOADING:"device-loading",BUTTON:"button",PIN:"pin",PASSPHRASE:"passphrase",PASSPHRASE_ON_DEVICE:"passphrase_on_device",WORD:"word",SUPPORT_FEATURES:"support_features",SELECT_DEVICE_IN_BOOTLOADER_FOR_WEB_DEVICE:"select_device_in_bootloader_for_web_device",SELECT_DEVICE_FOR_SWITCH_FIRMWARE_WEB_DEVICE:"select_device_for_switch_firmware_web_device",FEATURES:"features"},jt=(d,e)=>({event:fn,type:d,payload:e}),Ba="FIRMWARE_EVENT",Qi={RELEASE_INFO:"firmware-release-info",BLE_RELEASE_INFO:"ble-firmware-release-info"},es=(d,e)=>({event:Ba,type:d,payload:e}),un=new Set([$t.RECEIVE_PIN,$t.RECEIVE_PASSPHRASE]),Qt=c0(a.LoggerNames.DevicePool),La=(d,e)=>{const i=e.filter(he=>d.find(Ae=>Ae.path===he.path)===void 0),o=d.filter(he=>e.find(Ae=>Ae.path===he.path)===void 0),p=e.filter(he=>{const Ae=d.find(Oe=>Oe.path===he.path);return Ae?Ae.session!==he.session:!1}),S=p.filter(he=>typeof he.session=="string"),C=p.filter(he=>typeof he.session!="string"),B=e.filter(he=>{const Ae=d.find(Oe=>Oe.path===he.path);return Ae?Ae.debugSession!==he.debugSession:!1}),U=p.filter(he=>typeof he.debugSession=="string"),se=p.filter(he=>typeof he.debugSession!="string"),pe=i.length+o.length+p.length+B.length>0;return{connected:i,disconnected:o,changedSessions:p,acquired:S,released:C,changedDebugSessions:B,debugAcquired:U,debugReleased:se,didUpdate:pe,descriptors:e}};class g0 extends ye.exports{static setConnector(e){this.connector=e}static getDevices(e,i,o){var p,S,C,B,U,se,pe;return L(this,void 0,void 0,function*(){const he={},Ae=[];if(i){const Oe=this.devicesCache[i];if(Oe){const je=e.find(Ve=>Ve.path===Oe.originalDescriptor.path);if(je)return Oe.updateDescriptor(je,!0),he[i]=Oe,Ae.push(Oe),yield this._checkDevicePool(o),{devices:he,deviceList:Ae};Qt.debug("found device in cache, but path is different: ",i)}}try{for(p=!0,S=Te(e);C=yield S.next(),B=C.done,!B;p=!0){pe=C.value,p=!1;const Oe=pe,je=yield this._createDevice(Oe,o);if(je.features){const Ve=ur(je.features);this.devicesCache[Ve]&&this.devicesCache[Ve].updateDescriptor(Oe,!0),this.devicesCache[Ve]=je,he[Ve]=je}Ae.push(je)}}catch(Oe){U={error:Oe}}finally{try{!p&&!B&&(se=S.return)&&(yield se.call(S))}finally{if(U)throw U.error}}return yield this._checkDevicePool(o),{devices:he,deviceList:Ae}})}static clearDeviceCache(e){e&&delete this.devicesCache[e]}static _createDevice(e,i){return L(this,void 0,void 0,function*(){let o=this.getDeviceByPath(e.path);return o||(o=ts.fromDescriptor(e),o.deviceConnector=this.connector,yield o.connect(),yield o.initialize(i),yield o.release()),o})}static _checkDevicePool(e){return L(this,void 0,void 0,function*(){yield this._sendConnectMessage(e),this._sendDisconnectMessage()})}static _sendConnectMessage(e){return L(this,void 0,void 0,function*(){for(let i=this.connectedPool.length-1;i>=0;i--){const o=this.connectedPool[i],p=yield this._createDevice(o,e);Qt.debug("emit DEVICE.CONNECT: ",p==null?void 0:p.features),this.emitter.emit(a0.CONNECT,p),this.connectedPool.splice(i,1)}})}static _sendDisconnectMessage(){for(let e=this.disconnectPool.length-1;e>=0;e--){const i=this.connectedPool[e],o=i!=null&&i.path?this.getDeviceByPath(i.path):null;o&&this.emitter.emit(a0.DISCONNECT,o),this.disconnectPool.splice(e,1)}}static reportDeviceChange(e){const i=La(this.current||[],e);this.upcoming=e,this.current=this.upcoming,Qt.debug("device pool -> current: ",this.current),Qt.debug("device pool -> upcomming: ",this.upcoming),Qt.debug("DeviceCache.reportDeviceChange diff: ",i),i.didUpdate&&(i.connected.forEach(o=>{const p=this.getDeviceByPath(o.path);if(!p){this._addConnectedDeviceToPool(o);return}Qt.debug("emit DEVICE.CONNECT: ",p.features),this.emitter.emit(a0.CONNECT,p)}),i.disconnected.forEach(o=>{this._removeDeviceFromConnectedPool(o.path);const p=this.getDeviceByPath(o.path);if(!p){this._addDisconnectedDeviceToPool(o);return}Qt.debug("emit DEVICE.DISCONNECT: ",p.features),this.emitter.emit(a0.DISCONNECT,p)}))}static getDeviceByPath(e){return Object.values(this.devicesCache).find(i=>i.originalDescriptor.path===e)}static _addConnectedDeviceToPool(e){const i=this.connectedPool.findIndex(o=>o.path===e.path);if(i>-1){this.connectedPool.splice(i,1,e);return}this.connectedPool.push(e)}static _removeDeviceFromConnectedPool(e){const i=this.connectedPool.findIndex(o=>o.path===e);i>-1&&this.connectedPool.splice(i,1)}static _addDisconnectedDeviceToPool(e){const i=this.disconnectPool.findIndex(o=>o.path===e.path);if(i>-1){this.disconnectPool.splice(i,1,e);return}this.disconnectPool.push(e)}static resetState(){this.current=null,this.upcoming=[],this.connectedPool=[],this.disconnectPool=[],this.devicesCache={},this.emitter.removeAllListeners(),Qt.debug("DevicePool state has been reset")}}g0.current=null,g0.upcoming=[],g0.connectedPool=[],g0.disconnectPool=[],g0.devicesCache={},g0.emitter=new ye.exports;const At=c0(a.LoggerNames.Transport),cn=c0(a.LoggerNames.HdBleTransport),Fd=c0(a.LoggerNames.HdTransportHttp),qa=c0(a.LoggerNames.HdTransportLowLevel),Tt=c0(a.LoggerNames.HdWebBleTransport),ln=c0(a.LoggerNames.HdTransportWebUsb);class q0{static load(){At.debug("transport manager load"),this.defaultMessages=qe.getProtobufMessages(),this.currentMessages=this.defaultMessages,this.messageVersion="latest"}static configure(){return L(this,void 0,void 0,function*(){try{const e=qe.getSettings("env");if(At.debug("Initializing transports",e),e==="react-native")this.reactNativeInit?At.debug("React Native Do Not Initializing transports"):(yield this.transport.init(cn,g0.emitter),this.reactNativeInit=!0);else if(e==="lowlevel"){if(!this.plugin)throw r.ERRORS.TypedError(r.HardwareErrorCode.TransportNotConfigured,"Lowlevel transport mast have plugin");yield this.transport.init(qa,g0.emitter,this.plugin)}else e==="desktop-web-ble"?yield this.transport.init(Tt,g0.emitter):e==="webusb"||e==="desktop-webusb"?yield this.transport.init(ln):yield this.transport.init(Fd);At.debug("Configuring transports"),yield this.transport.configure(JSON.stringify(this.defaultMessages)),At.debug("Configuring transports done")}catch(e){if(At.debug("Initializing transports error: ",e),e.code==="ECONNABORTED")throw r.ERRORS.TypedError(r.HardwareErrorCode.BridgeTimeoutError)}})}static reconfigure(e){return L(this,void 0,void 0,function*(){At.debug("Begin reconfiguring transports");const{messageVersion:i,messages:o}=Sa(e);if(!(this.currentMessages===o||!o)){At.debug(`Reconfiguring transports version:${i}`);try{yield this.transport.configure(JSON.stringify(o)),this.currentMessages=o,this.messageVersion=i}catch(p){throw r.ERRORS.TypedError(r.HardwareErrorCode.TransportInvalidProtobuf,`Transport_InvalidProtobuf:  ${p.message}`)}}})}static setTransport(e,i){qe.getSettings("env")==="react-native"?this.transport=new e({scanTimeout:3e3}):this.transport=new e,i&&(this.plugin=i,At.debug("set transport plugin: ",this.plugin)),At.debug("set transport: ",this.transport.name,this.transport.version,this.transport.configured)}static getTransport(){return this.transport}static getDefaultMessages(){return this.defaultMessages}static getCurrentMessages(){return this.currentMessages}static getMessageVersion(){return this.messageVersion}}q0.reactNativeInit=!1,q0.messageVersion="latest",q0.plugin=null;const Fa=(d,e)=>{if(!(Array.isArray(e)?e:e.split("|")).includes(d.type))throw r.ERRORS.TypedError(r.HardwareErrorCode.ResponseUnexpectTypeError,`assertType: Response of unexpected type: ${d.type}. Should be ${e}`)},wi=(d,e=!0)=>{var i;const o=d.hasDeviceAcquire()?d.mainId:void 0;if(!o)return Promise.resolve({success:!1,error:r.HardwareErrorCode.RuntimeError,payload:{message:"Device disconnected or acquired by someone else"}});const p=(i=d.commands)===null||i===void 0?void 0:i.transport;return e?p==null?void 0:p.call(o,"Cancel",{}).then(()=>({success:!0,error:null,payload:{message:"Cancel request sent"}})).catch(S=>({success:!1,error:S.errorCode,payload:{message:S.message}})):p==null?void 0:p.post(o,"Cancel",{}).then(()=>({success:!0,error:r.HardwareErrorCode.RuntimeError,payload:{message:"Cancel request sent"}}))},Ua=d=>{var e;const i=d.hasDeviceAcquire()?d.mainId:void 0;if(!i)return Promise.resolve({success:!1,error:r.HardwareErrorCode.RuntimeError,payload:{message:"Device disconnected or acquired by someone else"}});const o=(e=d.commands)===null||e===void 0?void 0:e.transport;return o==null?void 0:o.call(i,"Initialize",{}).then(()=>({success:!0,error:null,payload:{message:"Cancel request sent"}})).catch(p=>({success:!1,error:p.errorCode,payload:{message:p.message}}))},Rr=c0(a.LoggerNames.DeviceCommands),Si=c0(a.LoggerNames.Core);class Ud{constructor(e,i){this.device=e,this.mainId=i,this.transport=q0.getTransport(),this.disposed=!1,this.instanceId=Tr("DeviceCommands",e.sdkInstanceId),Rr.debug(`[DeviceCommands] Created: ${this.instanceId}, device: ${this.device.instanceId}`)}dispose(e){var i,o;return L(this,void 0,void 0,function*(){this.disposed=!0,yield(o=(i=this.transport).cancel)===null||o===void 0?void 0:o.call(i)})}checkDisposed(){if(this.disposed)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"DeviceCommands already disposed")}cancelDeviceOnOneKeyDevice(){return L(this,void 0,void 0,function*(){const{name:e}=this.transport;if(e==="HttpTransport")try{yield this.device.acquire(),yield Ua(this.device)}catch{}else return Ua(this.device)})}cancelDevice(){return L(this,void 0,void 0,function*(){const{name:e}=this.transport;if(e==="HttpTransport")try{yield this.device.acquire(),yield wi(this.device,!1)}catch{}else return wi(this.device,!1)})}cancel(){return L(this,void 0,void 0,function*(){if(!this.disposed&&(this.dispose(!0),this.callPromise))try{yield Promise.all([new Promise((e,i)=>setTimeout(()=>i(new Error("cancel timeout")),10*1e3)),yield this.callPromise])}catch{this.callPromise=void 0}})}call(e,i={}){var o;return L(this,void 0,void 0,function*(){Rr.debug("[DeviceCommands] [call] Sending",e);try{const p=this.transport.call(this.mainId,e,i);this.callPromise=p;const S=yield p;return S.type==="Failure"?Si.debug("[DeviceCommands] [call] Received",S.type,S.message):Si.debug("[DeviceCommands] [call] Received",S.type),S}catch(p){if(Si.debug("[DeviceCommands] [call] Received error",p),p.errorCode===r.HardwareErrorCode.BleDeviceBondError)return{type:"BleDeviceBondError",message:{error:p==null?void 0:p.message}};const S=(o=p==null?void 0:p.response)===null||o===void 0?void 0:o.data;let C=S==null?void 0:S.error;if(!C&&S&&typeof S=="string")try{const B=JSON.parse(S);C=B==null?void 0:B.error}catch{}if(S&&Rr.debug("error response",S),C==="device disconnected during action")return{type:"BridgeDeviceDisconnected",message:{error:C}};if(C&&C.indexOf("Request failed with status code")!==-1)return{type:"CallMethodError",message:{error:S??""}};throw p}})}typedCall(e,i,o){return L(this,void 0,void 0,function*(){if(this.disposed)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"typedCall: DeviceCommands already disposed");try{!["ButtonAck","PinMatrixAck","PassphraseAck","Cancel","BixinPinInputOnDevice"].includes(e)&&o&&Rr.debug("[DeviceCommands] [typedCall] Sending payload",e,o)}catch{}const p=yield this._commonCall(e,o);try{Fa(p,i)}catch(S){if(Rr.debug("DeviceCommands typedcall error: ",S),S instanceof r.HardwareError){if(S.errorCode===r.HardwareErrorCode.ResponseUnexpectTypeError)throw S.message.indexOf("BridgeNetworkError")>-1?r.ERRORS.TypedError(r.HardwareErrorCode.BridgeNetworkError):S.message.indexOf("BleDeviceBondError")>-1?r.ERRORS.TypedError(r.HardwareErrorCode.BleDeviceBondError):S.message.indexOf("BridgeDeviceDisconnected")>-1?r.ERRORS.TypedError(r.HardwareErrorCode.BridgeDeviceDisconnected):r.ERRORS.TypedError(r.HardwareErrorCode.ResponseUnexpectTypeError)}else throw S}return p})}_commonCall(e,i){return L(this,void 0,void 0,function*(){const o=yield this.call(e,i);return this._filterCommonTypes(o,e)})}_filterCommonTypes(e,i){try{qe.getSettings("env")==="react-native"?Rr.debug("_filterCommonTypes: ",JSON.stringify(e)):Rr.debug("_filterCommonTypes: ",e)}catch{}if(this.device.clearCancelableAction(),e.type==="Failure"){const{code:o,message:p}=e.message;let S=null;return o==="Failure_FirmwareError"&&!p&&(S=r.ERRORS.TypedError(r.HardwareErrorCode.FirmwareError)),o==="Failure_ActionCancelled"&&(S=r.ERRORS.TypedError(r.HardwareErrorCode.ActionCancelled)),o==="Failure_PinInvalid"&&(S=r.ERRORS.TypedError(r.HardwareErrorCode.PinInvalid,p)),o==="Failure_PinCancelled"&&(S=r.ERRORS.TypedError(r.HardwareErrorCode.PinCancelled)),o==="Failure_DataError"&&(p==="Please confirm the BlindSign enabled"&&(S=r.ERRORS.TypedError(r.HardwareErrorCode.BlindSignDisabled)),p==="File already exists"&&(S=r.ERRORS.TypedError(r.HardwareErrorCode.FileAlreadyExists)),p!=null&&p.includes("bytes overflow")&&(S=r.ERRORS.TypedError(r.HardwareErrorCode.DataOverload))),o==="Failure_ProcessError"&&(p!=null&&p.includes("Bootloader file verify failed")||p!=null&&p.includes("verify failed")?S=r.ERRORS.TypedError(r.HardwareErrorCode.FirmwareVerificationFailed,p):p!=null&&p.includes("Firmware downgrade not allowed")&&(S=r.ERRORS.TypedError(r.HardwareErrorCode.FirmwareDowngradeNotAllowed,p))),o==="Failure_UnexpectedMessage"&&(i==="PassphraseAck"?S=r.ERRORS.TypedError(r.HardwareErrorCode.UnexpectPassphrase):p==="Not in Signing mode"&&(S=r.ERRORS.TypedError(r.HardwareErrorCode.NotInSigningMode))),S?Promise.reject(S):Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`${o||"Failure_UnknownCode"},${p||"no error message"}`))}if(e.type==="Features")return Promise.resolve(na(e));if(e.type==="ButtonRequest"){const o=Ze(this.device.features);return w0.model_mini.includes(o)?this.device.setCancelableAction(()=>this.cancelDeviceOnOneKeyDevice()):this.device.setCancelableAction(()=>this.cancelDevice()),e.message.code==="ButtonRequest_PassphraseEntry"?this.device.emit(a0.PASSPHRASE_ON_DEVICE,this.device):this.device.emit(a0.BUTTON,this.device,e.message),this._commonCall("ButtonAck",{})}if(e.type,e.type==="PinMatrixRequest")return this._promptPin(e.message.type).then(o=>o==="@@ONEKEY_INPUT_PIN_IN_DEVICE"?(this.device.setCancelableAction(()=>this.cancelDeviceOnOneKeyDevice()),this._commonCall("BixinPinInputOnDevice").finally(()=>{this.device.clearCancelableAction()})):this._commonCall("PinMatrixAck",{pin:o}),o=>Promise.reject(o));if(e.type==="PassphraseRequest"){const o=e.message.exists_attach_pin_user;return this._promptPassphrase({existsAttachPinUser:o}).then(p=>{const{passphrase:S,passphraseOnDevice:C,attachPinOnDevice:B}=p;return B&&o?this._commonCall("PassphraseAck",{on_device_attach_pin:!0}):C?this._commonCall("PassphraseAck",{on_device:!0}):this._commonCall("PassphraseAck",{passphrase:S})})}return e.type,e.type,Promise.resolve(e)}_promptPin(e){return new Promise((i,o)=>{const p=C=>wi(this.device,!1).then(B=>{const U=r.ERRORS.TypedError(r.HardwareErrorCode.CallQueueActionCancelled,`${a0.PIN} canceled`);if(B){const{payload:se}=B||{};o(U||new Error(se==null?void 0:se.message))}else o(U)}).catch(B=>{o(B)}),S=this.device.listenerCount(a0.PIN);if(Rr.debug(`[${this.instanceId}] _promptPin called`,{responseID:this.currentResponseID,deviceInstanceId:this.device.instanceId,listenerCount:S}),S>0)this.device.setCancelableAction(p),this.device.emit(a0.PIN,this.device,e,(C,B)=>{this.device.clearCancelableAction(),C?p():i(B)});else{const C=Wi(this.device.instanceId),B={commandsInstanceId:this.instanceId,deviceInstanceId:this.device.instanceId,currentResponseID:this.currentResponseID,listenerCount:S,activeRequests:C.map(Zr)};Si.error("[DeviceCommands] [call] PIN callback not configured, cancelling request",Object.assign({},B)),o(r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`_promptPin: PIN callback not configured: ${JSON.stringify(B)}`))}})}_promptPassphrase(e){return new Promise((i,o)=>{const p=S=>wi(this.device,!1).then(C=>{const B=r.ERRORS.TypedError(r.HardwareErrorCode.CallQueueActionCancelled,`${a0.PASSPHRASE} canceled`);if(C){const{payload:U}=C||{};o(B||new Error(U==null?void 0:U.message))}else o(B)}).catch(C=>{o(C)});this.device.listenerCount(a0.PASSPHRASE)>0?(this.device.setCancelableAction(p),this.device.emit(a0.PASSPHRASE,this.device,e,(S,C)=>{this.device.clearCancelableAction(),C?p():i(S)})):(Si.error("[DeviceCommands] [call] Passphrase callback not configured, cancelling request"),o(r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"_promptPassphrase: Passphrase callback not configured")))})}}const Hd=d=>(d||(d={}),d),F0=c0(a.LoggerNames.Device),Vt={};class ts extends ye.exports{constructor(e,i){super(),this.deviceConnector=null,this.deviceAcquired=!1,this.features=void 0,this.featuresNeedsReload=!1,this.externalState=[],this.unavailableCapabilities={},this.instance=0,this.internalState=[],this.needReloadDevice=!1,this.keepSession=!1,this.passphraseState=void 0,this.originalDescriptor=e,this.sdkInstanceId=i,this.instanceId=Tr("Device",this.sdkInstanceId),this.createdAt=Date.now(),F0.debug(`[Device] Created: ${this.instanceId}${this.sdkInstanceId?` for SDK: ${this.sdkInstanceId}`:""}`)}static fromDescriptor(e,i){const o=Object.assign({},e);return new ts(o,i)}toMessageObject(){var e;if(this.isUnacquired()||!this.features)return null;const i=qe.getSettings("env"),o=Ze(this.features),p=Ks(this.features),S=pa(this.features);return{connectId:qe.isBleConnect(i)?this.mainId||null:ur(this.features),uuid:ur(this.features),commType:this.originalDescriptor.commType,sdkInstanceId:this.sdkInstanceId,instanceId:this.instanceId,createdAt:this.createdAt,deviceType:o,deviceId:this.features.device_id||null,path:(e=this.originalDescriptor)===null||e===void 0?void 0:e.path,bleName:p,name:p||S||`OneKey ${o==null?void 0:o.toUpperCase()}`,label:S||"OneKey",mode:this.getMode(),features:this.features,firmwareVersion:this.getFirmwareVersion(),bleFirmwareVersion:this.getBLEFirmwareVersion(),unavailableCapabilities:this.unavailableCapabilities}}connect(){const e=qe.getSettings("env");return new Promise((i,o)=>L(this,void 0,void 0,function*(){if(qe.isBleConnect(e)){try{yield this.acquire(),i(!0)}catch(p){o(p)}return}if(!this.mainId||!this.isUsedHere()&&this.originalDescriptor){try{yield this.acquire(),i(!0)}catch(p){o(p)}return}if(this.isUsedHere()){i(!0);return}i(!1)}))}acquire(){var e,i,o,p;return L(this,void 0,void 0,function*(){const S=qe.getSettings("env"),C=qe.isBleConnect(S)?"id":"session";try{if(qe.isBleConnect(S)){const B=yield(e=this.deviceConnector)===null||e===void 0?void 0:e.acquire(this.originalDescriptor.id);this.mainId=(i=B.uuid)!==null&&i!==void 0?i:"",F0.debug("Expected uuid:",this.mainId)}else this.mainId=yield(o=this.deviceConnector)===null||o===void 0?void 0:o.acquire(this.originalDescriptor.path,this.originalDescriptor.session),F0.debug("Expected session id:",this.mainId);this.deviceAcquired=!0,this.updateDescriptor({[C]:this.mainId}),this.commands&&(yield this.commands.dispose(!1)),this.commands=new Ud(this,(p=this.mainId)!==null&&p!==void 0?p:"")}catch(B){if(this.runPromise)this.runPromise.reject(B);else throw B;this.runPromise=null}})}release(){var e;return L(this,void 0,void 0,function*(){const i=qe.getSettings("env");if(this.isUsedHere()&&!this.keepSession&&this.mainId||this.mainId&&qe.isBleConnect(i)){if(this.pendingCallbackPromise)try{F0.debug("Waiting for callback tasks to complete before releasing device (in release method)"),yield this.pendingCallbackPromise.promise}catch(o){F0.error("Error waiting for callback tasks in release method:",o)}if(this.commands&&(this.commands.dispose(!1),this.commands.callPromise))try{yield this.commands.callPromise}catch{this.commands.callPromise=void 0}try{yield(e=this.deviceConnector)===null||e===void 0?void 0:e.release(this.mainId,!1),this.updateDescriptor({session:null})}catch(o){F0.error("[Device] release error: ",o)}finally{this.needReloadDevice=!0}}this.deviceAcquired=!1})}getCommands(){return this.commands}generateStateKey(e,i){return i?`${e}@${i}`:e}getInternalState(e){var i,o;F0.debug("getInternalState session cache: ",Vt),F0.debug("getInternalState session param: ",`device_id: ${e}`,`features.device_id: ${(i=this.features)===null||i===void 0?void 0:i.device_id}`,`passphraseState: ${this.passphraseState}`);const p=e||((o=this.features)===null||o===void 0?void 0:o.device_id);if(!p||!this.passphraseState)return;const S=this.generateStateKey(p,this.passphraseState);return Vt[S]}updateInternalState(e,i,o,p=null,S=null){F0.debug("updateInternalState session param: ",`device_id: ${o}`,`enablePassphrase: ${e}`,`passphraseState: ${i}`,`sessionId: ${p}`,`featuresSessionId: ${S}`),e&&(p?Vt[this.generateStateKey(o,i)]=p:S&&(Vt[this.generateStateKey(o,i)]=S));const C=`${o}`;Vt[C]&&delete Vt[C],F0.debug("updateInternalState session cache: ",Vt)}setInternalState(e,i){var o,p;if(F0.debug("setInternalState session param: ",`state: ${e}`,`initSession: ${i}`,`device_id: ${(o=this.features)===null||o===void 0?void 0:o.device_id}`,`passphraseState: ${this.passphraseState}`),!this.features||!this.passphraseState&&!i)return;const S=(p=this.features)===null||p===void 0?void 0:p.device_id;if(!S)return;const C=this.generateStateKey(S,this.passphraseState);e&&(Vt[C]=e),F0.debug("setInternalState done session cache: ",Vt)}clearInternalState(e){var i;F0.debug("clearInternalState param: ",e);const o=e||((i=this.features)===null||i===void 0?void 0:i.device_id);if(!o)return;const p=`${o}`;if(delete Vt[p],this.passphraseState){const S=this.generateStateKey(o,this.passphraseState);delete Vt[S]}}initialize(e){return L(this,void 0,void 0,function*(){this.passphraseState=e==null?void 0:e.passphraseState,e!=null&&e.initSession&&this.clearInternalState(e==null?void 0:e.deviceId);const i=this.getInternalState(e==null?void 0:e.deviceId),o={};i&&(o.session_id=i),e!=null&&e.deriveCardano&&(o.derive_cardano=!0),o.passphrase_state=e==null?void 0:e.passphraseState,o.is_contains_attach=!0,F0.debug("Initialize device begin:",{deviceId:e==null?void 0:e.deviceId,passphraseState:e==null?void 0:e.passphraseState,initSession:e==null?void 0:e.initSession,InitializePayload:o});try{const{message:p}=yield Promise.race([this.commands.typedCall("Initialize","Features",o),new Promise((S,C)=>{setTimeout(()=>{C(r.ERRORS.TypedError(r.HardwareErrorCode.DeviceInitializeFailed))},25e3)})]);F0.debug("Initialize device end: ",p),this._updateFeatures(p,e==null?void 0:e.initSession),yield q0.reconfigure(this.features)}catch(p){throw F0.error("Initialization failed:",p),p}})}getFeatures(){return L(this,void 0,void 0,function*(){const{message:e}=yield this.commands.typedCall("GetFeatures","Features",{});this._updateFeatures(e)})}_updateFeatures(e,i){var o;this.features&&this.features.session_id&&!e.session_id&&(e.session_id=this.features.session_id),this.features&&this.features.device_id&&e.session_id&&this.setInternalState(e.session_id,i),e.unlocked=(o=e.unlocked)!==null&&o!==void 0?o:!0,e=en(e),this.features=e,this.featuresNeedsReload=!1,this.emit(a0.FEATURES,this,e)}updateDescriptor(e,i=!1){const o=qe.getSettings("env");if(qe.isBleConnect(o))return;const p=this.originalDescriptor.session,S=e.session;p!==S&&(this.originalDescriptor.session=S),i&&(this.originalDescriptor=e)}updateFromCache(e){this.mainId=e.mainId,this.commands=e.commands,this.updateDescriptor(e.originalDescriptor,!0),e.features&&this._updateFeatures(e.features)}run(e,i){return L(this,void 0,void 0,function*(){return this.runPromise&&(yield this.interruptionFromOutside(),F0.debug("[Device] run error:","Device is running, but will cancel previous operate")),i=Hd(i),this.runPromise=r.createDeferred(this._runInner.bind(this,e,i)),this.runPromise.promise})}_runInner(e,i){var o;return L(this,void 0,void 0,function*(){if(!this.isUsedHere()||this.commands.disposed){const p=qe.getSettings("env");if(p!=="react-native"){try{yield this.acquire()}catch(S){return this.runPromise=null,Promise.reject(S)}try{e&&(yield this.initialize(i))}catch(S){return this.runPromise=null,S instanceof r.HardwareError?Promise.reject(S):Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.DeviceInitializeFailed,`Initialize failed: ${S.message}, code: ${S.code}`))}}else p==="react-native"&&this.commands&&(this.commands.disposed=!1)}if(i.keepSession&&(this.keepSession=!0),e)try{yield e()}catch(p){this.runPromise&&this.runPromise.reject(p),p instanceof r.HardwareError&&r.ERROR_CODES_REQUIRE_RELEASE.includes(p.errorCode)&&(r.ERROR_CODES_REQUIRE_DISCONNECT.includes(p.errorCode)&&(yield(o=this.deviceConnector)===null||o===void 0?void 0:o.disconnect(this.mainId)),yield this.release(),F0.debug(`error code ${p.errorCode} release device, mainId: ${this.mainId}`)),this.runPromise=null;return}(!this.keepSession&&typeof i.keepSession!="boolean"||i.keepSession===!1)&&(this.keepSession=!1,yield this.release(),F0.debug("release device, mainId: ",this.mainId)),this.runPromise&&this.runPromise.resolve(),this.runPromise=null})}interruptionFromOutside(){return L(this,void 0,void 0,function*(){this.commands&&(yield this.commands.dispose(!1)),this.runPromise&&this.runPromise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.DeviceInterruptedFromOutside))})}interruptionFromUser(){var e,i;return L(this,void 0,void 0,function*(){const o=r.ERRORS.TypedError(r.HardwareErrorCode.DeviceInterruptedFromUser);yield(e=this.cancelableAction)===null||e===void 0?void 0:e.call(this,o),yield(i=this.commands)===null||i===void 0?void 0:i.cancel(),this.runPromise&&(this.runPromise.reject(o),this.runPromise=null)})}setCancelableAction(e){this.cancelableAction=i=>e(i).catch(o=>{F0.debug("cancelableAction error",o)}).finally(()=>{this.clearCancelableAction()})}clearCancelableAction(){this.cancelableAction=void 0}getMode(){var e,i,o;return!((e=this.features)===null||e===void 0)&&e.bootloader_mode?a.EOneKeyDeviceMode.bootloader:!((i=this.features)===null||i===void 0)&&i.initialized?!((o=this.features)===null||o===void 0)&&o.no_backup?a.EOneKeyDeviceMode.backupMode:a.EOneKeyDeviceMode.normal:a.EOneKeyDeviceMode.notInitialized}getFirmwareVersion(){return this.features?y0(this.features):null}getBLEFirmwareVersion(){return this.features?Yr(this.features):null}isUsed(){return typeof this.originalDescriptor.session=="string"}hasDeviceAcquire(){const e=qe.getSettings("env");return qe.isBleConnect(e)?this.deviceAcquired:this.isUsed()&&this.deviceAcquired}isUsedHere(){const e=qe.getSettings("env");return qe.isBleConnect(e)?!1:this.isUsed()&&this.originalDescriptor.session===this.mainId}isUsedElsewhere(){return this.isUsed()&&!this.isUsedHere()}isBootloader(){return this.features&&!!this.features.bootloader_mode}isInitialized(){return this.features&&!!this.features.initialized}isSeedless(){return this.features&&!!this.features.no_backup}isUnacquired(){return this.features===void 0}hasUnexpectedMode(e,i){if(this.features){if(this.isBootloader()&&!e.includes(Ie.BOOTLOADER))return Ie.BOOTLOADER;if(!this.isInitialized()&&!e.includes(Ie.NOT_INITIALIZE))return Ie.NOT_INITIALIZE;if(this.isSeedless()&&!e.includes(Ie.SEEDLESS))return Ie.SEEDLESS;if(!this.isBootloader()&&i.includes(Ie.BOOTLOADER))return Ie.NOT_IN_BOOTLOADER}return null}hasUsePassphrase(){var e;const o=(Ze(this.features)===r.EDeviceType.Touch||Ze(this.features)===r.EDeviceType.Pro)&&((e=this.features)===null||e===void 0?void 0:e.unlocked)===!1;return this.features&&(!!this.features.passphrase_protection||o)}checkDeviceId(e){return this.features?this.features.device_id===e:!1}lockDevice(){return L(this,void 0,void 0,function*(){return(yield this.commands.typedCall("LockDevice","Success",{})).message})}supportUnlockVersionRange(){return{pro:{min:"4.15.0"}}}unlockDevice(){var e;return L(this,void 0,void 0,function*(){const i=(e=y0(this.features))===null||e===void 0?void 0:e.join("."),o=qt(this.features,U=>this.supportUnlockVersionRange()[U]);if(Ki(this.features,y.Enum_Capability.Capability_AttachToPin)||o&&A.default.gte(i,o.min)){const U=yield this.commands.typedCall("UnLockDevice","UnLockDeviceResponse");if(this.features)return this.features.unlocked=U.message.unlocked==null?null:U.message.unlocked,this.features.unlocked_attach_pin=U.message.unlocked_attach_pin==null?void 0:U.message.unlocked_attach_pin,this.features.passphrase_protection=U.message.passphrase_protection==null?null:U.message.passphrase_protection,Promise.resolve(this.features);const se=yield this.commands.typedCall("GetFeatures","Features");return this._updateFeatures(se.message),Promise.resolve(se.message)}const{type:C}=yield this.commands.typedCall("GetAddress","Address",{address_n:[rt(44),rt(1),rt(0),0,0],coin_name:"Testnet",script_type:"SPENDADDRESS",show_display:!1});if(C==="CallMethodError")throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"unlock device error");const B=yield this.commands.typedCall("GetFeatures","Features");return this._updateFeatures(B.message),Promise.resolve(B.message)})}checkPassphraseStateSafety(e,i,o){return L(this,void 0,void 0,function*(){if(!this.features)return!1;const{passphraseState:p,unlockedAttachPin:S}=yield Aa(this,{expectPassphraseState:e,onlyMainPin:i});if(o)return!0;const C=S&&i,B=S&&e&&e!==p;if(F0.debug("Check passphrase state safety: ",{passphraseState:e,newPassphraseState:p,unlockedAttachPin:S,useEmptyPassphrase:i}),C||B){try{yield this.lockDevice()}catch{}return this.clearInternalState(),Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.DeviceCheckUnlockTypeError))}return e&&e!==p?(this.clearInternalState(),!1):!0})}}class pn extends ye.exports{constructor(){super(...arguments),this.devices={}}getDeviceLists(e,i){var o,p;return L(this,void 0,void 0,function*(){const S=yield(o=this.connector)===null||o===void 0?void 0:o.enumerate(),C=(p=S==null?void 0:S.descriptors)!==null&&p!==void 0?p:[];this.devices={};const{deviceList:B,devices:U}=yield g0.getDevices(C,e,i);return this.devices=U,B})}allDevices(){return Object.keys(this.devices).map(e=>this.devices[e])}getDevice(e){return this.devices[e]}}const rs=(d,e)=>{const i=qe.getFirmwareStatus(d,e),o=qe.getFirmwareChangelog(d,e),p=qe.getFirmwareLatestRelease(d,e),S=!!d.bootloader_mode;return{status:i,changelog:o,release:p,bootloaderMode:S}},er=d=>{const e=qe.getBLEFirmwareStatus(d),i=qe.getBleFirmwareChangelog(d),o=qe.getBleFirmwareLatestRelease(d),p=!!d.bootloader_mode;return{status:e,changelog:i,release:o,bootloaderMode:p}},Ri=({features:d,willUpdateFirmwareVersion:e,firmwareType:i})=>{const o=qe.getFirmwareLatestRelease(d,i),p=[o==null?void 0:o.bootloaderChangelog].filter(U=>U!=null&&typeof U=="object"&&Object.prototype.hasOwnProperty.call(U,"zh-CN")&&Object.prototype.hasOwnProperty.call(U,"en-US")),S=!!d.bootloader_mode;let C=!1;const B=Ze(d);return w0.model_mini.includes(B)?C=!!xa({features:d,willUpdateFirmware:e,firmwareType:i}):w0.model_touch.includes(B)&&(C=rn(d,i)),{status:C?"outdated":"valid",changelog:p,release:o,bootloaderMode:S,shouldUpdate:C}},hn=c0(a.LoggerNames.Method);class De{constructor(e){this.shouldEnsureConnected=!0,this.checkDeviceId=!1,this.useDevicePassphraseState=!0,this.skipForceUpdateCheck=!1,this.strictCheckDeviceSupport=!1,this.postPreviousAddressMessage=o=>{this.postMessage(O0(Ie.PREVIOUS_ADDRESS_RESULT,{device:this.device.toMessageObject(),data:o}))};const{payload:i}=e;this.name=i.method,this.payload=i,this.responseID=e.id||0,this.connectId=i.connectId||"",this.deviceId=i.deviceId||"",this.useDevice=!0,this.allowDeviceMode=[Ie.NOT_INITIALIZE],this.requireDeviceMode=[]}getVersionRange(){return{}}setContext(e){this.sdkInstanceId=e.sdkInstanceId,this.instanceId=Tr("Method",this.sdkInstanceId),hn.debug(`[BaseMethod] Created: ${this.instanceId}, method: ${this.name}, SDK: ${this.sdkInstanceId}`)}setDevice(e){var i,o;this.device=e,!e.sdkInstanceId&&this.sdkInstanceId&&(e.sdkInstanceId=this.sdkInstanceId,e.instanceId=Tr("Device",this.sdkInstanceId)),this.requestContext&&(this.requestContext.deviceInstanceId=e.instanceId,this.requestContext.commandsInstanceId=(i=e.commands)===null||i===void 0?void 0:i.instanceId,this.requestContext.sdkInstanceId=this.sdkInstanceId),e.commands&&this.sdkInstanceId&&(e.commands.instanceId=Tr("DeviceCommands",this.sdkInstanceId)),e.commands&&(e.commands.currentResponseID=this.responseID),hn.debug(`[${this.instanceId}] setDevice: ${e.instanceId}, commands: ${(o=e.commands)===null||o===void 0?void 0:o.instanceId}`)}checkFirmwareRelease(){if(!this.device||!this.device.features)return;const e=U0(this.device.features),i=rs(this.device.features,e);this.postMessage(es(Qi.RELEASE_INFO,Object.assign(Object.assign({},i),{device:this.device.toMessageObject()})));const o=er(this.device.features);this.postMessage(es(Qi.BLE_RELEASE_INFO,Object.assign(Object.assign({},o),{device:this.device.toMessageObject()})))}checkDeviceSupportFeature(){if(!this.device||!this.device.features)return;const e=Xi(this.device.features),i=Js(this.device.features);this.postMessage(jt(a0.SUPPORT_FEATURES,{inputPinOnSoftware:e,modifyHomescreen:i,device:this.device.toMessageObject()}))}checkFeatureVersionLimit(e,i,o){var p;if(!e())return;const S=(p=y0(this.device.features))===null||p===void 0?void 0:p.join("."),C=qt(this.device.features,B=>i()[B]);if(!C){if(o!=null&&o.strictCheckDeviceSupport)throw r.createDeviceNotSupportMethodError(this.name,U0(this.device.features));return}if(A.default.valid(S)&&A.default.lt(S,C.min))throw r.createNeedUpgradeFirmwareHardwareError({currentVersion:S,requireVersion:C.min,methodName:this.name,firmwareType:U0(this.device.features)})}checkSafetyLevelOnTestNet(){var e,i,o;return L(this,void 0,void 0,function*(){let p=!1;this.name==="evmSignTransaction"&&[3,4,5,420,11155111].includes(Number((i=(e=this.payload)===null||e===void 0?void 0:e.transaction)===null||i===void 0?void 0:i.chainId))&&(p=!0),p&&((o=this.device.features)===null||o===void 0?void 0:o.safety_checks)==="Strict"&&(hn.debug("will change safety_checks level"),yield this.device.commands.typedCall("ApplySettings","Success",{safety_checks:"PromptTemporarily"}))})}dispose(){}}class $d extends De{init(){this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE,Ie.BOOTLOADER],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){return L(this,void 0,void 0,function*(){const e=Date.now();yield this.device.commands.typedCall("Initialize","Features");const o=Date.now()-e;return Promise.resolve(o)})}}class ei extends De{init(){this.useDevice=!1,this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){var e,i,o,p;return L(this,void 0,void 0,function*(){yield q0.configure();const S=yield(e=this.connector)===null||e===void 0?void 0:e.enumerate(),C=(i=S==null?void 0:S.descriptors)!==null&&i!==void 0?i:[],B=qe.getSettings("env");if(qe.isBleConnect(B)){const se=[],pe=new Set;for(const he of C){const Ae=(o=he.id)===null||o===void 0?void 0:o.toLowerCase();pe.has(Ae)||(pe.add(Ae),se.push(Object.assign(Object.assign({},he),{connectId:he.id,deviceType:la((p=he.name)!==null&&p!==void 0?p:"")})))}return se}const{deviceList:U}=yield g0.getDevices(C);return U.map(se=>se.toMessageObject())})}}class Gt extends De{init(){this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE,Ie.BOOTLOADER],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){var e,i;return!((e=this.payload)===null||e===void 0)&&e.detectBootloaderDevice&&(!((i=this.device.features)===null||i===void 0)&&i.bootloader_mode)?Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.DeviceDetectInBootloaderMode)):Promise.resolve(this.device.features)}}class Ha extends De{init(){this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE,Ie.BOOTLOADER],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){return L(this,void 0,void 0,function*(){const{message:e}=yield this.device.commands.typedCall("OnekeyGetFeatures","OnekeyFeatures");return e.onekey_firmware_version&&!A.default.valid(e.onekey_firmware_version)&&(e.onekey_firmware_version=Qs(e.onekey_firmware_version)),Promise.resolve(e)})}}class jd extends De{init(){this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.useDevicePassphraseState=!1}run(){return L(this,void 0,void 0,function*(){if(!this.device.features)return Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.DeviceInitializeFailed));const{passphraseState:e}=yield Aa(this.device),{features:i}=this.device;return i&&i.passphrase_protection===!0?Promise.resolve(e):Promise.resolve(void 0)})}}class Vd extends De{init(){this.useDevice=!1,this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}serializeLog({level:e,prefix:i,message:o,timestamp:p}){const S=new Date(p).toISOString(),C=o.map(B=>typeof B=="object"?JSON.stringify(B):String(B)).join(" ");return`[${S}] ${e.toUpperCase()} ${i}: ${C}`}run(){return L(this,void 0,void 0,function*(){const e=R0().map(i=>this.serializeLog(i));return Promise.resolve(e)})}}class Gd extends De{init(){this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE,Ie.BOOTLOADER],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){var e;const i=this.payload;if(this.device.features){const o=U0(this.device.features),p=(e=i.firmwareType)!==null&&e!==void 0?e:o,S=rs(this.device.features,p);return Promise.resolve(S)}return Promise.resolve(null)}}class Wd extends De{init(){this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE,Ie.BOOTLOADER],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){if(this.device.features){const e=er(this.device.features);return Promise.resolve(e)}return Promise.resolve(null)}}class zd extends De{init(){this.useDevice=!1,this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){return L(this,void 0,void 0,function*(){return new Promise((e,i)=>{M.default.request({url:"http://localhost:21320",method:"POST",withCredentials:!1,timeout:3e3}).then(()=>e(!0)).catch(o=>{o.code==="ECONNABORTED"?i(r.ERRORS.TypedError(r.HardwareErrorCode.BridgeTimeoutError)):e(!1)})})})}}const Dr="2.2.0",Ee="4.3.0",Pe="3.1.0";function ke({deviceType:d,currentFirmwareVersion:e,willUpdateFirmwareVersion:i}){return L(this,void 0,void 0,function*(){try{const{data:o}=yield M.default.request({url:"http://localhost:21320",method:"POST",withCredentials:!1,timeout:3e3}),{version:p="0.0.0"}=o,S=A.default.lt(p,Dr);let C=!1;w0.model_touch.includes(d)&&(i&&A.default.gte(i,Ee)&&S&&(C=!0),A.default.gte(e,Ee)&&S&&(C=!0)),w0.model_mini.includes(d)&&(i&&A.default.gte(i,Pe)&&S&&(C=!0),A.default.gte(e,Pe)&&S&&(C=!0));const B=qe.getBridgeChangelog();return{shouldUpdate:C,status:C?"outdated":"valid",releaseVersion:Dr,changelog:B}}catch(o){throw o.code==="ECONNABORTED"?r.ERRORS.TypedError(r.HardwareErrorCode.BridgeTimeoutError):r.ERRORS.TypedError(r.HardwareErrorCode.BridgeNotInstalled)}})}class ze extends De{init(){this.allowDeviceMode=[...this.allowDeviceMode,Ie.BOOTLOADER],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){return L(this,void 0,void 0,function*(){if(!this.device.features)return null;const{willUpdateFirmwareVersion:e}=this.payload,{features:i}=this.device,o=Ze(i),p=y0(i).join(".");return ke({deviceType:o,currentFirmwareVersion:p,willUpdateFirmwareVersion:e})})}}class f0 extends De{init(){this.allowDeviceMode=[...this.allowDeviceMode,Ie.BOOTLOADER],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){var e;return L(this,void 0,void 0,function*(){if(!this.device.features)return null;const{features:i}=this.device,o=this.payload,p=U0(i),S=(e=o.firmwareType)!==null&&e!==void 0?e:p,C=Ri({features:i,willUpdateFirmwareVersion:o.willUpdateFirmwareVersion,firmwareType:S});return Promise.resolve(C)})}}class C0 extends De{init(){this.allowDeviceMode=[...this.allowDeviceMode,Ie.BOOTLOADER],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){var e,i;return L(this,void 0,void 0,function*(){const{features:o}=this.device,{checkBridgeRelease:p,firmwareType:S}=this.payload;if(!o)return Promise.resolve(null);const C=U0(o),B=S??C,U=rs(o,B),se=y0(o).join("."),pe=(i=(e=U.release)===null||e===void 0?void 0:e.version)===null||i===void 0?void 0:i.join("."),he=Ze(o);let Ae=null;p&&(U.status==="required"||U.status==="outdated")&&(Ae=yield ke({deviceType:he,currentFirmwareVersion:se,willUpdateFirmwareVersion:pe}));const Oe=Ri({features:o,willUpdateFirmwareVersion:pe,firmwareType:B}),je=er(o);return{firmware:U,bootloader:Oe,ble:je,bridge:Ae?{shouldUpdate:Ae.shouldUpdate,status:Ae.shouldUpdate?"outdated":"valid",changelog:Ae.changelog,release:Ae.releaseVersion}:void 0,features:o}})}}class W0 extends De{init(){this.useDevice=!1,this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){var e,i;const o=this.payload,{deviceType:p,firmwareType:S}=o;if(p===r.EDeviceType.Unknown)return Promise.resolve(void 0);const C=Ia(S),B=(i=(e=qe.deviceMap[p])===null||e===void 0?void 0:e[C])!==null&&i!==void 0?i:[],U=wr(B);return Promise.resolve(U)}}class B0 extends De{init(){this.useDevicePassphraseState=!1}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("BackupDevice","Success");return Promise.resolve(e.message)})}}const is=d=>d.slice(0,2).toLowerCase()==="0x",tr=d=>is(d)?d.slice(2):d,Et=d=>is(d)?d:`0x${d}`,ss=(d,e)=>!(typeof d!="string"||!d.match(/^(0x|0X)?[0-9A-Fa-f]*$/)),k0=d=>{for(;/^00/.test(d);)d=d.slice(2);return d},ti=(d,e)=>Object.fromEntries(Object.entries(d).map(([i,o])=>[i,e(o,i)])),Qe=d=>{if(typeof d=="string"){let e=tr(d);return e.length%2!==0&&(e=`0${e}`),e}return Array.isArray(d)?d.map(Qe):typeof d=="object"?ti(d,e=>Qe(e)):d},ns=Array.from({length:256},(d,e)=>e.toString(16).padStart(2,"0"));function b0(d){if(!(d instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let i=0;i<d.length;i++)e+=ns[d[i]];return e}function Ai(d){if(typeof d!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof d}`);if(d.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(d.length/2);for(let i=0;i<e.length;i++){const o=i*2,p=d.slice(o,o+2),S=Number.parseInt(p,16);if(Number.isNaN(S)||S<0)throw new Error("Invalid byte sequence");e[i]=S}return e}function $a(d){if(!d)return 0;if(typeof d=="string"){if(d.trim()==="")return 0;if(d.match(/^[0-9]+$/))return new q.default(d,10).toNumber();if(d.startsWith("0x")||d.match(/^[0-9a-fA-F]+$/))return new q.default(d,16).toNumber();throw new Error(`Invalid chainId ${d}`)}if(typeof d=="number")return new q.default(d).toNumber();throw new Error(`Invalid chainId ${d}`)}const ct=d=>r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,d),as=d=>r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodError,d),we=(d,e)=>{e.forEach(i=>{if(!Object.prototype.hasOwnProperty.call(d,i.name)&&i.required)throw ct(`Missing required parameter: ${i.name}`);const p=d[i.name];if(p&&i.type)switch(i.type){case"array":if(Array.isArray(p)){if(!i.allowEmpty&&p.length<1)throw ct(`Parameter "${i.name}" is empty.`)}else throw ct(`Parameter [${i.name}] is of type invalid and should be [${i.type}].`);break;case"uint":if(typeof p!="string"&&typeof p!="number")throw ct(`Parameter [${i.name}] has invalid type. "string|number" expected.`);if(typeof p=="number"&&!Number.isSafeInteger(p)||!/^(?:[1-9]\d*|\d)$/.test(p.toString().replace(/^-/,i.allowNegative?"":"-")))throw ct(`Parameter [${i.name}] has invalid value "${p}". Integer representation expected.`);break;case"bigNumber":if(typeof p!="string")throw ct(`Parameter [${i.name}] is of type invalid and should be [string].`);try{if(new q.default(p).toFixed(0)!==p)throw new Error("")}catch{throw ct(`Parameter [${i.name}] is of type invalid and should be [${i.type}].`)}break;case"buffer":{if(typeof p>"u"||p===null)throw ct(`Parameter [${i.name}] is of type invalid and should be [buffer].`);const S=typeof Buffer<"u"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(p),C=p.constructor&&typeof p.constructor.isBuffer=="function"&&p.constructor.isBuffer(p),B=typeof ArrayBuffer<"u"&&p instanceof ArrayBuffer,U=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(p);if(!S&&!C&&!B&&!U)throw ct(`Parameter [${i.name}] is of type invalid and should be [buffer].`);break}case"hexString":if(typeof p!="string"||!ss(Et(p)))throw ct(`Parameter [${i.name}] is of type invalid and should be [${i.type}].`);break;default:if(typeof p!==i.type)throw ct(`Parameter [${i.name}] is of type invalid and should be [${i.type}].`);break}})};function T0(d,e,i){if(Array.isArray(d)){if((i==null?void 0:i.expectedLength)!==null&&d.length!==(i==null?void 0:i.expectedLength))throw as(`Expected array length of ${i==null?void 0:i.expectedLength}, but got ${d.length}`);d.forEach((o,p)=>{e.forEach(S=>{if(o[S]==null)throw as(`Field '${S}' in array item at index ${p} is null`)})})}else if(typeof d=="object"&&d!==null)e.forEach(o=>{if(d[o]==null)throw as(`Field '${o}' in object is null`)});else throw as("Result is neither an array nor a valid object")}class os extends De{init(){this.useDevicePassphraseState=!1,we(this.payload,[{name:"remove",type:"boolean"}]),this.params={remove:this.payload.remove}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("ChangePin","Success",Object.assign({},this.params));return Promise.resolve(e.message)})}}class Ar extends De{init(){this.useDevicePassphraseState=!1,we(this.payload,[{name:"flags",type:"number"}]),this.params={flags:this.payload.flags}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("ApplyFlags","Success",Object.assign({},this.params));return Promise.resolve(e.message)})}}class ds extends De{init(){this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}getVersionRange(){return{classic:{min:"2.1.11"},mini:{min:"2.1.11"}}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("RebootToBootloader","Success");return Promise.resolve(e.message)})}}class ja extends De{init(){this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}getVersionRange(){return{classic:{min:"2.1.11"},mini:{min:"2.1.11"}}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("BixinOutMessageSE","Success");return Promise.resolve(e.message)})}}class us extends De{init(){this.useDevicePassphraseState=!1,we(this.payload,[{name:"wordCount",type:"number"},{name:"passphraseProtection",type:"boolean"},{name:"pinProtection",type:"boolean"},{name:"language",type:"string"},{name:"label",type:"string"},{name:"enforceWordlist",type:"boolean"},{name:"type",type:"object"},{name:"u2fCounter",type:"number"},{name:"dryRun",type:"boolean"}]),this.params={word_count:this.payload.wordCount,passphrase_protection:this.payload.passphraseProtection,pin_protection:this.payload.pinProtection,language:this.payload.language,label:this.payload.label,enforce_wordlist:this.payload.enforceWordlist,type:this.payload.type,u2f_counter:this.payload.u2fCounter||Math.floor(Date.now()/1e3),dry_run:this.payload.dryRun}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("RecoveryDevice","Success",Object.assign({},this.params));return Promise.resolve(e.message)})}}class Va extends De{init(){this.useDevicePassphraseState=!1,we(this.payload,[{name:"displayRandom",type:"boolean"},{name:"strength",type:"number"},{name:"passphraseProtection",type:"boolean"},{name:"pinProtection",type:"boolean"},{name:"language",type:"string"},{name:"label",type:"string"},{name:"u2fCounter",type:"number"},{name:"skipBackup",type:"boolean"},{name:"noBackup",type:"boolean"},{name:"backupType"}]),this.params={display_random:this.payload.displayRandom,strength:this.payload.strength||256,passphrase_protection:this.payload.passphraseProtection,pin_protection:this.payload.pinProtection,language:this.payload.language,label:this.payload.label,u2f_counter:this.payload.u2fCounter||Math.floor(Date.now()/1e3),skip_backup:this.payload.skipBackup,no_backup:this.payload.noBackup,backup_type:this.payload.backupType}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("ResetDevice","Success",Object.assign({},this.params));return Promise.resolve(e.message)})}}class Ga extends De{init(){this.useDevicePassphraseState=!1,we(this.payload,[{name:"language",type:"string"},{name:"label",type:"string"},{name:"usePassphrase",type:"boolean"},{name:"homescreen",type:"string"},{name:"passphraseSource",type:"number"},{name:"autoLockDelayMs",type:"number"},{name:"displayRotation",type:"number"},{name:"passphraseAlwaysOnDevice",type:"boolean"},{name:"safetyChecks",type:"number"},{name:"experimentalFeatures",type:"boolean"},{name:"autoShutdownDelayMs",type:"number"},{name:"changeBrightness",type:"boolean"},{name:"hapticFeedback",type:"boolean"}]),this.params=Object.assign(Object.assign({language:this.payload.language,label:this.payload.label,use_passphrase:this.payload.usePassphrase,homescreen:this.payload.homescreen,_passphrase_source:this.payload.passphraseSource,auto_lock_delay_ms:this.payload.autoLockDelayMs,display_rotation:this.payload.displayRotation,passphrase_always_on_device:this.payload.passphraseAlwaysOnDevice,safety_checks:this.payload.safetyChecks,experimental_features:this.payload.experimentalFeatures,auto_shutdown_delay_ms:this.payload.autoShutdownDelayMs},this.payload.changeBrightness?{change_brightness:this.payload.changeBrightness}:void 0),{haptic_feedback:this.payload.hapticFeedback})}getVersionRange(){return this.payload.usePassphrase?{model_mini:{min:"2.4.0"}}:{}}run(){var e,i,o,p,S;return L(this,void 0,void 0,function*(){try{return(yield this.device.commands.typedCall("ApplySettings","Success",Object.assign({},this.params))).message}catch(C){if(!((e=C.message)===null||e===void 0)&&e.toLowerCase().includes("no setting provided"))return Promise.reject(r.TypedError(r.HardwareErrorCode.DeviceSettingsNotProvided,C.message));if(!((i=C.message)===null||i===void 0)&&i.includes("all support ISO_639-1 language keys include")){const U=((S=(p=(o=C.message)===null||o===void 0?void 0:o.replace("all support ISO_639-1 language keys include",""))===null||p===void 0?void 0:p.trim())===null||S===void 0?void 0:S.split(" ")).reduce((se,pe)=>{const he=Ut==null?void 0:Ut[pe];return he&&se.push(he),se},[]);return Promise.reject(r.TypedError(r.HardwareErrorCode.DeviceSettingsLanguageNotSupport,C.message,{languages:U.join(", ")}))}throw C}})}}class cs extends De{init(){this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("DeviceBackToBoot","Success");return Promise.resolve(e.message)})}}const ri=d=>{throw d instanceof r.HardwareError?d:d.code==="ERR_NETWORK"?r.ERRORS.TypedError(r.HardwareErrorCode.BridgeNotInstalled):d.code==="ECONNABORTED"?r.ERRORS.TypedError(r.HardwareErrorCode.BridgeTimeoutError):d.code==="ERR_BAD_REQUEST"?r.ERRORS.TypedError(r.HardwareErrorCode.BridgeNetworkError):r.ERRORS.TypedError(d)};class Ii extends De{constructor(){super(...arguments),this.paramsData={data:new Uint8Array,thumbnailData:new Uint8Array,blurData:new Uint8Array},this.uploadProgress={totalBytes:0,uploadedBytes:0,currentFile:"main"},this.processResourceRequest=e=>L(this,void 0,void 0,function*(){if(e.type==="Success"){const Ae={message:e.message.message};Ae.applyScreen=!0;const Oe=y0(this.device.features).join(".");return Ze(this.device.features)===r.EDeviceType.Pro&&A.default.gte(Oe,"4.17.0")&&(Ae.applyScreen=!1),Ae}const{offset:i,data_length:o}=e.message,{data:p,thumbnailData:S,blurData:C}=this.paramsData;if(i===void 0)throw new Error("offset is undefined");let B;switch(e.type){case"ResourceRequest":B=p;break;case"BlurRequest":B=C;break;case"ZoomRequest":B=S;break;default:throw new Error("Invalid request type")}const U=this.getDataChunk(B,i,o),se=E.blake2s(U);this.updateProgress(U.byteLength,e.type);const pe={data_chunk:v.bytesToHex(U),hash:v.bytesToHex(se)},he=yield this.device.commands.typedCall("ResourceAck",["ResourceRequest","ZoomRequest","BlurRequest","Success"],pe);return this.processResourceRequest(he)})}getVersionRange(){return{model_touch:{min:"3.2.0"}}}checkUploadNFTSupport(){const e=Ze(this.device.features),i=y0(this.device.features).join(".");if(!w0.model_touch.includes(e))throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodError,"Device Not Support Upload NFT");if(A.default.lt(i,"4.1.0"))throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodNeedUpgradeFirmware,"Device firmware version is too low, please update to 4.1.0",{current:i,require:"4.1.0"})}init(){this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0,we(this.payload,[{name:"suffix",type:"string",required:!0},{name:"dataHex",type:"string",required:!0},{name:"thumbnailDataHex",type:"string",required:!0},{name:"blurDataHex",type:"hexString",required:!0},{name:"resType",type:"number",required:!0},{name:"nftMetaData",type:"string"},{name:"fileNameNoExt",type:"string"}]);const{suffix:e,dataHex:i,thumbnailDataHex:o,blurDataHex:p,resType:S,nftMetaData:C}=this.payload;this.paramsData={data:new Uint8Array(Ai(i)),thumbnailData:new Uint8Array(Ai(o)),blurData:new Uint8Array(Ai(p))},this.uploadProgress.totalBytes=this.paramsData.data.byteLength+this.paramsData.thumbnailData.byteLength+this.paramsData.blurData.byteLength,this.uploadProgress.uploadedBytes=0;const B=v.bytesToHex(E.blake2s(this.payload.dataHex)).slice(0,8),U=g.isEmpty(this.payload.fileNameNoExt)?`${S===0?"wp":"nft"}-${B}-${Math.floor(Date.now()/1e3)}`:this.payload.fileNameNoExt;this.params={extension:e,data_length:this.paramsData.data.byteLength,zoom_data_length:this.paramsData.thumbnailData.byteLength,blur_data_length:this.paramsData.blurData.byteLength,res_type:S,nft_meta_data:C,file_name_no_ext:U}}getDataChunk(e,i,o){const p=Math.min(i+o,e.byteLength);return e.subarray(i,p)}updateProgress(e,i){this.uploadProgress.uploadedBytes+=e,i==="ResourceRequest"?this.uploadProgress.currentFile="main":i==="ZoomRequest"?this.uploadProgress.currentFile="thumbnail":this.uploadProgress.currentFile="blur",Math.round(this.uploadProgress.uploadedBytes/this.uploadProgress.totalBytes*100)}run(){return L(this,void 0,void 0,function*(){this.payload.resType===y.Messages.ResourceType.Nft&&this.checkUploadNFTSupport();const e=yield this.device.commands.typedCall("ResourceUpload",["ResourceRequest","ZoomRequest","BlurRequest","Success"],this.params);return this.processResourceRequest(e)})}}class Mr extends De{init(){this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){if(!this.device.features)return Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"Device not initialized"));const e=Xi(this.device.features),i=Js(this.device.features);return Promise.resolve({inputPinOnSoftware:e,modifyHomescreen:i,device:this.device.toMessageObject()})}}class ls extends De{init(){this.useDevicePassphraseState=!1,we(this.payload,[{name:"dataHex",type:"hexString"}]),this.params={data:Qe(this.payload.dataHex)}}run(){return L(this,void 0,void 0,function*(){const e=Ze(this.device.features);let i;if(w0.model_classic.includes(e))i=(yield this.device.commands.typedCall("BixinVerifyDeviceRequest","BixinVerifyDeviceAck",Object.assign(Object.assign({},this.params),{data:v.bytesToHex(R.sha256(this.params.data))}))).message;else{const o=yield this.device.commands.typedCall("SESignMessage","SEMessageSignature",{message:this.params.data});i={cert:(yield this.device.commands.typedCall("ReadSEPublicCert","SEPublicCert")).message.public_cert,signature:o.message.signature}}return T0(i,["cert","signature"]),i?Promise.resolve(i):Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"Device not support verify"))})}}class Kd extends De{init(){this.useDevicePassphraseState=!1}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("WipeDevice","Success");return Promise.resolve(e.message)})}}const ps=({features:d,updateType:e,version:i,isUpdateBootloader:o,firmwareType:p})=>L(void 0,void 0,void 0,function*(){const S=Ci({features:d,updateType:e,targetVersion:i==null?void 0:i.join("."),firmwareType:p});if(!S)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"no firmware found for this device");if(i&&!A.default.eq(S.version.join("."),i.join("."))&&!(Ze(d)==="touch"&&!d.onekey_version))throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"firmware version mismatch");const C=e==="ble"?S.webUpdate:o?S.bootloaderResource:S.url;let B;try{B=yield I0(C,"binary")}catch{throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"Method_FirmwareUpdate_DownloadFailed")}return Object.assign(Object.assign({},S),{binary:B})}),Oi=d=>L(void 0,void 0,void 0,function*(){let e;try{e=yield I0(d,"binary")}catch{throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"Method_FirmwareUpdate_DownloadFailed")}return{binary:e}}),Ci=({features:d,updateType:e,targetVersion:i,firmwareType:o})=>{var p,S;const C=Ze(d);if(C==="unknown")return null;const{deviceMap:B}=qe,U=Jt({features:d,updateType:e,targetVersion:i,firmwareType:o}),se=(S=(p=B==null?void 0:B[C])===null||p===void 0?void 0:p[U])!==null&&S!==void 0?S:[];return wr(se)},hs="2.4.5",ii="session not found",yn="Firmware install confirmed",Wt=c0(a.LoggerNames.Method),Wa=d=>{const e=d instanceof Error?d.message:String(d??"");return e.includes("device was disconnected")||e.includes("transferIn")||e.includes("USBDevice")},gn=d=>{var e;!((e=d.features)===null||e===void 0)&&e.firmware_present&&d.emit(a0.BUTTON,d,{code:"ButtonRequest_FirmwareUpdate"})},L0=(d,e,i,o)=>{o(O0(Ie.FIRMWARE_PROGRESS,{device:d.toMessageObject(),progress:e,progressType:i}))},it=(d,e)=>{e(O0(Ie.FIRMWARE_PROCESSING,{type:d}))},It=(d,e,i)=>{i(O0(Ie.FIRMWARE_TIP,{device:d.toMessageObject(),data:{message:e}}))},za=d=>L(void 0,void 0,void 0,function*(){d==="ble"&&(yield _t(10*1e3))}),mn=(d,e,i,o,{payload:p,rebootOnSuccess:S},C)=>L(void 0,void 0,void 0,function*(){var B,U;const se=Ze(o.features);if(w0.model_mini.includes(se)){gn(o),It(o,"ConfirmOnDevice",i);const pe=d==="firmware";if(pe&&!C){const je=yield e("GetFeatures","Features",{}),Ve=xr(je.message).join("."),r0=A.default.gte(Ve,"2.1.0");if(Wt.debug("supportUpgradeFileHeader:",r0),r0){if(p.byteLength<1024)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`firmware payload too small: ${p.byteLength} bytes, expected at least 1024 bytes`);Wt.debug("Uploading firmware header:",{size:1024,totalSize:p.byteLength}),It(o,"UploadingFirmwareHeader",i);const Ke=new Uint8Array(p.slice(0,1024));try{const o0=yield e("UpgradeFileHeader","Success",{data:b0(Ke)}),E0=(U=(B=o0.message)===null||B===void 0?void 0:B.message)===null||U===void 0?void 0:U.includes("Failure_UnknownMessage");if(o0.type!=="Success"&&!E0)throw Wt.error("Firmware header upload failed:",o0),r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"failed to upload firmware header")}catch(o0){if(Wt.error("Firmware header upload failed:",o0),!(o0 instanceof Error?o0.message:String(o0??"")).includes("Failure_UnknownMessage"))throw o0}Wt.debug("Firmware header uploaded successfully")}}if((yield e(pe?"FirmwareErase":"FirmwareErase_ex","Success",{})).type!=="Success")throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"erase firmware error");It(o,"FirmwareEraseSuccess",i),L0(o,0,"installingFirmware",i);let Oe;try{Oe=yield e("FirmwareUpload","Success",{payload:p})}catch(je){if(Wa(je))Wt.log("Rebooting device"),Oe={type:"Success",message:{message:yn}};else throw je}if(L0(o,100,"installingFirmware",i),yield za(d),Oe.type!=="Success")throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"install firmware error");return Oe.message}if(w0.model_touch.includes(se)){if(o.features){const Ae=xr(o.features);if(A.default.gte(Ae.join("."),hs))return(yield Zd(d,i,o,{payload:p},S)).message}gn(o),It(o,"ConfirmOnDevice",i);const pe=p.byteLength;let he=yield e("FirmwareErase",["FirmwareRequest","Success"],{length:pe});for(It(o,"FirmwareEraseSuccess",i);he.type!=="Success";){const Ae=he.message.offset,Oe=he.message.offset+he.message.length,je=p.slice(Ae,Oe);if(Ae>0&&L0(o,Math.round(Ae/pe*100),"transferData",i),he=yield e("FirmwareUpload",["FirmwareRequest","Success"],{payload:je}),he.type==="CallMethodError")throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"upload firmware error")}return L0(o,100,"transferData",i),yield za(d),he.message}throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"uploadFirmware: unknown device model")}),Zd=(d,e,i,{payload:o},p=!0)=>L(void 0,void 0,void 0,function*(){var S,C,B,U,se;let pe=i.getCommands().typedCall.bind(i.getCommands());It(i,"StartTransferData",e);const he=`0:${d==="ble"?"ble-":""}firmware.bin`,Ae=qe.getSettings("env"),je=1024*(qe.isBleConnect(Ae)?16:128),Ve=Math.ceil(o.byteLength/je);let r0=0;for(let Ke=0;Ke<Ve;Ke++){const o0=Ke*je,E0=Math.min(o0+je,o.byteLength),J0=E0-o0,j0=o.slice(o0,E0),ht=Ke===0,Pt=Math.round((Ke+1)/Ve*100),H0=yield _n(i,he,J0,r0,j0,ht,Pt);r0+=H0.message.processed_byte,L0(i,Pt,"transferData",e)}gn(i),It(i,"ConfirmOnDevice",e),It(i,"InstallingFirmware",e),pe=i.getCommands().typedCall.bind(i.getCommands());let i0;try{i0=yield pe("FirmwareUpdateEmmc","Success",{path:he,reboot_on_success:p})}catch(Ke){if(Wa(Ke))Wt.log("Rebooting device"),i0={type:"Success",message:{message:yn}};else throw Ke}if(i0.type==="Success"&&((S=i0==null?void 0:i0.message)===null||S===void 0?void 0:S.message)===yn){const o0=Date.now(),E0=qe.isBleConnect(Ae);for(;Date.now()-o0<12e4;)try{if(E0)try{yield(C=i.deviceConnector)===null||C===void 0?void 0:C.acquire(i.originalDescriptor.id,null,!0);const j0=i.getCommands().typedCall.bind(i.getCommands());yield Promise.race([j0("Initialize","Features",{}),new Promise((ht,Pt)=>{setTimeout(()=>{Pt(r.ERRORS.TypedError(r.HardwareErrorCode.DeviceInitializeFailed))},3e3)})])}catch(j0){Wt.log("catch Bluetooth error when device is restarting: ",j0)}else{const j0=yield(B=i.deviceConnector)===null||B===void 0?void 0:B.enumerate(),ht=(U=j0==null?void 0:j0.descriptors)!==null&&U!==void 0?U:[],{deviceList:Pt}=yield g0.getDevices(ht,i.originalDescriptor.id);Pt.length===1&&(i.updateFromCache(Pt[0]),yield i.acquire(),i.commands.disposed=!1,i.getCommands().mainId=(se=i.mainId)!==null&&se!==void 0?se:"")}yield i.getCommands().typedCall.bind(i.getCommands())("GetFeatures","Features",{}),g0.resetState();break}catch(J0){console.error("Device reconnect failed: ",J0),Wt.error("Device reconnect failed:",J0),yield _t(1e3)}}return i0}),_n=(d,e,i,o,p,S,C)=>L(void 0,void 0,void 0,function*(){var B,U,se,pe,he,Ae,Oe,je,Ve;const r0=()=>L(void 0,void 0,void 0,function*(){var Ke;const E0=yield d.getCommands().typedCall.bind(d.getCommands())("EmmcFileWrite","EmmcFile",{file:{path:e,len:i,offset:o,data:p},overwrite:S,append:o!==0,ui_percentage:C});if(E0.type!=="EmmcFile")throw E0.type==="CallMethodError"&&((Ke=E0.message.error)!==null&&Ke!==void 0?Ke:"").indexOf(ii)>-1?r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,ii):r.ERRORS.TypedError(r.HardwareErrorCode.EmmcFileWriteFirmwareError,"transfer data error");return E0});let i0=10;for(;i0>0;)try{return yield r0()}catch(Ke){if(Wt.error("emmcWrite error: ",Ke),i0--,i0===0)throw r.ERRORS.TypedError(r.HardwareErrorCode.EmmcFileWriteFirmwareError,"transfer data error");const o0=qe.getSettings("env");if(qe.isBleConnect(o0))yield _t(3e3),yield(B=d.deviceConnector)===null||B===void 0?void 0:B.acquire(d.originalDescriptor.id,null,!0),yield d.initialize();else if(((U=Ke==null?void 0:Ke.message)===null||U===void 0?void 0:U.indexOf(ii))>-1||((pe=(se=Ke==null?void 0:Ke.response)===null||se===void 0?void 0:se.data)===null||pe===void 0?void 0:pe.indexOf(ii))>-1){const E0=yield(he=d.deviceConnector)===null||he===void 0?void 0:he.enumerate(),J0=(Ae=E0==null?void 0:E0.descriptors)!==null&&Ae!==void 0?Ae:[],{deviceList:j0}=yield g0.getDevices(J0,void 0);j0.length===1&&(!((je=(Oe=j0[0])===null||Oe===void 0?void 0:Oe.features)===null||je===void 0)&&je.bootloader_mode)&&(d.updateFromCache(j0[0]),yield d.acquire(),d.getCommands().mainId=(Ve=d.mainId)!==null&&Ve!==void 0?Ve:"")}yield _t(3e3)}}),ki=16*1024,ys=(d,e,i)=>L(void 0,void 0,void 0,function*(){if(e.type==="Success")return e.message;const{offset:o,data_length:p}=e.message;if(o===void 0)throw new Error("offset is undefined");const S=new Uint8Array(i.slice(o,Math.min(o+p,i.byteLength))),C=E.blake2s(S),B={data_chunk:b0(S),hash:b0(C)},U=yield d("ResourceAck",["ResourceRequest","Success"],Object.assign({},B));return ys(d,U,i)}),Pr=(d,e,i,o)=>L(void 0,void 0,void 0,function*(){const p=new Uint8Array(i.slice(0,Math.min(ki,i.byteLength))),S=E.blake2s(p),C=yield d("ResourceUpdate",["ResourceRequest","Success"],{file_name:e,data_length:i.byteLength,initial_data_chunk:b0(p),hash:b0(S)});return o==null||o(),ys(d,C,i)}),si=(d,e,i,o)=>L(void 0,void 0,void 0,function*(){It(i,"UpdateSysResource",e);const p=yield W.default.loadAsync(o),S=Object.entries(p.files);let C=0;const B=100/S.length;for(const[U,se]of S){const pe=U.split("/").pop();if(!se.dir&&U.indexOf("__MACOSX")===-1&&pe){const he=yield se.async("arraybuffer");yield Pr(d,pe,he)}C+=B,L0(i,Math.floor(C),"installingFirmware",e)}return L0(i,100,"installingFirmware",e),It(i,"UpdateSysResourceSuccess",e),!0}),xi=(d,e,i,o)=>L(void 0,void 0,void 0,function*(){return It(i,"UpdateBootloader",e),L0(i,Math.floor(0),"installingFirmware",e),yield Pr(d,"bootloader.bin",o,()=>{it("resource",e)}),L0(i,Math.floor(100),"installingFirmware",e),It(i,"UpdateBootloaderSuccess",e),!0});class gs extends De{constructor(){super(...arguments),this.checkPromise=null,this.postTipMessage=e=>{this.postMessage(O0(Ie.FIRMWARE_TIP,{device:this.device.toMessageObject(),data:{message:e}}))}}init(){this.requireDeviceMode=[],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}isSupportResourceUpdate(e,i){if(i!=="firmware")return!1;const o=Ze(e),p=o===r.EDeviceType.Touch||o===r.EDeviceType.Pro,S=y0(e).join(".");return p&&A.default.gte(S,"3.4.0")}run(){var e;return L(this,void 0,void 0,function*(){const{device:i}=this,{features:o}=i,p=this.payload,S=U0(o),C=(e=p.firmwareType)!==null&&e!==void 0?e:S;if(!(o!=null&&o.bootloader_mode)&&o&&o){let{binary:B}=this.payload;if(!B){this.postTipMessage("CheckLatestUiResource");const U=qe.getSysFullResource(o,C);if(U){this.postTipMessage("DownloadLatestUiResource");const se=yield Oi(U);this.postTipMessage("DownloadLatestUiResourceSuccess"),se&&(B=se.binary)}}yield si(this.device.getCommands().typedCall.bind(this.device.getCommands()),this.postMessage,i,B)}})}}const Ot=c0(a.LoggerNames.Method),ms="session not found",Yd="Firmware install confirmed",Xd=d=>{const e=d instanceof Error?d.message:String(d??"");return e.includes("device was disconnected")||e.includes("transferIn")||e.includes("USBDevice")};class Ka extends De{constructor(){super(...arguments),this.checkPromise=null,this.postTipMessage=e=>{this.postMessage(O0(Ie.FIRMWARE_TIP,{device:this.device.toMessageObject(),data:{message:e}}))},this.postProcessingMessage=e=>{this.postMessage(O0(Ie.FIRMWARE_PROCESSING,{type:e}))},this.postProgressMessage=(e,i)=>{this.postMessage(O0(Ie.FIRMWARE_PROGRESS,{device:this.device.toMessageObject(),progress:e,progressType:i}))}}init(){}run(){return Promise.resolve()}isBleReconnect(){const e=qe.getSettings("env");return this.payload.connectId&&qe.isBleConnect(e)}_promptDeviceInBootloaderForWebDevice(){return L(this,void 0,void 0,function*(){return new Promise((e,i)=>{this.device.listenerCount(a0.SELECT_DEVICE_IN_BOOTLOADER_FOR_WEB_DEVICE)>0&&this.device.emit(a0.SELECT_DEVICE_IN_BOOTLOADER_FOR_WEB_DEVICE,this.device,(o,p)=>{o?i(o):e(p)})})})}_promptDeviceForSwitchFirmwareWebDevice(){return L(this,void 0,void 0,function*(){return new Promise((e,i)=>{this.device.listenerCount(a0.SELECT_DEVICE_FOR_SWITCH_FIRMWARE_WEB_DEVICE)>0&&this.device.emit(a0.SELECT_DEVICE_FOR_SWITCH_FIRMWARE_WEB_DEVICE,this.device,(o,p)=>{o?i(o):e(p)})})})}checkDeviceToBootloader(e){var i,o;this.checkPromise=r.createDeferred();const p=qe.getSettings("env"),S=e&&qe.isBleConnect(p);Ot.log("FirmwareUpdateBaseMethod [checkDeviceToBootloader] isBleReconnect: ",S);let C=!0,B=0,U;const se=Ze((i=this===null||this===void 0?void 0:this.device)===null||i===void 0?void 0:i.features)===r.EDeviceType.Touch||Ze((o=this===null||this===void 0?void 0:this.device)===null||o===void 0?void 0:o.features)===r.EDeviceType.Pro,pe=setInterval(()=>L(this,void 0,void 0,function*(){var he,Ae,Oe,je;if(B+=1,Ot.log("FirmwareUpdateBaseMethod [checkDeviceToBootloader] isFirstCheck: ",C),se&&C&&(C=!1,Ot.log("FirmwareUpdateBaseMethod [checkDeviceToBootloader] wait 3000ms"),yield _t(3e3)),B>4&&qe.isBrowserWebUsb(qe.getSettings("env"))&&!this.payload.skipWebDevicePrompt){clearInterval(pe),clearTimeout(U);try{this.postTipMessage(a.FirmwareUpdateTipMessage.SelectDeviceInBootloaderForWebDevice),(yield this._promptDeviceInBootloaderForWebDevice())&&(yield this._checkDeviceInBootloaderMode(e,pe,U))}catch(Ve){Ot.log("FirmwareUpdateBaseMethod [checkDeviceToBootloader] _promptDeviceInBootloaderForWebDevice failed: ",Ve),(he=this.checkPromise)===null||he===void 0||he.reject(Ve)}return}if(S)try{yield(Ae=this.device.deviceConnector)===null||Ae===void 0?void 0:Ae.acquire(this.device.originalDescriptor.id,null,!0),yield this.device.initialize(),!((Oe=this.device.features)===null||Oe===void 0)&&Oe.bootloader_mode&&(clearInterval(pe),(je=this.checkPromise)===null||je===void 0||je.resolve(!0))}catch(Ve){Ot.log("catch Bluetooth error when device is restarting: ",Ve)}else yield this._checkDeviceInBootloaderMode(e,pe,U)}),S?3e3:2e3);U=setTimeout(()=>{this.checkPromise&&(clearInterval(pe),this.checkPromise.reject(new Error))},3e4)}_checkDeviceInBootloaderMode(e,i,o){var p,S,C,B,U;return L(this,void 0,void 0,function*(){const se=yield(p=this.device.deviceConnector)===null||p===void 0?void 0:p.enumerate(),pe=(S=se==null?void 0:se.descriptors)!==null&&S!==void 0?S:[],{deviceList:he}=yield g0.getDevices(pe,e);return he.length===1&&(!((B=(C=he[0])===null||C===void 0?void 0:C.features)===null||B===void 0)&&B.bootloader_mode)?(this.device.updateFromCache(he[0]),this.device.commands.disposed=!1,i&&clearInterval(i),o&&clearTimeout(o),(U=this.checkPromise)===null||U===void 0||U.resolve(!0),!0):!1})}enterBootloaderMode(){var e;return L(this,void 0,void 0,function*(){const i=this.device.getCommands().typedCall.bind(this.device.getCommands());if(this.device.features&&!this.device.features.bootloader_mode){const o=ur(this.device.features),p=Ze(this.device.features);try{if(this.postTipMessage(a.FirmwareUpdateTipMessage.AutoRebootToBootloader),(yield i("DeviceBackToBoot","Success")).type==="CallMethodError")throw r.ERRORS.TypedError(r.HardwareErrorCode.FirmwareUpdateAutoEnterBootFailure);this.postTipMessage(a.FirmwareUpdateTipMessage.GoToBootloaderSuccess),this.checkDeviceToBootloader(this.payload.connectId),w0.model_classic.includes(p)&&g0.clearDeviceCache(o),delete g0.devicesCache[""],yield(e=this.checkPromise)===null||e===void 0?void 0:e.promise,this.checkPromise=null;const C=w0.model_touch.includes(p);return yield _t(C?3e3:1500),yield this.device.acquire(),!0}catch(S){return S instanceof r.HardwareError?Promise.reject(S):(console.log("auto go to bootloader mode failed: ",S),Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.FirmwareUpdateAutoEnterBootFailure)))}}})}startEmmcFirmwareUpdate({path:e}){return L(this,void 0,void 0,function*(){const i=this.device.getCommands().typedCall.bind(this.device.getCommands());let o;try{o=yield i("FirmwareUpdateEmmc","Success",{path:e,reboot_on_success:!0})}catch(p){if(Xd(p))Ot.log("Rebooting device"),o={type:"Success",message:{message:Yd}};else throw p}if(o.type!=="Success")throw r.ERRORS.TypedError(r.HardwareErrorCode.FirmwareError,"firmware update error");this.postTipMessage(a.FirmwareUpdateTipMessage.FirmwareUpdating)})}createUpdatesFolderIfNotExists(e){return L(this,void 0,void 0,function*(){yield this.device.getCommands().typedCall.bind(this.device.getCommands())("EmmcDirMake","Success",{path:e})})}emmcCommonUpdateProcess({payload:e,filePath:i,processedSize:o,totalSize:p}){return L(this,void 0,void 0,function*(){if(!i.startsWith("0:"))throw new Error("filePath must start with 0:");const S=qe.getSettings("env"),B=1024*(qe.isBleConnect(S)?16:128),U=Math.ceil(e.byteLength/B);let se=0,pe=0;for(let he=0;he<U;he++){const Ae=he*B,Oe=Math.min(Ae+B,e.byteLength),je=Oe-Ae,Ve=e.slice(Ae,Oe),r0=he===0;let i0;p!==void 0&&o!==void 0?(pe=o+Oe,i0=Math.min(Math.ceil(pe/p*100),99)):i0=Math.min(Math.ceil((he+1)/U*100),99);const Ke=yield this.emmcFileWriteWithRetry(i,je,se,Ve,r0,i0);se+=Ke.message.processed_byte,this.postProgressMessage(i0,"transferData")}return p!==void 0?(o??0)+e.byteLength:0})}emmcFileWriteWithRetry(e,i,o,p,S,C){var B,U,se,pe,he,Ae,Oe,je,Ve;return L(this,void 0,void 0,function*(){const r0=()=>L(this,void 0,void 0,function*(){var Ke;const E0=yield this.device.getCommands().typedCall.bind(this.device.getCommands())("EmmcFileWrite","EmmcFile",{file:{path:e,len:i,offset:o,data:p},overwrite:S,append:o!==0,ui_percentage:C});if(E0.type!=="EmmcFile")throw E0.type==="CallMethodError"&&((Ke=E0.message.error)!==null&&Ke!==void 0?Ke:"").indexOf(ms)>-1?r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,ms):r.ERRORS.TypedError(r.HardwareErrorCode.EmmcFileWriteFirmwareError,"transfer data error");return E0});let i0=10;for(;i0>0;)try{return yield r0()}catch(Ke){if(Ot.error("emmcWrite error: ",Ke),i0--,i0===0)throw r.ERRORS.TypedError(r.HardwareErrorCode.EmmcFileWriteFirmwareError,"transfer data error");const o0=qe.getSettings("env");if(qe.isBleConnect(o0))yield _t(3e3),yield(B=this.device.deviceConnector)===null||B===void 0?void 0:B.acquire(this.device.originalDescriptor.id,null,!0),yield this.device.initialize();else if(((U=Ke==null?void 0:Ke.message)===null||U===void 0?void 0:U.indexOf(ms))>-1||((pe=(se=Ke==null?void 0:Ke.response)===null||se===void 0?void 0:se.data)===null||pe===void 0?void 0:pe.indexOf(ms))>-1){const E0=yield(he=this.device.deviceConnector)===null||he===void 0?void 0:he.enumerate(),J0=(Ae=E0==null?void 0:E0.descriptors)!==null&&Ae!==void 0?Ae:[],{deviceList:j0}=yield g0.getDevices(J0,void 0);j0.length===1&&(!((je=(Oe=j0[0])===null||Oe===void 0?void 0:Oe.features)===null||je===void 0)&&je.bootloader_mode)&&(this.device.updateFromCache(j0[0]),yield this.device.acquire(),this.device.getCommands().mainId=(Ve=this.device.mainId)!==null&&Ve!==void 0?Ve:"")}yield _t(2e3)}})}reboot(e){return L(this,void 0,void 0,function*(){const i=this.device.getCommands().typedCall.bind(this.device.getCommands());try{return(yield i("Reboot","Success",{reboot_type:e})).message}catch(o){if(o instanceof Error&&(o.message.includes("device was disconnected")||o.message.includes("transferIn")||o.message.includes("USBDevice")))return{message:"Device rebooted successfully"};throw o}})}}class Jd extends Ka{init(){this.allowDeviceMode=[Ie.BOOTLOADER,Ie.NOT_INITIALIZE],this.requireDeviceMode=[],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}updateBootloaderWithEmmcFileWrite(e,i){return L(this,void 0,void 0,function*(){const o="0:boot/bootloader.bin";return this.postTipMessage(a.FirmwareUpdateTipMessage.StartTransferData),yield this.emmcCommonUpdateProcess({payload:i,filePath:o}),this.postTipMessage(a.FirmwareUpdateTipMessage.ConfirmOnDevice),yield this.reboot(y.RebootType.Normal),this.postTipMessage(a.FirmwareUpdateTipMessage.UpdateBootloaderSuccess),!0})}updateTouchBootloader({device:e,features:i,firmwareType:o}){return L(this,void 0,void 0,function*(){let{binary:p}=this.payload;if(!p){this.postTipMessage(a.FirmwareUpdateTipMessage.CheckLatestUiResource);const S=i?qe.getBootloaderResource(i,o):null;if(S){this.postTipMessage(a.FirmwareUpdateTipMessage.DownloadLatestBootloaderResource);const C=yield Oi(S);this.postTipMessage(a.FirmwareUpdateTipMessage.DownloadLatestBootloaderResourceSuccess),C&&(p=C.binary)}}if(!sn(p))throw r.ERRORS.TypedError(r.HardwareErrorCode.CheckDownloadFileError);if(i&&i.bootloader_mode)return this.postTipMessage(a.FirmwareUpdateTipMessage.UpdateBootloader),this.updateBootloaderWithEmmcFileWrite(e,p);if(i&&!i.bootloader_mode)return yield xi(this.device.getCommands().typedCall.bind(this.device.getCommands()),this.postMessage,e,p),Promise.resolve(!0)})}run(){var e;return L(this,void 0,void 0,function*(){const{device:i}=this,{features:o}=i,p=this.payload,S=Ze(o),C=U0(o),B=(e=p.firmwareType)!==null&&e!==void 0?e:C;return w0.model_touch.includes(S)?this.updateTouchBootloader({device:i,features:o,firmwareType:B}):Promise.resolve(!0)})}}class _s extends De{init(){this.useDevicePassphraseState=!1}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("LockDevice","Success");return Promise.resolve(e.message)})}}class Di extends De{init(){this.useDevicePassphraseState=!1}run(){return L(this,void 0,void 0,function*(){return this.device.unlockDevice()})}}class Za extends De{init(){this.useDevicePassphraseState=!1}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("Cancel","Success");return Promise.resolve(e.message)})}}class V extends De{init(){this.useDevicePassphraseState=!1,this.params={u2f_counter:this.payload.u2f_counter}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("SetU2FCounter","Success",this.params);return Promise.resolve(e.message)})}}class ni extends De{init(){this.useDevicePassphraseState=!1}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("GetNextU2FCounter","NextU2FCounter");return Promise.resolve(e.message)})}}const ai=c0(a.LoggerNames.Method);class Ct extends De{constructor(){super(...arguments),this.checkPromise=null,this.postTipMessage=e=>{this.postMessage(O0(Ie.FIRMWARE_TIP,{device:this.device.toMessageObject(),data:{message:e}}))}}init(){this.allowDeviceMode=[Ie.BOOTLOADER,Ie.NOT_INITIALIZE],this.requireDeviceMode=[],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0;const{payload:e}=this;we(e,[{name:"version",type:"array"},{name:"binary",type:"buffer"},{name:"updateType",type:"string",required:!0},{name:"rebootOnSuccess",type:"boolean"}]),this.params={updateType:e.updateType},"version"in e&&(this.params=Object.assign(Object.assign({},this.params),{version:e.version})),"binary"in e&&(this.params=Object.assign(Object.assign({},this.params),{binary:e.binary}))}checkDeviceToBootloader(e){this.checkPromise=r.createDeferred();const i=qe.getSettings("env"),o=e&&qe.isBleConnect(i);ai.log("FirmwareUpdate [checkDeviceToBootloader] isBleReconnect: ",o);const p=setInterval(()=>L(this,void 0,void 0,function*(){var S,C,B,U,se,pe,he,Ae;if(o)try{yield(S=this.device.deviceConnector)===null||S===void 0?void 0:S.acquire(this.device.originalDescriptor.id,null,!0),yield this.device.initialize(),!((C=this.device.features)===null||C===void 0)&&C.bootloader_mode&&(clearInterval(p),(B=this.checkPromise)===null||B===void 0||B.resolve(!0))}catch(Oe){ai.log("catch Bluetooth error when device is restarting: ",Oe)}else{const Oe=yield(U=this.device.deviceConnector)===null||U===void 0?void 0:U.enumerate(),je=(se=Oe==null?void 0:Oe.descriptors)!==null&&se!==void 0?se:[],{deviceList:Ve}=yield g0.getDevices(je,e);Ve.length===1&&(!((he=(pe=Ve[0])===null||pe===void 0?void 0:pe.features)===null||he===void 0)&&he.bootloader_mode)&&(this.device.updateFromCache(Ve[0]),this.device.commands.disposed=!1,clearInterval(p),(Ae=this.checkPromise)===null||Ae===void 0||Ae.resolve(!0))}}),o?3e3:2e3);setTimeout(()=>{this.checkPromise&&(clearInterval(p),this.checkPromise.reject(new Error))},3e4)}run(){var e,i;return L(this,void 0,void 0,function*(){const{device:o,params:p}=this,{features:S,commands:C}=o,B=Ze(S);if(!(S!=null&&S.bootloader_mode)&&S){const pe=ur(S);if(Nd(S,p.updateType))return Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.FirmwareUpdateManuallyEnterBoot));try{if(this.postTipMessage("AutoRebootToBootloader"),(yield C.typedCall("DeviceBackToBoot","Success")).type==="CallMethodError")throw r.ERRORS.TypedError(r.HardwareErrorCode.FirmwareUpdateAutoEnterBootFailure);this.postTipMessage("GoToBootloaderSuccess"),this.checkDeviceToBootloader(this.payload.connectId),w0.model_classic.includes(B)&&g0.clearDeviceCache(pe),delete g0.devicesCache[""],yield(e=this.checkPromise)===null||e===void 0?void 0:e.promise,this.checkPromise=null;const Ae=w0.model_touch.includes(B);yield _t(Ae?3e3:1500)}catch(he){return he instanceof r.HardwareError?Promise.reject(he):(ai.log("auto go to bootloader mode failed: ",he),Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.FirmwareUpdateAutoEnterBootFailure)))}}let U;try{if(p.binary)U=this.params.binary;else{if(!o.features)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"no features found for this device");this.postTipMessage("DownloadFirmware"),U=(yield ps({features:o.features,version:p.version,updateType:p.updateType,firmwareType:r.EFirmwareType.Universal})).binary,this.postTipMessage("DownloadFirmwareSuccess")}}catch(pe){throw r.ERRORS.TypedError(r.HardwareErrorCode.FirmwareUpdateDownloadFailed,(i=pe.message)!==null&&i!==void 0?i:pe)}yield this.device.acquire();const se=yield mn(p.updateType,this.device.getCommands().typedCall.bind(this.device.getCommands()),this.postMessage,o,{payload:U,rebootOnSuccess:this.payload.rebootOnSuccess},!1);return this.connectId&&g0.clearDeviceCache(this.connectId),se})}}const p0=c0(a.LoggerNames.Method);class Qd extends De{constructor(){super(...arguments),this.checkPromise=null,this.postTipMessage=e=>{this.postMessage(O0(Ie.FIRMWARE_TIP,{device:this.device.toMessageObject(),data:{message:e}}))}}init(){this.allowDeviceMode=[Ie.BOOTLOADER,Ie.NOT_INITIALIZE],this.requireDeviceMode=[],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0;const{payload:e}=this;if(we(e,[{name:"version",type:"array"},{name:"binary",type:"buffer"},{name:"forcedUpdateRes",type:"boolean"},{name:"platform",type:"string",required:!0},{name:"firmwareType",type:"string"}]),!e.updateType)throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,"updateType is required");this.params={updateType:e.updateType,forcedUpdateRes:e.forcedUpdateRes,isUpdateBootloader:e.isUpdateBootloader},"version"in e&&(this.params=Object.assign(Object.assign({},this.params),{version:e.version,firmwareType:e.firmwareType})),"binary"in e&&(this.params=Object.assign(Object.assign({},this.params),{binary:e.binary}))}_promptDeviceInBootloaderForWebDevice({device:e}){return L(this,void 0,void 0,function*(){return new Promise((i,o)=>{this.device.listenerCount(a0.SELECT_DEVICE_IN_BOOTLOADER_FOR_WEB_DEVICE)>0&&this.device.emit(a0.SELECT_DEVICE_IN_BOOTLOADER_FOR_WEB_DEVICE,this.device,(p,S)=>{p?o(p):i(S)})})})}checkDeviceToBootloader(e){var i,o;this.checkPromise=r.createDeferred();const p=qe.getSettings("env"),S=e&&qe.isBleConnect(p);p0.log("FirmwareUpdateV2 [checkDeviceToBootloader] isBleReconnect: ",S);let C=!0,B=0,U;const se=Ze((i=this===null||this===void 0?void 0:this.device)===null||i===void 0?void 0:i.features)===r.EDeviceType.Touch||Ze((o=this===null||this===void 0?void 0:this.device)===null||o===void 0?void 0:o.features)===r.EDeviceType.Pro,pe=setInterval(()=>L(this,void 0,void 0,function*(){var he,Ae,Oe,je;if(B+=1,p0.log("FirmwareUpdateV2 [checkDeviceToBootloader] isFirstCheck: ",C),se&&C&&(C=!1,p0.log("FirmwareUpdateV2 [checkDeviceToBootloader] wait 3000ms"),yield _t(3e3)),B>4&&qe.isBrowserWebUsb(qe.getSettings("env"))&&!this.payload.skipWebDevicePrompt){clearInterval(pe),clearTimeout(U);try{this.postTipMessage(a.FirmwareUpdateTipMessage.SelectDeviceInBootloaderForWebDevice),(yield this._promptDeviceInBootloaderForWebDevice({device:this.device}))&&(yield this._checkDeviceInBootloaderMode(e,pe,U))}catch(Ve){p0.log("FirmwareUpdateV2 [checkDeviceToBootloader] promptDeviceInBootloaderForWebDevice failed: ",Ve),(he=this.checkPromise)===null||he===void 0||he.reject(Ve)}return}if(S)try{yield(Ae=this.device.deviceConnector)===null||Ae===void 0?void 0:Ae.acquire(this.device.originalDescriptor.id,null,!0),yield this.device.initialize(),!((Oe=this.device.features)===null||Oe===void 0)&&Oe.bootloader_mode&&(clearInterval(pe),(je=this.checkPromise)===null||je===void 0||je.resolve(!0))}catch(Ve){p0.log("catch Bluetooth error when device is restarting: ",Ve)}else yield this._checkDeviceInBootloaderMode(e,pe,U)}),S?3e3:2e3);U=setTimeout(()=>{this.checkPromise&&(clearInterval(pe),this.checkPromise.reject(new Error))},3e4)}_checkDeviceInBootloaderMode(e,i,o){var p,S,C,B,U;return L(this,void 0,void 0,function*(){const se=yield(p=this.device.deviceConnector)===null||p===void 0?void 0:p.enumerate(),pe=(S=se==null?void 0:se.descriptors)!==null&&S!==void 0?S:[],{deviceList:he}=yield g0.getDevices(pe,e);return he.length===1&&(!((B=(C=he[0])===null||C===void 0?void 0:C.features)===null||B===void 0)&&B.bootloader_mode)?(this.device.updateFromCache(he[0]),this.device.commands.disposed=!1,i&&clearInterval(i),o&&clearTimeout(o),(U=this.checkPromise)===null||U===void 0||U.resolve(!0),!0):!1})}isEnteredManuallyBoot(e){const i=Ze(e),o=i===r.EDeviceType.Mini,p=this.params.updateType==="firmware"&&i===r.EDeviceType.Classic&&e.bootloader_version==="1.8.3";return o||p}isSupportResourceUpdate(e,i){if(i!=="firmware")return!1;const o=Ze(e),p=o===r.EDeviceType.Touch||o===r.EDeviceType.Pro,S=y0(e).join(".");return p&&A.default.gte(S,"3.2.0")}checkVersionForCopyTouchResource(e,i){var o;if(!e)return;const p=Ze(e),S=y0(e).join("."),C=(o=this.params.version)===null||o===void 0?void 0:o.join("."),{updateType:B}=this.params,U=Ci({features:e,updateType:B,firmwareType:i});if(!U)return;const{fullResourceRange:se}=U;if(!se)return;const[pe,he]=se;if(p===r.EDeviceType.Touch&&B==="firmware"&&C&&A.default.lt(S,pe)&&A.default.gte(C,he)&&this.payload.platform!=="desktop")throw r.ERRORS.TypedError(r.HardwareErrorCode.UseDesktopToUpdateFirmware)}run(){var e,i,o,p,S,C,B,U,se;return L(this,void 0,void 0,function*(){const{device:pe,params:he}=this,{features:Ae,commands:Oe}=pe,je=Ze(Ae),Ve=U0(pe.features),r0=(e=he.firmwareType)!==null&&e!==void 0?e:Ve;if(this.checkVersionForCopyTouchResource(Ae,r0),!(Ae!=null&&Ae.bootloader_mode)&&Ae){const o0=ur(Ae);if(this.isEnteredManuallyBoot(Ae))return Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.FirmwareUpdateManuallyEnterBoot));if(Ae&&this.isSupportResourceUpdate(Ae,he.updateType)){this.postTipMessage("CheckLatestUiResource");const E0=qe.getSysResourcesLatestRelease({features:Ae,forcedUpdateRes:he.forcedUpdateRes,firmwareType:r0});if(E0){this.postTipMessage("DownloadLatestUiResource");const J0=yield Oi(E0);this.postTipMessage("DownloadLatestUiResourceSuccess"),J0&&(yield si(this.device.getCommands().typedCall.bind(this.device.getCommands()),this.postMessage,pe,J0.binary))}}(o=(i=this.device)===null||i===void 0?void 0:i.commands)===null||o===void 0||o.checkDisposed();try{if(this.postTipMessage("AutoRebootToBootloader"),(yield Oe.typedCall("DeviceBackToBoot","Success")).type==="CallMethodError")throw r.ERRORS.TypedError(r.HardwareErrorCode.FirmwareUpdateAutoEnterBootFailure);this.postTipMessage("GoToBootloaderSuccess"),this.checkDeviceToBootloader(this.payload.connectId),w0.model_classic.includes(je)&&g0.clearDeviceCache(o0),delete g0.devicesCache[""],yield(p=this.checkPromise)===null||p===void 0?void 0:p.promise,this.checkPromise=null,(C=(S=this.device)===null||S===void 0?void 0:S.commands)===null||C===void 0||C.checkDisposed();const J0=w0.model_touch.includes(je);yield _t(J0?3e3:1500)}catch(E0){return E0 instanceof r.HardwareError?Promise.reject(E0):(console.log("auto go to bootloader mode failed: ",E0),Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.FirmwareUpdateAutoEnterBootFailure)))}}let i0;try{if(he.binary)i0=this.params.binary;else{if(!pe.features)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"no features found for this device");this.postTipMessage("DownloadFirmware"),i0=(yield ps({features:pe.features,version:he.version,updateType:he.updateType,isUpdateBootloader:he.isUpdateBootloader,firmwareType:r0})).binary,this.postTipMessage("DownloadFirmwareSuccess")}}catch(o0){throw r.ERRORS.TypedError(r.HardwareErrorCode.FirmwareUpdateDownloadFailed,(B=o0.message)!==null&&B!==void 0?B:o0)}(se=(U=this.device)===null||U===void 0?void 0:U.commands)===null||se===void 0||se.checkDisposed(),yield this.device.acquire();const Ke=yield mn(he.updateType,this.device.getCommands().typedCall.bind(this.device.getCommands()),this.postMessage,pe,{payload:i0,rebootOnSuccess:!0},he.isUpdateBootloader);return this.connectId&&g0.clearDeviceCache(this.connectId),Ke})}}const oi=c0(a.LoggerNames.Method),ef="2.8.0";class Nr extends Ka{constructor(){super(...arguments),this.checkPromise=null,this.isSwitchFirmware=!1}init(){this.allowDeviceMode=[Ie.BOOTLOADER,Ie.NOT_INITIALIZE],this.requireDeviceMode=[],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0;const{payload:e}=this;we(e,[{name:"bleVersion",type:"array"},{name:"bleBinary",type:"buffer"},{name:"firmwareVersion",type:"array"},{name:"firmwareBinary",type:"buffer"},{name:"resourceBinary",type:"buffer"},{name:"forcedUpdateRes",type:"boolean"},{name:"bootloaderVersion",type:"array"},{name:"bootloaderBinary",type:"buffer"},{name:"firmwareType",type:"string"},{name:"platform",type:"string"}]),this.params={bleBinary:e.bleBinary,firmwareBinary:e.firmwareBinary,forcedUpdateRes:e.forcedUpdateRes,bleVersion:e.bleVersion,bootloaderVersion:e.bootloaderVersion,bootloaderBinary:e.bootloaderBinary,firmwareVersion:e.firmwareVersion,resourceBinary:e.resourceBinary,firmwareType:e.firmwareType,platform:e.platform}}run(){var e,i;return L(this,void 0,void 0,function*(){const{device:o}=this,{features:p}=o,S=Ze(p),C=xr(p).join(".");if(this.validateDeviceAndVersion(S,C),!p)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"Device features not available");const B=U0(p),U=(e=this.params.firmwareType)!==null&&e!==void 0?e:B;this.isSwitchFirmware=U!==B;let se=null,pe=[],he=null;try{this.postTipMessage(a.FirmwareUpdateTipMessage.StartDownloadFirmware),se=yield this.prepareResourceBinary(U),pe=yield this.prepareFirmwareAndBleBinary(U),he=yield this.prepareBootloaderBinary(U),this.postTipMessage(a.FirmwareUpdateTipMessage.FinishDownloadFirmware)}catch(Oe){throw r.ERRORS.TypedError(r.HardwareErrorCode.FirmwareUpdateDownloadFailed,(i=Oe.message)!==null&&i!==void 0?i:Oe)}if(!he&&pe.length===0)throw r.ERRORS.TypedError(r.HardwareErrorCode.FirmwareUpdateDownloadFailed,"No firmware to update");return yield this.enterBootloaderMode(),yield this.executeUpdate({resourceBinary:se,fwBinaryMap:pe,bootloaderBinary:he})})}validateDeviceAndVersion(e,i){if(e===r.EDeviceType.Unknown)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"unknown device type");if(e!==r.EDeviceType.Pro)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"only pro device is supported");if(A.default.lt(i,ef))throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"bootloader version needs to be updated")}prepareResourceBinary(e){return L(this,void 0,void 0,function*(){if(this.params.resourceBinary)return this.params.resourceBinary;const{features:i}=this.device;if(!i)return null;const o=qe.getSysResourcesLatestRelease({features:i,forcedUpdateRes:this.params.forcedUpdateRes,firmwareType:e});return o?(yield Oi(o)).binary:(oi.warn("No resource url found"),null)})}prepareBootloaderBinary(e){return L(this,void 0,void 0,function*(){if(this.params.bootloaderBinary)return this.params.bootloaderBinary;const{features:i}=this.device;if(!i)return null;if(this.params.bootloaderVersion){const o=qe.getBootloaderResource(i,e);if(o)return(yield Oi(o)).binary}return null})}prepareFirmwareAndBleBinary(e){return L(this,void 0,void 0,function*(){const i=[];if(this.params.firmwareBinary)i.push({fileName:"firmware.bin",binary:this.params.firmwareBinary});else if(this.params.firmwareVersion){const{features:o}=this.device;if(o){const p=(yield ps({features:o,version:this.params.firmwareVersion,updateType:"firmware",isUpdateBootloader:!1,firmwareType:e})).binary;i.push({fileName:"firmware.bin",binary:p})}}if(this.params.bleBinary)i.push({fileName:"ble-firmware.bin",binary:this.params.bleBinary});else if(this.params.bleVersion){const{features:o}=this.device;if(o){const p=yield ps({features:o,version:this.params.bleVersion,updateType:"ble",firmwareType:e});i.push({fileName:"ble-firmware.bin",binary:p.binary})}}return i})}executeUpdate({resourceBinary:e,fwBinaryMap:i,bootloaderBinary:o}){return L(this,void 0,void 0,function*(){let p=0,S=0;e&&(p+=e.byteLength);for(const pe of i)p+=pe.binary.byteLength;if(o&&(p+=o.byteLength),this.postTipMessage(a.FirmwareUpdateTipMessage.StartTransferData),e){const pe=yield W.default.loadAsync(e),he=Object.entries(pe.files);for(const[Ae,Oe]of he){const je=Ae.split("/").pop();if(!Oe.dir&&Ae.indexOf("__MACOSX")===-1&&je){const Ve=yield Oe.async("arraybuffer");S=yield this.emmcCommonUpdateProcess({payload:Ve,filePath:`0:res/${je}`,processedSize:S,totalSize:p})}}}o&&(S=yield this.emmcCommonUpdateProcess({payload:o,filePath:"0:boot/bootloader.bin",processedSize:S,totalSize:p})),yield this.createUpdatesFolderIfNotExists("0:updates/");for(const pe of i)pe&&(S=yield this.emmcCommonUpdateProcess({payload:pe.binary,filePath:`0:updates/${pe.fileName}`,processedSize:S,totalSize:p}));try{this.postTipMessage(a.FirmwareUpdateTipMessage.ConfirmOnDevice),yield this.startEmmcFirmwareUpdate({path:"0:updates"})}catch(pe){throw oi.error("triggerFirmwareUpdateEmmc error: ",pe),pe!=null&&pe.errorCode&&[r.HardwareErrorCode.ActionCancelled,r.HardwareErrorCode.CallQueueActionCancelled,r.HardwareErrorCode.FirmwareVerificationFailed,r.HardwareErrorCode.BleDeviceNotBonded,r.HardwareErrorCode.BleServiceNotFound,r.HardwareErrorCode.BlePoweredOff,r.HardwareErrorCode.BleUnsupported,r.HardwareErrorCode.BlePermissionError,r.HardwareErrorCode.BleLocationError,r.HardwareErrorCode.BleDeviceBondError,r.HardwareErrorCode.BleCharacteristicNotifyError,r.HardwareErrorCode.BleTimeoutError,r.HardwareErrorCode.BleWriteCharacteristicError,r.HardwareErrorCode.WebDeviceNotFoundOrNeedsPermission].includes(pe.errorCode)?pe:r.ERRORS.TypedError(r.HardwareErrorCode.FirmwareError,(pe==null?void 0:pe.message)||"Firmware update failed")}yield r.wait(1500),this.postProcessingMessage("firmware"),this.postProgressMessage(0,"installingFirmware");const C=Date.now(),B=5*60*1e3;let U=0;const se=3;for(;;){if(Date.now()-C>B)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"Firmware update process timeout after 5 minutes");try{const pe=this.device.getCommands().typedCall.bind(this.device.getCommands()),he=3e3,Ae=yield Promise.race([pe("GetFeatures","Features",{}),new Promise((i0,Ke)=>{setTimeout(()=>Ke(r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodNotResponse,"GetFeatures timeout",{method:"GetFeatures",timeoutMs:he})),he)})]);U=0;const Oe=Ae.message,je=xr(Oe).join("."),Ve=Yr(Oe).join("."),r0=y0(Oe).join(".");if(r0!=="0.0.0")return this.postTipMessage(a.FirmwareUpdateTipMessage.FirmwareUpdateCompleted),g0.resetState(),{bootloaderVersion:je,bleVersion:Ve,firmwareVersion:r0};yield r.wait(1e3)}catch(pe){oi.log("getFeatures error",pe);let he=!0;const Ae=this.extractUpdateModeProgress(pe);if(Ae!==null?(U=0,this.postProgressMessage(Ae,"installingFirmware"),yield r.wait(1e3),he=!1):this.isGetFeaturesTimeoutError(pe)?(U+=1,U<=se&&(yield r.wait(1e3),he=!1)):U=0,he){yield r.wait(1e3);const Oe=this.isBleReconnect()&&(this.params.bleBinary||this.params.bleVersion)?3*60*1e3:60*1e3;U=0,yield this.waitForDeviceReconnect(Oe)}}}})}extractUpdateModeProgress(e){const i=this.normalizeErrorMessage(e);if(!i)return null;const o=i.match(/Update mode\s*(\d+)/i);if(!o)return null;const p=parseInt(o[1],10);return Number.isNaN(p)?null:p}isGetFeaturesTimeoutError(e){var i;return e instanceof r.HardwareError&&e.errorCode===r.HardwareErrorCode.CallMethodNotResponse&&((i=e.params)===null||i===void 0?void 0:i.method)==="GetFeatures"}normalizeErrorMessage(e){if(!e)return"";if(typeof e=="string")return e;if(typeof e=="object"){const{message:i}=e;if(typeof i=="string")return i;if(i!=null)return String(i)}return""}canPromptWebUsbSwitchFirmwareReconnect(){return this.isSwitchFirmware?qe.isBrowserWebUsb(qe.getSettings("env"))&&!this.payload.skipWebDevicePrompt&&this.device.listenerCount(a0.SELECT_DEVICE_FOR_SWITCH_FIRMWARE_WEB_DEVICE)>0:!1}waitForDeviceReconnect(e){var i,o,p,S;return L(this,void 0,void 0,function*(){const C=Date.now(),B=this.isBleReconnect();let U=0;for(;Date.now()-C<e;)try{if(B)try{yield(i=this.device.deviceConnector)===null||i===void 0?void 0:i.acquire(this.device.originalDescriptor.id,null,!0);const se=this.device.getCommands().typedCall.bind(this.device.getCommands());yield Promise.race([se("Initialize","Features",{}),new Promise((pe,he)=>{setTimeout(()=>{he(r.ERRORS.TypedError(r.HardwareErrorCode.DeviceInitializeFailed))},3e3)})]);return}catch(se){oi.log("catch Bluetooth error when device is restarting: ",se)}else{const se=yield(o=this.device.deviceConnector)===null||o===void 0?void 0:o.enumerate(),pe=(p=se==null?void 0:se.descriptors)!==null&&p!==void 0?p:[];if(this.canPromptWebUsbSwitchFirmwareReconnect()){if(U+=1,U>4){this.postTipMessage(a.FirmwareUpdateTipMessage.SwitchFirmwareReconnectDevice);try{yield this._promptDeviceForSwitchFirmwareWebDevice()}catch(Oe){oi.log("WebUSB re-authorization failed: ",Oe)}U=0}}else U=0;const{deviceList:Ae}=yield g0.getDevices(pe,this.connectId);if(Ae.length===1){this.device.updateFromCache(Ae[0]),yield this.device.acquire(),this.device.commands.disposed=!1,this.device.getCommands().mainId=(S=this.device.mainId)!==null&&S!==void 0?S:"";return}}yield r.wait(1e3)}catch(se){console.error("Device reconnect failed: ",se),oi.error("Device reconnect failed:",se),yield r.wait(1e3)}throw r.ERRORS.TypedError(r.HardwareErrorCode.DeviceNotFound,`Device not reconnected within ${e/1e3}s`)})}}const tf=c0(a.LoggerNames.Method);class rf extends De{init(){this.useDevice=!1,this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){var e,i;return L(this,void 0,void 0,function*(){const{deviceSerialNumberFromUI:o}=this.payload;yield q0.configure();const p=qe.getSettings("env")==="webusb";if(!p)return Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"Not webusb environment"));try{let S,C;if(o)C=[{path:o,device:{serialNumber:o},debug:!0}];else{if(S=yield(e=this.connector)===null||e===void 0?void 0:e.promptDeviceAccess(),!S)return yield Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.WebDevicePromptAccessError));p&&(C=[{path:(i=S.serialNumber)!==null&&i!==void 0?i:"",device:S,debug:!0}])}const{deviceList:B}=yield g0.getDevices(C);return B.length>0?{device:B[0].toMessageObject()}:{device:null}}catch(S){return tf.debug(S),Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"Please select the device to connect"))}})}}class sf extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{const p=He(o.path);we(o,[{name:"path",required:!0},{name:"key",type:"string"},{name:"value",type:"hexString"},{name:"encrypt",type:"boolean"},{name:"askOnEncrypt",type:"boolean"},{name:"askOnDecrypt",type:"boolean"},{name:"iv",type:"hexString"}]),this.params.push({address_n:p,key:o.key,value:Qe(o.value),encrypt:o.encrypt,ask_on_encrypt:o.askOnEncrypt,ask_on_decrypt:o.askOnDecrypt,iv:Qe(o.iv)})})}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("CipherKeyValue","CipheredKeyValue",Object.assign({},o));e.push(Object.assign({path:Ye(o.address_n)},p.message))}return Promise.resolve(this.hasBundle?e:e[0])})}}const Ya="mainnet",nf={tbtc:{name:"btc",coin:"Testnet"},bch:{name:"btc",coin:"Bcash"},doge:{name:"btc",coin:"Dogecoin"},ltc:{name:"btc",coin:"Litecoin"},neurai:{name:"btc",coin:"Neurai"}},cr={btc:{methodName:"btcGetPublicKey",getParams:(d,e)=>Object.assign({coin:e},d)},evm:{methodName:"evmGetAddress",getParams:(d,e)=>{const{path:i,showOnOneKey:o}=d;let p;return e&&(p=parseInt(e)),{chainId:p,path:i,showOnOneKey:o}}},sol:{methodName:"solGetAddress"},algo:{methodName:"algoGetAddress"},near:{methodName:"nearGetAddress"},stc:{methodName:"starcoinGetAddress"},cfx:{methodName:"confluxGetAddress",getParams:(d,e)=>{const{path:i,showOnOneKey:o}=d;return{chainId:parseInt(e??"1029"),path:i,showOnOneKey:o}}},tron:{methodName:"tronGetAddress"},aptos:{methodName:"aptosGetAddress"},xrp:{methodName:"xrpGetAddress"},cosmos:{methodName:"cosmosGetPublicKey",getParams:d=>{const{path:e,prefix:i,showOnOneKey:o}=d;return{hrp:i,path:e,showOnOneKey:o}}},ada:{methodName:"cardanoGetAddress",getParams:(d,e)=>{const{path:i,showOnOneKey:o}=d,p=typeof i=="string"?`${i}/0/0`:Ye([...i,0,0]),S=typeof i=="string"?`${i}/2/0`:Ye([...i,2,0]);let C=1;return e&&(C=e===Ya?1:0),{addressParameters:{addressType:y.Messages.CardanoAddressType.BASE,path:p,stakingPath:S},protocolMagic:764824073,networkId:C,derivationType:y.Messages.CardanoDerivationType.ICARUS,showOnOneKey:o,address:"",isCheck:!1}}},sui:{methodName:"suiGetAddress"},benfen:{methodName:"benfenGetAddress"},fil:{methodName:"filecoinGetAddress",getParams:(d,e)=>{const{path:i,showOnOneKey:o}=d;let p=!1;return e&&(p=e!==Ya),{isTestnet:p,path:i,showOnOneKey:o}}},dot:{methodName:"polkadotGetAddress",getParams:(d,e)=>{const{path:i,prefix:o,showOnOneKey:p}=d;if(!o||!e)throw new Error("Invalid params");return{prefix:parseInt(o),network:e,path:i,showOnOneKey:p}}},kaspa:{methodName:"kaspaGetAddress",getParams:d=>{const{path:e,prefix:i,showOnOneKey:o,useTweak:p}=d;return{scheme:"schnorr",prefix:i,path:e,showOnOneKey:o,useTweak:p}}},nexa:{methodName:"nexaGetAddress",getParams:d=>{const{path:e,prefix:i,showOnOneKey:o}=d;return{scheme:"Schnorr",prefix:i,path:e,showOnOneKey:o}}},dynex:{methodName:"dnxGetAddress"},nervos:{methodName:"nervosGetAddress",getParams:(d,e)=>{const{path:i,showOnOneKey:o}=d;return{network:e,path:i,showOnOneKey:o}}},scdo:{methodName:"scdoGetAddress"},ton:{methodName:"tonGetAddress"},alph:{methodName:"alephiumGetAddress"},nostr:{methodName:"nostrGetPublicKey"},neo:{methodName:"neoGetAddress"},stellar:{methodName:"stellarGetAddress"}};class Xa extends De{constructor(){super(...arguments),this.abortController=null}init(){var e,i;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"bundle",type:"array"}]),(i=(e=this.payload)===null||e===void 0?void 0:e.bundle)===null||i===void 0||i.forEach(o=>{we(o,[{name:"path",required:!0},{name:"network",type:"string",required:!0},{name:"chainName",type:"string"},{name:"showOnOneKey",type:"boolean"}])})}generateMethodName({network:e,payload:i,originalIndex:o}){var p,S;const{name:C,coin:B}=nf[e]||{name:e,coin:i==null?void 0:i.chainName},U=cr[C];if(!U)throw new Error(`Unsupported network: ${e}`);return{methodName:U.methodName,params:Object.assign(Object.assign({},(S=(p=U==null?void 0:U.getParams)===null||p===void 0?void 0:p.call(U,i,B,U.methodName))!==null&&S!==void 0?S:i),{originPayload:i}),_originRequestParams:i,_originalIndex:o}}callMethod(e,i,o){var p,S,C;return L(this,void 0,void 0,function*(){const B=Zn({event:bt.CALL,type:bt.CALL,payload:Object.assign({connectId:this.payload.connectId,deviceId:this.payload.deviceId,method:e},i)});B.connector=this.connector,B.postMessage=this.postMessage,this.context&&((p=B.setContext)===null||p===void 0||p.call(B,this.context)),B.requestContext=Ws(B.responseID,e,{sdkInstanceId:this.sdkInstanceId,connectId:this.payload.connectId,parentResponseID:this.responseID});const U=()=>{var he;(he=this.abortController)===null||he===void 0||he.abort(r.HardwareErrorCodeMessage[r.HardwareErrorCode.RepeatUnlocking])},se=(...[he,Ae])=>{Ae.code==="ButtonRequest_PinEntry"||Ae.code==="ButtonRequest_AttachPin"?U():hd(he,Ae)};let pe;try{B.init(),(S=B.setDevice)===null||S===void 0||S.call(B,this.device),B.context=this.context,B.requestContext&&this.device&&zs(B.requestContext.responseID,{deviceInstanceId:this.device.instanceId,commandsInstanceId:(C=this.device.commands)===null||C===void 0?void 0:C.instanceId}),this.device.on(a0.BUTTON,se),this.device.on(a0.PIN,U),this.device.on(a0.PASSPHRASE,U),af(this.device,B);const he=yield B.run();if(!Array.isArray(he)||he.length===0)throw new Error("No response");pe=he.map((Ae,Oe)=>Object.assign(Object.assign({},i.bundle[Oe]._originRequestParams),{success:!0,payload:Object.assign(Object.assign({},Ae),{rootFingerprint:o})})),B.requestContext&&Gi(B.requestContext.responseID)}catch(he){const Ae=of(he,this.device,B);if(Ae)pe=i.bundle.map(Oe=>Object.assign(Object.assign({},Oe._originRequestParams),{success:!1,payload:{error:Ae.message,code:Ae.errorCode,params:Ae.params,connectId:B.connectId,deviceId:B.deviceId}}));else throw he;B.requestContext&&Gi(B.requestContext.responseID,he instanceof Error?he:new Error(String(he)))}finally{this.device.off(a0.BUTTON,se),this.device.off(a0.PIN,U),this.device.off(a0.PASSPHRASE,U)}return pe})}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("GetPublicKey","PublicKey",{address_n:[rt(44),rt(1),rt(0)],coin_name:"Testnet",script_type:"SPENDADDRESS",show_display:!1});if(this.postMessage(O0(Ie.CLOSE_UI_PIN_WINDOW)),e.message.root_fingerprint==null)throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter);return this.abortController=new AbortController,this.getAllNetworkAddress(e.message.root_fingerprint).catch(i=>{throw i instanceof r.HardwareError&&i.errorCode===r.HardwareErrorCode.RepeatUnlocking?r.ERRORS.TypedError(r.HardwareErrorCode.RepeatUnlocking,i.message):i})})}}function af(d,e){const i=qt(d.features,p=>e.getVersionRange()[p]),o=y0(d.features).join(".");if(i&&A.default.valid(i.min)&&A.default.lt(o,i.min))throw r.ERRORS.createNeedUpgradeFirmwareHardwareError({currentVersion:o,requireVersion:i.min,methodName:e.name,firmwareType:U0(d.features)});if(e.strictCheckDeviceSupport&&!i)throw r.ERRORS.createDeviceNotSupportMethodError(e.name,U0(d.features))}function of(d,e,i){var o,p,S,C,B,U;let se;if(d instanceof r.HardwareError&&d.errorCode!==r.HardwareErrorCode.RuntimeError){const{errorCode:pe}=d;(pe===r.HardwareErrorCode.CallMethodNeedUpgradeFirmware||pe===r.HardwareErrorCode.DeviceNotSupportMethod)&&(se=d)}else if(!((o=d.message)===null||o===void 0)&&o.includes("Failure_UnexpectedMessage")||!((p=d.message)===null||p===void 0)&&p.includes("Failure_UnknownMessage")){const pe=qt(e.features,Ae=>i.getVersionRange()[Ae]),he=y0(e.features).join(".");pe&&A.default.valid(pe.min)&&A.default.lt(he,pe.min)?se=r.ERRORS.createNeedUpgradeFirmwareHardwareError({currentVersion:he,requireVersion:pe.min,methodName:i.name,firmwareType:U0(e.features)}):se=r.ERRORS.createDeviceNotSupportMethodError(i.name,U0(e.features))}else(!((C=(S=d.message)===null||S===void 0?void 0:S.toLowerCase())===null||C===void 0)&&C.includes("forbidden key path")||!((U=(B=d.message)===null||B===void 0?void 0:B.toLowerCase())===null||U===void 0)&&U.includes("invalid path"))&&(se=r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,d.message));return se}class df extends Xa{getAllNetworkAddress(e){var i,o,p,S;return L(this,void 0,void 0,function*(){const C=[],B={},{bundle:U}=this.payload,se=U.map((he,Ae)=>this.generateMethodName({network:he.network,payload:he,originalIndex:Ae})).reduce((he,Ae)=>(he[Ae.methodName]||(he[Ae.methodName]=[]),he[Ae.methodName].push(Ae),he),{});let pe=0;for(const[he,Ae]of Object.entries(se)){const Oe={bundle:Ae.map(Ve=>Object.assign({},Ve.params))};if(!((i=this.abortController)===null||i===void 0)&&i.signal.aborted)throw new Error(r.HardwareErrorCodeMessage[r.HardwareErrorCode.RepeatUnlocking]);const je=yield this.callMethod(he,Oe,e);if(!((o=this.abortController)===null||o===void 0)&&o.signal.aborted)throw new Error(r.HardwareErrorCodeMessage[r.HardwareErrorCode.RepeatUnlocking]);for(let Ve=0;Ve<Ae.length;Ve++){const{_originRequestParams:r0,_originalIndex:i0}=Ae[Ve],Ke=`${i0}`;B[Ke]=Object.assign(Object.assign({},r0),je[Ve])}if(((S=(p=this.payload)===null||p===void 0?void 0:p.bundle)===null||S===void 0?void 0:S.length)>1){const Ve=Math.round((pe+1)/this.payload.bundle.length*100);this.postMessage(O0(Ie.DEVICE_PROGRESS,{progress:Ve}))}pe++}for(let he=0;he<U.length;he++)C.push(B[he]);return this.abortController=null,Promise.resolve(C)})}}class ff extends Xa{getAllNetworkAddress(e){return L(this,void 0,void 0,function*(){const{callbackId:i,callbackIdFinish:o}=this.payload;if(!i)throw new Error("callbackId is required");if(!o)throw new Error("callbackIdFinish is required");const p=this.payload.bundle||[this.payload],S=this.processCallbacksInBackground(p,e,i,o);return this.device.pendingCallbackPromise=r.createDeferred(S),this.context&&this.payload.connectId&&this.context.registerCallbackTask(this.payload.connectId,this.device.pendingCallbackPromise),Promise.resolve([])})}processCallbacksInBackground(e,i,o,p){var S,C,B;return L(this,void 0,void 0,function*(){try{const U=[];for(let se=0;se<e.length;se++){const pe=e[se];if(!((S=this.abortController)===null||S===void 0)&&S.signal.aborted)throw new Error(r.HardwareErrorCodeMessage[r.HardwareErrorCode.RepeatUnlocking]);const he=this.generateMethodName({network:pe.network,payload:pe,originalIndex:se}),Ae={bundle:[he.params]},Oe=yield this.callMethod(he.methodName,Ae,i);if(!((C=this.abortController)===null||C===void 0)&&C.signal.aborted)throw new Error(r.HardwareErrorCodeMessage[r.HardwareErrorCode.RepeatUnlocking]);const je=Object.assign(Object.assign({},pe),Oe[0]);U.push(je),this.sendItemCallback(o,je,se)}this.sendFinishCallback({callbackId:p,data:U})}catch(U){let se=U.errorCode||U.code,pe=U.message;if(U instanceof r.HardwareError)se=U.errorCode,pe=U.message;else if(U.message===r.HardwareErrorCodeMessage[r.HardwareErrorCode.RepeatUnlocking])se=r.HardwareErrorCode.RepeatUnlocking,pe=U.message;else{const he=r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,U.message);se=he.errorCode,pe=he.message}this.sendFinishCallback({callbackId:p,error:{success:!1,payload:{error:pe,code:se}}})}finally{(B=this.context)===null||B===void 0||B.cancelCallbackTasks(this.payload.connectId),this.abortController=null}})}sendFinishCallback({callbackId:e,data:i,error:o}){this.postMessage({event:bt.CALLBACK,type:bt.CALLBACK,payload:{callbackId:e,data:i,error:o}})}sendItemCallback(e,i,o){this.postMessage({event:bt.CALLBACK,type:bt.CALLBACK,payload:{callbackId:e,data:Object.assign(Object.assign({},i),{index:o})}})}}var rr=[{name:"Bitcoin",label:"BTC",slip44:0},{name:"Regtest",label:"REGTEST",slip44:1},{name:"Testnet",label:"TEST",slip44:1},{name:"Actinium",label:"ACM",slip44:228},{name:"Axe",label:"AXE",slip44:4242},{name:"Bcash",label:"BCH",slip44:145},{name:"Bitcore",label:"BTX",slip44:160},{name:"Dash",label:"DASH",slip44:5},{name:"Dash Testnet",label:"tDASH",slip44:1},{name:"Decred",label:"DCR",slip44:42},{name:"Decred Testnet",label:"TDCR",slip44:1},{name:"DigiByte",label:"DGB",slip44:20},{name:"Dogecoin",label:"DOGE",slip44:3},{name:"Feathercoin",label:"FTC",slip44:8},{name:"Firo",label:"FIRO",slip44:136},{name:"Firo Testnet",label:"tFIRO",slip44:1},{name:"Fujicoin",label:"FJC",slip44:75},{name:"GameCredits",label:"GAME",slip44:101},{name:"Komodo",label:"KMD",slip44:141},{name:"Koto",label:"KOTO",slip44:510},{name:"Litecoin",label:"LTC",slip44:2},{name:"Litecoin Testnet",label:"tLTC",slip44:1},{name:"Monacoin",label:"MONA",slip44:22},{name:"MonetaryUnit",label:"MUE",slip44:31},{name:"NIX",label:"NIX",slip44:400},{name:"Namecoin",label:"NMC",slip44:7},{name:"Peercoin",label:"PPC",slip44:6},{name:"Peercoin Testnet",label:"tPPC",slip44:1},{name:"Polis",label:"POLIS",slip44:1997},{name:"Primecoin",label:"XPM",slip44:24},{name:"Ravencoin",label:"RVN",slip44:175},{name:"Ritocoin",label:"RITO",slip44:19169},{name:"Stakenet",label:"XSN",slip44:199},{name:"Syscoin",label:"SYS",slip44:57},{name:"Unobtanium",label:"UNO",slip44:92},{name:"Verge",label:"XVG",slip44:77},{name:"Vertcoin",label:"VTC",slip44:28},{name:"Viacoin",label:"VIA",slip44:14},{name:"ZCore",label:"ZCR",slip44:428},{name:"Zcash",label:"ZEC",slip44:133},{name:"Zcash Testnet",label:"TAZ",slip44:1},{name:"Neurai",label:"XNA",slip44:1900}];const di=(d,e)=>{let i;if(e){const o=e.toLowerCase();i=rr.find(p=>p.name.toLowerCase()===o||p.label.toLowerCase()===o)}else if(d){const o=Zi(d[1]);i=rr.find(p=>p.slip44===o)}if(!i)throw e?r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,`Invalid coin name: ${e}`):d?r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,`Invalid path: ${d[0]}`):r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter);return i},uf=(d,e,i)=>{const o=di(d,e).name;let p=Xr(d);return p==="SPENDMULTISIG"&&(p="SPENDADDRESS"),{coinName:o,scriptType:p??"SPENDADDRESS"}};function cf(d,e){for(let i=0;i<e.length;i++){const o=e[i];if((o==null?void 0:o.toLowerCase())===d.toLowerCase())return!0}return!1}function Mi(d){return cf("Neurai",d)?{model_mini:{min:"3.7.0"},model_touch:{min:"4.9.0"}}:{}}class lf extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=Object.prototype.hasOwnProperty.call(this.payload,"bundle");const e=this.hasBundle?this.payload:{bundle:[this.payload]};we(e,[{name:"bundle",type:"array"}]),this.params=[],e.bundle.forEach(i=>{var o;const p=He(i.path,1);we(i,[{name:"path",required:!0},{name:"coin",type:"string"},{name:"showOnOneKey",type:"boolean"},{name:"multisig",type:"object"},{name:"scriptType",type:"string"}]);const S=(o=i.showOnOneKey)!==null&&o!==void 0?o:!0,{multisig:C,coin:B}=i;let{scriptType:U}=i;U||(U=Xr(p),U==="SPENDMULTISIG"&&!C&&(U="SPENDADDRESS"));const se=di(p,B).name;this.params.push({address_n:p,show_display:S,coin_name:se,multisig:C,script_type:U||"SPENDADDRESS"})})}getVersionRange(){return Mi(this.params.map(e=>e.coin_name))}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("GetAddress","Address",Object.assign({},o)),S=Ye(o.address_n);e.push(Object.assign({path:S},p.message)),this.postPreviousAddressMessage({address:p.message.address,path:S})}return T0(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}function Br(d,e){const i=[];for(let o=0;o<d.length;o+=e)i.push(d.slice(o,o+e));return i}function lr(d,e,i,o,p){var S;return L(this,void 0,void 0,function*(){if(e.find(Oe=>Oe.address_n.length<3))throw r.TypedError(r.HardwareErrorCode.ForbiddenKeyPath,"Path length must be greater than 3");if(!bi(d.features,p))throw r.createDeviceNotSupportMethodError("BatchGetPublickeys",U0(d.features));const U=e.find(Oe=>!Rd(Oe.address_n,o));if((p==null?void 0:p.ignoreCoinType)===!1&&U)throw r.TypedError(r.HardwareErrorCode.ForbiddenKeyPath);let se=10;const pe=Ze(d.features);w0.model_mini.includes(pe)?se=10:w0.model_touch.includes(pe)&&(se=20);const he={public_keys:[],hd_nodes:[]},Ae=Br(e,se);for(const Oe of Ae){const je=yield d.commands.typedCall("BatchGetPublickeys","EcdsaPublicKeys",{paths:Oe,ecdsa_curve_name:i,include_node:(S=p==null?void 0:p.includeNode)!==null&&S!==void 0?S:!1});if(je.type!=="EcdsaPublicKeys")throw r.createDeviceNotSupportMethodError("BatchGetPublickeys",U0(d.features));he.root_fingerprint=je.message.root_fingerprint,he.public_keys.push(...je.message.public_keys),he.hd_nodes.push(...je.message.hd_nodes)}if(he.hd_nodes.length!==e.length&&(p!=null&&p.includeNode))throw r.TypedError(r.HardwareErrorCode.CallMethodError,"BatchGetPublickeys failed, hd_nodes length not match");if(he.public_keys.length!==e.length&&!(p!=null&&p.includeNode))throw r.TypedError(r.HardwareErrorCode.CallMethodError,"BatchGetPublickeys failed, public_keys length not match");return he})}const vs={XPUB:76067358,YPUB:77429938,ZPUB:78792518};function kt(d,e){if(d.toLowerCase()==="bitcoin")switch(e){case"SPENDADDRESS":case"SPENDMULTISIG":return vs.XPUB;case"SPENDP2SHWITNESS":return vs.YPUB;case"SPENDWITNESS":return vs.ZPUB;default:return vs.XPUB}else if(d.toLowerCase()==="litecoin")switch(e){case"SPENDADDRESS":case"SPENDMULTISIG":return 27108450;case"SPENDP2SHWITNESS":return 28471030;case"SPENDWITNESS":return 78792518;default:return}else if(d.toLowerCase()==="dogecoin")return e==="SPENDADDRESS"?49990397:e==="SPENDMULTISIG"?76067358:void 0}function pf(d){const e=R.sha256(R.sha256(new Uint8Array(d))).slice(0,4),i=Buffer.concat([new Uint8Array(d),new Uint8Array(e)]),o="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let p="",S=BigInt(`0x${i.toString("hex")}`);const C=BigInt(58);for(;S>0;){const B=Number(S%C);S/=C,p=o[B]+p}for(let B=0;B<i.length&&i[B]===0;B++)p=`1${p}`;return p}function hf(d,e,i,o,p,S,C){const B=kt(d,C);if(!B)throw new Error(`Invalid coinName, not support generate xpub for scriptType: ${C}`);const U=Buffer.alloc(78);return U.writeUInt32BE(B,0),U.writeUInt8(e,4),U.writeUInt32BE(i,5),U.writeUInt32BE(o,9),U.write(p,13,"hex"),U.write(S,45,"hex"),pf(U)}function yf(d,e,i){return hf(e,d.depth,d.fingerprint,d.child_num,d.chain_code,d.public_key,i)}class gf extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=Object.prototype.hasOwnProperty.call(this.payload,"bundle");const e=this.hasBundle?this.payload:{bundle:[this.payload]};we(e,[{name:"bundle",type:"array"}]),this.params=[],e.bundle.forEach(i=>{var o;const p=He(i.path,1);we(i,[{name:"path",required:!0},{name:"coin",type:"string"},{name:"showOnOneKey",type:"boolean"},{name:"scriptType",type:"string"}]);const S=(o=i.showOnOneKey)!==null&&o!==void 0?o:!0,{multisig:C,coin:B}=i;let{scriptType:U}=i;U||(U=Xr(p),U==="SPENDMULTISIG"&&!C&&(U="SPENDADDRESS"));const se=di(p,B).name;this.params.push({address_n:p,show_display:S,coin_name:se,script_type:U||"SPENDADDRESS"})})}isBtcNetwork(e){return e.coin_name==="Testnet"||e.coin_name==="Bitcoin"}getVersionRange(){return Mi(this.params.map(e=>e.coin_name))}run(){return L(this,void 0,void 0,function*(){let e=[];try{if(this.params.some(p=>p.show_display)||!this.hasBundle)throw new Error("Goto getPublickey");for(const p of this.params)if(!kt(p.coin_name,p.script_type))throw new Error(`Invalid coinName, not support generate xpub for scriptType: ${p.script_type}`);const o=yield lr(this.device,this.params,"secp256k1",0,{includeNode:!0,ignoreCoinType:!0});if(!(o!=null&&o.hd_nodes)||this.params.length!==o.hd_nodes.length)throw new Error("Invalid response from Publickeys");for(let p=0;p<this.params.length;p++){const S=this.params[p],C=o.hd_nodes[p],B=Ye(S.address_n),U=yf(C,S.coin_name,S.script_type),se=o.root_fingerprint;let pe=U;this.isBtcNetwork(S)&&Zs(S.address_n)&&(pe=`tr([${`${Number(se||0).toString(16).padStart(8,"0")}${B.substring(1)}`}]${U}/<0;1>/*)`),e.push({path:B,node:C,xpub:U,root_fingerprint:se,xpubSegwit:pe})}}catch(i){if(i instanceof r.HardwareError){const{errorCode:o}=i;if(o===r.HardwareErrorCode.PinCancelled||o===r.HardwareErrorCode.ActionCancelled||o===r.HardwareErrorCode.ResponseUnexpectTypeError||o===r.HardwareErrorCode.PinInvalid)throw i}e=[];for(let o=0;o<this.params.length;o++){const p=this.params[o],S=yield this.device.commands.typedCall("GetPublicKey","PublicKey",Object.assign({},p)),C=Object.assign(Object.assign({path:Ye(p.address_n)},S.message),{xpubSegwit:S.message.xpub});if(this.isBtcNetwork(p)&&Zs(p.address_n)){const U=`${Number(C.root_fingerprint||0).toString(16).padStart(8,"0")}${C.path.substring(1)}`;C.xpubSegwit=`tr([${U}]${C.xpub}/<0;1>/*)`}e.push(C)}}return T0(e,["xpub"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}class mf extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0},{name:"coin",type:"string"},{name:"noScriptType",type:"boolean"},{name:"dAppSignType",type:"string"}]);const{path:e,messageHex:i,coin:o,noScriptType:p,dAppSignType:S}=this.payload;let C=p,B=!1;const U=He(e),{coinName:se,scriptType:pe}=uf(U,o);let he=pe;S==="ecdsa"||S==="bip322-simple"?S==="ecdsa"?C=!0:(B=!0,C=!1):he=pe,this.params={address_n:U,message:Qe(i),coin_name:se,script_type:he,no_script_type:C,is_bip322_simple:B}}getVersionRange(){return this.payload.dAppSignType?{pro:{min:"4.9.3"}}:Mi([this.params.coin_name])}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("SignMessage","MessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)})}}class Ja extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"psbt",type:"hexString",required:!0},{name:"coin",type:"string"}]);const{psbt:e,coin:i}=this.payload,o=di(void 0,i);this.params={psbt:Qe(e),coin_name:o.name}}getVersionRange(){return{pro:{min:"4.9.3"},model_classic1s:{min:"3.10.1"}}}run(){return L(this,void 0,void 0,function*(){try{return(yield this.device.commands.typedCall("SignPsbt","SignedPsbt",Object.assign({},this.params))).message}catch(e){const{message:i}=e,o=Ze(this.device.features);throw i.includes("PSBT parse failed")&&(o===r.EDeviceType.Classic1s||o===r.EDeviceType.ClassicPure)?r.TypedError(r.HardwareErrorCode.BTCPsbtTooManyUtxos,"PSBT too many utxos",{count:5}):e}})}}const Qa=({typedCall:d,txRequest:{request_type:e,details:i},refTxs:o})=>{const{tx_hash:p}=i;if(!p)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: unknown details.tx_hash");const S=o[p.toLowerCase()];if(!S)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: Requested unknown tx: ${p}`);if(e==="TXINPUT"){if(!S.bin_outputs)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: Requested unknown TXINPUT: ${p}`);return d("TxAckPrevInput","TxRequest",{tx:{input:S.inputs[i.request_index]}})}if(e==="TXOUTPUT"){if(!S.bin_outputs)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: Requested unknown TXOUTPUT: ${p}`);return d("TxAckPrevOutput","TxRequest",{tx:{output:S.bin_outputs[i.request_index]}})}if(e==="TXORIGINPUT"){if(!S.outputs)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: Requested unknown TXORIGINPUT: ${p}`);return d("TxAckInput","TxRequest",{tx:{input:S.inputs[i.request_index]}})}if(e==="TXORIGOUTPUT"){if(!S.outputs)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: Requested unknown TXORIGOUTPUT: ${p}`);return d("TxAckOutput","TxRequest",{tx:{output:S.outputs[i.request_index]}})}if(e==="TXEXTRADATA"){if(typeof i.extra_data_len!="number")throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Missing extra_data_len");if(typeof i.extra_data_offset!="number")throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Missing extra_data_offset");if(typeof S.extra_data!="string")throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: No extra data for transaction ${S.hash}`);const C=S.extra_data,B=i.extra_data_len,U=i.extra_data_offset,se=C.substring(U*2,(U+B)*2);return d("TxAckPrevExtraData","TxRequest",{tx:{extra_data_chunk:se}})}if(e==="TXMETA"){const C=S.extra_data,B={version:S.version,lock_time:S.lock_time,inputs_count:S.inputs.length,outputs_count:S.outputs?S.outputs.length:S.bin_outputs.length,timestamp:S.timestamp,version_group_id:S.version_group_id,expiry:S.expiry,branch_id:S.branch_id,extra_data_len:C?C.length/2:void 0};return d("TxAckPrevMeta","TxRequest",{tx:B})}throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: Unknown request type: ${e}`)},_f=({typedCall:d,txRequest:{request_type:e,details:i},inputs:o,outputs:p})=>{if(e==="TXINPUT")return d("TxAckInput","TxRequest",{tx:{input:o[i.request_index]}});if(e==="TXOUTPUT")return d("TxAckOutput","TxRequest",{tx:{output:p[i.request_index]}});throw e==="TXMETA"?r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"requestSignedTxInfo: Cannot read TXMETA from signed transaction"):e==="TXEXTRADATA"?r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"requestSignedTxInfo: Cannot read TXEXTRADATA from signed transaction"):r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`requestSignedTxInfo: Unknown request type: ${e}`)},vf=d=>{const{tx_hash:e}=d.txRequest.details;return e?Qa(d):_f(d)},vn=(d,e,i)=>{if(!i)return;const{signature_index:o,signature:p,serialized_tx:S}=i;if(S&&d.push(S),typeof o=="number"){if(!p)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"saveTxSignatures: Unexpected null in trezor:TxRequestSerialized signature.");e[o]=p}},fi=d=>L(void 0,void 0,void 0,function*(){const{typedCall:e,txRequest:i,refTxs:o,inputs:p,outputs:S,serializedTx:C,signatures:B}=d;if(vn(C,B,i.serialized),i.request_type==="TXFINISHED")return Promise.resolve({signatures:B,serializedTx:C.join("")});const{message:U}=yield vf(d);return fi({typedCall:e,txRequest:U,refTxs:o,inputs:p,outputs:S,serializedTx:C,signatures:B})});var bs=(d,e,i,o,p,S)=>L(void 0,void 0,void 0,function*(){const C={};o.forEach(U=>{C[U.hash.toLowerCase()]=U});const{message:B}=yield d("SignTx","TxRequest",Object.assign(Object.assign({},p),{inputs_count:e.length,outputs_count:i.length,coin_name:S}));return fi({typedCall:d,txRequest:B,refTxs:C,inputs:e,outputs:i,serializedTx:[],signatures:[]})});const bf=({txRequest:{request_type:d,details:e},refTxs:i})=>{const{tx_hash:o}=e;if(!o)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: unknown details.tx_hash");const p=i[o.toLowerCase()];if(!p)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: Requested unknown tx: ${o}`);if(!p.bin_outputs)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: bin_outputs not set tx: ${o}`);if(d==="TXINPUT")return{inputs:[p.inputs[e.request_index]]};if(d==="TXOUTPUT")return{bin_outputs:[p.bin_outputs[e.request_index]]};if(d==="TXEXTRADATA"){if(typeof e.extra_data_len!="number")throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Missing extra_data_len");if(typeof e.extra_data_offset!="number")throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Missing extra_data_offset");if(typeof p.extra_data!="string")throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: No extra data for transaction ${p.hash}`);const S=p.extra_data,C=e.extra_data_len,B=e.extra_data_offset;return{extra_data:S.substring(B*2,(B+C)*2)}}if(d==="TXMETA"){const S=p.extra_data,C={version:p.version,lock_time:p.lock_time,inputs_cnt:p.inputs.length,outputs_cnt:p.bin_outputs.length,timestamp:p.timestamp,version_group_id:p.version_group_id,expiry:p.expiry,branch_id:p.branch_id};return typeof S=="string"&&S.length!==0?Object.assign(Object.assign({},C),{extra_data_len:S.length/2}):C}throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: Unknown request type: ${d}`)},eo=({txRequest:{request_type:d,details:e},inputs:i,outputs:o})=>{if(d==="TXINPUT")return{inputs:[i[e.request_index]]};if(d==="TXOUTPUT")return{outputs:[o[e.request_index]]};throw d==="TXMETA"?r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"requestSignedTxInfo: Cannot read TXMETA from signed transaction"):d==="TXEXTRADATA"?r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"requestSignedTxInfo: Cannot read TXEXTRADATA from signed transaction"):r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`requestSignedTxInfo: Unknown request type: ${d}`)},Tf=d=>{const{tx_hash:e}=d.txRequest.details;return e?bf(d):eo(d)},pr=(d,e,i)=>{if(!i)return;const{signature_index:o,signature:p,serialized_tx:S}=i;if(S&&d.push(S),typeof o=="number"){if(!p)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"saveTxSignatures: Unexpected null in oneKey:TxRequestSerialized signature.");e[o]=p}},Ts=d=>L(void 0,void 0,void 0,function*(){const{typedCall:e,txRequest:i,refTxs:o,inputs:p,outputs:S,serializedTx:C,signatures:B}=d;if(pr(C,B,i.serialized),i.request_type==="TXFINISHED")return Promise.resolve({signatures:B,serializedTx:C.join("")});const U=Tf(d),{message:se}=yield e("TxAck","TxRequest",{tx:U});return Ts({typedCall:e,txRequest:se,refTxs:o,inputs:p,outputs:S,serializedTx:C,signatures:B})});var Lr=(d,e,i,o,p,S)=>L(void 0,void 0,void 0,function*(){const C={};o.forEach(U=>{C[U.hash.toLowerCase()]=U});const{message:B}=yield d("SignTx","TxRequest",Object.assign(Object.assign({},p),{inputs_count:e.length,outputs_count:i.length,coin_name:S}));return Ts({typedCall:d,txRequest:B,refTxs:C,inputs:e,outputs:i,serializedTx:[],signatures:[]})});class xt extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"coin",type:"string",required:!0},{name:"inputs",type:"array",required:!0},{name:"outputs",type:"array",required:!0},{name:"refTxs",type:"array",required:!0,allowEmpty:!0},{name:"locktime",type:"number"},{name:"version",type:"number"},{name:"expiry",type:"number"},{name:"overwintered",type:"boolean"},{name:"versionGroupId",type:"number"},{name:"branchId",type:"number"},{name:"timestamp",type:"number"}]),this.payload.refTxs.forEach(B=>{we(B,[{name:"hash",type:"hexString",required:!0},{name:"inputs",type:"array",required:!0},{name:"bin_outputs",type:"array",required:!Array.isArray(B.outputs)},{name:"outputs",type:"array"},{name:"version",type:"number",required:!0},{name:"lock_time",type:"number",required:!0},{name:"extra_data",type:"string"},{name:"timestamp",type:"number"},{name:"version_group_id",type:"number"}])}),this.payload.inputs.forEach(B=>{He(B.address_n);const U=ma(B.address_n);we(B,[{name:"prev_hash",type:"hexString",required:!0},{name:"prev_index",type:"number",required:!0},{name:"script_type",type:"string"},{name:"amount",type:"string",required:U},{name:"sequence",type:"number"},{name:"multisig",type:"object"}])}),this.payload.outputs.forEach(B=>{if(we(B,[{name:"address_n",type:"array"},{name:"address",type:"string"},{name:"amount",type:"string"},{name:"op_return_data",type:"string"},{name:"multisig",type:"object"}]),Object.prototype.hasOwnProperty.call(B,"address_n")&&Object.prototype.hasOwnProperty.call(B,"address"))throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,"Cannot use address and address_n in one output");if(B.address_n){const U=_a(B.address_n);if(B.script_type!==U)throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,`Output change script_type should be set to ${U}`)}});const{inputs:e,outputs:i,refTxs:o,account:p,coin:S}=this.payload,C=di(void 0,S).name;this.params={inputs:e,outputs:i,refTxs:o,addresses:p?p.addresses:void 0,options:{lock_time:this.payload.locktime,timestamp:this.payload.timestamp,version:this.payload.version,expiry:this.payload.expiry,overwintered:this.payload.overwintered,version_group_id:this.payload.versionGroupId,branch_id:this.payload.branchId},coinName:C}}getVersionRange(){return Mi([this.params.coinName])}run(){return L(this,void 0,void 0,function*(){const{device:e,params:i}=this,o=e.unavailableCapabilities.replaceTransaction,{refTxs:p}=i;return yield(o?Lr:bs)(e.commands.typedCall.bind(e.commands),i.inputs,i.outputs,p,i.options,i.coinName)})}}class Ef extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"address",type:"string",required:!0},{name:"messageHex",type:"hexString",required:!0},{name:"signature",type:"hexString",required:!0},{name:"coin",type:"string",required:!0}]);const{coin:e}=this.payload,{address:i,messageHex:o,signature:p}=Qe(this.payload),S=di(void 0,e).name;this.params={address:i,message:o,signature:p,coin_name:S}}getVersionRange(){return Mi([this.params.coin_name])}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("VerifyMessage","Success",Object.assign({},this.params));return Promise.resolve(e.message)})}}class to extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p,S;const C=He(o.path,3);we(o,[{name:"path",required:!0},{name:"chainId",type:"number"},{name:"showOnOneKey",type:"boolean"}]);const B=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:C,chain_id:(S=o.chainId)!==null&&S!==void 0?S:1029,show_display:B})})}getVersionRange(){return{model_mini:{min:"2.4.0"}}}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("ConfluxGetAddress","ConfluxAddress",Object.assign({},o)),S=Ye(o.address_n);e.push(Object.assign({path:S},p.message)),this.postPreviousAddressMessage({path:S,address:p.message.address})}return T0(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}class ro extends De{init(){this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0}]);const{path:e,messageHex:i}=this.payload,o=He(e,3);this.params={address_n:o,message:Qe(i)}}getVersionRange(){return{model_mini:{min:"2.4.0"}}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("ConfluxSignMessage","ConfluxMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)})}}class Pi extends De{init(){this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"domainHash",type:"hexString",required:!0},{name:"messageHash",type:"hexString",required:!0}]);const{path:e,domainHash:i,messageHash:o}=this.payload,p=He(e,3);this.params={address_n:p,domain_hash:Qe(i),message_hash:Qe(o)}}getVersionRange(){return{model_mini:{min:"2.4.0"}}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("ConfluxSignMessageCIP23","ConfluxMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)})}}const ot=(d,e)=>{if(!d)return["",""];const i=d.slice(0,e),o=d.slice(e);return[i,o]};class io extends De{constructor(){super(...arguments),this.addressN=[],this.processTxRequest=(e,i)=>L(this,void 0,void 0,function*(){if(!e.data_length){const C=e.signature_v,B=e.signature_r,U=e.signature_s;if(C==null||B==null||U==null)throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodError,"sign transaction failed");return Promise.resolve({v:`0x${C.toString(16)}`,r:`0x${B}`,s:`0x${U}`})}const[o,p]=ot(i,e.data_length*2),S=yield this.device.commands.typedCall("ConfluxTxAck","ConfluxTxRequest",{data_chunk:o});return this.processTxRequest(S.message,p)}),this.evmSignTx=(e,i)=>L(this,void 0,void 0,function*(){const{to:o,value:p,gasPrice:S,gasLimit:C,nonce:B,data:U,chainId:se,epochHeight:pe,storageLimit:he}=i,Ae=U==null?0:U.length/2,[Oe,je]=ot(U,1024*2);let Ve={address_n:e,nonce:k0(B),gas_price:k0(S),gas_limit:k0(C),to:o,value:k0(p),epoch_height:k0(pe),storage_limit:k0(he),chain_id:se};Ae!==0&&(Ve=Object.assign(Object.assign({},Ve),{data_length:Ae,data_initial_chunk:Oe}));const r0=yield this.device.commands.typedCall("ConfluxSignTx","ConfluxTxRequest",Ve);return this.processTxRequest(r0.message,je)})}init(){this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"transaction",type:"object",required:!0}]);const{path:e,transaction:i}=this.payload;this.addressN=He(e,3);const o=i;we(o,[{name:"to",type:"hexString",required:!0},{name:"value",type:"hexString",required:!0},{name:"gasLimit",type:"hexString",required:!0},{name:"gasPrice",type:"hexString",required:!0},{name:"nonce",type:"hexString",required:!0},{name:"epochHeight",type:"hexString",required:!0},{name:"storageLimit",type:"hexString",required:!0},{name:"chainId",type:"number",required:!0},{name:"data",type:"hexString"}]),this.formattedTx=Qe(o)}getVersionRange(){return{model_mini:{min:"2.4.0"}}}run(){return L(this,void 0,void 0,function*(){const{addressN:e,formattedTx:i}=this;if(i==null)throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,"ConfluxSignTransaction: format tx error");const o=yield this.evmSignTx(e,i);return Promise.resolve(o)})}}function wf({typedCall:d,param:e}){return L(this,void 0,void 0,function*(){return d("EthereumGetAddress","EthereumAddress",{address_n:e.address_n,show_display:e.show_display,chain_id:e.chain_id})})}function Es({typedCall:d,param:e}){return L(this,void 0,void 0,function*(){return d("EthereumGetAddressOneKey","EthereumAddressOneKey",Object.assign({},e))})}class Sf extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"chainId",type:"number"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C,chain_id:o.chainId})})}getEvmAddress(e){return L(this,void 0,void 0,function*(){return q0.getMessageVersion()==="v1"?wf({typedCall:this.device.commands.typedCall.bind(this.device.commands),param:e}):Es({typedCall:this.device.commands.typedCall.bind(this.device.commands),param:e})})}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.getEvmAddress(o),{address:S}=p.message;if(!S)throw new Error("EthereumGetAddressOneKey: address is undefined");const C={path:Ye(o.address_n),address:S};e.push(C),this.postPreviousAddressMessage(C)}return T0(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}function so({typedCall:d,param:e}){return L(this,void 0,void 0,function*(){return d("EthereumGetPublicKeyOneKey","EthereumPublicKeyOneKey",Object.assign({},e))})}function tt({typedCall:d,param:e}){return L(this,void 0,void 0,function*(){return d("EthereumGetPublicKey","EthereumPublicKey",{address_n:e.address_n,show_display:e.show_display,chain_id:e.chain_id})})}class bn extends De{constructor(){super(...arguments),this.hasBundle=!1,this.confirmShowOnOneKey=!1,this.useBatch=!1}init(){var e,i,o;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle),this.confirmShowOnOneKey=(o=(i=this.payload)===null||i===void 0?void 0:i.bundle)===null||o===void 0?void 0:o.some(S=>!!S.showOnOneKey),this.useBatch=!this.confirmShowOnOneKey&&this.hasBundle&&this.payload.useBatch;const p=this.hasBundle?this.payload:{bundle:[this.payload]};we(p,[{name:"bundle",type:"array"}]),this.params=[],p.bundle.forEach(S=>{var C;const B=He(S.path,3);we(S,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"chainId",type:"number"}]);const U=(C=S.showOnOneKey)!==null&&C!==void 0?C:!0;this.params.push({address_n:B,show_display:U,chain_id:S.chainId})})}getEvmPublicKey(e){return q0.getMessageVersion()==="v1"?tt({typedCall:this.device.commands.typedCall.bind(this.device.commands),param:e}):so({typedCall:this.device.commands.typedCall.bind(this.device.commands),param:e})}run(){var e;return L(this,void 0,void 0,function*(){const i=[];if(this.useBatch&&bi((e=this.device)===null||e===void 0?void 0:e.features))try{const p=(yield lr(this.device,this.params,"secp256k1",60,{includeNode:!1,ignoreCoinType:!0})).public_keys.map((S,C)=>({path:Ye(this.params[C].address_n),pub:S,publicKey:S}));return T0(p,["pub"],{expectedLength:this.params.length}),yield Promise.resolve(p)}catch{}for(let o=0;o<this.params.length;o++){const p=this.params[o],S=yield this.getEvmPublicKey(p);i.push(Object.assign({path:Ye(p.address_n),pub:S.message.node.public_key,publicKey:S.message.node.public_key},S.message))}return T0(i,["pub"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?i:i[0])})}}function no({typedCall:d,params:e}){return L(this,void 0,void 0,function*(){const i=yield d("EthereumSignMessageOneKey","EthereumMessageSignatureOneKey",Object.assign({},e));return Promise.resolve(i.message)})}function ir({typedCall:d,params:e}){return L(this,void 0,void 0,function*(){const i=yield d("EthereumSignMessage","EthereumMessageSignature",{address_n:e.address_n,message:e.message,chain_id:e.chain_id});return Promise.resolve(i.message)})}class Tn extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0},{name:"chainId",type:"number"}]);const{path:e,messageHex:i,chainId:o}=this.payload,p=He(e,3);this.params={address_n:p,message:Qe(i),chain_id:o}}run(){return L(this,void 0,void 0,function*(){return q0.getMessageVersion()==="v1"?ir({typedCall:this.device.commands.typedCall.bind(this.device.commands),params:this.params}):no({typedCall:this.device.commands.typedCall.bind(this.device.commands),params:this.params})})}}class ws extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"domainHash",type:"hexString",required:!0},{name:"messageHash",type:"hexString",required:!0}]);const{path:e,domainHash:i,messageHash:o}=this.payload,p=He(e,3);this.params={address_n:p,domain_hash:Qe(i),message_hash:Qe(o)}}getVersionRange(){return{model_mini:{min:"2.1.9"},model_classic1s:{min:"3.14.0"}}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("EthereumSignMessageEIP712","EthereumMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)})}}const sr=({typedCall:d,request:e,data:i,chainId:o,supportTrezor:p})=>L(void 0,void 0,void 0,function*(){if(!e.data_length){let U=e.signature_v;const se=e.signature_r,pe=e.signature_s,he="authorization_signatures"in e?e.authorization_signatures:void 0;if(U==null||se==null||pe==null)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"processTxRequest: Unexpected request");o&&U<=1&&(U+=2*o+35);const Ae={v:`0x${U.toString(16)}`,r:`0x${se}`,s:`0x${pe}`};return he&&he.length>0&&(Ae.authorizationSignatures=he.map(Oe=>({yParity:Oe.y_parity,r:Oe.r,s:Oe.s}))),Promise.resolve(Ae)}const[S,C]=ot(i,e.data_length*2);let B;return p?B=yield d("EthereumTxAck","EthereumTxRequest",{data_chunk:S}):B=yield d("EthereumTxAckOneKey","EthereumTxRequestOneKey",{data_chunk:S}),sr({typedCall:d,request:B.message,data:C,chainId:o,supportTrezor:p})}),En=({typedCall:d,addressN:e,tx:i,supportTrezor:o})=>L(void 0,void 0,void 0,function*(){const{to:p,value:S,gasPrice:C,gasLimit:B,nonce:U,data:se,chainId:pe,txType:he}=i,Ae=se==null?0:se.length/2,[Oe,je]=ot(se,1024*2);let Ve={address_n:e,nonce:k0(U),gas_price:k0(C),gas_limit:k0(B),to:p,value:k0(S),chain_id:pe};Ae!==0&&(Ve=Object.assign(Object.assign({},Ve),{data_length:Ae,data_initial_chunk:Oe})),he!==null&&(Ve=Object.assign(Object.assign({},Ve),{tx_type:he}));let r0;return o?r0=yield d("EthereumSignTx","EthereumTxRequest",Ve):r0=yield d("EthereumSignTxOneKey","EthereumTxRequestOneKey",Ve),sr({typedCall:d,request:r0.message,data:je,chainId:pe,supportTrezor:o})}),st=({typedCall:d,addressN:e,tx:i,supportTrezor:o})=>L(void 0,void 0,void 0,function*(){const{to:p,value:S,gasLimit:C,nonce:B,data:U,chainId:se,maxFeePerGas:pe,maxPriorityFeePerGas:he,accessList:Ae}=i,Oe=U==null?0:U.length/2,[je,Ve]=ot(U,1024*2),r0={address_n:e,nonce:k0(B),max_gas_fee:k0(pe),max_priority_fee:k0(he),gas_limit:k0(C),to:p,value:k0(S),data_length:Oe,data_initial_chunk:je,chain_id:se,access_list:(Ae||[]).map(Ke=>({address:Ke.address,storage_keys:Ke.storageKeys}))};let i0;return o?i0=yield d("EthereumSignTxEIP1559","EthereumTxRequest",r0):i0=yield d("EthereumSignTxEIP1559OneKey","EthereumTxRequestOneKey",r0),sr({typedCall:d,request:i0.message,data:Ve,supportTrezor:o})}),Ss=({typedCall:d,addressN:e,tx:i,supportTrezor:o})=>L(void 0,void 0,void 0,function*(){const{to:p,value:S,gasLimit:C,nonce:B,data:U,chainId:se,maxFeePerGas:pe,maxPriorityFeePerGas:he,accessList:Ae,authorizationList:Oe}=i,je=U==null?0:U.length/2,[Ve,r0]=ot(U,1024*2),i0={address_n:e,nonce:k0(B),max_gas_fee:k0(pe),max_priority_fee:k0(he),gas_limit:k0(C),to:p,value:k0(S),data_length:je,data_initial_chunk:Ve,chain_id:se,access_list:(Ae||[]).map(o0=>({address:o0.address,storage_keys:o0.storageKeys})),authorization_list:Oe.map(o0=>({address_n:o0.addressN||[],chain_id:o0.chainId,address:Et(o0.address),nonce:k0(o0.nonce),signature:o0.yParity!==void 0&&o0.r&&o0.s?{y_parity:o0.yParity,r:o0.r,s:o0.s}:void 0}))};let Ke;if(o)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"EIP7702 not supported by Trezor");return Ke=yield d("EthereumSignTxEIP7702OneKey","EthereumTxRequestOneKey",i0),sr({typedCall:d,request:Ke.message,data:r0,supportTrezor:o})}),Rf=({typedCall:d,isEIP1559:e,isEIP7702:i,addressN:o,tx:p})=>L(void 0,void 0,void 0,function*(){return i?Ss({typedCall:d,addressN:o,tx:p}):e?st({typedCall:d,addressN:o,tx:p}):En({typedCall:d,addressN:o,tx:p})}),Af=({typedCall:d,isEIP1559:e,isEIP7702:i,addressN:o,tx:p})=>L(void 0,void 0,void 0,function*(){return i?Ss({typedCall:d,addressN:o,tx:p,supportTrezor:!0}):e?st({typedCall:d,addressN:o,tx:p,supportTrezor:!0}):En({typedCall:d,addressN:o,tx:p,supportTrezor:!0})});class If extends De{constructor(){super(...arguments),this.addressN=[],this.isEIP1559=!1,this.isEIP7702=!1}hasEIP7702Features(e){const i=e.authorizationList;return!!(i&&Array.isArray(i)&&i.length>0)}hasEIP1559Features(e){return!!(e.maxFeePerGas&&e.maxPriorityFeePerGas)}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"transaction",type:"object",required:!0}]);const{path:e,transaction:i}=this.payload;this.addressN=He(e,3);const o=i;this.isEIP7702=this.hasEIP7702Features(o),this.isEIP1559=this.hasEIP1559Features(o)&&!this.isEIP7702;const p=[{name:"to",type:"hexString",required:!0},{name:"value",type:"hexString",required:!0},{name:"gasLimit",type:"hexString",required:!0},{name:"nonce",type:"hexString",required:!0},{name:"chainId",type:"number",required:!0},{name:"data",type:"hexString"}];this.isEIP7702?(p.push({name:"maxFeePerGas",type:"hexString",required:!0}),p.push({name:"maxPriorityFeePerGas",type:"hexString",required:!0}),p.push({name:"authorizationList",type:"array",required:!0})):this.isEIP1559?(p.push({name:"maxFeePerGas",type:"hexString",required:!0}),p.push({name:"maxPriorityFeePerGas",type:"hexString",required:!0})):(p.push({name:"gasPrice",type:"hexString",required:!0}),p.push({name:"txType",type:"number"})),we(o,p),this.formattedTx=Qe(o)}getVersionRange(){return this.isEIP7702?{model_classic1s:{min:"3.13.0"},pro:{min:"4.16.0"}}:this.isEIP1559?{model_mini:{min:"2.1.11"}}:{model_mini:{min:"1.0.0"}}}run(){return L(this,void 0,void 0,function*(){const{addressN:e,isEIP1559:i,isEIP7702:o,formattedTx:p}=this;if(p==null)throw r.ERRORS.TypedError("Runtime","formattedTx is not set");return q0.getMessageVersion()==="v1"?Af({typedCall:this.device.commands.typedCall.bind(this.device.commands),addressN:e,tx:p,isEIP1559:i,isEIP7702:o}):Rf({typedCall:this.device.commands.typedCall.bind(this.device.commands),addressN:e,tx:p,isEIP1559:i,isEIP7702:o})})}}const wn=({typedCall:d,addressN:e,device:i,chainId:o,domainHash:p,messageHash:S})=>L(void 0,void 0,void 0,function*(){const C=Ze(i.features);if(C===r.EDeviceType.Touch||C===r.EDeviceType.Pro){const B=y0(i.features).join("."),U="4.2.0";if(A.default.lt(B,U))throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodNeedUpgradeFirmware,`Device firmware version is too low, please update to ${U}`,{current:B,require:U})}return d("EthereumSignTypedHash","EthereumTypedDataSignature",{address_n:e,domain_separator_hash:p??"",message_hash:S,chain_id:o})}),Of=({typedCall:d,addressN:e,device:i,chainId:o,domainHash:p,messageHash:S})=>L(void 0,void 0,void 0,function*(){const C=Ze(i.features);if(C===r.EDeviceType.Touch||C===r.EDeviceType.Pro){const B=y0(i.features).join("."),U="4.2.0";if(A.default.lt(B,U))throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodNeedUpgradeFirmware,`Device firmware version is too low, please update to ${U}`,{current:B,require:U})}return d("EthereumSignTypedHashOneKey","EthereumTypedDataSignatureOneKey",{address_n:e,domain_separator_hash:p??"",message_hash:S,chain_id:o})}),Ni=({typedCall:d,addressN:e,data:i,metamaskV4Compat:o,chainId:p})=>L(void 0,void 0,void 0,function*(){const{primaryType:S}=i;return yield d("EthereumSignTypedData",["EthereumTypedDataStructRequest","EthereumTypedDataValueRequest","EthereumTypedDataSignature","EthereumGnosisSafeTxRequest"],{address_n:e,primary_type:S,metamask_v4_compat:o,chain_id:p})}),ao=({typedCall:d,addressN:e,data:i,metamaskV4Compat:o,chainId:p})=>L(void 0,void 0,void 0,function*(){const{primaryType:S}=i;return d("EthereumSignTypedDataOneKey",["EthereumTypedDataStructRequestOneKey","EthereumTypedDataValueRequestOneKey","EthereumTypedDataSignatureOneKey","EthereumGnosisSafeTxRequest"],{address_n:e,primary_type:S,metamask_v4_compat:o,chain_id:p})}),Cf=(d,e)=>{if(e<1||e>32)throw r.ERRORS.TypedError("Runtime","Int byte size must be between 1 and 32 (8 and 256 bits)");const i=new q.default(2).exponentiatedBy(e*8-1).negated(),o=i.negated().minus(1),p=new q.default(d);if(p.isGreaterThan(o)||p.isLessThan(i))throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`Overflow when trying to convert number ${d.toString()} into ${e} bytes`);return p.isPositive()?p:p.minus(i).minus(i)},kf=(d,e,i)=>{let o=new q.default(d);if(i&&(o=Cf(o,e)),o.isNegative())throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`Cannot convert negative number to unsigned interger: ${d.toString()}`);const p=o.toString(16),S=e*2;if(p.length>S)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`Overflow when trying to convert number ${d.toString()} into ${e} bytes`);return p.padStart(e*2,"0")},ui=new RegExp(/^(.*)\[([0-9]*)\]$/),oo=new RegExp(/^bytes([0-9]*)$/),fo=new RegExp(/^(u?int)([0-9]*)$/),Sn=d=>{const e=ui.exec(d);if(e===null)throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`typename ${d} could not be parsed as an EIP-712 array`);const[i,o,p]=e;return{entryTypeName:o,arraySize:parseInt(p,10)||null}},Rn=(d,e)=>{if(oo.test(d)||d==="address")return Qe(e);if(d==="string")return Buffer.from(e,"utf-8").toString("hex");const i=fo.exec(d);if(i){const[o,p,S]=i,C=Math.ceil(parseInt(S,10)/8);return kf(e,C,p==="int")}if(d==="bool")return e?"01":"00";throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`Unsupported data type for direct field encoding: ${d}`)},xf={string:y.EthereumDataType.STRING,bool:y.EthereumDataType.BOOL,address:y.EthereumDataType.ADDRESS},uo=(d,e)=>{const i=ui.exec(d);if(i){const[C,B,U]=i,se=uo(B,e);return{data_type:y.EthereumDataType.ARRAY,size:parseInt(U,10)||void 0,entry_type:se}}const o=fo.exec(d);if(o){const[C,B,U]=o;return{data_type:B==="uint"?y.EthereumDataType.UINT:y.EthereumDataType.INT,size:Math.floor(parseInt(U,10)/8)}}const p=oo.exec(d);if(p){const[C,B]=p;return{data_type:y.EthereumDataType.BYTES,size:parseInt(B,10)||void 0}}const S=xf[d];if(S)return{data_type:S};if(d in e)return{data_type:y.EthereumDataType.STRUCT,size:e[d].length,struct_name:d};throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`No type definition specified: ${d}`)};class Df extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"metamaskV4Compat",type:"boolean"},{name:"data",type:"object"},{name:"domainHash",type:"hexString"},{name:"messageHash",type:"hexString"},{name:"chainId",type:"number"}]);const{path:e,data:i,metamaskV4Compat:o,domainHash:p,messageHash:S,chainId:C}=this.payload,B=He(e,3);if(this.params={addressN:B,metamaskV4Compat:o,data:i,chainId:C},p){if(this.params.domainHash=Qe(p),S)this.params.messageHash=Qe(S);else if(i&&(!i.primaryType||i.primaryType!=="EIP712Domain"))throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,"message_hash should only be empty when data.primaryType=EIP712Domain")}}handleSignTypedData({typedCall:e,signData:i,response:o,supportTrezor:p}){return L(this,void 0,void 0,function*(){const{types:S,primaryType:C,domain:B,message:U}=i;for(;o.type==="EthereumTypedDataStructRequest"||o.type==="EthereumTypedDataStructRequestOneKey";){const{name:he}=o.message,Ae=S[he];if(Ae===void 0)throw r.ERRORS.TypedError("Runtime",`Type ${he} was not defined in types object`);const Oe={members:Ae.map(({name:je,type:Ve})=>({name:je,type:uo(Ve,S)}))};p?o=yield e("EthereumTypedDataStructAck",["EthereumTypedDataStructRequest","EthereumTypedDataValueRequest","EthereumTypedDataSignature"],Oe):o=yield e("EthereumTypedDataStructAckOneKey",["EthereumTypedDataStructRequestOneKey","EthereumTypedDataValueRequestOneKey","EthereumTypedDataSignatureOneKey"],Oe)}for(;o.type==="EthereumTypedDataValueRequest"||o.type==="EthereumTypedDataValueRequestOneKey";){const{member_path:he}=o.message;let Ae,Oe;const[je,...Ve]=he;switch(je){case 0:Ae=B,Oe="EIP712Domain";break;case 1:Ae=U,Oe=C;break;default:throw r.ERRORS.TypedError("Runtime","Root index can only be 0 or 1")}for(const i0 of Ve)if(Array.isArray(Ae))Oe=Sn(Oe).entryTypeName,Ae=Ae[i0];else if(typeof Ae=="object"&&Ae!==null){const Ke=S[Oe][i0];Oe=Ke.type,Ae=Ae[Ke.name]}let r0;Array.isArray(Ae)?r0=Rn("uint16",Ae.length):r0=Rn(Oe,Ae),p?o=yield e("EthereumTypedDataValueAck",["EthereumTypedDataValueRequest","EthereumTypedDataSignature"],{value:r0}):o=yield e("EthereumTypedDataValueAckOneKey",["EthereumTypedDataValueRequestOneKey","EthereumTypedDataSignatureOneKey"],{value:r0})}if(o.type==="EthereumGnosisSafeTxRequest"){const{data:he}=this.params,Ae={to:he.message.to,value:Qe(new q.default(he.message.value).toString(16)),data:k0(Qe(he.message.data)),operation:parseInt(he.message.operation),safeTxGas:Qe(new q.default(he.message.safeTxGas).toString(16)),baseGas:Qe(new q.default(he.message.baseGas).toString(16)),gasPrice:Qe(new q.default(he.message.gasPrice).toString(16)),gasToken:he.message.gasToken,refundReceiver:he.message.refundReceiver,nonce:Qe(new q.default(he.message.nonce).toString(16)),chain_id:$a(he.domain.chainId),verifyingContract:he.domain.verifyingContract};o=yield e("EthereumGnosisSafeTxAck",["EthereumTypedDataSignature","EthereumTypedDataSignatureOneKey"],Ae)}if(o.type!=="EthereumTypedDataSignature"&&o.type!=="EthereumTypedDataSignatureOneKey")throw r.ERRORS.TypedError("Runtime","Unexpected response type");const{address:se,signature:pe}=o.message;return{address:se,signature:pe}})}signTypedData(){return L(this,void 0,void 0,function*(){const{addressN:e,data:i,metamaskV4Compat:o,chainId:p}=this.params;let S=!1,C;switch(q0.getMessageVersion()){case"v1":S=!0,C=yield Ni({typedCall:this.device.commands.typedCall.bind(this.device.commands),addressN:e,data:i,metamaskV4Compat:o,chainId:p});break;case"latest":default:S=!1,C=yield ao({typedCall:this.device.commands.typedCall.bind(this.device.commands),addressN:e,data:i,metamaskV4Compat:o,chainId:p});break}return this.handleSignTypedData({typedCall:this.device.commands.typedCall.bind(this.device.commands),signData:i,response:C,supportTrezor:S})})}signTypedHash({typedCall:e,addressN:i,chainId:o,domainHash:p,messageHash:S}){if(!p)throw r.ERRORS.TypedError("Runtime","domainHash is required");switch(q0.getMessageVersion()){case"v1":return wn({typedCall:e,addressN:i,domainHash:p,messageHash:S,chainId:o,device:this.device});case"latest":default:return Of({typedCall:e,addressN:i,domainHash:p,messageHash:S,chainId:o,device:this.device})}}getVersionRange(){return{model_mini:{min:"2.1.9"}}}hasBiggerData(e){const i=g.get(e.message,"data",void 0);if(!i)return!1;let o=1024;const p=y0(this.device.features).join("."),S=Ze(this.device.features);(w0.model_classic1s.includes(S)||w0.model_touch.includes(S)&&A.default.gte(p,"4.4.0"))&&(o=1536);const U=i.startsWith("0x")?2:0;return(i.length-U)/2>o}hasNestedArrays(e){if(!e)return!1;if(Array.isArray(e)){for(const i of e)if(Array.isArray(i)||typeof i=="object"&&i!==null&&this.hasNestedArrays(i))return!0}else if(typeof e=="object"&&e!==null){for(const i in e)if(this.hasNestedArrays(e[i]))return!0}return!1}supportSignTyped(){const e=Ze(this.device.features);if(w0.model_mini.includes(e)){const i=y0(this.device.features).join(".");if(A.default.lt(i,"2.2.0"))return!1}return!0}run(){return L(this,void 0,void 0,function*(){if(!this.device.features)throw r.ERRORS.TypedError("Device_InitializeFailed","Device initialization failed. Please try again.");const{addressN:e,chainId:i}=this.params,o=Ki(this.device.features,y.Enum_Capability.Capability_EthereumTypedData),p=Ze(this.device.features);if(w0.model_mini.includes(p)&&!o){we(this.params,[{name:"domainHash",type:"hexString",required:!0},{name:"messageHash",type:"hexString",required:!0}]);const{domainHash:S,messageHash:C}=this.params;let B;return this.supportSignTyped()?B=yield this.signTypedHash({typedCall:this.device.commands.typedCall.bind(this.device.commands),addressN:e,domainHash:S,messageHash:C,chainId:i}):B=yield this.device.commands.typedCall("EthereumSignMessageEIP712","EthereumMessageSignature",{address_n:e,domain_hash:S??"",message_hash:C??""}),Promise.resolve(B.message)}if(this.hasNestedArrays(this.params.data)||this.hasBiggerData(this.params.data)){we(this.params,[{name:"domainHash",type:"hexString",required:!0},{name:"messageHash",type:"hexString",required:!0}]);const{domainHash:S,messageHash:C}=this.params;if(!S)throw r.ERRORS.TypedError("Runtime","domainHash is required");const B=yield this.signTypedHash({typedCall:this.device.commands.typedCall.bind(this.device.commands),addressN:e,domainHash:S,messageHash:C,chainId:i});return Promise.resolve(B.message)}return this.signTypedData()})}}function co({typedCall:d,params:e}){return L(this,void 0,void 0,function*(){const i=yield d("EthereumVerifyMessage","Success",{signature:e.signature,message:e.message,address:e.address,chain_id:e.chain_id});return Promise.resolve(i.message)})}function An({typedCall:d,params:e}){return L(this,void 0,void 0,function*(){const i=yield d("EthereumVerifyMessageOneKey","Success",Object.assign({},e));return Promise.resolve(i.message)})}class Mf extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"address",type:"string",required:!0},{name:"messageHex",type:"hexString",required:!0},{name:"signature",type:"hexString",required:!0},{name:"chainId",type:"number"}]);const{address:e,messageHex:i,signature:o}=Qe(this.payload);this.params={address:e,message:i,signature:o,chain_id:this.payload.chainId}}run(){return L(this,void 0,void 0,function*(){return q0.getMessageVersion()==="v1"?co({typedCall:this.device.commands.typedCall.bind(this.device.commands),params:this.params}):An({typedCall:this.device.commands.typedCall.bind(this.device.commands),params:this.params})})}}class In extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C})})}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("StarcoinGetAddress","StarcoinAddress",Object.assign({},o)),S=Ye(o.address_n);e.push(Object.assign({path:S},p.message)),this.postPreviousAddressMessage({path:S,address:p.message.address})}return T0(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}class lo extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C})})}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("StarcoinGetPublicKey","StarcoinPublicKey",Object.assign({},o));e.push(Object.assign({path:Ye(o.address_n)},p.message))}return T0(e,["public_key"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}class po extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0}]);const{path:e,messageHex:i}=this.payload,o=He(e,3);this.params={address_n:o,message:Qe(i)}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("StarcoinSignMessage","StarcoinMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)})}}class ho extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:i}=this.payload,o=He(e,3);this.params={address_n:o,raw_tx:Qe(i)}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("StarcoinSignTx","StarcoinSignedTx",Object.assign({},this.params));return Promise.resolve(e.message)})}}class Rs extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"publicKey",type:"string",required:!0},{name:"messageHex",type:"hexString",required:!0},{name:"signature",type:"hexString",required:!0}]);const{publicKey:e,messageHex:i,signature:o}=Qe(this.payload);this.params={public_key:e,message:i,signature:o}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("StarcoinVerifyMessage","Success",Object.assign({},this.params));return Promise.resolve(e.message)})}}const Pf=104;class yo extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"network",type:"number"},{name:"showOnOneKey",type:"boolean"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,network:o.network||Pf,show_display:C})})}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("NEMGetAddress","NEMAddress",Object.assign({},o)),S=Ye(o.address_n);e.push(Object.assign({path:S},p.message)),this.postPreviousAddressMessage({path:S,address:p.message.address})}return T0(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}const go=257,mo=258,_o=2049,Nf=4097,As=4098,vo=4100,On=8193,Bf=16385,Cn=16386;class m0 extends De{constructor(){super(...arguments),this.NEM_MOSAIC_LEVY_TYPES={1:"MosaicLevy_Absolute",2:"MosaicLevy_Percentile"},this.NEM_SUPPLY_CHANGE_TYPES={1:"SupplyChange_Increase",2:"SupplyChange_Decrease"},this.NEM_AGGREGATE_MODIFICATION_TYPES={1:"CosignatoryModification_Add",2:"CosignatoryModification_Delete"},this.NEM_IMPORTANCE_TRANSFER_MODES={1:"ImportanceTransfer_Activate",2:"ImportanceTransfer_Deactivate"},this.getCommon=(e,i)=>{var o;return{address_n:i,network:e.version>>24&255,timestamp:e.timeStamp,fee:e.fee,deadline:(o=e.deadline)!==null&&o!==void 0?o:0,signer:i?void 0:e.signer}},this.transferMessage=e=>{const i=e.mosaics?e.mosaics.map(o=>({namespace:o.mosaicId.namespaceId,mosaic:o.mosaicId.name,quantity:o.quantity})):void 0;return{recipient:e.recipient,amount:e.amount,payload:e.message?e.message.payload:void 0,public_key:e.message&&e.message.type===2?e.message.publicKey:void 0,mosaics:i}},this.importanceTransferMessage=e=>({mode:this.NEM_IMPORTANCE_TRANSFER_MODES[e.importanceTransfer.mode],public_key:e.importanceTransfer.publicKey}),this.aggregateModificationMessage=e=>({modifications:e.modifications?e.modifications.map(o=>({type:this.NEM_AGGREGATE_MODIFICATION_TYPES[o.modificationType],public_key:o.cosignatoryAccount})):void 0,relative_change:e.minCosignatories.relativeChange}),this.provisionNamespaceMessage=e=>{var i,o,p;return{namespace:(i=e.newPart)!==null&&i!==void 0?i:"",parent:e.parent||void 0,sink:(o=e.rentalFeeSink)!==null&&o!==void 0?o:"",fee:(p=e.rentalFee)!==null&&p!==void 0?p:0}},this.mosaicCreationMessage=e=>{var i,o;const{levy:p}=e.mosaicDefinition,S={namespace:e.mosaicDefinition.id.namespaceId,mosaic:e.mosaicDefinition.id.name,levy:p&&p.type?this.NEM_MOSAIC_LEVY_TYPES[p.type]:void 0,fee:p&&p.fee,levy_address:p&&p.recipient,levy_namespace:p&&p.mosaicId&&p.mosaicId.namespaceId,levy_mosaic:p&&p.mosaicId&&p.mosaicId.name,description:e.mosaicDefinition.description},{properties:C}=e.mosaicDefinition;return Array.isArray(C)&&C.forEach(B=>{const{name:U,value:se}=B;switch(U){case"divisibility":S.divisibility=parseInt(se);break;case"initialSupply":S.supply=parseInt(se);break;case"supplyMutable":S.mutable_supply=se==="true";break;case"transferable":S.transferable=se==="true";break}}),{definition:S,sink:(i=e.creationFeeSink)!==null&&i!==void 0?i:"",fee:(o=e.creationFee)!==null&&o!==void 0?o:0}},this.supplyChangeMessage=e=>{var i;return{namespace:e.mosaicId.namespaceId,mosaic:e.mosaicId.name,type:this.NEM_SUPPLY_CHANGE_TYPES[e.supplyType],delta:(i=e.delta)!==null&&i!==void 0?i:0}},this.parseTx=(e,i)=>{let o=e;const p={transaction:this.getCommon(e,i),transfer:void 0,importance_transfer:void 0,aggregate_modification:void 0,provision_namespace:void 0,mosaic_creation:void 0,supply_change:void 0};switch((e.type===mo||e.type===vo||e.type===As)&&(p.cosigning=e.type===mo||e.type===As,o=e.otherTrans,p.multisig=this.getCommon(o)),o.type){case go:p.transfer=this.transferMessage(o);break;case _o:p.importance_transfer=this.importanceTransferMessage(o);break;case Nf:p.aggregate_modification=this.aggregateModificationMessage(o);break;case On:p.provision_namespace=this.provisionNamespaceMessage(o);break;case Bf:p.mosaic_creation=this.mosaicCreationMessage(o);break;case Cn:p.supply_change=this.supplyChangeMessage(o);break;default:throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,"Unknown transaction type")}return p}}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"transaction",type:"object",required:!0}]);const{path:e,transaction:i}=this.payload,o=He(e,3);this.params=this.parseTx(i,o)}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("NEMSignTx","NEMSignedTx",Object.assign({},this.params));return Promise.resolve(e)})}}class Lf extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C})})}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("SolanaGetAddress","SolanaAddress",Object.assign({},o)),{address:S}=p.message,C={path:Ye(o.address_n),address:S};e.push(C),this.postPreviousAddressMessage(C)}return T0(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}class qf extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{const p=He(o.path,3);we(o,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0},{name:"extraInfo",type:"object"}]),this.params.push(Object.assign({address_n:p,raw_tx:Qe(o.rawTx)},o.extraInfo?{extra_info:o.extraInfo}:void 0))})}getVersionRange(){return this.existsVersionedTx()?{model_mini:{min:"3.1.0"},model_touch:{min:"4.3.0"}}:{classic:{min:"2.1.9"},mini:{min:"2.1.9"}}}isVersionedTx(e){if(e.length===0)return!1;try{const i=e.startsWith("0x")?e.slice(2):e;return parseInt(i[0],16).toString(2)[0]==="1"}catch{return!1}}existsVersionedTx(){for(let e=0;e<this.params.length;e++){const i=this.params[e],{raw_tx:o}=i;if(this.isVersionedTx(o))return!0}return!1}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("SolanaSignTx","SolanaSignedTx",Object.assign({},o)),{signature:S}=p.message;e.push({path:Ye(o.address_n),signature:S})}return Promise.resolve(this.hasBundle?e:e[0])})}}class Bi extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0},{name:"messageVersion",type:"number",required:!1},{name:"messageFormat",type:"number",required:!1},{name:"applicationDomainHex",type:"hexString",required:!1}]);const{path:e,messageHex:i,messageVersion:o,messageFormat:p,applicationDomainHex:S}=this.payload,C=He(e,3);this.params={address_n:C,message:tr(i),message_version:o??void 0,message_format:p??void 0,application_domain:S??void 0}}getVersionRange(){return{pro:{min:"4.12.0"},model_classic1s:{min:"3.11.0"}}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("SolanaSignOffChainMessage","SolanaMessageSignature",Object.assign({},this.params));return Promise.resolve({signature:e.message.signature,pub:e.message.public_key})})}}class bo extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0}]);const{path:e,messageHex:i}=this.payload,o=He(e,3);this.params={address_n:o,message:tr(i)}}getVersionRange(){return{pro:{min:"4.12.0"},touch:{min:"4.10.0"},model_classic1s:{min:"3.11.0"},model_mini:{min:"3.10.0"}}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("SolanaSignUnsafeMessage","SolanaMessageSignature",Object.assign({},this.params));return Promise.resolve({signature:e.message.signature,pub:e.message.public_key})})}}class Ff extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C})})}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("StellarGetAddress","StellarAddress",Object.assign({},o)),{address:S}=p.message,C={path:Ye(o.address_n),address:S};e.push(C),this.postPreviousAddressMessage(C)}return T0(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}class Uf extends De{constructor(){super(...arguments),this.operations=[],this.parseOperation=e=>{switch(e.type){case"createAccount":return we(e,[{name:"destination",type:"string",required:!0},{name:"startingBalance",type:"bigNumber",required:!0}]),{type:"StellarCreateAccountOp",source_account:e.source,new_account:e.destination,starting_balance:e.startingBalance};case"payment":return we(e,[{name:"destination",type:"string",required:!0},{name:"amount",type:"bigNumber",required:!0},{name:"asset",required:!0}]),{type:"StellarPaymentOp",source_account:e.source,destination_account:e.destination,asset:e.asset,amount:e.amount};case"pathPayment":return we(e,[{name:"destAmount",type:"bigNumber",required:!0}]),{type:"StellarPathPaymentOp",source_account:e.source,send_asset:e.sendAsset,send_max:e.sendMax,destination_account:e.destination,destination_asset:e.destAsset,destination_amount:e.destAmount,paths:e.path};case"createPassiveOffer":return we(e,[{name:"amount",type:"bigNumber",required:!0}]),{type:"StellarCreatePassiveOfferOp",source_account:e.source,buying_asset:e.buying,selling_asset:e.selling,amount:e.amount,price_n:e.price.n,price_d:e.price.d};case"manageOffer":return we(e,[{name:"amount",type:"bigNumber",required:!0}]),{type:"StellarManageOfferOp",source_account:e.source,buying_asset:e.buying,selling_asset:e.selling,amount:e.amount,offer_id:e.offerId,price_n:e.price.n,price_d:e.price.d};case"setOptions":{const i=e.signer?{signer_type:e.signer.type,signer_key:e.signer.key,signer_weight:e.signer.weight}:void 0;return Object.assign({type:"StellarSetOptionsOp",source_account:e.source,clear_flags:e.clearFlags,set_flags:e.setFlags,master_weight:e.masterWeight,low_threshold:e.lowThreshold,medium_threshold:e.medThreshold,high_threshold:e.highThreshold,home_domain:e.homeDomain,inflation_destination_account:e.inflationDest},i)}case"changeTrust":return we(e,[{name:"limit",type:"bigNumber"}]),{type:"StellarChangeTrustOp",source_account:e.source,asset:e.line,limit:e.limit};case"allowTrust":return{type:"StellarAllowTrustOp",source_account:e.source,trusted_account:e.trustor,asset_type:e.assetType,asset_code:e.assetCode,is_authorized:e.authorize?1:0};case"accountMerge":return{type:"StellarAccountMergeOp",source_account:e.source,destination_account:e.destination};case"manageData":return{type:"StellarManageDataOp",source_account:e.source,key:e.name,value:e.value};case"bumpSequence":return{type:"StellarBumpSequenceOp",source_account:e.source,bump_to:e.bumpTo};default:return{}}},this.processTxRequest=(e,i)=>L(this,void 0,void 0,function*(){const o=i+1>=e.length,p=e[i],{type:S}=p,C=X(p,["type"]);return o?(yield this.device.commands.typedCall(S,"StellarSignedTx",C)).message:(yield this.device.commands.typedCall(S,"StellarTxOpRequest",C),this.processTxRequest(e,i+1))})}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"networkPassphrase",type:"string",required:!0},{name:"transaction",type:"object",required:!0}]);const{transaction:e,networkPassphrase:i}=this.payload;if(!e.timebounds)throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,"timebounds is required");const o=He(this.payload.path,3);this.params={address_n:o,network_passphrase:i,source_account:e.source,fee:e.fee,sequence_number:e.sequence,num_operations:e.operations.length,memo_type:y.StellarMemoType.NONE,timebounds_start:e.timebounds.minTime,timebounds_end:e.timebounds.maxTime},e.memo&&(this.params.memo_type=e.memo.type,this.params.memo_text=e.memo.text,this.params.memo_id=e.memo.id,this.params.memo_hash=e.memo.hash),e.operations.forEach(p=>{const S=this.parseOperation(p);S&&this.operations.push(S)})}run(){return L(this,void 0,void 0,function*(){return yield this.device.commands.typedCall("StellarSignTx","StellarTxOpRequest",Object.assign({},this.params)),this.processTxRequest(this.operations,0)})}}class Dt extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C})})}getVersionRange(){return{model_mini:{min:"2.5.0"}}}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("TronGetAddress","TronAddress",Object.assign({},o)),{address:S}=p.message,C={path:Ye(o.address_n),address:S};e.push(C),this.postPreviousAddressMessage(C)}return T0(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}class Hf extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0},{name:"messageType",type:"string"}]);const{path:e,messageHex:i}=this.payload,o=He(e,3);if(this.payload.messageType==="V1"||this.payload.messageType==null)throw r.createDeviceNotSupportMethodError("TronSignMessage",U0(this.device.features));const p=y.TronMessageType.V2;this.params={address_n:o,message:tr(i),message_type:p}}getVersionRange(){return{model_mini:{min:"2.5.0"}}}getMessageV2VersionRange(){return{pro:{min:"4.16.0"},touch:{min:"4.12.0"},classic1s:{min:"3.13.0"}}}run(){return L(this,void 0,void 0,function*(){this.checkFeatureVersionLimit(()=>this.params.message_type===y.TronMessageType.V2,()=>this.getMessageV2VersionRange(),{strictCheckDeviceSupport:!0});const e=yield this.device.commands.typedCall("TronSignMessage","TronMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)})}}class Is extends De{parseTx(e,i){var o;const p={address_n:i,data:e.data,timestamp:e.timestamp,fee_limit:e.feeLimit,ref_block_bytes:e.refBlockBytes,ref_block_hash:e.refBlockHash,expiration:e.expiration,contract:{}};return e.contract&&(e.contract.transferContract&&(p.contract={transfer_contract:{to_address:e.contract.transferContract.toAddress,amount:e.contract.transferContract.amount}}),e.contract.triggerSmartContract&&(p.contract={trigger_smart_contract:{contract_address:e.contract.triggerSmartContract.contractAddress,call_value:e.contract.triggerSmartContract.callValue,data:e.contract.triggerSmartContract.data,call_token_value:e.contract.triggerSmartContract.callTokenValue,asset_id:e.contract.triggerSmartContract.assetId}}),e.contract.freezeBalanceV2Contract&&(p.contract={freeze_balance_v2_contract:{frozen_balance:e.contract.freezeBalanceV2Contract.frozenBalance,resource:e.contract.freezeBalanceV2Contract.resource}}),e.contract.unfreezeBalanceV2Contract&&(p.contract={unfreeze_balance_v2_contract:{unfreeze_balance:e.contract.unfreezeBalanceV2Contract.unfreezeBalance,resource:e.contract.unfreezeBalanceV2Contract.resource}}),e.contract.delegateResourceContract&&(p.contract={delegate_resource_contract:{resource:e.contract.delegateResourceContract.resource,balance:e.contract.delegateResourceContract.balance,receiver_address:e.contract.delegateResourceContract.receiverAddress,lock:e.contract.delegateResourceContract.lock,lock_period:e.contract.delegateResourceContract.lockPeriod}}),e.contract.unDelegateResourceContract&&(p.contract={undelegate_resource_contract:{resource:e.contract.unDelegateResourceContract.resource,balance:e.contract.unDelegateResourceContract.balance,receiver_address:e.contract.unDelegateResourceContract.receiverAddress}}),e.contract.withdrawExpireUnfreezeContract&&(p.contract={withdraw_expire_unfreeze_contract:{}}),e.contract.withdrawBalanceContract&&(p.contract={withdraw_balance_contract:{owner_address:e.contract.withdrawBalanceContract.ownerAddress}}),e.contract.voteWitnessContract&&(p.contract={vote_witness_contract:{votes:(o=e.contract.voteWitnessContract.votes)===null||o===void 0?void 0:o.map(S=>({vote_address:S.voteAddress,vote_count:S.voteCount})),support:e.contract.voteWitnessContract.support}}),e.contract.cancelAllUnfreezeV2Contract&&(p.contract={cancel_all_unfreeze_v2_contract:{}})),p}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"transaction",type:"object",required:!0}]);const{path:e,transaction:i}=this.payload,o=He(e,3);we(i,[{name:"refBlockBytes",type:"hexString",required:!0},{name:"refBlockHash",type:"hexString",required:!0},{name:"expiration",type:"number",required:!0},{name:"timestamp",type:"number",required:!0},{name:"contract",type:"object",required:!0}]),this.params=this.parseTx(Qe(i),o)}getVersionRange(){return{model_mini:{min:"2.5.0"}}}getFixDataTypeVersionRange(){return{pro:{min:"4.13.0"},touch:{min:"4.12.0"},model_classic1s:{min:"3.12.0"}}}checkFixDataTypeSupportVoteWitnessError(){const{data:e}=this.payload,{cancel_all_unfreeze_v2_contract:i,vote_witness_contract:o}=this.params.contract;this.checkFeatureVersionLimit(()=>!g.isEmpty(e)||!!i||!!o,()=>this.getFixDataTypeVersionRange())}supportDelegateResourceLockPeriodVersionRange(){return{pro:{min:"4.15.0"},touch:{min:"4.12.0"},model_classic1s:{min:"3.13.0"}}}checkSupportDelegateContractLockPeriod(){const{delegate_resource_contract:e}=this.params.contract;this.checkFeatureVersionLimit(()=>!!e&&e.lock_period!==void 0&&e.lock_period!==null,()=>this.supportDelegateResourceLockPeriodVersionRange())}run(){return L(this,void 0,void 0,function*(){this.checkFixDataTypeSupportVoteWitnessError(),this.checkSupportDelegateContractLockPeriod();const e=yield this.device.commands.typedCall("TronSignTx","TronSignedTx",Object.assign({},this.params));return Promise.resolve(e.message)})}}class kn extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C})})}getVersionRange(){return{model_mini:{min:"2.5.0"}}}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("NearGetAddress","NearAddress",Object.assign({},o)),{address:S}=p.message,C={path:Ye(o.address_n),address:S};e.push(C),this.postPreviousAddressMessage(C)}return T0(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}class To extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:i}=this.payload,o=He(e,3);this.params={address_n:o,raw_tx:Qe(i)}}getVersionRange(){return{model_mini:{min:"2.5.0"}}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("NearSignTx","NearSignedTx",Object.assign({},this.params));return Promise.resolve(e.message)})}}class Eo extends De{constructor(){super(...arguments),this.hasBundle=!1,this.shouldConfirm=!1}init(){var e,i;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const o=this.hasBundle?this.payload:{bundle:[this.payload]};this.shouldConfirm=this.payload.showOnOneKey||((i=this.payload.bundle)===null||i===void 0?void 0:i.some(p=>!!p.showOnOneKey)),we(o,[{name:"bundle",type:"array"}]),this.params=[],o.bundle.forEach(p=>{var S;const C=He(p.path,3);we(p,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const B=(S=p.showOnOneKey)!==null&&S!==void 0?S:!0;this.params.push({address_n:C,show_display:B})})}publicKeyToAddress(e){const i=l.sha3_256.create();return i.update(Ai(e)),i.update("\0"),`0x${v.bytesToHex(i.digest())}`}getVersionRange(){return{model_mini:{min:"2.6.0"}}}run(){var e,i,o;return L(this,void 0,void 0,function*(){const p=bi((e=this.device)===null||e===void 0?void 0:e.features);let S=[];if(p){const C=yield lr(this.device,this.params,"ed25519",637);for(let B=0;B<this.params.length;B++){const U=this.params[B],se=C.public_keys[B];let pe;this.shouldConfirm?pe=(o=(i=(yield this.device.commands.typedCall("AptosGetAddress","AptosAddress",U)).message.address)===null||i===void 0?void 0:i.toLowerCase())!==null&&o!==void 0?o:"":pe=this.publicKeyToAddress(se);const he={path:Ye(U.address_n),address:pe,publicKey:se,pub:se};this.shouldConfirm&&this.postPreviousAddressMessage(he),S.push(he)}}else S=yield Promise.all(this.params.map(C=>L(this,void 0,void 0,function*(){var B,U;const se=yield this.device.commands.typedCall("AptosGetAddress","AptosAddress",C),pe={path:Ye(C.address_n),address:(U=(B=se.message.address)===null||B===void 0?void 0:B.toLowerCase())!==null&&U!==void 0?U:""};return this.shouldConfirm&&this.postPreviousAddressMessage(pe),pe})));return T0(S,["address"],{expectedLength:this.params.length}),this.hasBundle?S:S[0]})}}class wt extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C})})}getVersionRange(){return{model_mini:{min:"2.6.0"}}}run(){return L(this,void 0,void 0,function*(){const i=(yield lr(this.device,this.params,"ed25519",637)).public_keys.map((o,p)=>({path:Ye(this.params[p].address_n),pub:o,publicKey:o}));return T0(i,["pub"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?i:i[0])})}}class Ir extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0},{name:"transactionType",type:"number",required:!1}]);const{path:e,rawTx:i,transactionType:o}=this.payload,p=He(e,3);this.params={address_n:p,raw_tx:Qe(i),tx_type:o}}getVersionRange(){return{model_mini:{min:"2.6.0"}}}getWithDataVersionRange(){return{pro:{min:"4.14.0"},model_classic1s:{min:"3.12.0"},classic:{min:"3.10.0"}}}checkWithDataError(){const{transactionType:e}=this.payload;this.checkFeatureVersionLimit(()=>e===1,()=>this.getWithDataVersionRange())}run(){return L(this,void 0,void 0,function*(){this.checkWithDataError();const e=yield this.device.commands.typedCall("AptosSignTx","AptosSignedTx",Object.assign({},this.params));return Promise.resolve(e.message)})}}class xn extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"payload",type:"object",required:!0}]);const{path:e,payload:i}=this.payload,o=He(e,3);we(i,[{name:"address",type:"string"},{name:"chainId",type:"string"},{name:"application",type:"string"},{name:"nonce",type:"string",required:!0},{name:"message",type:"string",required:!0}]),this.params={address_n:o,payload:{address:i.address,chain_id:i.chainId,application:i.application,nonce:i.nonce,message:i.message}}}getVersionRange(){return{model_mini:{min:"2.6.0"}}}run(){return L(this,void 0,void 0,function*(){let e=`APTOS
`;this.params.payload.address&&(e+=`address: ${this.params.payload.address}
`),this.params.payload.application&&(e+=`application: ${this.params.payload.application}
`),this.params.payload.chain_id&&(e+=`chainId: ${this.params.payload.chain_id}
`),e+=`message: ${this.params.payload.message}
`,e+=`nonce: ${this.params.payload.nonce}`;const i=yield this.device.commands.typedCall("AptosSignMessage","AptosMessageSignature",Object.assign({},this.params)),{address:o,signature:p}=i.message;return Promise.resolve({path:Ye(this.params.address_n),address:o,signature:p,fullMessage:e})})}}class wo extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"payload",type:"string",required:!0}]);const{path:e,payload:i}=this.payload,o=He(e,3);this.params={address_n:o,siwa_payload:i}}getVersionRange(){return{pro:{min:"4.16.0"}}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("AptosSignSIWAMessage","AptosMessageSignature",Object.assign({},this.params)),{address:i,signature:o}=e.message;return Promise.resolve({path:Ye(this.params.address_n),address:i,signature:o})})}}class Os extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C})})}getVersionRange(){return{model_mini:{min:"2.6.0"}}}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("AlgorandGetAddress","AlgorandAddress",Object.assign({},o)),{address:S}=p.message,C={path:Ye(o.address_n),address:S};e.push(C),this.postPreviousAddressMessage(C)}return T0(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}class So extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode],we(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:i}=this.payload,o=He(e,3);this.params={address_n:o,raw_tx:Qe(i)}}getVersionRange(){return{model_mini:{min:"2.6.0"}}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("AlgorandSignTx","AlgorandSignedTx",Object.assign({},this.params)),{signature:i}=e.message;return{path:Ye(this.params.address_n),signature:i}})}}class Dn extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"hrp",type:"string"},{name:"showOnOneKey",type:"boolean"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0,{hrp:B}=o;this.params.push({address_n:S,hrp:B,show_display:C})})}getVersionRange(){return{model_mini:{min:"2.10.0"},model_touch:{min:"4.0.0"}}}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("CosmosGetAddress","CosmosAddress",Object.assign({},o)),{address:S}=p.message,C={path:Ye(o.address_n),address:S};e.push(C),this.postPreviousAddressMessage(C)}return T0(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}class Ro extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};if(we(i,[{name:"bundle",type:"array"}]),i.bundle.length===0)throw new Error("Bundle is empty");this.params=[],i.bundle.forEach(o=>{var p,S;const C=He(o.path,3);we(o,[{name:"path",required:!0},{name:"curve",type:"string"},{name:"showOnOneKey",type:"boolean"}]);const B=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0,U=(S=o.curve)!==null&&S!==void 0?S:"secp256k1";if(U!=="secp256k1")throw new Error("Curve name is not supported");this.params.push({address_n:C,curve:U,show_display:B})})}getVersionRange(){return{model_mini:{min:"2.10.0"},model_touch:{min:"4.0.0"}}}run(){return L(this,void 0,void 0,function*(){const i=(yield lr(this.device,this.params,this.params[0].curve,118)).public_keys.map((o,p)=>({path:Ye(this.params[p].address_n),pub:o,publicKey:o}));return T0(i,["pub"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?i:i[0])})}}class Mn extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode],we(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:i}=this.payload,o=He(e,3);this.params={address_n:o,raw_tx:Qe(i)}}getVersionRange(){return{model_mini:{min:"2.10.0"},model_touch:{min:"4.0.0"}}}run(){return L(this,void 0,void 0,function*(){try{const e=yield this.device.commands.typedCall("CosmosSignTx","CosmosSignedTx",Object.assign({},this.params)),{signature:i}=e.message;return{path:Ye(this.params.address_n),signature:i}}catch(e){const{message:i}=e;throw i.includes("Failure_DataError,Json parse failed")||i.includes("Failure_DataError,Invalid message")?r.ERRORS.TypedError(r.HardwareErrorCode.CosmosInvalidJsonMessage,i):e}})}}class Pn extends De{constructor(){super(...arguments),this.hasBundle=!1,this.shouldConfirm=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};this.shouldConfirm=this.hasBundle?this.payload.bundle.some(o=>!!o.showOnOneKey):!1,we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C})})}getVersionRange(){return{model_mini:{min:"2.9.0"}}}run(){var e,i,o,p;return L(this,void 0,void 0,function*(){const S=[];for(let C=0;C<this.params.length;C++){const B=this.params[C],U=yield this.device.commands.typedCall("RippleGetAddress","RippleAddress",Object.assign({},B)),se=yield this.device.commands.typedCall("BatchGetPublickeys","EcdsaPublicKeys",{paths:[{address_n:B.address_n}],ecdsa_curve_name:"secp256k1"}),{address:pe}=U.message,he=Ye(B.address_n);S.push({path:he,address:pe,publicKey:(i=(e=se.message)===null||e===void 0?void 0:e.public_keys)===null||i===void 0?void 0:i[0],pub:(p=(o=se.message)===null||o===void 0?void 0:o.public_keys)===null||p===void 0?void 0:p[0]}),this.postPreviousAddressMessage({path:he,address:pe})}return T0(S,["address","pub"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?S:S[0])})}}class Or extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE];const{payload:e}=this;we(e,[{name:"path",required:!0},{name:"transaction",required:!0}]);const i=He(e.path,5),{transaction:o}=e;we(o,[{name:"fee",type:"string"},{name:"flags",type:"number"},{name:"sequence",type:"number"},{name:"maxLedgerVersion",type:"number"},{name:"payment",type:"object"}]),we(o.payment,[{name:"amount",type:"number",required:!0},{name:"destination",type:"string",required:!0},{name:"destinationTag",type:"number"}]),this.params={address_n:i,fee:o.fee,flags:o.flags,sequence:o.sequence,last_ledger_sequence:o.maxLedgerVersion,payment:{amount:o.payment.amount,destination:o.payment.destination,destination_tag:o.payment.destinationTag}}}getVersionRange(){return{model_mini:{min:"2.9.0"}}}run(){return L(this,void 0,void 0,function*(){const{message:e}=yield this.device.commands.typedCall("RippleSignTx","RippleSignedTx",this.params);return{serializedTx:e.serialized_tx,signature:e.signature}})}}const Ao=32,Cr=32,Io={ED25519:0};function Oo(d,e=!1){let i=d.toLowerCase();return!e&&i.startsWith("0x")&&(i=i.slice(2)),`0x${i.padStart(Ao*2,"0")}`.toLowerCase()}function Nn(d){const e=new Uint8Array(Cr+1);return e.set([Io.ED25519]),e.set(v.hexToBytes(d),1),Oo(v.bytesToHex(c.blake2b(e,{dkLen:32})).slice(0,Ao*2))}class $f extends De{constructor(){super(...arguments),this.hasBundle=!1,this.shouldConfirm=!1}init(){var e,i;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const o=this.hasBundle?this.payload:{bundle:[this.payload]};this.shouldConfirm=this.payload.showOnOneKey||((i=this.payload.bundle)===null||i===void 0?void 0:i.some(p=>!!p.showOnOneKey)),we(o,[{name:"bundle",type:"array"}]),this.params=[],o.bundle.forEach(p=>{var S;const C=He(p.path,3);we(p,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const B=(S=p.showOnOneKey)!==null&&S!==void 0?S:!0;this.params.push({address_n:C,show_display:B})})}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.3.0"}}}run(){var e,i;return L(this,void 0,void 0,function*(){const o=bi((e=this.device)===null||e===void 0?void 0:e.features);let p=[];if(o){const S=yield lr(this.device,this.params,"ed25519",784);for(let C=0;C<this.params.length;C++){const B=this.params[C],U=S.public_keys[C];let se;this.shouldConfirm?se=(i=(yield this.device.commands.typedCall("SuiGetAddress","SuiAddress",B)).message.address)===null||i===void 0?void 0:i.toLowerCase():se=Nn(U);const pe={path:Ye(B.address_n),address:se,publicKey:U,pub:U};this.shouldConfirm&&this.postPreviousAddressMessage(pe),p.push(pe)}}else p=yield Promise.all(this.params.map(S=>L(this,void 0,void 0,function*(){var C,B;const U=yield this.device.commands.typedCall("SuiGetAddress","SuiAddress",S),se={path:Ye(S.address_n),address:(B=(C=U.message.address)===null||C===void 0?void 0:C.toLowerCase())!==null&&B!==void 0?B:""};return this.shouldConfirm&&this.postPreviousAddressMessage(se),se})));return T0(p,["address"],{expectedLength:this.params.length}),this.hasBundle?p:p[0]})}}class jf extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C})})}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.3.0"}}}run(){return L(this,void 0,void 0,function*(){const i=(yield lr(this.device,this.params,"ed25519",784)).public_keys.map((o,p)=>({path:Ye(this.params[p].address_n),publicKey:o,pub:o}));return T0(i,["pub"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?i:i[0])})}}class Vf extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0}]);const{path:e,messageHex:i}=this.payload,o=He(e,3);this.params={address_n:o,message:tr(i)}}getVersionRange(){return{model_mini:{min:"3.4.0"},model_touch:{min:"4.6.0"}}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("SuiSignMessage","SuiMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)})}}class Co extends De{constructor(){super(...arguments),this.chunkByteSize=1024,this.processTxRequest=(e,i,o,p=0)=>L(this,void 0,void 0,function*(){if(i.type==="SuiSignedTx")return i.message;const{data_length:S}=i.message;if(!S)return i.message;const C=o.subarray(p,p+S),B=p+C.length,U={data_chunk:v.bytesToHex(C)},se=yield e("SuiTxAck",["SuiSignedTx","SuiTxRequest"],Object.assign({},U));return this.processTxRequest(e,se,o,B)})}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:i}=this.payload,o=He(e,3);this.params={address_n:o,raw_tx:Qe(i)}}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.3.0"}}}supportChunkTransfer(){const e=Ze(this.device.features),i=y0(this.device.features).join(".");if(w0.model_mini.includes(e)){if(A.default.valid(i))return A.default.gte(i,"3.7.0")}else if(w0.model_touch.includes(e)&&A.default.valid(i))return A.default.gte(i,"4.8.0");return!1}run(){return L(this,void 0,void 0,function*(){const e=this.device.getCommands().typedCall.bind(this.device.getCommands());let i=0,o;this.supportChunkTransfer()&&(i=this.chunkByteSize,o=Buffer.from(this.params.raw_tx,"hex"),this.params={address_n:this.params.address_n,raw_tx:"",data_initial_chunk:v.bytesToHex(o.subarray(0,this.chunkByteSize)),data_length:o.length});const p=yield e("SuiSignTx",["SuiSignedTx","SuiTxRequest"],Object.assign({},this.params));return this.processTxRequest(e,p,o,i)})}}const Cs=d=>{we(d,[{name:"addressType",type:"number",required:!0},{name:"stakingKeyHash",type:"string"},{name:"paymentScriptHash",type:"string"},{name:"stakingScriptHash",type:"string"}]),d.path&&He(d.path),d.stakingPath&&He(d.stakingPath),d.certificatePointer&&we(d.certificatePointer,[{name:"blockIndex",type:"number",required:!0},{name:"txIndex",type:"number",required:!0},{name:"certificateIndex",type:"number",required:!0}])},Bn=d=>{let e=[];d.path&&(e=He(d.path,3));let i=[];d.stakingPath&&(i=He(d.stakingPath,3));let o;return d.certificatePointer&&(o={block_index:d.certificatePointer.blockIndex,tx_index:d.certificatePointer.txIndex,certificate_index:d.certificatePointer.certificateIndex}),{address_type:d.addressType,address_n:e,address_n_staking:i,staking_key_hash:d.stakingKeyHash,certificate_pointer:o,script_payment_hash:d.paymentScriptHash,script_staking_hash:d.stakingScriptHash}},ko=d=>{let e;return d.certificate_pointer&&(e={blockIndex:d.certificate_pointer.block_index,txIndex:d.certificate_pointer.tx_index,certificateIndex:d.certificate_pointer.certificate_index}),{addressType:d.address_type,path:d.address_n,stakingPath:d.address_n_staking,stakingKeyHash:d.staking_key_hash,certificatePointer:e}},xo=d=>{if(d.address_type===y.Messages.CardanoAddressType.REWARD){let{address_n:e,address_n_staking:i}=d;if(e.length>0&&i.length>0)throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,"Only stakingPath is allowed for CardanoAddressType.REWARD");return e.length>0&&(i=e,e=[]),Object.assign(Object.assign({},d),{address_n:e,address_n_staking:i})}return d};class pt extends De{init(){var e,i,o;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle),this.isCheck=this.hasBundle?!!(!((i=this.payload)===null||i===void 0)&&i.bundle.every(S=>!!S.isCheck)):!!(!((o=this.payload)===null||o===void 0)&&o.isCheck);const p=this.hasBundle?this.payload:{bundle:[this.payload]};this.params=p.bundle.map(S=>(we(S,[{name:"addressParameters",type:"object",required:!0},{name:"networkId",type:"number",required:!0},{name:"protocolMagic",type:"number",required:!0},{name:"derivationType",type:"number"},{name:"address",type:"string"},{name:"showOnOneKey",type:"boolean"}]),Cs(S.addressParameters),{address_parameters:Bn(S.addressParameters),address:S.address,protocol_magic:S.protocolMagic,network_id:S.networkId,derivation_type:typeof S.derivationType<"u"?S.derivationType:y.Messages.CardanoDerivationType.ICARUS,show_display:typeof S.showOnOneKey=="boolean"?!!S.showOnOneKey:!0}))}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.1.0"}}}run(){return L(this,void 0,void 0,function*(){const e=[];for(const i of this.params){const{address_parameters:o,protocol_magic:p,network_id:S,derivation_type:C,show_display:B}=i,U=yield this.device.commands.typedCall("CardanoGetAddress","CardanoAddress",{address_parameters:o,protocol_magic:p,network_id:S,derivation_type:C,show_display:B});let se,pe;o.address_type===y.Messages.CardanoAddressType.BASE&&!this.isCheck&&(se=(yield this.device.commands.typedCall("CardanoGetPublicKey","CardanoPublicKey",{address_n:o.address_n.slice(0,3),derivation_type:C,show_display:!1})).message.xpub,pe=(yield this.device.commands.typedCall("CardanoGetAddress","CardanoAddress",{address_parameters:{address_type:y.Messages.CardanoAddressType.REWARD,address_n:[],address_n_staking:o.address_n_staking},protocol_magic:p,network_id:S,derivation_type:C,show_display:!1})).message.address);const he=Ye(i.address_parameters.address_n);e.push({addressParameters:ko(i.address_parameters),protocolMagic:i.protocol_magic,networkId:i.network_id,serializedPath:he,serializedStakingPath:Ye(i.address_parameters.address_n_staking),address:U.message.address,xpub:se,stakeAddress:pe}),this.postPreviousAddressMessage({path:he,address:U.message.address})}return T0(e,["serializedPath","serializedStakingPath","address"],{expectedLength:this.params.length}),this.hasBundle?e:e[0]})}}class nr extends De{init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=i.bundle.map(o=>(we(o,[{name:"path",required:!0},{name:"derivationType",type:"number"},{name:"showOnOneKey",type:"boolean"}]),{address_n:He(o.path,3),derivation_type:typeof o.derivationType<"u"?o.derivationType:y.Messages.CardanoDerivationType.ICARUS,show_display:typeof o.showOnOneKey=="boolean"?o.showOnOneKey:!1}))}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.1.0"}}}run(){return L(this,void 0,void 0,function*(){const e=[],i=this.device.getCommands();for(let o=0;o<this.params.length;o++){const p=this.params[o],{message:S}=yield i.typedCall("CardanoGetPublicKey","CardanoPublicKey",p);e.push({path:p.address_n,serializedPath:Ye(p.address_n),xpub:S.xpub,node:S.node})}return T0(e,["xpub"],{expectedLength:this.params.length}),this.hasBundle?e:e[0]})}}const Gf=d=>(we(d,[{name:"prev_hash",type:"string",required:!0},{name:"prev_index",type:"number",required:!0}]),{input:{prev_hash:d.prev_hash,prev_index:d.prev_index},path:d.path?He(d.path,5):void 0}),Wf=d=>(we(d,[{name:"prev_hash",type:"string",required:!0},{name:"prev_index",type:"number",required:!0}]),{collateralInput:{prev_hash:d.prev_hash,prev_index:d.prev_index},path:d.path?He(d.path,5):void 0}),ks=d=>(we(d,[{name:"prev_hash",type:"string",required:!0},{name:"prev_index",type:"number",required:!0}]),{prev_hash:d.prev_hash,prev_index:d.prev_index}),ci=d=>{d.forEach(e=>{we(e,[{name:"assetNameBytes",type:"string",required:!0},{name:"amount",type:"uint"},{name:"mintAmount",type:"uint",allowNegative:!0}])})},Do=d=>{d.forEach(e=>{we(e,[{name:"policyId",type:"string",required:!0},{name:"tokenAmounts",type:"array",required:!0}]),ci(e.tokenAmounts)})},Ln=d=>(Do(d),d.map(e=>({policyId:e.policyId,tokens:zf(e.tokenAmounts)}))),zf=d=>d.map(e=>({asset_name_bytes:e.assetNameBytes,amount:e.amount,mint_amount:e.mintAmount})),qn=d=>d.length/2,qr=(d,e,i,o)=>L(void 0,void 0,void 0,function*(){let p=0;for(;p<e.length;){const S=e.slice(p,p+i);yield d(o,"CardanoTxItemAck",{data:S}),p+=i}}),li=d=>{we(d,[{name:"address",type:"string"},{name:"amount",type:"uint",required:!0},{name:"tokenBundle",type:"array",allowEmpty:!0},{name:"datumHash",type:"string"},{name:"format",type:"number"},{name:"inlineDatum",type:"string"},{name:"referenceScript",type:"string"}]);const e={output:{amount:d.amount,asset_groups_count:0,datum_hash:d.datumHash,format:d.format,inline_datum_size:d.inlineDatum?qn(d.inlineDatum):void 0,reference_script_size:d.referenceScript?qn(d.referenceScript):void 0},inlineDatum:d.inlineDatum,referenceScript:d.referenceScript};return d.addressParameters?(Cs(d.addressParameters),e.output.address_parameters=Bn(d.addressParameters)):e.output.address=d.address,d.tokenBundle?(e.tokenBundle=Ln(d.tokenBundle),e.output.asset_groups_count=e.tokenBundle.length):e.output.asset_groups_count=0,e},Mo=(d,e)=>L(void 0,void 0,void 0,function*(){const{output:o,tokenBundle:p,inlineDatum:S,referenceScript:C}=e;if(yield d("CardanoTxOutput","CardanoTxItemAck",o),p)for(const B of p){yield d("CardanoAssetGroup","CardanoTxItemAck",{policy_id:B.policyId,tokens_count:B.tokens.length});for(const U of B.tokens)yield d("CardanoToken","CardanoTxItemAck",U)}S&&(yield qr(d,S,2048,"CardanoTxInlineDatumChunk")),C&&(yield qr(d,C,2048,"CardanoTxReferenceScriptChunk"))}),Po=d=>Buffer.from(d.split(".").map(e=>parseInt(e,10))).toString("hex"),No=d=>d.split(":").join(""),xs=d=>{we(d,[{name:"numerator",type:"string",required:!0},{name:"denominator",type:"string",required:!0}])},Bo=d=>{we(d,[{name:"url",type:"string",required:!0},{name:"hash",type:"string",required:!0}])},Ds=d=>{if(we(d,[{name:"type",type:"number",required:!0}]),d.type===y.Messages.CardanoPoolRelayType.SINGLE_HOST_IP){const e=[{name:"port",type:"number",required:!0}];if(d.ipv4Address&&e.push({name:"ipv4Address",type:"string",required:!1}),d.ipv6Address&&e.push({name:"ipv6Address",type:"string",required:!1}),we(d,e),!d.ipv4Address&&!d.ipv6Address)throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,"Either ipv4Address or ipv6Address must be supplied")}else d.type===y.Messages.CardanoPoolRelayType.SINGLE_HOST_NAME?we(d,[{name:"hostName",type:"string",required:!0},{name:"port",type:"number",required:!0}]):d.type===y.Messages.CardanoPoolRelayType.MULTIPLE_HOST_NAME&&we(d,[{name:"hostName",type:"string",required:!0}])},Fn=d=>{if(d.forEach(i=>{if(i.stakingKeyHash&&we(i,[{name:"stakingKeyHash",type:"string",required:!i.stakingKeyPath}]),i.stakingKeyPath&&He(i.stakingKeyPath,5),!i.stakingKeyHash&&!i.stakingKeyPath)throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,"Either stakingKeyHash or stakingKeyPath must be supplied")}),d.filter(i=>!!i.stakingKeyPath).length!==1)throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,"Exactly one pool owner must be given as a path")},Ms=d=>{we(d,[{name:"poolId",type:"string",required:!0},{name:"vrfKeyHash",type:"string",required:!0},{name:"pledge",type:"string",required:!0},{name:"cost",type:"string",required:!0},{name:"margin",type:"object",required:!0},{name:"rewardAccount",type:"string",required:!0},{name:"owners",type:"array",required:!0},{name:"relays",type:"array",required:!0,allowEmpty:!0},{name:"metadata",type:"object"}]),xs(d.margin),Fn(d.owners),d.relays.forEach(Ds),d.metadata&&Bo(d.metadata)},Kf=d=>d?(Ms(d),{poolParameters:{pool_id:d.poolId,vrf_key_hash:d.vrfKeyHash,pledge:d.pledge,cost:d.cost,margin_numerator:d.margin.numerator,margin_denominator:d.margin.denominator,reward_account:d.rewardAccount,metadata:d.metadata,owners_count:d.owners.length,relays_count:d.relays.length},poolOwners:d.owners.map(e=>({staking_key_hash:e.stakingKeyHash,staking_key_path:e.stakingKeyPath?He(e.stakingKeyPath,5):void 0})),poolRelays:d.relays.map(e=>({type:e.type,ipv4_address:e.ipv4Address?Po(e.ipv4Address):void 0,ipv6_address:e.ipv6Address?No(e.ipv6Address):void 0,host_name:e.hostName,port:e.port}))}):{poolParameters:void 0,poolOwners:[],poolRelays:[]},Lo=d=>{if(d){if(we(d,[{name:"type",type:"number",required:!0},{name:"keyHash",type:"string"},{name:"scriptHash",type:"string"}]),d.type===y.Messages.CardanoDRepType.KEY_HASH&&!d.keyHash)throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,"key_hash must be supplied for key_hash type");if(d.type===y.Messages.CardanoDRepType.SCRIPT_HASH&&!d.scriptHash)throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,"script_hash must be supplied for script_hash type");return{type:d.type,key_hash:d.keyHash,script_hash:d.scriptHash}}},Ps=d=>{const e=[{name:"type",type:"number",required:!0}];d.type!==y.Messages.CardanoCertificateType.STAKE_POOL_REGISTRATION&&(e.push({name:"scriptHash",type:"string"}),e.push({name:"keyHash",type:"string"})),d.type===y.Messages.CardanoCertificateType.STAKE_DELEGATION&&e.push({name:"pool",type:"string",required:!0}),d.type===y.Messages.CardanoCertificateType.STAKE_POOL_REGISTRATION&&e.push({name:"poolParameters",type:"object",required:!0}),(d.type===y.Messages.CardanoCertificateType.STAKE_REGISTRATION_CONWAY||d.type===y.Messages.CardanoCertificateType.STAKE_DEREGISTRATION_CONWAY)&&e.push({name:"deposit",required:!0}),d.type===y.Messages.CardanoCertificateType.VOTE_DELEGATION&&e.push({name:"dRep",type:"object",required:!0}),we(d,e);const{poolParameters:i,poolOwners:o,poolRelays:p}=Kf(d.poolParameters),S=Lo(d.dRep);return{certificate:{type:d.type,path:d.path?He(d.path,5):void 0,script_hash:d.scriptHash,key_hash:d.keyHash,pool:d.pool,pool_parameters:i,deposit:d.deposit,drep:S},poolOwners:o,poolRelays:p}},Un=32,Hn=d=>(d.votingPublicKey&&(console.warn("Please use votePublicKey instead of votingPublicKey."),d.votePublicKey=d.votingPublicKey),we(d,[{name:"votingPublicKey",type:"string",required:!0},{name:"weight",type:"uint",required:!0}]),{vote_public_key:d.votePublicKey,weight:d.weight}),Zf=d=>{var e;d.votingPublicKey&&(console.warn("Please use votePublicKey instead of votingPublicKey."),d.votePublicKey=d.votingPublicKey),d.rewardAddressParameters&&(console.warn("Please use paymentAddressParameters instead of rewardAddressParameters."),d.paymentAddressParameters=d.rewardAddressParameters),we(d,[{name:"votePublicKey",type:"string"},{name:"stakingPath",required:!0},{name:"nonce",type:"uint",required:!0},{name:"format",type:"number"},{name:"delegations",type:"array",allowEmpty:!0},{name:"votingPurpose",type:"uint"},{name:"paymentAddress",type:"string"}]);const{paymentAddressParameters:i}=d;Cs(i);const{delegations:o}=d;if(o&&o.length>Un)throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,`At most ${Un} delegations are allowed in a governance registration`);return{vote_public_key:d.votePublicKey,staking_path:He(d.stakingPath,3),payment_address_parameters:i?Bn(i):void 0,nonce:d.nonce,format:d.format,delegations:(e=o==null?void 0:o.map(Hn))!==null&&e!==void 0?e:[],voting_purpose:d.votingPurpose,payment_address:d.paymentAddress}},qo=d=>{we(d,[{name:"hash",type:"string"}]);let e;return d.cVoteRegistrationParameters&&(e=Zf(d.cVoteRegistrationParameters)),{hash:d.hash,cvote_registration_parameters:e}},hr=d=>{const{cvote_registration_parameters:e}=d;return e!=null&&e.payment_address_parameters?(e.payment_address_parameters=xo(e.payment_address_parameters),Object.assign(Object.assign({},d),{cvote_registration_parameters:e})):d},Fo=(d,e,i,o,p,S,C)=>{const B=new Map;function U(se){const pe=JSON.stringify(se);B.set(pe,se)}return C!==y.Messages.CardanoTxSigningMode.MULTISIG_TRANSACTION&&(d.forEach(({path:se})=>{se&&U(se)}),e.forEach(({certificate:se,poolOwners:pe})=>{se.path&&(se.type===y.Messages.CardanoCertificateType.STAKE_DELEGATION||se.type===y.Messages.CardanoCertificateType.STAKE_DEREGISTRATION)&&U(se.path),pe.forEach(he=>{he.staking_key_path&&U(he.staking_key_path)})}),i.forEach(({path:se})=>{se&&U(se)})),C===y.Messages.CardanoTxSigningMode.PLUTUS_TRANSACTION&&o.forEach(({path:se})=>{se&&U(se)}),p.forEach(({key_path:se})=>{se&&U(se)}),S.forEach(se=>{U(se)}),Array.from(B.values())};class Uo extends De{constructor(){super(...arguments),this.hasConway=()=>{var e,i;const o=this.payload;if(o.tagCborSets===!0||((e=o.auxiliaryData)===null||e===void 0?void 0:e.cVoteRegistrationParameters)!=null)return!0;for(const p of(i=o.certificates)!==null&&i!==void 0?i:[])if(p.dRep!=null||p.deposit!=null||p.type===y.Messages.CardanoCertificateType.STAKE_REGISTRATION_CONWAY||p.type===y.Messages.CardanoCertificateType.STAKE_DEREGISTRATION_CONWAY||p.type===y.Messages.CardanoCertificateType.VOTE_DELEGATION)return!0;return!1},this.supportConwayVersionRange=()=>({pro:{min:"4.12.0"},touch:{min:"4.10.0"},classic:{min:"3.10.0"}}),this.checkSupportConway=()=>{var e;if(!this.hasConway())return;const i=(e=y0(this.device.features))===null||e===void 0?void 0:e.join("."),o=qt(this.device.features,p=>this.supportConwayVersionRange()[p]);if(o&&(!A.default.valid(i)||A.default.lt(i,o.min)))throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodNeedUpgradeFirmware,`Device firmware version is too low, please update to ${o.min}`,{current:i,require:o.min})}}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.1.0"}}}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const{payload:i}=this;i.auxiliaryData&&i.auxiliaryData.governanceRegistrationParameters&&(console.warn("Please use cVoteRegistrationParameters instead of governanceRegistrationParameters."),i.auxiliaryData.cVoteRegistrationParameters=i.auxiliaryData.governanceRegistrationParameters),we(i,[{name:"signingMode",type:"number",required:!0},{name:"inputs",type:"array",required:!0},{name:"outputs",type:"array",required:!0,allowEmpty:!0},{name:"fee",type:"uint",required:!0},{name:"ttl",type:"uint"},{name:"certificates",type:"array",allowEmpty:!0},{name:"withdrawals",type:"array",allowEmpty:!0},{name:"mint",type:"array",allowEmpty:!0},{name:"validityIntervalStart",type:"uint"},{name:"scriptDataHash",type:"string"},{name:"collateralInputs",type:"array",allowEmpty:!0},{name:"requiredSigners",type:"array",allowEmpty:!0},{name:"totalCollateral",type:"uint"},{name:"referenceInputs",type:"array",allowEmpty:!0},{name:"protocolMagic",type:"number",required:!0},{name:"networkId",type:"number",required:!0},{name:"additionalWitnessRequests",type:"array",allowEmpty:!0},{name:"derivationType",type:"number"},{name:"includeNetworkId",type:"boolean"},{name:"chunkify",type:"boolean"},{name:"tagCborSets",type:"boolean"}]);const o=i.inputs.map(Gf),p=i.outputs.map(li);let S=[];i.certificates&&(S=i.certificates.map(Ps));let C=[];i.withdrawals&&(C=i.withdrawals.map(je=>(we(je,[{name:"amount",type:"uint",required:!0},{name:"scriptHash",type:"string"},{name:"keyHash",type:"string"}]),{path:je.path?He(je.path,5):void 0,amount:je.amount,script_hash:je.scriptHash,key_hash:je.keyHash})));let B=[];i.mint&&(B=Ln(i.mint));let U;i.auxiliaryData&&(U=qo(i.auxiliaryData));let se=[];i.additionalWitnessRequests&&(se=i.additionalWitnessRequests.map(je=>He(je,3)));let pe=[];i.collateralInputs&&(pe=i.collateralInputs.map(Wf));let he=[];i.requiredSigners&&(he=i.requiredSigners.map(je=>(we(je,[{name:"keyHash",type:"string"}]),{key_path:je.keyPath?He(je.keyPath,3):void 0,key_hash:je.keyHash})));const Ae=i.collateralReturn?li(i.collateralReturn):void 0;let Oe=[];i.referenceInputs&&(Oe=i.referenceInputs.map(ks)),this.params={signingMode:i.signingMode,inputsWithPath:o,outputsWithData:p,fee:i.fee,ttl:i.ttl,certificatesWithPoolOwnersAndRelays:S,withdrawals:C,mint:B,auxiliaryData:U,validityIntervalStart:i.validityIntervalStart,scriptDataHash:i.scriptDataHash,collateralInputsWithPath:pe,requiredSigners:he,collateralReturnWithData:Ae,totalCollateral:i.totalCollateral,referenceInputs:Oe,protocolMagic:i.protocolMagic,networkId:i.networkId,witnessPaths:Fo(o,S,C,pe,he,se,i.signingMode),additionalWitnessRequests:se,derivationType:typeof i.derivationType<"u"?i.derivationType:y.Messages.CardanoDerivationType.ICARUS,includeNetworkId:i.includeNetworkId,chunkify:i.chunkify,tagCborSets:i.tagCborSets}}signTx(){return L(this,void 0,void 0,function*(){const e=this.device.getCommands().typedCall.bind(this.device.getCommands()),i=!!this.params.auxiliaryData,o={signing_mode:this.params.signingMode,protocol_magic:this.params.protocolMagic,network_id:this.params.networkId,inputs_count:this.params.inputsWithPath.length,outputs_count:this.params.outputsWithData.length,fee:this.params.fee,ttl:this.params.ttl,certificates_count:this.params.certificatesWithPoolOwnersAndRelays.length,withdrawals_count:this.params.withdrawals.length,has_auxiliary_data:i,validity_interval_start:this.params.validityIntervalStart,witness_requests_count:this.params.witnessPaths.length,minting_asset_groups_count:this.params.mint.length,script_data_hash:this.params.scriptDataHash,collateral_inputs_count:this.params.collateralInputsWithPath.length,required_signers_count:this.params.requiredSigners.length,has_collateral_return:this.params.collateralReturnWithData!=null,total_collateral:this.params.totalCollateral,reference_inputs_count:this.params.referenceInputs.length,derivation_type:this.params.derivationType,include_network_id:this.params.includeNetworkId,chunkify:this.params.chunkify,tag_cbor_sets:this.params.tagCborSets};yield e("CardanoSignTxInit","CardanoTxItemAck",o);for(const{input:B}of this.params.inputsWithPath)yield e("CardanoTxInput","CardanoTxItemAck",B);for(const B of this.params.outputsWithData)yield Mo(e,B);for(const{certificate:B,poolOwners:U,poolRelays:se}of this.params.certificatesWithPoolOwnersAndRelays){yield e("CardanoTxCertificate","CardanoTxItemAck",B);for(const pe of U)yield e("CardanoPoolOwner","CardanoTxItemAck",pe);for(const pe of se)yield e("CardanoPoolRelayParameters","CardanoTxItemAck",pe)}for(const B of this.params.withdrawals)yield e("CardanoTxWithdrawal","CardanoTxItemAck",B);let p;if(this.params.auxiliaryData){const{catalyst_registration_parameters:B}=this.params.auxiliaryData;B&&(this.params.auxiliaryData=hr(this.params.auxiliaryData));const{message:U}=yield e("CardanoTxAuxiliaryData","CardanoTxAuxiliaryDataSupplement",this.params.auxiliaryData),se=y.Messages.CardanoTxAuxiliaryDataSupplementType[U.type];se!==y.Messages.CardanoTxAuxiliaryDataSupplementType.NONE&&(p={type:se,auxiliaryDataHash:U.auxiliary_data_hash,cVoteRegistrationSignature:U.cvote_registration_signature,catalystSignature:U.cvote_registration_signature,governanceSignature:U.cvote_registration_signature}),yield e("CardanoTxHostAck","CardanoTxItemAck")}if(this.params.mint.length>0){yield e("CardanoTxMint","CardanoTxItemAck",{asset_groups_count:this.params.mint.length});for(const B of this.params.mint){yield e("CardanoAssetGroup","CardanoTxItemAck",{policy_id:B.policyId,tokens_count:B.tokens.length});for(const U of B.tokens)yield e("CardanoToken","CardanoTxItemAck",U)}}for(const{collateralInput:B}of this.params.collateralInputsWithPath)yield e("CardanoTxCollateralInput","CardanoTxItemAck",B);for(const B of this.params.requiredSigners)yield e("CardanoTxRequiredSigner","CardanoTxItemAck",B);this.params.collateralReturnWithData&&(yield Mo(e,this.params.collateralReturnWithData));for(const B of this.params.referenceInputs)yield e("CardanoTxReferenceInput","CardanoTxItemAck",B);const S=[];for(const B of this.params.witnessPaths){const{message:U}=yield e("CardanoTxWitnessRequest","CardanoTxWitnessResponse",{path:B});S.push({type:y.Messages.CardanoTxWitnessType[U.type],pubKey:U.pub_key,signature:U.signature,chainCode:U.chain_code})}const{message:C}=yield e("CardanoTxHostAck","CardanoTxBodyHash");return yield e("CardanoTxHostAck","CardanoSignTxFinished"),{hash:C.tx_hash,witnesses:S,auxiliaryDataSupplement:p}})}run(){return this.checkSupportConway(),this.signTx()}}class Yf extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE];const{payload:e}=this;we(e,[{name:"path",type:"string",required:!0},{name:"message",type:"string",required:!0},{name:"derivationType",type:"number"},{name:"networkId",type:"number",required:!0},{name:"addressType",type:"number"}]);const i=He(e.path,3);this.params={address_n:i,message:e.message,derivation_type:typeof e.derivationType<"u"?e.derivationType:y.Messages.CardanoDerivationType.ICARUS,network_id:e.networkId,address_type:e.addressType}}getVersionRange(){return{model_touch:{min:"4.10.0"}}}getAddressTypeVersionRange(){return{pro:{min:"4.9.3"}}}run(){return L(this,void 0,void 0,function*(){return this.checkFeatureVersionLimit(()=>this.params.address_type!==null&&this.params.address_type!==void 0,()=>this.getAddressTypeVersionRange()),(yield this.device.commands.typedCall("CardanoSignMessage","CardanoMessageSignature",this.params)).message})}}class Ho extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"isTestnet",type:"boolean"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C,testnet:o.isTestnet})})}getVersionRange(){return{model_mini:{min:"2.10.0"},model_touch:{min:"3.5.0"}}}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("FilecoinGetAddress","FilecoinAddress",Object.assign({},o)),{address:S}=p.message,C={path:Ye(o.address_n),address:S};e.push(C),this.postPreviousAddressMessage(C)}return T0(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}class Xf extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode],we(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0},{name:"isTestnet",type:"boolean"}]);const{path:e,rawTx:i,isTestnet:o}=this.payload,p=He(e,3);this.params={address_n:p,raw_tx:Qe(i),testnet:o}}getVersionRange(){return{model_mini:{min:"2.10.0"},model_touch:{min:"3.5.0"}}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("FilecoinSignTx","FilecoinSignedTx",Object.assign({},this.params)),{signature:i}=e.message;return{path:Ye(this.params.address_n),signature:i}})}}var Mt;(function(d){d.Polkadot="polkadot",d.Westend="westend",d.Kusama="kusama",d.Astar="astar",d.JoyStream="joystream",d.Manta="manta",d.Hydration="hydration",d.Bifrost="bifrost",d.BifrostKusama="bifrost-ksm",d.PolkadotAssetHub="polkadot-assethub",d.KusamaAssetHub="kusama-assethub"})(Mt||(Mt={}));const ar={model_mini:{min:"3.0.0"},model_touch:{min:"4.3.0"}},Li={[Mt.JoyStream]:{model_mini:{min:"3.6.0"},model_touch:{min:"4.7.0"}},[Mt.Manta]:{model_mini:{min:"3.7.0"},model_touch:{min:"4.9.0"}}};function $n(d){var e;return(e=Li[d])!==null&&e!==void 0?e:ar}function jn(d){return d.includes(Mt.JoyStream)?Li[Mt.JoyStream]:d.includes(Mt.Manta)?Li[Mt.Manta]:ar}function qi(d){switch(d){case Mt.PolkadotAssetHub:return Mt.Polkadot;case Mt.KusamaAssetHub:return Mt.Kusama;default:return d}}class pi extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"prefix",required:!0},{name:"network",required:!0},{name:"showOnOneKey",type:"boolean"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0,{prefix:B,network:U}=o;this.params.push({address_n:S,prefix:B,network:qi(U),show_display:C})})}getVersionRange(){const e=this.params.map(i=>i.network);return jn(e)}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("PolkadotGetAddress","PolkadotAddress",Object.assign({},o)),{address:S,public_key:C}=p.message,B=Ye(o.address_n);e.push({path:B,address:S,pub:C??"",publicKey:C??""}),this.postPreviousAddressMessage({path:B,address:S})}return T0(e,["address","pub"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}class t0 extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode],we(this.payload,[{name:"path",required:!0},{name:"network",required:!0},{name:"prefix"},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:i,network:o,prefix:p}=this.payload,S=He(e,3);this.params={address_n:S,network:qi(o),prefix:p,raw_tx:Qe(i)}}getVersionRange(){return $n(this.params.network)}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("PolkadotSignTx","PolkadotSignedTx",Object.assign({},this.params)),{signature:i}=e.message;return{path:Ye(this.params.address_n),signature:i}})}}class Ns extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"prefix",type:"string"},{name:"scheme",type:"string"},{name:"useTweak",type:"boolean"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C,prefix:o.prefix,scheme:o.scheme,use_tweak:o.useTweak})})}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.3.0"}}}getUseTweakVersionRange(){return{pro:{min:"4.14.0"},model_classic1s:{min:"3.12.0"}}}run(){return L(this,void 0,void 0,function*(){this.checkFeatureVersionLimit(()=>this.params.some(i=>i.use_tweak===!1),()=>this.getUseTweakVersionRange(),{strictCheckDeviceSupport:!0});const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("KaspaGetAddress","KaspaAddress",Object.assign({},o)),{address:S}=p.message,C={path:Ye(o.address_n),address:S};e.push(C),this.postPreviousAddressMessage(C)}return T0(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}var or;(function(d){d[d.SIGHASH_ALL=1]="SIGHASH_ALL",d[d.SIGHASH_NONE=2]="SIGHASH_NONE",d[d.SIGHASH_SINGLE=3]="SIGHASH_SINGLE",d[d.SIGHASH_FORKID=64]="SIGHASH_FORKID",d[d.SIGHASH_ANYONECANPAY=128]="SIGHASH_ANYONECANPAY"})(or||(or={}));function yr(d){return T.Buffer.isBuffer(d)||d instanceof Uint8Array}function $o(d,e){const o=d.toString(16).padStart(e.size*2,"0");return T.Buffer.from(o,"hex")}class zt{constructor(e){this.bufLen=0,e?this.set(e):this.bufs=[]}set(e){return this.bufs=e.bufs||this.bufs||[],this.bufLen=this.bufs.reduce((i,o)=>i+o.length,0),this}toBuffer(){return this.concat()}concat(){return T.Buffer.concat(this.bufs,this.bufLen)}write(e){if(!yr(e))throw new Error("BufferWriter.write: Invalid type");return this.bufs.push(e),this.bufLen+=e.length,this}writeReverse(e){if(!yr(e))throw new Error("BufferWriter.write: Invalid type");return this.bufs.push(e.reverse()),this.bufLen+=e.length,this}writeVarBytes(e){if(!yr(e))throw new Error("BufferWriter.write: Invalid type");return this.writeUInt64LE(new q.default(e.length)),this.write(e),this}writeUInt8(e){const i=T.Buffer.alloc(1);return i.writeUInt8(e,0),this.write(i),this}writeUInt16BE(e){const i=T.Buffer.alloc(2);return i.writeUInt16BE(e,0),this.write(i),this}writeUInt16LE(e){const i=T.Buffer.alloc(2);return i.writeUInt16LE(e,0),this.write(i),this}writeUInt32BE(e){const i=T.Buffer.alloc(4);return i.writeUInt32BE(e,0),this.write(i),this}writeInt32LE(e){const i=T.Buffer.alloc(4);return i.writeInt32LE(e,0),this.write(i),this}writeUInt32LE(e){const i=T.Buffer.alloc(4);return i.writeUInt32LE(e,0),this.write(i),this}writeUInt64BEBN(e){const i=$o(e,{size:8});return this.write(i),this}writeUInt64LE(e){const i=$o(e,{size:8});return this.writeReverse(i),this}writeVarintNum(e){const i=zt.varintBufNum(e);return this.write(i),this}writeVarintBN(e){const i=zt.varintBufBN(e);return this.write(i),this}static varintBufNum(e){let i;return e<253?(i=T.Buffer.alloc(1),i.writeUInt8(e,0)):e<65536?(i=T.Buffer.alloc(3),i.writeUInt8(253,0),i.writeUInt16LE(e,1)):e<4294967296?(i=T.Buffer.alloc(5),i.writeUInt8(254,0),i.writeUInt32LE(e,1)):(i=T.Buffer.alloc(9),i.writeUInt8(255,0),i.writeInt32LE(e&-1,1),i.writeUInt32LE(Math.floor(e/4294967296),5)),i}static varintBufBN(e){let i;const o=e.toNumber();if(o<253)i=T.Buffer.alloc(1),i.writeUInt8(o,0);else if(o<65536)i=T.Buffer.alloc(3),i.writeUInt8(253,0),i.writeUInt16LE(o,1);else if(o<4294967296)i=T.Buffer.alloc(5),i.writeUInt8(254,0),i.writeUInt32LE(o,1);else{const p=new zt;p.writeUInt8(255),p.writeUInt64LE(e),i=p.concat()}return i}}const jo=Buffer.from("TransactionSigningHash");class $0{constructor(){this.bw=new zt,this.blake2b=c.blake2b.create({dkLen:32,key:jo}),this.hash={update:e=>{this.bw.write(e),this.blake2b.update(e)},digest:()=>Buffer.from(this.blake2b.digest())}}writeUInt8(e){const i=new zt;i.writeUInt8(e),this.hash.update(i.toBuffer())}writeUInt16LE(e){const i=new zt;i.writeUInt16LE(e),this.hash.update(i.toBuffer())}writeUInt32LE(e){const i=new zt;i.writeUInt32LE(e),this.hash.update(i.toBuffer())}writeUInt64LE(e){const i=new zt;i.writeUInt64LE(new q.default(e)),this.hash.update(i.toBuffer())}writeVarBytes(e){this.writeUInt64LE(e.length),this.hash.update(e)}writeHash(e){this.hash.update(e)}finalize(){return this.hash.digest()}toBuffer(){return this.bw.toBuffer()}}function hi(){return Buffer.alloc(32)}function Vo(){return Buffer.alloc(20)}function Bs(d){return(d&or.SIGHASH_ANYONECANPAY)===or.SIGHASH_ANYONECANPAY}function Go(d){return(d&31)===or.SIGHASH_SINGLE}function Vn(d){return(d&31)===or.SIGHASH_NONE}function Wo(d,e){d.writeHash(Buffer.from(e.prevTxId,"hex")),d.writeUInt32LE(e.outputIndex)}function Jf(d,e){if(Bs(e))return hi();const i=new $0;return d.inputs.forEach(o=>Wo(i,o)),i.finalize()}function Qf(d,e){if(Go(e)||Bs(e)||Vn(e))return hi();const i=new $0;return d.inputs.forEach(o=>i.writeUInt64LE(o.sequenceNumber)),i.finalize()}function gr(d,e){if(Bs(e))return hi();const i=new $0;return d.inputs.forEach(o=>i.writeUInt8(o.sigOpCount)),i.finalize()}function dt(d,e){d.writeUInt64LE(e.satoshis),d.writeUInt16LE(0),d.writeVarBytes(Buffer.from(e.script,"hex"))}function Gn(d,e,i){if(Vn(i))return hi();if(Go(i))return e>=d.outputs.length?hi():new $0().finalize();const o=new $0;return d.outputs.forEach(p=>dt(o,p)),o.finalize()}function zo(d,e){var i;const o=new $0;o.writeUInt16LE(d.version),o.writeHash(Jf(d,d.sigHashType)),o.writeHash(Qf(d,d.sigHashType)),o.writeHash(gr(d,d.sigHashType));const p=d.inputs[e];return Wo(o,p),o.writeUInt16LE(0),o.writeVarBytes(Buffer.from(p.output.script,"hex")),o.writeUInt64LE(p.output.satoshis),o.writeUInt64LE(p.sequenceNumber),o.writeUInt8((i=d.sigOpCount)!==null&&i!==void 0?i:1),o.writeHash(Gn(d,e,d.sigHashType)),o.writeUInt64LE(d.lockTime),o.writeHash(Vo()),o.writeUInt64LE(0),o.writeHash(hi()),o.writeUInt8(d.sigHashType),{hash:o.finalize(),raw:o.toBuffer()}}class Wn extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e,i,o,p,S;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE];const C=this.payload;we(C,[{name:"version",type:"number"},{name:"sigHashType",type:"number",required:!0},{name:"inputs",type:"array",required:!0},{name:"outputs",type:"array",required:!0},{name:"lockTime",required:!0},{name:"sigOpCount",type:"number"},{name:"subNetworkID",type:"string"},{name:"useTweak",type:"boolean"}]);const B=C.inputs.map(se=>{var pe;we(se,[{name:"path",type:"string",required:!0},{name:"prevTxId",type:"string",required:!0},{name:"outputIndex",type:"number",required:!0},{name:"sequenceNumber",required:!0}]);const he=He(se.path,3);return Object.assign(Object.assign({},se),{path:he,sigOpCount:(pe=se.sigOpCount)!==null&&pe!==void 0?pe:1})}),U=C.outputs.map(se=>{var pe;return we(se,[{name:"satoshis",required:!0},{name:"script",type:"string",required:!0},{name:"scriptVersion",type:"number"}]),Object.assign(Object.assign({},se),{scriptVersion:(pe=se.scriptVersion)!==null&&pe!==void 0?pe:0})});this.params=Object.assign(Object.assign({},C),{inputs:B,outputs:U,scheme:(e=C.scheme)!==null&&e!==void 0?e:"schnorr",prefix:(i=C.prefix)!==null&&i!==void 0?i:"kaspa",sigHashType:(o=C.sigHashType)!==null&&o!==void 0?o:or.SIGHASH_ALL|or.SIGHASH_FORKID,sigOpCount:(p=C.sigOpCount)!==null&&p!==void 0?p:1,subNetworkID:(S=C.subNetworkID)!==null&&S!==void 0?S:v.bytesToHex(Vo()),useTweak:C.useTweak})}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.3.0"}}}getUseTweakVersionRange(){return{pro:{min:"4.14.0"},model_classic1s:{min:"3.12.0"}}}processTxRequest(e,i,o,p){var S;return L(this,void 0,void 0,function*(){if(i.type==="KaspaSignedTx")return p.push({index:o,signature:i.message.signature}),p;if(i.type==="KaspaTxInputRequest"){p.push({index:o,signature:(S=i.message.signature)!==null&&S!==void 0?S:""});const C=i.message.request_index,{raw:B}=zo(this.params,C),U=this.params.inputs[C],se=yield e("KaspaTxInputAck",["KaspaTxInputRequest","KaspaSignedTx"],{address_n:U.path,raw_message:v.bytesToHex(B)});return this.processTxRequest(e,se,C,p)}return p})}run(){return L(this,void 0,void 0,function*(){this.checkFeatureVersionLimit(()=>this.params.useTweak===!1,()=>this.getUseTweakVersionRange(),{strictCheckDeviceSupport:!0});const{raw:e}=zo(this.params,0),i=this.params.inputs[0],{device:o,params:p}=this,S=yield o.commands.typedCall("KaspaSignTx",["KaspaTxInputRequest","KaspaSignedTx"],{address_n:i.path,raw_message:v.bytesToHex(e),scheme:p.scheme,prefix:p.prefix,input_count:p.inputs.length,use_tweak:p.useTweak});return this.processTxRequest(o.commands.typedCall.bind(o.commands),S,0,[])})}}class eu extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"prefix",type:"string"},{name:"scheme",type:"string"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C,prefix:o.prefix,scheme:o.scheme})})}getVersionRange(){return{model_mini:{min:"3.2.0"},model_touch:{min:"4.4.0"}}}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("NexaGetAddress","NexaAddress",Object.assign({},o)),{address:S}=p.message,C={path:Ye(o.address_n),pub:p.message.public_key,address:S};e.push(C),this.postPreviousAddressMessage(C)}return T0(e,["address","pub"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}class tu extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){const e=this.payload;e.inputs.forEach(i=>(we(i,[{name:"path",type:"string",required:!0},{name:"message",type:"string",required:!0},{name:"prefix",type:"string",required:!0}]),i)),this.params=e}getVersionRange(){return{model_mini:{min:"3.2.0"},model_touch:{min:"4.4.0"}}}processTxRequest(e,i,o,p){return L(this,void 0,void 0,function*(){const{signature:S}=i.message;if(!S)throw r.ERRORS.TypedError(r.HardwareErrorCode.ResponseUnexpectTypeError,"signature is not valid");if(i.type==="NexaSignedTx")return p.push({index:o,signature:S}),p;if(i.type==="NexaTxInputRequest"){p.push({index:o,signature:S});const C=i.message.request_index,B=this.params.inputs[C],U=yield e("NexaTxInputAck",["NexaTxInputRequest","NexaSignedTx"],{address_n:B.path,raw_message:B.message});return this.processTxRequest(e,U,C,p)}return p})}run(){return L(this,void 0,void 0,function*(){const{device:e,params:i}=this,o=i.inputs[0],p=yield e.commands.typedCall("NexaSignTx",["NexaTxInputRequest","NexaSignedTx"],{address_n:He(o.path,3),raw_message:o.message,prefix:o.prefix,input_count:i.inputs.length});return this.processTxRequest(e.commands.typedCall.bind(e.commands),p,0,[])})}}class Fi extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=Object.prototype.hasOwnProperty.call(this.payload,"bundle");const e=this.hasBundle?this.payload:{bundle:[this.payload]};we(e,[{name:"bundle",type:"array"}]),this.params=[],e.bundle.forEach(i=>{var o;const p=He(i.path,1);we(i,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const S=(o=i.showOnOneKey)!==null&&o!==void 0?o:!0;this.params.push({address_n:p,show_display:S})})}getVersionRange(){return{model_mini:{min:"3.6.0"},model_touch:{min:"4.7.0"}}}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("NostrGetPublicKey","NostrPublicKey",Object.assign({},o)),S={path:Ye(o.address_n),npub:p.message.npub,pub:p.message.publickey,publickey:p.message.publickey};e.push(S)}return Promise.resolve(this.hasBundle?e:e[0])})}}function Ko(d){if(!(d instanceof Object)||typeof d.kind!="number"||typeof d.content!="string"||typeof d.created_at!="number"||!Array.isArray(d.tags))return!1;for(let e=0;e<d.tags.length;e+=1){const i=d.tags[e];if(!Array.isArray(i))return!1;for(let o=0;o<i.length;o+=1)if(typeof i[o]=="object")return!1}return!0}class Zo extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE];const{payload:e}=this;if(!Ko(e.event))throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,"Can't serialize event with wrong or missing properties");we(e,[{name:"path",required:!0}]);const i=He(e.path,5);this.params={address_n:i,event:b0(Buffer.from(JSON.stringify(e.event,null,0),"utf-8"))}}getVersionRange(){return{model_mini:{min:"3.6.0"},model_touch:{min:"4.7.0"}}}run(){return L(this,void 0,void 0,function*(){const{message:e}=yield this.device.commands.typedCall("NostrSignEvent","NostrSignedEvent",this.params);try{const i=Buffer.from(Ai(e.event)).toString("utf-8"),o=JSON.parse(i);return{path:Ye(this.params.address_n),rawTx:e.event,event:o}}catch(i){throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodError,"Failed to parse signed event",i)}})}}class ru extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE];const{payload:i}=this;we(i,[{name:"path",required:!0},{name:"pubkey",required:!0,type:"string"},{name:"plaintext",required:!0,type:"string"},{name:"showOnOneKey",type:"boolean"}]);const o=He(i.path,5);this.params={address_n:o,pubkey:i.pubkey,msg:i.plaintext,show_display:(e=i.showOnOneKey)!==null&&e!==void 0?e:!0}}getVersionRange(){return{model_mini:{min:"3.6.0"},model_touch:{min:"4.7.0"}}}run(){return L(this,void 0,void 0,function*(){const{message:e}=yield this.device.commands.typedCall("NostrEncryptMessage","NostrEncryptedMessage",this.params);return{path:Ye(this.params.address_n),pubkey:this.params.pubkey,plaintext:this.params.msg,encryptedMessage:e.msg}})}}class iu extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE];const{payload:i}=this;we(i,[{name:"path",required:!0},{name:"pubkey",required:!0,type:"string"},{name:"ciphertext",required:!0,type:"string"},{name:"showOnOneKey",type:"boolean"}]);const o=He(i.path,5);this.params={address_n:o,pubkey:i.pubkey,msg:i.ciphertext,show_display:(e=i.showOnOneKey)!==null&&e!==void 0?e:!0}}getVersionRange(){return{model_mini:{min:"3.6.0"},model_touch:{min:"4.7.0"}}}run(){return L(this,void 0,void 0,function*(){const{message:e}=yield this.device.commands.typedCall("NostrDecryptMessage","NostrDecryptedMessage",this.params);return{path:Ye(this.params.address_n),pubkey:this.params.pubkey,ciphertext:this.params.msg,decryptedMessage:e.msg}})}}class su extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE];const{payload:e}=this;we(e,[{name:"path",required:!0},{name:"hash",required:!0,type:"string"}]);const i=He(e.path,5);this.params={address_n:i,hash:e.hash}}getVersionRange(){return{model_mini:{min:"3.6.0"},model_touch:{min:"4.7.0"}}}run(){return L(this,void 0,void 0,function*(){const{message:e}=yield this.device.commands.typedCall("NostrSignSchnorr","NostrSignedSchnorr",this.params);return{path:Ye(this.params.address_n),rawHash:this.params.hash,signature:e.signature}})}}class nu extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE];const{payload:e}=this;we(e,[{name:"domain",type:"string",required:!0},{name:"k1",type:"string",required:!0}]),this.params={domain:b0(Buffer.from(e.domain,"utf-8")),data:b0(Buffer.from(e.k1,"hex"))}}getVersionRange(){return{model_mini:{min:"3.7.0"},model_touch:{min:"4.8.0"}}}run(){return L(this,void 0,void 0,function*(){const{message:e}=yield this.device.commands.typedCall("LnurlAuth","LnurlAuthResp",this.params);return T0(e,["publickey","path"]),Object.assign(Object.assign({},e),{pub:e.publickey})})}}class Yo extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"network",type:"string"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C,network:o.network})})}getVersionRange(){return{model_mini:{min:"3.7.0"},model_touch:{min:"4.9.0"}}}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("NervosGetAddress","NervosAddress",Object.assign({},o)),{address:S}=p.message,C={path:Ye(o.address_n),address:S};e.push(C),this.postPreviousAddressMessage(C)}return T0(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}class Xo extends De{constructor(){super(...arguments),this.hasBundle=!1,this.chunkByteSize=1024,this.processTxRequest=(e,i,o,p=0)=>L(this,void 0,void 0,function*(){var S,C;if(i.type==="NervosSignedTx"){if(!(!((S=i==null?void 0:i.message)===null||S===void 0)&&S.signature))throw new Error("No signature returned");return Object.assign(Object.assign({},i.message),{path:Ye(this.params.address_n)})}const{data_length:B}=i.message;if(!B){if(!(!((C=i==null?void 0:i.message)===null||C===void 0)&&C.signature))throw new Error("No signature returned");return Object.assign(Object.assign({},i.message),{path:Ye(this.params.address_n)})}const U=o.subarray(p,p+B),se=p+U.length,pe={data_chunk:v.bytesToHex(U)},he=yield e("NervosTxAck",["NervosSignedTx","NervosTxRequest"],Object.assign({},pe));return this.processTxRequest(e,he,o,se)})}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode],we(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0},{name:"witnessHex",type:"hexString",required:!0},{name:"network",type:"string",required:!0}]);const{path:e,rawTx:i,witnessHex:o,network:p}=this.payload,S=He(e,3);this.params={address_n:S,raw_tx:Buffer.from(Qe(i),"hex"),witness_buffer:Qe(o),network:p}}getVersionRange(){return{model_mini:{min:"3.7.0"},model_touch:{min:"4.9.0"}}}run(){return L(this,void 0,void 0,function*(){const e=this.params.raw_tx.length,i=e,o=this.params.raw_tx,p=this.device.getCommands().typedCall.bind(this.device.getCommands()),S=yield p("NervosSignTx","NervosSignedTx",{address_n:this.params.address_n,data_initial_chunk:v.bytesToHex(o.subarray(0,i)),data_length:e,witness_buffer:this.params.witness_buffer,network:this.params.network});return this.processTxRequest(p,S,o,i)})}}class au extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C})})}getVersionRange(){return{classic:{min:"3.8.0"}}}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("DnxGetAddress","DnxAddress",Object.assign({},o)),{address:S}=p.message,C={path:Ye(o.address_n),address:S};e.push(C),this.postPreviousAddressMessage(C)}return T0(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}class zn extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE];const{payload:e}=this,i=He(e.path,3);if(we(e,[{name:"path",required:!0},{name:"inputs",type:"array",required:!0},{name:"toAddress",type:"string",required:!0},{name:"amount",required:!0},{name:"fee",required:!0},{name:"paymentIdHex",type:"string"}]),e.paymentIdHex&&tr(e.paymentIdHex).length!==64)throw new Error("Payment ID must be 32 bytes long");this.params={address_n:i,inputs_count:e.inputs.length,to_address:e.toAddress,amount:e.amount,fee:e.fee},e.paymentIdHex&&(this.params.payment_id=tr(e.paymentIdHex))}getVersionRange(){return{classic:{min:"3.8.0"}}}processTxRequest(e,i,o){var p,S;return L(this,void 0,void 0,function*(){if(i.type==="DnxInputRequest"){const{inputs:C}=this.payload,{request_index:B,tx_key:U,computed_key_image:se}=i.message;if(U!=null&&U.ephemeral_tx_sec_key&&(U!=null&&U.ephemeral_tx_pub_key)&&(o=Object.assign(Object.assign({},o),{txKey:{ephemeralTxSecKey:U.ephemeral_tx_sec_key,ephemeralTxPubKey:U.ephemeral_tx_pub_key}})),se!=null&&se.key_image&&(o=Object.assign(Object.assign({},o),{computedKeyImages:[...(p=o.computedKeyImages)!==null&&p!==void 0?p:[],se.key_image]})),B){const he=C[B-1],Ae=yield e("DnxInputAck","DnxInputRequest",{prev_index:he.prevIndex,global_index:he.globalIndex,tx_pubkey:he.txPubkey,prev_out_pubkey:he.prevOutPubkey,amount:he.amount});return this.processTxRequest(e,Ae,o)}const pe=yield e("DnxRTSigsRequest","DnxSignedTx",{});if(o.txKey==null||o.txKey.ephemeralTxSecKey==null||o.txKey.ephemeralTxPubKey==null)throw new Error("signatures or tx_key missing in response");return{path:Ye(this.params.address_n),txKey:o.txKey,computedKeyImages:(S=o.computedKeyImages)!==null&&S!==void 0?S:[],signatures:pe.message.signatures,outputKeys:pe.message.output_keys}}throw new Error("Unexpected response")})}run(){return L(this,void 0,void 0,function*(){const e=this.device.getCommands().typedCall.bind(this.device.getCommands()),i=yield this.device.commands.typedCall("DnxSignTx","DnxInputRequest",Object.assign({},this.params));return this.processTxRequest(e,i,{})})}}class Jo extends De{constructor(){super(...arguments),this.hasBundle=!1,this.shouldConfirm=!1}init(){var e;this.strictCheckDeviceSupport=!0,this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};this.shouldConfirm=this.hasBundle?this.payload.bundle.some(o=>!!o.showOnOneKey):!1,we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"walletVersion"},{name:"isBounceable",type:"boolean"},{name:"isTestnetOnly",type:"boolean"},{name:"workchain"},{name:"walletId",type:"number"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C,wallet_version:o.walletVersion,is_bounceable:o.isBounceable,is_testnet_only:o.isTestnetOnly,workchain:o.workchain,wallet_id:o.walletId})})}getVersionRange(){return{model_touch:{min:"4.10.0"},model_classic1s:{min:"3.10.0"}}}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("TonGetAddress","TonAddress",Object.assign({},o)),{address:S,public_key:C}=p.message,B={path:Ye(o.address_n),publicKey:C,pub:C,address:S};e.push(B),this.postPreviousAddressMessage(B)}return T0(e,["address","pub"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}class Ui extends De{constructor(){super(...arguments),this.initState=null,this.processTxRequest=(e,i)=>L(this,void 0,void 0,function*(){if(!e.init_data_length){const C=Ze(this.device.features),B=w0.model_classic1s.includes(C),U=e.signning_message==null;return Promise.resolve(Object.assign(Object.assign({},e),{skip_validate:B||U}))}const[o,p]=ot(i,e.init_data_length*2),S=yield this.device.commands.typedCall("TonTxAck","TonSignedMessage",{init_data_chunk:o});return this.processTxRequest(S.message,p)})}init(){this.strictCheckDeviceSupport=!0,this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"destination",type:"string"},{name:"jettonMasterAddress",type:"string"},{name:"jettonWalletAddress",type:"string"},{name:"tonAmount"},{name:"jettonAmount"},{name:"fwdFee"},{name:"comment",type:"string"},{name:"isRawData",type:"boolean"},{name:"mode",type:"number"},{name:"seqno",type:"number"},{name:"expireAt"},{name:"walletVersion"},{name:"walletId",type:"number"},{name:"workchain"},{name:"isBounceable",type:"boolean"},{name:"isTestnetOnly",type:"boolean"},{name:"extDestination",type:"array"},{name:"extTonAmount",type:"array"},{name:"extPayload",type:"array"},{name:"initState",type:"hexString"},{name:"signingMessageRepr",type:"hexString"}]);const{path:e}=this.payload,i=He(e,3);this.initState=k0(Qe(this.payload.initState));const o=this.initState==null?0:this.initState.length/2;this.params={address_n:i,destination:this.payload.destination,jetton_master_address:this.payload.jettonMasterAddress,jetton_wallet_address:this.payload.jettonWalletAddress,ton_amount:this.payload.tonAmount,fwd_fee:this.payload.fwdFee,comment:this.payload.comment,mode:this.payload.mode,is_raw_data:this.payload.isRawData,seqno:this.payload.seqno,expire_at:this.payload.expireAt,wallet_version:this.payload.walletVersion,wallet_id:this.payload.walletId,workchain:this.payload.workchain,is_bounceable:this.payload.isBounceable,is_testnet_only:this.payload.isTestnetOnly,ext_destination:this.payload.extDestination,ext_ton_amount:this.payload.extTonAmount,ext_payload:this.payload.extPayload,init_data_length:o,signing_message_repr:k0(Qe(this.payload.signingMessageRepr))}}getVersionRange(){return{model_touch:{min:"4.10.0"},model_classic1s:{min:"3.10.0"}}}getSupportJettonAmountBytesVersionRange(){return{pro:{min:"4.10.2"},model_classic1s:{min:"3.10.0"}}}checkSupportJettonAmountBytes(){var e;const i=(e=y0(this.device.features))===null||e===void 0?void 0:e.join("."),o=qt(this.device.features,p=>this.getSupportJettonAmountBytesVersionRange()[p]);return!!(!o||A.default.valid(i)&&A.default.gte(i,o.min))}getFixCommentErrorVersionRange(){return{pro:{min:"4.10.1"},model_classic1s:{min:"3.10.0"}}}checkFixCommentError(){const{comment:e,jettonAmount:i}=this.payload;this.checkFeatureVersionLimit(()=>!g.isEmpty(e)&&i!==null&&i!==void 0,()=>this.getFixCommentErrorVersionRange())}getFixInitStateErrorVersionRange(){return{pro:{min:"4.13.0"},model_classic1s:{min:"3.12.0"}}}checkFixInitStateError(){const{initState:e,signingMessageRepr:i}=this.payload;this.checkFeatureVersionLimit(()=>!g.isEmpty(e)&&!g.isEmpty(i),()=>this.getFixInitStateErrorVersionRange())}run(){var e;return L(this,void 0,void 0,function*(){this.checkFixCommentError(),this.checkFixInitStateError();const{jettonAmount:i}=this.payload;i&&(this.checkSupportJettonAmountBytes()?this.params.jetton_amount_bytes=k0(Qe(new q.default(i).toString(16))):this.params.jetton_amount=i);let o=(e=this.initState)!==null&&e!==void 0?e:"";if(this.initState){const[C,B]=ot(o,2048);this.params.init_data_initial_chunk=C,o=B}const S=yield this.device.getCommands().typedCall.bind(this.device.getCommands())("TonSignMessage","TonSignedMessage",Object.assign({},this.params));return this.processTxRequest(S.message,o)})}}class Kn extends De{init(){this.strictCheckDeviceSupport=!0,this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"appdomain",type:"string"},{name:"comment",type:"string"},{name:"expireAt"},{name:"walletVersion"},{name:"walletId",type:"number"},{name:"workchain"},{name:"isBounceable",type:"boolean"},{name:"isTestnetOnly",type:"boolean"}]);const{path:e}=this.payload,i=He(e,3);this.params={address_n:i,appdomain:this.payload.appdomain,comment:this.payload.comment,expire_at:this.payload.expireAt,wallet_version:this.payload.walletVersion,wallet_id:this.payload.walletId,workchain:this.payload.workchain,is_bounceable:this.payload.isBounceable,is_testnet_only:this.payload.isTestnetOnly}}getVersionRange(){return{model_touch:{min:"4.10.0"},model_classic1s:{min:"3.10.0"}}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("TonSignProof","TonSignedProof",Object.assign({},this.params));return Promise.resolve(e.message)})}}class Qo extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C})})}getVersionRange(){return{model_touch:{min:"4.10.0"}}}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("ScdoGetAddress","ScdoAddress",Object.assign({},o)),{address:S}=p.message,C={path:Ye(o.address_n),address:S};e.push(C),this.postPreviousAddressMessage(C)}return T0(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}class ed extends De{constructor(){super(...arguments),this.chunkByteSize=1024,this.processTxRequest=(e,i,o,p=0)=>L(this,void 0,void 0,function*(){const{data_length:S}=i.message;if(!S)return i.message;const C=o.subarray(p,p+S),B=p+C.length,U={data_chunk:v.bytesToHex(C)},se=yield e("ScdoTxAck","ScdoSignedTx",Object.assign({},U));return this.processTxRequest(e,se,o,B)})}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"nonce",required:!0},{name:"gasPrice",required:!0,type:"string"},{name:"gasLimit",required:!0,type:"string"},{name:"to",required:!0,type:"string"},{name:"value",required:!0,type:"string"},{name:"timestamp",required:!0,type:"string"},{name:"data",type:"hexString"},{name:"txType",type:"number"}]);const{path:e,nonce:i,gasPrice:o,gasLimit:p,to:S,value:C,timestamp:B,txType:U}=this.payload,se=He(e,3);this.params={address_n:se,nonce:k0(Qe(i)),gas_price:k0(Qe(o)),gas_limit:k0(Qe(p)),to:S,value:k0(Qe(C)),timestamp:B?k0(Qe(B)):void 0,tx_type:U}}getVersionRange(){return{model_touch:{min:"4.10.0"}}}run(){var e;return L(this,void 0,void 0,function*(){const i=this.device.getCommands().typedCall.bind(this.device.getCommands()),o=(e=this.payload)===null||e===void 0?void 0:e.data,p=o&&Buffer.from(k0(Qe(o)),"hex"),S=this.chunkByteSize;p&&p.length>0&&(this.params.data_initial_chunk=v.bytesToHex(p.subarray(0,this.chunkByteSize)),this.params.data_length=p.length);const C=yield i("ScdoSignTx",["ScdoSignedTx"],Object.assign({},this.params));return this.processTxRequest(i,C,p,S)})}}class Ls extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0}]);const{path:e,messageHex:i}=this.payload,o=He(e,3);this.params={address_n:o,message:tr(i)}}getVersionRange(){return{model_touch:{min:"4.10.0"}}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("ScdoSignMessage","ScdoSignedMessage",Object.assign({},this.params));return Promise.resolve(e.message)})}}class td extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p,S,C;const B=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"includePublicKey",type:"boolean"},{name:"group",type:"number"}]);const U=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push(Object.assign({address_n:B,show_display:U,include_public_key:(S=o.includePublicKey)!==null&&S!==void 0?S:!1},o.group!==null&&{target_group:(C=o.group)!==null&&C!==void 0?C:0}))})}getVersionRange(){return{model_touch:{min:"4.10.0"}}}run(){return L(this,void 0,void 0,function*(){const e=[];for(let i=0;i<this.params.length;i++){const o=this.params[i],p=yield this.device.commands.typedCall("AlephiumGetAddress","AlephiumAddress",Object.assign({},o)),{address:S}=p.message,C={path:Ye(o.address_n),address:S,publicKey:o.include_public_key?p.message.public_key:void 0,pub:o.include_public_key?p.message.public_key:void 0,derivedPath:Ye(p.message.derived_path)};e.push(C),this.postPreviousAddressMessage(C)}return T0(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])})}}class dr extends De{constructor(){super(...arguments),this.chunkByteSize=1024,this.processTxRequest=(e,i,o,p,S=0)=>L(this,void 0,void 0,function*(){if(i.type==="AlephiumSignedTx")return i.message;const{data_length:C}=i.message;let B;if(i.type==="AlephiumTxRequest"){if(!C)return i.message;const U=o.subarray(S,S+C),se=S+U.length,pe={data_chunk:v.bytesToHex(U)};return B=yield e("AlephiumTxAck",["AlephiumSignedTx","AlephiumTxRequest","AlephiumBytecodeRequest"],Object.assign({},pe)),this.processTxRequest(e,B,o,p,se)}if(i.type==="AlephiumBytecodeRequest"){if(!(p!=null&&p.length))throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"scriptOpt is required");const U={bytecode_data:v.bytesToHex(p)};return B=yield e("AlephiumBytecodeAck",["AlephiumSignedTx","AlephiumBytecodeRequest"],Object.assign({},U)),this.processTxRequest(e,B,o,p,S)}throw r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,`Unknown response type: ${i.type}`)})}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"rawTx",required:!0,type:"hexString"},{name:"scriptOpt",type:"string"}]);const{path:e}=this.payload,i=He(e,3);this.params={address_n:i,data_initial_chunk:"",data_length:0}}getVersionRange(){return{model_touch:{min:"4.10.0"}}}run(){return L(this,void 0,void 0,function*(){const e=this.device.getCommands().typedCall.bind(this.device.getCommands()),i=this.chunkByteSize,o=Buffer.from(this.payload.rawTx,"hex"),p=this.payload.scriptOpt&&Buffer.from(this.payload.scriptOpt,"hex");this.params={address_n:this.params.address_n,data_initial_chunk:v.bytesToHex(o.subarray(0,this.chunkByteSize)),data_length:o.length};const S=yield e("AlephiumSignTx",["AlephiumSignedTx","AlephiumTxRequest","AlephiumBytecodeRequest"],Object.assign({},this.params));return this.processTxRequest(e,S,o,p,i)})}}class Fr extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0},{name:"messageType",type:"string"}]);const{path:e,messageHex:i,messageType:o}=this.payload,p=He(e,3);this.params={address_n:p,message:tr(i),message_type:Buffer.from(o??"alephium","utf-8").toString("hex")}}getVersionRange(){return{model_touch:{min:"4.10.0"}}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("AlephiumSignMessage","AlephiumMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)})}}const rd=32,id=32,ou={ED25519:0};function du(d,e=!1){let i=d.toLowerCase();return!e&&i.startsWith("0x")&&(i=i.slice(2)),`0x${i.padStart(rd*2,"0")}`.toLowerCase()}function fu(d){const e=new Uint8Array(id+1);return e.set([ou.ED25519]),e.set(v.hexToBytes(d),1),du(v.bytesToHex(c.blake2b(e,{dkLen:32})).slice(0,rd*2))}function sd(d){if(/^BFC/i.test(d))return d;const e=d.replace(/^0x/,"").padStart(64,"0").toLowerCase(),i=R.sha256(new TextEncoder().encode(e)),o=v.bytesToHex(i).slice(0,4);return`BFC${e}${o}`}class uu extends De{constructor(){super(...arguments),this.hasBundle=!1,this.shouldConfirm=!1,this.strictCheckDeviceSupport=!0}init(){var e,i;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const o=this.hasBundle?this.payload:{bundle:[this.payload]};this.shouldConfirm=this.payload.showOnOneKey||((i=this.payload.bundle)===null||i===void 0?void 0:i.some(p=>!!p.showOnOneKey)),we(o,[{name:"bundle",type:"array"}]),this.params=[],o.bundle.forEach(p=>{var S;const C=He(p.path,3);we(p,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const B=(S=p.showOnOneKey)!==null&&S!==void 0?S:!0;this.params.push({address_n:C,show_display:B})})}getVersionRange(){return{pro:{min:"4.12.0"},model_classic1s:{min:"3.11.0"}}}run(){var e;return L(this,void 0,void 0,function*(){const i=bi((e=this.device)===null||e===void 0?void 0:e.features);let o=[];if(i){const p=yield lr(this.device,this.params,"ed25519",728);for(let S=0;S<this.params.length;S++){const C=this.params[S],B=p.public_keys[S];let U;this.shouldConfirm?U=(yield this.device.commands.typedCall("BenfenGetAddress","BenfenAddress",C)).message.address:U=fu(B);const se={path:Ye(C.address_n),address:sd(U),pub:B};this.shouldConfirm&&this.postPreviousAddressMessage(se),o.push(se)}}else o=yield Promise.all(this.params.map(p=>L(this,void 0,void 0,function*(){const S=yield this.device.commands.typedCall("BenfenGetAddress","BenfenAddress",p),C={path:Ye(p.address_n),address:sd(S.message.address)};return this.shouldConfirm&&this.postPreviousAddressMessage(C),C})));return T0(o,["address"],{expectedLength:this.params.length}),this.hasBundle?o:o[0]})}}class cu extends De{constructor(){super(...arguments),this.hasBundle=!1,this.strictCheckDeviceSupport=!0}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C})})}getVersionRange(){return{pro:{min:"4.12.0"},model_classic1s:{min:"3.11.0"}}}run(){return L(this,void 0,void 0,function*(){const i=(yield lr(this.device,this.params,"ed25519",728)).public_keys.map((o,p)=>({path:Ye(this.params[p].address_n),pub:o}));return T0(i,["pub"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?i:i[0])})}}class lu extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0}]);const{path:e,messageHex:i}=this.payload,o=He(e,3);this.params={address_n:o,message:tr(i)}}getVersionRange(){return{pro:{min:"4.12.0"},model_classic1s:{min:"3.11.0"}}}run(){return L(this,void 0,void 0,function*(){const e=yield this.device.commands.typedCall("BenfenSignMessage","BenfenMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)})}}class pu extends De{constructor(){super(...arguments),this.chunkByteSize=1024,this.processTxRequest=(e,i,o,p=0)=>L(this,void 0,void 0,function*(){if(i.type==="BenfenSignedTx")return i.message;const{data_length:S}=i.message;if(!S)return i.message;const C=o.subarray(p,p+S),B=p+C.length,U={data_chunk:v.bytesToHex(new Uint8Array(C))},se=yield e("BenfenTxAck",["BenfenSignedTx","BenfenTxRequest"],Object.assign({},U));return this.processTxRequest(e,se,o,B)})}init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],we(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0},{name:"coinType",type:"string",required:!1}]);const{path:e,rawTx:i,coinType:o}=this.payload,p=He(e,3);this.params=Object.assign({address_n:p,raw_tx:Qe(i)},o&&{coin_type:Qe(Buffer.from(o).toString("hex"))})}getVersionRange(){return{pro:{min:"4.12.0"},model_classic1s:{min:"3.11.0"}}}run(){return L(this,void 0,void 0,function*(){const e=this.device.getCommands().typedCall.bind(this.device.getCommands()),i=this.chunkByteSize,o=Buffer.from(this.params.raw_tx,"hex");this.params={address_n:this.params.address_n,coin_type:this.params.coin_type,raw_tx:"",data_initial_chunk:v.bytesToHex(new Uint8Array(o.buffer).subarray(0,this.chunkByteSize)),data_length:o.length};const p=yield e("BenfenSignTx",["BenfenSignedTx","BenfenTxRequest"],Object.assign({},this.params));return this.processTxRequest(e,p,o,i)})}}class hu extends De{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.strictCheckDeviceSupport=!0,this.hasBundle=!!(!((e=this.payload)===null||e===void 0)&&e.bundle);const i=this.hasBundle?this.payload:{bundle:[this.payload]};we(i,[{name:"bundle",type:"array"}]),this.params=[],i.bundle.forEach(o=>{var p;const S=He(o.path,3);we(o,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const C=(p=o.showOnOneKey)!==null&&p!==void 0?p:!0;this.params.push({address_n:S,show_display:C})})}getVersionRange(){return{pro:{min:"4.12.0"},model_classic1s:{min:"3.11.0"}}}run(){var e,i;return L(this,void 0,void 0,function*(){const o=[];for(let p=0;p<this.params.length;p++){const S=this.params[p],C=yield this.device.commands.typedCall("NeoGetAddress","NeoAddress",Object.assign({},S)),B=Ye(S.address_n);o.push({path:B,address:(e=C.message.address)!==null&&e!==void 0?e:"",pub:(i=C.message.public_key)!==null&&i!==void 0?i:""}),this.postPreviousAddressMessage({address:C.message.address,path:B})}return T0(o,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?o:o[0])})}}class yu extends De{init(){this.checkDeviceId=!0,this.allowDeviceMode=[...this.allowDeviceMode,Ie.NOT_INITIALIZE],this.strictCheckDeviceSupport=!0,we(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0},{name:"magicNumber",type:"number",required:!0}]);const{path:e,rawTx:i,magicNumber:o}=this.payload,p=He(e,3);this.params={address_n:p,raw_tx:Qe(i),network_magic:o}}getVersionRange(){return{pro:{min:"4.12.0"},model_classic1s:{min:"3.11.0"}}}run(){return L(this,void 0,void 0,function*(){const e=this.device.getCommands().typedCall.bind(this.device.getCommands());this.params={address_n:this.params.address_n,raw_tx:this.params.raw_tx,network_magic:this.params.network_magic};const i=yield e("NeoSignTx",["NeoSignedTx"],Object.assign({},this.params));return{signature:i.message.signature,publicKey:i.message.public_key}})}}var gu=Object.freeze({__proto__:null,testInitializeDeviceDuration:$d,searchDevices:ei,getFeatures:Gt,getOnekeyFeatures:Ha,getPassphraseState:jd,getLogs:Vd,checkFirmwareRelease:Gd,checkBLEFirmwareRelease:Wd,checkBridgeStatus:zd,checkBridgeRelease:ze,checkBootloaderRelease:f0,checkAllFirmwareRelease:C0,checkFirmwareTypeAvailable:W0,deviceBackup:B0,deviceChangePin:os,deviceFlags:Ar,deviceRebootToBootloader:ds,deviceRebootToBoardloader:ja,deviceRecovery:us,deviceReset:Va,deviceSettings:Ga,deviceUpdateReboot:cs,deviceUploadResource:Ii,deviceSupportFeatures:Mr,deviceVerify:ls,deviceWipe:Kd,deviceFullyUploadResource:gs,deviceUpdateBootloader:Jd,deviceLock:_s,deviceUnlock:Di,deviceCancel:Za,setU2FCounter:V,getNextU2FCounter:ni,firmwareUpdate:Ct,firmwareUpdateV2:Qd,firmwareUpdateV3:Nr,promptWebDeviceAccess:rf,cipherKeyValue:sf,allNetworkGetAddress:df,allNetworkGetAddressByLoop:ff,btcGetAddress:lf,btcGetPublicKey:gf,btcSignMessage:mf,btcSignPsbt:Ja,btcSignTransaction:xt,btcVerifyMessage:Ef,confluxGetAddress:to,confluxSignMessage:ro,confluxSignMessageCIP23:Pi,confluxSignTransaction:io,evmGetAddress:Sf,evmGetPublicKey:bn,evmSignMessage:Tn,evmSignMessageEIP712:ws,evmSignTransaction:If,evmSignTypedData:Df,evmVerifyMessage:Mf,starcoinGetAddress:In,starcoinGetPublicKey:lo,starcoinSignMessage:po,starcoinSignTransaction:ho,starcoinVerifyMessage:Rs,nemGetAddress:yo,nemSignTransaction:m0,solGetAddress:Lf,solSignTransaction:qf,solSignOffchainMessage:Bi,solSignMessage:bo,stellarGetAddress:Ff,stellarSignTransaction:Uf,tronGetAddress:Dt,tronSignMessage:Hf,tronSignTransaction:Is,nearGetAddress:kn,nearSignTransaction:To,aptosGetAddress:Eo,aptosGetPublicKey:wt,aptosSignTransaction:Ir,aptosSignMessage:xn,aptosSignInMessage:wo,algoGetAddress:Os,algoSignTransaction:So,cosmosGetAddress:Dn,cosmosGetPublicKey:Ro,cosmosSignTransaction:Mn,xrpGetAddress:Pn,xrpSignTransaction:Or,suiGetAddress:$f,suiGetPublicKey:jf,suiSignMessage:Vf,suiSignTransaction:Co,cardanoGetAddress:pt,cardanoGetPublicKey:nr,cardanoSignTransaction:Uo,cardanoSignMessage:Yf,filecoinGetAddress:Ho,filecoinSignTransaction:Xf,polkadotGetAddress:pi,polkadotSignTransaction:t0,kaspaGetAddress:Ns,kaspaSignTransaction:Wn,nexaGetAddress:eu,nexaSignTransaction:tu,nostrGetPublicKey:Fi,nostrSignEvent:Zo,nostrEncryptMessage:ru,nostrDecryptMessage:iu,nostrSignSchnorr:su,lnurlAuth:nu,nervosGetAddress:Yo,nervosSignTransaction:Xo,dnxGetAddress:au,dnxSignTransaction:zn,tonGetAddress:Jo,tonSignMessage:Ui,tonSignProof:Kn,scdoGetAddress:Qo,scdoSignTransaction:ed,scdoSignMessage:Ls,alephiumGetAddress:td,alephiumSignTransaction:dr,alephiumSignMessage:Fr,benfenGetAddress:uu,benfenGetPublicKey:cu,benfenSignMessage:lu,benfenSignTransaction:pu,neoGetAddress:hu,neoSignTransaction:yu});function Zn(d){const{method:e}=d.payload;if(typeof e!="string")throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,"Method is not set");const i=gu[e];if(i)return new i(d);throw r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodInvalidParameter,`Method ${e} is not set`)}const nd=(d,e)=>new Promise(i=>{setTimeout(i,d,e)}),Ur=c0(a.LoggerNames.DeviceConnector);class mu{constructor(){this.listenTimestamp=0,this.current=null,this.upcoming=[],this.listening=!1,q0.load(),this.transport=q0.getTransport(),g0.setConnector(this)}enumerate(){return L(this,void 0,void 0,function*(){try{const e=yield this.transport.enumerate();return this.upcoming=e,this._reportDevicesChange(),{descriptors:e}}catch(e){ri(e)}})}listen(){return L(this,void 0,void 0,function*(){const e=this.current!==null,i=this.current||[];this.listening=!0;let o;try{if(Ur.debug("Start listening",i),this.listenTimestamp=new Date().getTime(),o=e?yield this.transport.listen(i):yield this.transport.enumerate(),!this.listening)return;this.upcoming=o,Ur.debug("Listen result",o),this._reportDevicesChange(),this.listening&&this.listen()}catch(p){const S=new Date().getTime()-this.listenTimestamp;Ur.debug("Listen error","timestamp",S,typeof p),S>1100?(yield nd(1e3,null),this.listening&&this.listen()):Ur.warn("Transport error")}})}stop(){this.listening=!1}acquire(e,i,o){return L(this,void 0,void 0,function*(){Ur.debug("acquire",e,i);const p=qe.getSettings("env");try{let S;return qe.isBleConnect(p)?S=yield this.transport.acquire({uuid:e,forceCleanRunPromise:o}):S=yield this.transport.acquire({path:e,previous:i??null}),S}catch(S){Ur.error("acquire error: ",S.message),ri(S)}})}release(e,i){return L(this,void 0,void 0,function*(){try{return yield this.transport.release(e,i)}catch(o){ri(o)}})}disconnect(e){return L(this,void 0,void 0,function*(){try{this.transport.disconnect&&e&&(yield this.transport.disconnect(e))}catch(i){ri(i)}})}promptDeviceAccess(){return this.transport.promptDeviceAccess?this.transport.promptDeviceAccess():Promise.resolve(null)}_reportDevicesChange(){g0.reportDeviceChange(this.upcoming)}}const Yn=c0(a.LoggerNames.Core);class _u{constructor(){this.requestQueue=new Map,this.pendingCallbackTasks=new Map,this.generateRequestId=e=>e&&e.responseID!=null?e.responseID:Date.now()}createTask(e){const i=this.generateRequestId(e);e&&e.responseID!==i&&(e.responseID=i);const o=new AbortController,p={id:i,method:e,abortController:o};return this.requestQueue.set(i,p),p}getTask(e){return this.requestQueue.get(e)}getAbortController(e){var i;return(i=this.requestQueue.get(e))===null||i===void 0?void 0:i.abortController}abortRequest(e){const i=this.requestQueue.get(e);return i!=null&&i.abortController?(Yn.debug(`Aborting request ${e}`),i.abortController.abort(),!0):!1}abortRequestsByConnectId(e){let i=0;return this.requestQueue.forEach((o,p)=>{o.abortController&&o.method.connectId===e&&(o.abortController.abort(),o.abortController=void 0,i++)}),i}abortAllRequests(){let e=0;return this.requestQueue.forEach(i=>{i.abortController&&(i.abortController.abort(),e++)}),e}getRequestTasksId(){return Array.from(this.requestQueue.keys())}resolveRequest(e,i){var o;const p=this.requestQueue.get(e);p&&((o=p.callPromise)===null||o===void 0||o.resolve(i)),this.releaseTask(e)}rejectRequest(e,i){var o;const p=this.requestQueue.get(e);p&&((o=p.callPromise)===null||o===void 0||o.reject(i)),this.releaseTask(e)}releaseTask(e){this.requestQueue.delete(e)}registerPendingCallbackTask(e,i){this.pendingCallbackTasks.set(e,i),i.promise.finally(()=>{Yn.debug(`Callback task completed for connectId: ${e}`),this.pendingCallbackTasks.delete(e)})}waitForPendingCallbackTasks(e){return L(this,void 0,void 0,function*(){const i=this.pendingCallbackTasks.get(e);i&&(Yn.debug(`Waiting for pending callback task to complete for connectId: ${e}`),yield i.promise)})}cancelCallbackTasks(e){const i=this.pendingCallbackTasks.get(e);i&&i.resolve()}}const ad=()=>{const d=Symbol(),e={};return(i=d)=>L(void 0,void 0,void 0,function*(){for(;e[i];)yield e[i];let o=()=>{};return e[i]=new Promise(p=>{o=p}).finally(()=>{delete e[i]}),o})},vu=d=>{const e=ad();return(i,o)=>e(o).then(p=>Promise.resolve().then(i).finally(p))},u0=c0(a.LoggerNames.Core);function bu(d){var e;return d.name.startsWith("allNetworkGetAddress")&&d.payload&&d.payload.bundle&&d.payload.bundle.some(i=>i&&i.network==="ada")?!0:d.name.startsWith("cardano")||((e=d.payload)===null||e===void 0?void 0:e.deriveCardano)}const Xn=d=>({initSession:d==null?void 0:d.payload.initSession,passphraseState:d==null?void 0:d.payload.passphraseState,deviceId:d==null?void 0:d.payload.deviceId,deriveCardano:d&&bu(d)});let Hi,ft,z0,$i=[];const Jn=new Map;let qs=1;const ji={};let od={passphraseState:void 0};const Tu=d=>{if(d instanceof Error)return d;if(d!=null){if(typeof d=="string")return new Error(d);try{return new Error(JSON.stringify(d))}catch{return new Error(String(d))}}},Qn=(d,e)=>{d.requestContext&&zs(d.requestContext.responseID,e)},Hr=(d,e)=>{d.requestContext&&Gi(d.requestContext.responseID,Tu(e))},ea=(d,e)=>L(void 0,void 0,void 0,function*(){var i;if(!e.id||!e.payload||e.type!==bt.CALL)return Promise.reject(r.ERRORS.TypedError("on call: message.id or message.payload is missing"));let o;try{o=Zn(e),o.connector=z0,o.postMessage=K0,(i=o.setContext)===null||i===void 0||i.call(o,d),o.requestContext=Ws(o.responseID,o.name,{sdkInstanceId:d.sdkInstanceId,connectId:o.connectId}),u0.debug(`[${d.sdkInstanceId}] callAPI: ${Zr(o.requestContext)}`),o.init()}catch(B){return Promise.reject(B)}if(g0.emitter.on(a0.CONNECT,Cu),!o.useDevice){Qn(o,{status:"running"});try{const B=yield o.run();return Hr(o),Ht(o.responseID,!0,B)}catch(B){return Hr(o,B),Ht(o.responseID,!1,{error:B})}}const{requestQueue:p,methodSynchronize:S}=d,C=yield S(()=>{for(const B of p.getRequestTasksId()){const U=p.getTask(B);u0.debug("pre request task: ",`task?.id: ${U==null?void 0:U.id},
      task?.method.connectId: ${U==null?void 0:U.method.connectId},
      task?.method.deviceId: ${U==null?void 0:U.method.deviceId},
      task?.method.name: ${U==null?void 0:U.method.name}`)}return null});return C?Ht(o.responseID,!1,{error:C}):wu(d,e,o)}),Eu=(d,e)=>L(void 0,void 0,void 0,function*(){const i=new Promise((o,p)=>{setTimeout(()=>p(new Error("Request timeout")),e)});return Promise.race([d,i])}),dd=(d,e)=>L(void 0,void 0,void 0,function*(){const i=d();if(i){u0.debug("pre pending call promise before call method, wait for it");try{yield Eu(i,5*1e3)}catch{}e==null||e(i),u0.debug("pre pending call promise before call method done")}}),wu=(d,e,i)=>L(void 0,void 0,void 0,function*(){var o,p,S,C;let B;const{requestQueue:U,getPrePendingCallPromise:se,setPrePendingCallPromise:pe}=d;Qn(i,{status:"running"});const he=od.passphraseState!==i.payload.passphraseState;od={passphraseState:i.payload.passphraseState},(he||i.payload.initSession)&&(u0.debug("passphrase state change, clear device cache"),g0.clearDeviceCache(i.payload.connectId)),i.connectId&&(yield d.waitForCallbackTasks(i.connectId)),yield dd(se,pe);const Ae=U.createTask(i);let Oe;try{ji[qs]&&(ji[qs]=!1),qs+=1,Oe=yield Au(d,i,qs,(o=Ae.abortController)===null||o===void 0?void 0:o.signal)}catch(Ve){return console.log("ensureConnected error: ",Ve),Hr(i,Ve),Ve.name==="AbortError"||Ve.message==="Request aborted"?(U.releaseTask(i.responseID),Ht(i.responseID,!1,{error:r.ERRORS.TypedError(r.HardwareErrorCode.ActionCancelled,"Request cancelled by user")})):(U.releaseTask(i.responseID),Ht(i.responseID,!1,{error:Ve}))}if(!((p=i.payload)===null||p===void 0)&&p.onlyConnectBleDevice)return u0.debug("Call API - only connect ble device: ",Oe==null?void 0:Oe.mainId),Ht(i.responseID,!0,null);u0.debug("Call API - setDevice: ",Oe.mainId),(S=i.setDevice)===null||S===void 0||S.call(i,Oe),i.context=d,Qn(i,{deviceInstanceId:Oe.instanceId,commandsInstanceId:(C=Oe.commands)===null||C===void 0?void 0:C.instanceId});const je=Wi(Oe.instanceId);je.length>0&&u0.warn(`[${i.instanceId}] Device ${Oe.instanceId} has ${je.length} active requests:`,je.map(Zr)),Oe.on(a0.PIN,xu),Oe.on(a0.BUTTON,hd),Oe.on(a0.PASSPHRASE,e.payload.useEmptyPassphrase?ta:Mu),Oe.on(a0.PASSPHRASE_ON_DEVICE,yd),Oe.on(a0.FEATURES,Du),Oe.on(a0.SELECT_DEVICE_IN_BOOTLOADER_FOR_WEB_DEVICE,Pu),Oe.on(a0.SELECT_DEVICE_FOR_SWITCH_FIRMWARE_WEB_DEVICE,Nu);try{i.connectId&&(yield d.waitForCallbackTasks(i.connectId)),yield dd(se,pe);const Ve=()=>L(void 0,void 0,void 0,function*(){var Ke,o0,E0,J0,j0;const ht=qt(Oe.features,H0=>i.getVersionRange()[H0]);if(Oe.features){if(yield qe.checkAndReloadData(),vt(Oe.features)){const mr=Bd(Oe.features);if(mr)throw r.createDefectiveFirmwareError(mr.serialNo,mr.seVersion||"Unknown",mr.deviceType,i.connectId,i.deviceId)}const H0=U0(Oe.features),$r=qe.getFirmwareStatus(Oe.features,H0),md=qe.getBLEFirmwareStatus(Oe.features),yi=y0(Oe.features).join("."),Vu=Yr(Oe.features).join(".");if(($r==="required"||md==="required")&&i.skipForceUpdateCheck===!1){const mr={firmware:yi,ble:Vu},ia=[];throw $r==="required"&&ia.push("firmware"),md==="required"&&ia.push("ble"),r.createNewFirmwareForceUpdateHardwareError(i.connectId,i.deviceId,ia,mr)}if(ht){if(A.default.valid(ht.min)&&A.default.lt(yi,ht.min)){if($r==="none"||$r==="valid")throw r.createNewFirmwareUnReleaseHardwareError({currentVersion:yi,requireVersion:ht.min,methodName:i.name,firmwareType:U0(Oe.features)});return Promise.reject(r.createNeedUpgradeFirmwareHardwareError({currentVersion:yi,requireVersion:ht.min,methodName:i.name,firmwareType:U0(Oe.features)}))}if(ht.max&&A.default.valid(ht.max)&&A.default.gte(yi,ht.max))return Promise.reject(r.createDeprecatedHardwareError(yi,ht.max,i.name))}else if(i.strictCheckDeviceSupport)throw r.createDeviceNotSupportMethodError(i.name,U0(Oe.features))}const Pt=Oe.hasUnexpectedMode(i.allowDeviceMode,i.requireDeviceMode);if(Pt)return Pt===Ie.NOT_IN_BOOTLOADER?Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.RequiredButInBootloaderMode)):Pt===Ie.BOOTLOADER?Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.NotAllowInBootloaderMode)):Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.DeviceUnexpectedMode,Pt));if(i.deviceId&&i.checkDeviceId&&!Oe.checkDeviceId(i.deviceId))return Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.DeviceCheckDeviceIdError));if(i.checkFirmwareRelease(),i.checkDeviceSupportFeature(),ft&&(yield q0.reconfigure(Oe.features)),cd(i,Oe.features),Oe.hasUsePassphrase()&&i.useDevicePassphraseState){const H0=Ra(Oe.features);if(!H0.support)return Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.DeviceNotSupportPassphrase,`Device not support passphrase, please update to ${H0.require}`,{require:H0.require}));const $r=yield Oe.checkPassphraseStateSafety((Ke=i.payload)===null||Ke===void 0?void 0:Ke.passphraseState,(o0=i.payload)===null||o0===void 0?void 0:o0.useEmptyPassphrase,(E0=i.payload)===null||E0===void 0?void 0:E0.skipPassphraseCheck);if(cd(i,Oe.features),!$r)return g0.clearDeviceCache(i.payload.connectId),Promise.reject(r.ERRORS.TypedError(r.HardwareErrorCode.DeviceCheckPassphraseStateError));K0(O0(Ie.CLOSE_UI_PIN_WINDOW))}try{yield i.checkSafetyLevelOnTestNet()}catch(H0){throw H0 instanceof r.HardwareError?H0:r.ERRORS.TypedError(r.HardwareErrorCode.RuntimeError,"open safety check failed.")}(j0=(J0=i.device)===null||J0===void 0?void 0:J0.commands)===null||j0===void 0||j0.checkDisposed();try{const H0=yield i.run();u0.debug("Call API - Inner Method Run: "),B=Ht(i.responseID,!0,H0),U.resolveRequest(i.responseID,B),Hr(i)}catch(H0){if(u0.debug("Call API - Inner Method Run Error",H0),B=Ht(i.responseID,!1,{error:H0}),U.resolveRequest(i.responseID,B),Hr(i,H0),H0 instanceof r.HardwareError&&r.ERROR_CODES_REQUIRE_RELEASE.includes(H0.errorCode))throw H0}});u0.debug("Call API - Device Run: ",Oe.mainId);const r0=Object.assign({keepSession:i.payload.keepSession},Xn(i)),i0=()=>Oe.run(Ve,r0);Ae.callPromise=r.createDeferred(i0);try{return yield Ae.callPromise.promise}catch(Ke){return u0.debug("Device Run Error: ",Ke),Hr(i,Ke),Ht(i.responseID,!1,{error:Ke})}}catch(Ve){B=Ht(i.responseID,!1,{error:Ve}),U.rejectRequest(i.responseID,r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodError,Ve.message)),u0.debug("Call API - Run Error: ",Ve),Hr(i,Ve)}finally{if(B&&i&&i.dispose(),U.releaseTask(i.responseID),pd(),ld(),Oe){const r0=Wi(Oe.instanceId);r0.length>1?u0.warn(`[${i.instanceId}] Removing listeners while ${r0.length} requests are active!`,{deviceInstanceId:Oe.instanceId,activeRequests:r0.map(Zr),pinListeners:Oe.listenerCount(a0.PIN)}):Ou(Oe)}}});function Su(d){return L(this,void 0,void 0,function*(){const e=qe.getSettings("env");if(qe.isBleConnect(e)&&d.connectId){yield q0.configure();return}ft||(ft=new pn,yield q0.configure(),ft.connector=z0),yield ft.getDeviceLists(d.connectId,Xn(d))})}function fd(d){var e;if(!ft)throw r.ERRORS.TypedError(r.HardwareErrorCode.DeviceListNotInitialized);let i;const o=ft.allDevices();if(!((e=d.payload)===null||e===void 0)&&e.detectBootloaderDevice&&o.some(p=>{var S;return(S=p.features)===null||S===void 0?void 0:S.bootloader_mode}))throw r.ERRORS.TypedError(r.HardwareErrorCode.DeviceDetectInBootloaderMode);if(d.connectId)i=ft.getDevice(d.connectId);else if(o.length===1)[i]=o;else if(o.length>1)throw r.ERRORS.TypedError(["firmwareUpdateV3","firmwareUpdateV2","checkFirmwareRelease","checkBootloaderRelease","checkBLEFirmwareRelease"].includes(d.name)?r.HardwareErrorCode.FirmwareUpdateLimitOneDevice:r.HardwareErrorCode.SelectDevice);if(!i){const p=qe.getSettings("env");throw qe.isBrowserWebUsb(p)?r.ERRORS.TypedError(r.HardwareErrorCode.WebDeviceNotFoundOrNeedsPermission):r.ERRORS.TypedError(r.HardwareErrorCode.DeviceNotFound)}return i.deviceConnector=z0,i}function Ru(d){if(!d.connectId&&!ft)throw r.ERRORS.TypedError(r.HardwareErrorCode.DeviceListNotInitialized);if(!d.connectId)return fd(d);let e;return Jn.has(d.connectId)?e=Jn.get(d.connectId):(e=ts.fromDescriptor({id:d.connectId},d.sdkInstanceId),Jn.set(d.connectId,e)),e.deviceConnector=z0,e}let Fs=0;function ud(d,e){var i;return L(this,void 0,void 0,function*(){try{if(yield e.acquire(),!((i=d.payload)===null||i===void 0)&&i.onlyConnectBleDevice)return;yield e.initialize(Xn(d))}catch(o){if(o.errorCode===r.HardwareErrorCode.BleTimeoutError&&Fs<=5)Fs+=1,u0.debug(`Bletooth connect timeout and will retry, retry count: ${Fs}`),yield _t(3e3),yield ud(d,e);else throw o}})}const Au=(d,e,i,o)=>L(void 0,void 0,void 0,function*(){let p=0;const S=e.payload&&typeof e.payload.retryCount=="number"?e.payload.retryCount:5,C=e.payload&&e.payload.pollIntervalTime||1e3,B=e.payload&&e.payload.timeout||1e4;let U=null;u0.debug(`EnsureConnected function start, MAX_RETRY_COUNT=${S}, POLL_INTERVAL_TIME=${C}  `);const se=(pe=C)=>L(void 0,void 0,void 0,function*(){return new Promise((he,Ae)=>L(void 0,void 0,void 0,function*(){var Oe;const je=()=>o&&o.aborted?(U&&clearTimeout(U),Ae(r.ERRORS.TypedError(r.HardwareErrorCode.CallQueueActionCancelled)),!0):!1;if(je())return;if(!ji[i]){u0.debug("EnsureConnected function stop, polling id: ",i),Ae(r.ERRORS.TypedError(r.HardwareErrorCode.PollingStop));return}U&&clearTimeout(U),U=setTimeout(()=>{Ae(r.ERRORS.TypedError(r.HardwareErrorCode.PollingTimeout))},B),p+=1,u0.debug("EnsureConnected function try count: ",p," poll interval time: ",pe);try{yield Su(e)}catch(i0){if(u0.debug("device list error: ",i0),[r.HardwareErrorCode.BridgeNotInstalled,r.HardwareErrorCode.BridgeTimeoutError,r.HardwareErrorCode.BridgeNeedsPermission].includes(i0.errorCode)){ft=void 0,Ae(i0);return}i0.errorCode===r.HardwareErrorCode.TransportNotConfigured&&(yield q0.configure())}if(je())return;const Ve=qe.getSettings("env");let r0;try{if(qe.isBleConnect(Ve)?r0=Ru(e):r0=fd(e),r0){if(U&&clearTimeout(U),qe.isBleConnect(Ve)){if(Fs=0,je())return;yield ud(e,r0)}he(r0);return}}catch(i0){if(u0.debug("device error: ",i0),[r.HardwareErrorCode.BleCharacteristicNotifyChangeFailure].includes(i0.errorCode)&&K0(O0(Ie.BLUETOOTH_CHARACTERISTIC_NOTIFY_CHANGE_FAILURE)),[r.HardwareErrorCode.BlePoweredOff,r.HardwareErrorCode.BleUnsupported,r.HardwareErrorCode.BlePermissionError,r.HardwareErrorCode.BleLocationError,r.HardwareErrorCode.BleLocationServicesDisabled,r.HardwareErrorCode.BleDeviceNotBonded,r.HardwareErrorCode.BleDeviceBondError,r.HardwareErrorCode.BleDeviceBondedCanceled,r.HardwareErrorCode.BleCharacteristicNotifyError,r.HardwareErrorCode.BleTimeoutError,r.HardwareErrorCode.BleWriteCharacteristicError,r.HardwareErrorCode.BleAlreadyConnected,r.HardwareErrorCode.FirmwareUpdateLimitOneDevice,r.HardwareErrorCode.SelectDevice,r.HardwareErrorCode.DeviceDetectInBootloaderMode,r.HardwareErrorCode.BleCharacteristicNotifyChangeFailure,r.HardwareErrorCode.BridgeNeedsPermission].includes(i0.errorCode)){Ae(i0);return}}if(p>S){U&&clearTimeout(U),u0.debug("EnsureConnected get to max try count, will return: ",p),qe.isBrowserWebUsb(Ve)&&!(!((Oe=e.payload)===null||Oe===void 0)&&Oe.skipWebDevicePrompt)?(K0(O0(Ie.WEB_DEVICE_PROMPT_ACCESS_PERMISSION)),Ae(r.ERRORS.TypedError(r.HardwareErrorCode.WebDeviceNotFoundOrNeedsPermission))):Ae(r.ERRORS.TypedError(r.HardwareErrorCode.DeviceNotFound));return}if(!je())return setTimeout(()=>he(se(pe*1.5)),pe)}))});return ji[i]=!0,se()}),Iu=(d,e)=>{var i,o;const{requestQueue:p,setPrePendingCallPromise:S}=d;if(e)try{p.cancelCallbackTasks(e);const C=p.getRequestTasksId();u0.debug(`Cancel Api connect requestQueues: length:${C.length} requestIds:${C.join(",")}`);const B=[];for(const U of C){const se=p.getTask(U);if(u0.debug("Cancel Api connect task: ",se),se&&(!((i=se.method)===null||i===void 0)&&i.device)){if(!B.includes(se.method.device)){const{device:pe}=se.method;S(pe==null?void 0:pe.interruptionFromUser()),B.push(pe)}p.rejectRequest(U,r.ERRORS.TypedError(r.HardwareErrorCode.CallQueueActionCancelled))}}p.abortRequestsByConnectId(e)}catch(C){u0.error("Cancel API Error: ",C)}else{const C=qe.getSettings("env");if(qe.isBleConnect(C)){u0.debug("Cancel Api all _deviceList: ");const B=[];for(const U of p.getRequestTasksId()){const se=p.getTask(U);if(u0.debug("Cancel Api connect task: ",se),se&&(!((o=se.method)===null||o===void 0)&&o.device)){if(!B.includes(se.method.device)){const{device:pe}=se.method;pe==null||pe.interruptionFromUser(),B.push(pe)}p.rejectRequest(U,r.ERRORS.TypedError(r.HardwareErrorCode.CallQueueActionCancelled))}}}else ft==null||ft.allDevices().forEach(B=>{u0.debug("device: ",B," device.hasDeviceAcquire: ",B.hasDeviceAcquire()),B.hasDeviceAcquire()&&(B==null||B.interruptionFromUser())}),p.getRequestTasksId().forEach(B=>{p.rejectRequest(B,r.ERRORS.TypedError(r.HardwareErrorCode.CallQueueActionCancelled))})}ld(),pd()},cd=(d,e)=>{if(d.useDevicePassphraseState){if((e==null?void 0:e.passphrase_protection)===!0){const i=d.payload.passphraseState==null||d.payload.passphraseState==="",o=!d.payload.useEmptyPassphrase&&!d.payload.skipPassphraseCheck;if(i&&o)throw g0.clearDeviceCache(d.payload.connectId),r.ERRORS.TypedError(r.HardwareErrorCode.DeviceOpenedPassphrase)}if((e==null?void 0:e.passphrase_protection)===!1&&d.payload.passphraseState)throw g0.clearDeviceCache(d.payload.connectId),r.ERRORS.TypedError(r.HardwareErrorCode.DeviceNotOpenedPassphrase)}},ld=()=>{$i=[],u0.debug("Cleanup...")},Ou=d=>{d.removeAllListeners(),g0.emitter.removeAllListeners(a0.CONNECT)},pd=()=>{K0(O0(Ie.CLOSE_UI_WINDOW))},Cu=d=>{const e=qe.getSettings("env"),i=qe.isBleConnect(e)?d:d.toMessageObject();K0(jt(a0.CONNECT,{device:i}))},ku=d=>{const e=qe.getSettings("env"),i=qe.isBleConnect(e)?d:d.toMessageObject();K0(jt(a0.DISCONNECT,{device:i}))},xu=(...[d,e,i])=>L(void 0,void 0,void 0,function*(){u0.log("request Input PIN");const o=Us($t.RECEIVE_PIN,d);K0(O0(Ie.REQUEST_PIN,{device:d.toMessageObject(),type:e}));const p=yield o.promise;i(null,p.payload)}),hd=(...[d,e])=>{K0(jt(a0.BUTTON,Object.assign(Object.assign({},e),{device:d.toMessageObject()}))),e.code==="ButtonRequest_PinEntry"||e.code==="ButtonRequest_AttachPin"?(u0.log("request Confirm Input PIN or Attach PIN"),K0(O0(Ie.REQUEST_PIN,{device:d.toMessageObject(),type:e.code}))):(u0.log("request Confirm Button"),K0(O0(Ie.REQUEST_BUTTON,{device:d.toMessageObject()})))},Du=(...[d,e])=>{K0(jt(a0.FEATURES,Object.assign({},e)))},Mu=(...[d,e,i])=>L(void 0,void 0,void 0,function*(){u0.debug("onDevicePassphraseHandler");const o=Us($t.RECEIVE_PASSPHRASE,d);K0(O0(Ie.REQUEST_PASSPHRASE,{device:d.toMessageObject(),passphraseState:d.passphraseState,existsAttachPinUser:e.existsAttachPinUser}));const p=yield o.promise,{value:S,passphraseOnDevice:C,save:B,attachPinOnDevice:U}=p.payload;i({passphrase:S.normalize("NFKD"),passphraseOnDevice:C,attachPinOnDevice:U,cache:B})}),ta=(...[d,,e])=>{u0.debug("onEmptyPassphraseHandler"),e({passphrase:""})},yd=(...[d])=>{K0(O0(Ie.REQUEST_PASSPHRASE_ON_DEVICE,{device:d.toMessageObject(),passphraseState:d.passphraseState}))},Pu=(...[d,e])=>L(void 0,void 0,void 0,function*(){u0.debug("onSelectDeviceInBootloaderForWebDeviceHandler");const i=Us($t.SELECT_DEVICE_IN_BOOTLOADER_FOR_WEB_DEVICE,d);K0(O0(Ie.REQUEST_DEVICE_IN_BOOTLOADER_FOR_WEB_DEVICE,{device:d.toMessageObject()}));const o=yield i.promise;e(null,o.payload.deviceId)}),Nu=(...[d,e])=>L(void 0,void 0,void 0,function*(){u0.debug("onSelectDeviceForSwitchFirmwareWebDeviceHandler");const i=Us($t.SELECT_DEVICE_FOR_SWITCH_FIRMWARE_WEB_DEVICE,d);K0(O0(Ie.REQUEST_DEVICE_FOR_SWITCH_FIRMWARE_WEB_DEVICE,{device:d.toMessageObject()}));const o=yield i.promise;e(null,o.payload.deviceId)}),K0=d=>{Hi&&Hi.emit(dn,d)},Us=(d,e)=>{const i=r.createDeferred(d,e);return $i.push(i),i},Bu=d=>$i.find(e=>e.id===d),Lu=d=>{$i=$i.filter(e=>e!==d)};class gd extends ye.exports{constructor(){super(),this.requestQueue=new _u,this.methodSynchronize=vu(),this.tracingContext=ua(),this.sdkInstanceId=this.tracingContext.sdkInstanceId,u0.debug(`[Core] Created SDK instance: ${this.sdkInstanceId}`)}getCoreContext(){return{sdkInstanceId:this.sdkInstanceId,tracingContext:this.tracingContext,requestQueue:this.requestQueue,methodSynchronize:this.methodSynchronize,getPrePendingCallPromise:()=>this.prePendingCallPromise,setPrePendingCallPromise:e=>{this.prePendingCallPromise=e},registerCallbackTask:(e,i)=>{this.requestQueue.registerPendingCallbackTask(e,i)},waitForCallbackTasks:e=>this.requestQueue.waitForPendingCallbackTasks(e),cancelCallbackTasks:e=>this.requestQueue.cancelCallbackTasks(e)}}handleMessage(e){var i,o,p,S;return L(this,void 0,void 0,function*(){switch(e.type){case $t.RECEIVE_PIN:case $t.RECEIVE_PASSPHRASE:case $t.SELECT_DEVICE_IN_BOOTLOADER_FOR_WEB_DEVICE:case $t.SELECT_DEVICE_FOR_SWITCH_FIRMWARE_WEB_DEVICE:{const C=Bu(e.type);C&&(u0.log("receive UI Response: ",e.type),C.resolve(e),Lu(C));break}case Ie.BLUETOOTH_UNSUPPORTED:case Ie.BLUETOOTH_POWERED_OFF:case Ie.BLUETOOTH_PERMISSION:case Ie.BLUETOOTH_CHARACTERISTIC_NOTIFY_CHANGE_FAILURE:case Ie.LOCATION_PERMISSION:case Ie.LOCATION_SERVICE_PERMISSION:{K0(e);break}case bt.CALL:{u0.log("call API: ",e);const C=yield ea(this.getCoreContext(),e),{success:B,payload:U}=C;return u0.log("call API Response: ",C),B?C:Object.assign(Object.assign({},C),{payload:Object.assign(Object.assign({},U),{connectId:(o=(i=e.payload)===null||i===void 0?void 0:i.connectId)!==null&&o!==void 0?o:"",deviceId:(S=(p=e.payload)===null||p===void 0?void 0:p.deviceId)!==null&&S!==void 0?S:""})})}case bt.CANCEL:{u0.log("cancel API: ",e),Iu(this.getCoreContext(),e.payload.connectId);break}case bt.CALLBACK:{u0.log("callback message: ",e),K0(e);break}}return Promise.resolve(e)})}dispose(){ft=void 0,z0=void 0,u0.debug(`[Core] Disposing SDK instance: ${this.sdkInstanceId}`),ca(this.sdkInstanceId)}}const qu=()=>(Hi=new gd,Hi),ra=()=>(z0=new mu,g0.emitter.on(a0.DISCONNECT,ku),z0),Fu=(d,e)=>{q0.setTransport(d,e)},Hs=(d,e,i)=>L(void 0,void 0,void 0,function*(){try{try{yield qe.load(d),Fu(e,i)}catch{u0.error("DataManager.load error")}return Ge(qe.getSettings("debug")),qe.getSettings("env")!=="react-native"&&at(K0),qu(),ra(),Hi}catch(o){u0.error("core init",o)}}),Uu=({env:d,Transport:e,plugin:i})=>{qe.updateEnv(d),q0.setTransport(e,i),ft=void 0,g0.resetState(),z0=void 0,ra()},Hu=({init:d,call:e,dispose:i,eventEmitter:o,uiResponse:p,cancel:S,updateSettings:C,switchTransport:B})=>N({init:d,call:e,dispose:i,eventEmitter:o,uiResponse:p,cancel:S,updateSettings:C,switchTransport:B}),$u=({init:d,call:e,dispose:i,eventEmitter:o,addHardwareGlobalEventListener:p,uiResponse:S,cancel:C,updateSettings:B,switchTransport:U})=>be({init:d,call:e,dispose:i,eventEmitter:o,addHardwareGlobalEventListener:p,uiResponse:S,cancel:C,updateSettings:B,switchTransport:U}),ju=()=>F();Object.defineProperty(a,"PROTO",{enumerable:!0,get:function(){return y.Messages}}),a.CORE_EVENT=dn,a.Core=gd,a.DEFAULT_PRIORITY=N0,a.DEVICE=a0,a.DEVICE_EVENT=fn,a.DataManager=qe,a.DeviceModelToTypes=w0,a.DeviceTypeToModels=zi,a.FIRMWARE=Qi,a.FIRMWARE_EVENT=Ba,a.HardwareSDKLowLevel=$u,a.HardwareTopLevelSdk=ju,a.IFRAME=bt,a.LOG=ae,a.LOG_EVENT=$,a.LogBlockEvent=un,a.RESPONSE_EVENT=Ei,a.UI_EVENT=Qr,a.UI_REQUEST=Ie,a.UI_RESPONSE=$t,a.checkNeedUpdateBootForClassicAndMini=xa,a.checkNeedUpdateBootForTouch=rn,a.cleanupCallback=J,a.cleanupSdkInstance=ca,a.completeRequestContext=Gi,a.corsValidator=ka,a.createDeviceMessage=jt,a.createErrorMessage=Ji,a.createFirmwareMessage=es,a.createIFrameMessage=Ld,a.createLogMessage=ee,a.createRequestContext=Ws,a.createResponseMessage=Ht,a.createSdkTracingContext=ua,a.createUiMessage=O0,a.createUiResponse=qd,a.default=Hu,a.enableLog=Ge,a.executeCallback=Z,a.formatRequestContext=Zr,a.generateInstanceId=Tr,a.generateSdkInstanceId=fa,a.getActiveRequestsByDeviceInstance=Wi,a.getAutoLockOptions=nn,a.getAutoShutDownOptions=Rt,a.getDeviceBLEFirmwareVersion=Yr,a.getDeviceBleName=Ks,a.getDeviceBoardloaderVersion=Sd,a.getDeviceBootloaderVersion=xr,a.getDeviceFirmwareVersion=y0,a.getDeviceLabel=pa,a.getDeviceType=Ze,a.getDeviceTypeByBleName=la,a.getDeviceUUID=ur,a.getEnv=Ca,a.getFirmwareType=U0,a.getFirmwareUpdateField=Jt,a.getFirmwareUpdateFieldArray=Od,a.getHDPath=ya,a.getHomeScreenDefaultList=Pa,a.getHomeScreenHex=Ma,a.getHomeScreenSize=Na,a.getLanguageConfig=Da,a.getLog=R0,a.getLogger=c0,a.getMethodVersionRange=qt,a.getOutputScriptType=_a,a.getSDKVersion=Oa,a.getScriptType=Xr,a.getTimeStamp=Wr,a.httpRequest=I0,a.initCore=Hs,a.isBleConnect=mt,a.isValidVersionArray=Xt,a.isValidVersionString=Kr,a.normalizeVersionArray=br,a.parseConnectSettings=Md,a.parseMessage=Sr,a.patchFeatures=na,a.safeThrowError=ri,a.setLoggerPostMessage=at,a.supportInputPinOnSoftware=Xi,a.switchTransport=Uu,a.updateRequestContext=zs,a.versionCompare=wd,a.versionSplit=Gs,a.wait=_t,a.whitelist=kd,a.whitelistExtension=xd})(dist$6);var secureJsonParse={exports:{}};const hasBuffer=typeof Buffer<"u",suspectProtoRx=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function _parse(a,n,r){r==null&&n!==null&&typeof n=="object"&&(r=n,n=void 0),hasBuffer&&Buffer.isBuffer(a)&&(a=a.toString()),a&&a.charCodeAt(0)===65279&&(a=a.slice(1));const u=JSON.parse(a,n);if(u===null||typeof u!="object")return u;const g=r&&r.protoAction||"error",y=r&&r.constructorAction||"error";if(g==="ignore"&&y==="ignore")return u;if(g!=="ignore"&&y!=="ignore"){if(suspectProtoRx.test(a)===!1&&suspectConstructorRx.test(a)===!1)return u}else if(g!=="ignore"&&y==="ignore"){if(suspectProtoRx.test(a)===!1)return u}else if(suspectConstructorRx.test(a)===!1)return u;return filter(u,{protoAction:g,constructorAction:y,safe:r&&r.safe})}function filter(a,{protoAction:n="error",constructorAction:r="error",safe:u}={}){let g=[a];for(;g.length;){const y=g;g=[];for(const h of y){if(n!=="ignore"&&Object.prototype.hasOwnProperty.call(h,"__proto__")){if(u===!0)return null;if(n==="error")throw new SyntaxError("Object contains forbidden prototype property");delete h.__proto__}if(r!=="ignore"&&Object.prototype.hasOwnProperty.call(h,"constructor")&&h.constructor!==null&&typeof h.constructor=="object"&&Object.prototype.hasOwnProperty.call(h.constructor,"prototype")){if(u===!0)return null;if(r==="error")throw new SyntaxError("Object contains forbidden prototype property");delete h.constructor}for(const m in h){const v=h[m];v&&typeof v=="object"&&g.push(v)}}}return a}function parse(a,n,r){const{stackTraceLimit:u}=Error;Error.stackTraceLimit=0;try{return _parse(a,n,r)}finally{Error.stackTraceLimit=u}}function safeParse(a,n){const{stackTraceLimit:r}=Error;Error.stackTraceLimit=0;try{return _parse(a,n,{safe:!0})}catch{return}finally{Error.stackTraceLimit=r}}secureJsonParse.exports=parse;secureJsonParse.exports.default=parse;secureJsonParse.exports.parse=parse;secureJsonParse.exports.safeParse=safeParse;secureJsonParse.exports.scan=filter;var secureJsonParseExports=secureJsonParse.exports,transport$3=dist$4,hdShared$3=dist$5,axios$1=axios_1,secureJSON$1=secureJsonParseExports;function _interopDefaultLegacy$3(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var transport__default$3=_interopDefaultLegacy$3(transport$3),axios__default$1=_interopDefaultLegacy$3(axios$1),secureJSON__default$1=_interopDefaultLegacy$3(secureJSON$1);function __awaiter$3(a,n,r,u){function g(y){return y instanceof r?y:new r(function(h){h(y)})}return new(r||(r=Promise))(function(y,h){function m(R){try{E(u.next(R))}catch(I){h(I)}}function v(R){try{E(u.throw(R))}catch(I){h(I)}}function E(R){R.done?y(R.value):g(R.value).then(m,v)}E((u=u.apply(a,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;function contentType$1(a){return typeof a=="string"?"text/plain":"application/json"}function wrapBody$1(a){return typeof a=="string"?a:JSON.stringify(a)}function parseResult$1(a){try{const n=secureJSON__default$1.default.parse(a);if(typeof n!="object")throw new Error("Invalid response");return n}catch{return a}}function request$1(a){var n,r;return __awaiter$3(this,void 0,void 0,function*(){const u={url:a.url,method:a.method,data:wrapBody$1(a.body),withCredentials:!1,headers:{"Content-Type":contentType$1(a.body==null?"":a.body)},timeout:(n=a.timeout)!==null&&n!==void 0?n:void 0,transformResponse:g=>g};try{const g=yield axios__default$1.default.request(u);if(+g.status==200)return parseResult$1(g.data);const y=parseResult$1(g.data);throw typeof y=="object"&&y!=null&&y.error!=null?new hdShared$3.HardwareError({errorCode:hdShared$3.HardwareErrorCode.NetworkError,message:y.error}):new hdShared$3.HardwareError({errorCode:hdShared$3.HardwareErrorCode.NetworkError,message:g.data})}catch(g){const y=g,h=(r=y==null?void 0:y.response)===null||r===void 0?void 0:r.data;if(typeof h=="string"){const m=parseResult$1(h);throw typeof m=="object"&&m!==null&&m.error?hdShared$3.CreateHardwareErrorByBridgeError(String(m.error)):hdShared$3.CreateHardwareErrorByBridgeError(h)}throw new hdShared$3.HardwareError({errorCode:hdShared$3.HardwareErrorCode.BridgeNetworkError,message:(y==null?void 0:y.message)||"Bridge network error"})}})}axios__default$1.default.interceptors.request.use(a=>{var n;return typeof window<"u"||!((n=a.url)===null||n===void 0)&&n.startsWith("http://localhost:21320")&&(a.headers.get("Origin")||a.headers.set("Origin","https://jssdk.onekey.so")),a});const DEFAULT_URL$1="http://localhost:21320",{check:check$3,buildOne:buildOne$1,receiveOne:receiveOne$3,parseConfigure:parseConfigure$3}=transport__default$3.default;class HttpTransport{constructor(n){this.name="HttpTransport",this.configured=!1,this.stopped=!1,this.url=n??DEFAULT_URL$1}_post(n){return this.stopped?Promise.reject(hdShared$3.ERRORS.TypedError("Transport stopped.")):request$1(Object.assign(Object.assign({},n),{method:"POST",url:this.url+n.url}))}init(n){return __awaiter$3(this,void 0,void 0,function*(){return this.Log=n,yield this._silentInit()})}_silentInit(){return __awaiter$3(this,void 0,void 0,function*(){const n=yield request$1({url:this.url,method:"POST",timeout:3e3});return check$3.info(n).version})}configure(n){const r=parseConfigure$3(n);this.configured=!0,this._messages=r}listen(n){return __awaiter$3(this,void 0,void 0,function*(){if(n===null)throw hdShared$3.ERRORS.TypedError("Http-Transport does not support listen without previous.");const r=yield this._post({url:"/listen",body:n});return check$3.devices(r)})}enumerate(){return __awaiter$3(this,void 0,void 0,function*(){const n=yield this._post({url:"/enumerate"});return check$3.devices(n).map(u=>Object.assign(Object.assign({},u),{commType:"bridge"}))})}_acquireMixed(n){const r=n.previous==null?"null":encodeURIComponent(n.previous),g=`/acquire/${encodeURIComponent(n.path)}/${r}`;return this._post({url:g})}acquire(n){return __awaiter$3(this,void 0,void 0,function*(){const r=yield this._acquireMixed(n);return check$3.acquire(r)})}release(n,r){return __awaiter$3(this,void 0,void 0,function*(){const u=this._post({url:`/release/${n}`});r||(yield u)})}call(n,r,u){return __awaiter$3(this,void 0,void 0,function*(){if(this._messages==null)throw hdShared$3.ERRORS.TypedError(hdShared$3.HardwareErrorCode.TransportNotConfigured);const g=this._messages;transport$3.LogBlockCommand.has(r)?this.Log.debug("call-"," name: ",r):this.Log.debug("call-"," name: ",r," data: ",u);const h=buildOne$1(g,r,u).toString("hex"),m=yield this._post({url:`/call/${n}`,body:h,timeout:r==="Initialize"?1e4:void 0});if(typeof m!="string")throw hdShared$3.ERRORS.TypedError(hdShared$3.HardwareErrorCode.NetworkError,"Returning data is not string.");const v=receiveOne$3(g,m);return check$3.call(v)})}post(n,r,u){return __awaiter$3(this,void 0,void 0,function*(){if(this._messages==null)throw hdShared$3.ERRORS.TypedError(hdShared$3.HardwareErrorCode.TransportNotConfigured);const g=this._messages,y=buildOne$1(g,r,u).toString("hex");yield this._post({url:`/post/${n}`,body:y})})}read(n){return __awaiter$3(this,void 0,void 0,function*(){if(this._messages==null)throw hdShared$3.ERRORS.TypedError(hdShared$3.HardwareErrorCode.TransportNotConfigured);const r=this._messages,u=yield this._post({url:`/read/${n}`});if(typeof u!="string")throw hdShared$3.ERRORS.TypedError(hdShared$3.HardwareErrorCode.NetworkError,"Returning data is not string.");const g=receiveOne$3(r,u);return check$3.call(g)})}requestDevice(){return Promise.reject()}stop(){this.stopped=!0}cancel(){this.Log.debug("canceled")}}var dist$3=HttpTransport,dist$2={};Object.defineProperty(dist$2,"__esModule",{value:!0});var transport$2=dist$4,hdShared$2=dist$5,ByteBuffer=bytebufferExports;function _interopDefaultLegacy$2(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var transport__default$2=_interopDefaultLegacy$2(transport$2),ByteBuffer__default=_interopDefaultLegacy$2(ByteBuffer);function __awaiter$2(a,n,r,u){function g(y){return y instanceof r?y:new r(function(h){h(y)})}return new(r||(r=Promise))(function(y,h){function m(R){try{E(u.next(R))}catch(I){h(I)}}function v(R){try{E(u.throw(R))}catch(I){h(I)}}function E(R){R.done?y(R.value):g(R.value).then(m,v)}E((u=u.apply(a,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const{parseConfigure:parseConfigure$1$1,buildEncodeBuffers,decodeProtocol,receiveOne:receiveOne$1$1,check:check$1$1}=transport__default$2.default,CONFIGURATION_ID=1,INTERFACE_ID=0,ENDPOINT_ID=1,PACKET_SIZE=64,HEADER_LENGTH=6;class WebUsbTransport{constructor(){this.name="WebUsbTransport",this.stopped=!1,this.configured=!1,this.deviceList=[],this.configurationId=CONFIGURATION_ID,this.endpointId=ENDPOINT_ID,this.interfaceId=INTERFACE_ID}init(n){this.Log=n;const{usb:r}=navigator;if(!r)throw hdShared$2.ERRORS.TypedError(hdShared$2.HardwareErrorCode.RuntimeError,"WebUSB is not supported by current browsers");this.usb=r}configure(n){const r=parseConfigure$1$1(n);this.configured=!0,this.messages=r}promptDeviceAccess(){return __awaiter$2(this,void 0,void 0,function*(){if(!this.usb)return null;try{return yield this.usb.requestDevice({filters:hdShared$2.ONEKEY_WEBUSB_FILTER})}catch(n){return this.Log.debug("requestDevice error: ",n),null}})}enumerate(){return __awaiter$2(this,void 0,void 0,function*(){return yield this.getConnectedDevices(),this.deviceList})}getConnectedDevices(){return __awaiter$2(this,void 0,void 0,function*(){if(!this.usb)return[];const r=(yield this.usb.getDevices()).filter(u=>{const g=hdShared$2.ONEKEY_WEBUSB_FILTER.some(h=>u.vendorId===h.vendorId&&u.productId===h.productId),y=typeof u.serialNumber=="string"&&u.serialNumber.length>0;return g&&y});return this.deviceList=r.map(u=>({path:u.serialNumber,device:u,commType:"webusb"})),this.deviceList})}acquire(n){var r;return __awaiter$2(this,void 0,void 0,function*(){if(n.path)try{return yield this.connect((r=n.path)!==null&&r!==void 0?r:"",!0),yield Promise.resolve(n.path)}catch(u){throw this.Log.debug("acquire error: ",u),u}})}findDevice(n){return __awaiter$2(this,void 0,void 0,function*(){this.deviceList.length===0&&(yield this.getConnectedDevices());let r=this.deviceList.find(u=>u.path===n);if(r==null&&(yield this.getConnectedDevices(),r=this.deviceList.find(u=>u.path===n),r==null))throw new Error("Action was interrupted.");return r.device})}connect(n,r){return __awaiter$2(this,void 0,void 0,function*(){for(let g=0;g<5;g++)try{return yield this.connectToDevice(n,r)}catch(y){if(g===4)throw y;yield hdShared$2.wait(g*200)}})}connectToDevice(n,r){return __awaiter$2(this,void 0,void 0,function*(){const u=yield this.findDevice(n);if(yield u.open(),r){yield u.selectConfiguration(this.configurationId);try{yield u.reset()}catch{}}yield u.claimInterface(this.interfaceId)})}post(n,r,u){return __awaiter$2(this,void 0,void 0,function*(){yield this.call(n,r,u)})}call(n,r,u){return __awaiter$2(this,void 0,void 0,function*(){if(this.messages==null)throw hdShared$2.ERRORS.TypedError(hdShared$2.HardwareErrorCode.TransportNotConfigured);const g=yield this.findDevice(n);if(!g)throw hdShared$2.ERRORS.TypedError(hdShared$2.HardwareErrorCode.DeviceNotFound);const{messages:y}=this;transport$2.LogBlockCommand.has(r)?this.Log.debug("call-"," name: ",r):this.Log.debug("call-"," name: ",r," data: ",u);const h=buildEncodeBuffers(y,r,u);for(const E of h){const R=new Uint8Array(PACKET_SIZE);R[0]=63,R.set(new Uint8Array(E),1),g.opened||(yield this.connect(n,!1)),yield g.transferOut(this.endpointId,R)}const m=yield this.receiveData(n);if(typeof m!="string")throw hdShared$2.ERRORS.TypedError(hdShared$2.HardwareErrorCode.NetworkError,"Returning data is not string.");const v=receiveOne$1$1(y,m);return check$1$1.call(v)})}receiveData(n){var r;return __awaiter$2(this,void 0,void 0,function*(){const u=yield this.findDevice(n);u.opened||(yield this.connect(n,!1));const y=(r=(yield u.transferIn(this.endpointId,PACKET_SIZE)).data)===null||r===void 0?void 0:r.buffer.slice(1),{length:h,typeId:m,restBuffer:v}=decodeProtocol.decodeChunked(y),E=Number(h+HEADER_LENGTH),R=new ByteBuffer__default.default(E);for(R.writeUint16(m),R.writeUint32(h),h&&R.append(v);R.offset<E;){const l=yield u.transferIn(this.endpointId,PACKET_SIZE);if(!l.data)throw new Error("no data");l.data.byteLength===0&&console.warn("empty data");const c=l.data.buffer.slice(1);E-R.offset>=PACKET_SIZE?R.append(c):R.append(c.slice(0,E-R.offset))}R.reset();const I=R.toBuffer();return Buffer.from(I).toString("hex")})}release(n){return __awaiter$2(this,void 0,void 0,function*(){const r=yield this.findDevice(n);yield r.releaseInterface(this.interfaceId),yield r.close()})}}const{parseConfigure:parseConfigure$2,buildBuffers:buildBuffers$1,receiveOne:receiveOne$2,check:check$2}=transport__default$2.default;class ElectronBleTransport{constructor(){this.name="ElectronBleTransport",this.configured=!1,this.runPromise=null,this.connectedDevices=new Set,this.dataBuffers=new Map,this.notificationCleanups=new Map,this.disconnectCleanups=new Map}handleBluetoothError(n){if(n&&typeof n=="object"){if("code"in n){if(n.code===hdShared$2.HardwareErrorCode.BlePoweredOff)throw hdShared$2.ERRORS.TypedError(hdShared$2.HardwareErrorCode.BlePoweredOff);if(n.code===hdShared$2.HardwareErrorCode.BleUnsupported)throw hdShared$2.ERRORS.TypedError(hdShared$2.HardwareErrorCode.BleUnsupported);if(n.code===hdShared$2.HardwareErrorCode.BlePermissionError)throw hdShared$2.ERRORS.TypedError(hdShared$2.HardwareErrorCode.BlePermissionError)}const r=n.message||String(n),u=hdShared$2.HardwareErrorCodeMessage[hdShared$2.HardwareErrorCode.BlePoweredOff],g=hdShared$2.HardwareErrorCodeMessage[hdShared$2.HardwareErrorCode.BleUnsupported],y=hdShared$2.HardwareErrorCodeMessage[hdShared$2.HardwareErrorCode.BlePermissionError];if(r.includes(u)||r.includes("poweredOff"))throw hdShared$2.ERRORS.TypedError(hdShared$2.HardwareErrorCode.BlePoweredOff);if(r.includes(g)||r.includes("unsupported"))throw hdShared$2.ERRORS.TypedError(hdShared$2.HardwareErrorCode.BleUnsupported);if(r.includes(y)||r.includes("unauthorized"))throw hdShared$2.ERRORS.TypedError(hdShared$2.HardwareErrorCode.BlePermissionError)}throw n}cleanupDeviceState(n){this.connectedDevices.delete(n),this.dataBuffers.delete(n);const r=this.notificationCleanups.get(n);r&&(r(),this.notificationCleanups.delete(n));const u=this.disconnectCleanups.get(n);u&&(u(),this.disconnectCleanups.delete(n))}init(n,r){var u,g;if(this.Log=n,this.emitter=r,!(!((u=window.desktopApi)===null||u===void 0)&&u.nobleBle))throw hdShared$2.ERRORS.TypedError(hdShared$2.HardwareErrorCode.RuntimeError,"Noble BLE API is not available. Please ensure you are running in Electron with Noble support.");(g=this.Log)===null||g===void 0||g.debug("[Transport] Noble BLE Transport initialized")}configure(n){const r=parseConfigure$2(n);this.configured=!0,this._messages=r}listen(){}enumerate(){var n,r;return __awaiter$2(this,void 0,void 0,function*(){try{if(!(!((n=window.desktopApi)===null||n===void 0)&&n.nobleBle))throw new Error("Noble BLE API not available");return yield window.desktopApi.nobleBle.enumerate()}catch(u){(r=this.Log)===null||r===void 0||r.error("[Transport] Noble BLE enumerate failed:",u),this.handleBluetoothError(u)}})}acquire(n){var r,u,g;return __awaiter$2(this,void 0,void 0,function*(){const{uuid:y,forceCleanRunPromise:h}=n;if(!y)throw hdShared$2.ERRORS.TypedError(hdShared$2.HardwareErrorCode.BleRequiredUUID);h&&this.runPromise&&this.runPromise.reject(hdShared$2.ERRORS.TypedError(hdShared$2.HardwareErrorCode.BleForceCleanRunPromise));try{if(!(!((r=window.desktopApi)===null||r===void 0)&&r.nobleBle))throw new Error("Noble BLE API not available");const m=yield window.desktopApi.nobleBle.getDevice(y);if(!m)throw hdShared$2.ERRORS.TypedError(hdShared$2.HardwareErrorCode.DeviceNotFound,`Device ${y} not found`);try{yield window.desktopApi.nobleBle.connect(y),this.connectedDevices.add(y)}catch(R){this.handleBluetoothError(R)}this.dataBuffers.set(y,{buffer:[],bufferLength:0}),yield window.desktopApi.nobleBle.subscribe(y);const v=window.desktopApi.nobleBle.onNotification((R,I)=>{R===y&&this.handleNotificationData(y,I)});this.notificationCleanups.set(y,v);const E=window.desktopApi.nobleBle.onDeviceDisconnected(R=>{var I;R.id===y&&(this.cleanupDeviceState(y),(I=this.emitter)===null||I===void 0||I.emit("device-disconnect",{name:R.name,id:R.id,connectId:R.id}))});return this.disconnectCleanups.set(y,E),(u=this.emitter)===null||u===void 0||u.emit("device-connect",{name:m.name,id:m.id,connectId:m.id}),{uuid:y,path:y}}catch(m){throw(g=this.Log)===null||g===void 0||g.error("[Transport] Noble BLE acquire failed:",m),m}})}release(n){var r,u,g;return __awaiter$2(this,void 0,void 0,function*(){try{this.connectedDevices.has(n)&&(!((r=window.desktopApi)===null||r===void 0)&&r.nobleBle&&(yield window.desktopApi.nobleBle.unsubscribe(n)),!((u=window.desktopApi)===null||u===void 0)&&u.nobleBle&&(yield window.desktopApi.nobleBle.disconnect(n)),this.cleanupDeviceState(n))}catch(y){(g=this.Log)===null||g===void 0||g.error("[Transport] Noble BLE release failed:",y),this.cleanupDeviceState(n)}})}handleNotificationData(n,r){var u,g;if(r==="PAIRING_REJECTED"){(u=this.Log)===null||u===void 0||u.debug("[Transport] Pairing rejection detected for device:",n),this.runPromise&&this.runPromise.reject(hdShared$2.ERRORS.TypedError(hdShared$2.HardwareErrorCode.BleDeviceBondedCanceled));return}const y=this.processNotificationPacket(n,r);if(y.error){(g=this.Log)===null||g===void 0||g.error("[Transport] Packet processing error:",y.error),this.runPromise&&this.runPromise.reject(hdShared$2.ERRORS.TypedError(hdShared$2.HardwareErrorCode.BleWriteCharacteristicError));return}y.isComplete&&y.completePacket&&this.runPromise&&this.runPromise.resolve(y.completePacket)}call(n,r,u){var g,y,h,m,v,E,R;return __awaiter$2(this,void 0,void 0,function*(){if(this._messages==null)throw hdShared$2.ERRORS.TypedError(hdShared$2.HardwareErrorCode.TransportNotConfigured);const I=r==="Initialize"||r==="Cancel";if(this.runPromise&&!I)throw hdShared$2.ERRORS.TypedError(hdShared$2.HardwareErrorCode.TransportCallInProgress);if(!this.connectedDevices.has(n))throw hdShared$2.ERRORS.TypedError(hdShared$2.HardwareErrorCode.TransportNotFound,`Device ${n} not connected`);this.runPromise=hdShared$2.createDeferred();const l=this._messages;r==="ResourceUpdate"||r==="ResourceAck"?(g=this.Log)===null||g===void 0||g.debug("[Transport] Noble BLE call","name:",r,"data:",{file_name:u==null?void 0:u.file_name,hash:u==null?void 0:u.hash}):transport$2.LogBlockCommand.has(r)?(y=this.Log)===null||y===void 0||y.debug("[Transport] Noble BLE call","name:",r):(h=this.Log)===null||h===void 0||h.debug("[Transport] Noble BLE call","name:",r,"data:",u);const c=buildBuffers$1(l,r,u);try{if(!(!((m=window.desktopApi)===null||m===void 0)&&m.nobleBle))throw new Error("Noble BLE write API not available");for(let A=0;A<c.length;A++){const M=c[A];if(!M||typeof M.toString!="function")throw(v=this.Log)===null||v===void 0||v.error(`[Transport] Noble BLE buffer ${A+1} is invalid:`,M),new Error(`Buffer ${A+1} is invalid`);const P=M.toString("hex");if(P.length===0)throw(E=this.Log)===null||E===void 0||E.error(`[Transport] Noble BLE buffer ${A+1} generated empty hex string`),new Error(`Buffer ${A+1} is empty`);yield window.desktopApi.nobleBle.write(n,P)}const T=yield this.runPromise.promise;if(typeof T!="string")throw new Error("Returning data is not string.");const w=receiveOne$2(l,T);return check$2.call(w)}catch(T){throw(R=this.Log)===null||R===void 0||R.error("[Transport] Noble BLE call error:",T),T}finally{this.runPromise=null}})}processNotificationPacket(n,r){try{if(typeof r!="string")return{isComplete:!1,error:"Invalid hexData type"};const u=r.replace(/\s+/g,"");if(!/^[0-9A-Fa-f]*$/.test(u))return{isComplete:!1,error:"Invalid hex data format"};const g=u.match(/.{1,2}/g);if(!g)return{isComplete:!1,error:"Failed to parse hex data"};const y=new Uint8Array(g.map(m=>parseInt(m,16))),h=this.dataBuffers.get(n);if(!h)return{isComplete:!1,error:"No buffer state for device"};if(hdShared$2.isHeaderChunk(y)){const m=new DataView(y.buffer);h.bufferLength=m.getInt32(5,!1),h.buffer=[...y.subarray(3)]}else h.buffer=h.buffer.concat([...y]);if(h.buffer.length-transport$2.COMMON_HEADER_SIZE>=h.bufferLength){const m=new Uint8Array(h.buffer);return h.bufferLength=0,h.buffer=[],{isComplete:!0,completePacket:Array.from(m).map(E=>E.toString(16).padStart(2,"0")).join("")}}return{isComplete:!1}}catch(u){return{isComplete:!1,error:`Packet processing error: ${u}`}}}}dist$2.ElectronBleTransport=ElectronBleTransport;dist$2.WebUsbTransport=WebUsbTransport;var hdShared$1=dist$5,transport$1=dist$4;function _interopDefaultLegacy$1(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var transport__default$1=_interopDefaultLegacy$1(transport$1);function __awaiter$1(a,n,r,u){function g(y){return y instanceof r?y:new r(function(h){h(y)})}return new(r||(r=Promise))(function(y,h){function m(R){try{E(u.next(R))}catch(I){h(I)}}function v(R){try{E(u.throw(R))}catch(I){h(I)}}function E(R){R.done?y(R.value):g(R.value).then(m,v)}E((u=u.apply(a,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const{check:check$1,buildBuffers,receiveOne:receiveOne$1,parseConfigure:parseConfigure$1}=transport__default$1.default;class LowlevelTransport{constructor(){this.configured=!1,this.plugin={}}init(n,r,u){this.Log=n,this.emitter=r,this.plugin=u,this.plugin.init()}configure(n){const r=parseConfigure$1(n);this.configured=!0,this._messages=r}listen(){}enumerate(){return this.plugin.enumerate()}acquire(n){var r;return __awaiter$1(this,void 0,void 0,function*(){try{return yield this.plugin.connect(n.uuid),{uuid:n.uuid}}catch(u){throw this.Log.debug("lowlelvel transport connect error: ",u),hdShared$1.ERRORS.TypedError(hdShared$1.HardwareErrorCode.LowlevelTrasnportConnectError,(r=u.message)!==null&&r!==void 0?r:u)}})}release(n){return __awaiter$1(this,void 0,void 0,function*(){try{return yield this.plugin.disconnect(n),!0}catch(r){return this.Log.debug("lowlelvel transport disconnect error: ",r),!1}})}call(n,r,u){return __awaiter$1(this,void 0,void 0,function*(){if(this._messages===null||!this._messages)throw hdShared$1.ERRORS.TypedError(hdShared$1.HardwareErrorCode.TransportNotConfigured);const g=this._messages;transport$1.LogBlockCommand.has(r)?this.Log.debug("lowlevel-transport","call-"," name: ",r):this.Log.debug("lowlevel-transport","call-"," name: ",r," data: ",u);const y=buildBuffers(g,r,u);for(const h of y){const m=h.toString("hex");this.Log.debug("send hex strting: ",m);try{yield this.plugin.send(n,m)}catch(v){throw this.Log.debug("lowlevel transport send error: ",v),hdShared$1.ERRORS.TypedError(hdShared$1.HardwareErrorCode.BleWriteCharacteristicError,v.reason)}}try{const h=yield this.plugin.receive();if(typeof h!="string")throw new Error("Returning data is not string");this.Log.debug("receive data: ",h);const m=receiveOne$1(g,h);return check$1.call(m)}catch(h){throw this.Log.error("lowlevel call error: ",h),h}})}cancel(){this.Log.debug("lowlevel-transport","cancel")}}var dist$1=LowlevelTransport,transport=dist$4,hdShared=dist$5,axios=axios_1,secureJSON=secureJsonParseExports;function _interopDefaultLegacy(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var transport__default=_interopDefaultLegacy(transport),axios__default=_interopDefaultLegacy(axios),secureJSON__default=_interopDefaultLegacy(secureJSON);function __awaiter(a,n,r,u){function g(y){return y instanceof r?y:new r(function(h){h(y)})}return new(r||(r=Promise))(function(y,h){function m(R){try{E(u.next(R))}catch(I){h(I)}}function v(R){try{E(u.throw(R))}catch(I){h(I)}}function E(R){R.done?y(R.value):g(R.value).then(m,v)}E((u=u.apply(a,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;function contentType(a){return typeof a=="string"?"text/plain":"application/json"}function wrapBody(a){return typeof a=="string"?a:JSON.stringify(a)}function parseResult(a){try{const n=secureJSON__default.default.parse(a);if(typeof n!="object")throw new Error("Invalid response");return n}catch{return a}}function request(a){var n;return __awaiter(this,void 0,void 0,function*(){const r={url:a.url,method:a.method,data:wrapBody(a.body),withCredentials:!1,headers:{"Content-Type":contentType(a.body==null?"":a.body)},timeout:(n=a.timeout)!==null&&n!==void 0?n:void 0,transformResponse:y=>y},u=yield axios__default.default.request(r);if(+u.status==200)return parseResult(u.data);const g=parseResult(u.data);throw typeof g=="object"&&g!=null&&g.error!=null?new hdShared.HardwareError({errorCode:hdShared.HardwareErrorCode.NetworkError,message:g.error}):new hdShared.HardwareError({errorCode:hdShared.HardwareErrorCode.NetworkError,message:u.data})})}axios__default.default.interceptors.request.use(a=>{var n;return typeof window<"u"||!((n=a.url)===null||n===void 0)&&n.startsWith("http://localhost:21333")&&(a.headers.get("Origin")||(console.log("set node request origin"),a.headers.set("Origin","https://jssdk.onekey.so"))),a});const DEFAULT_URL="http://localhost:21333",{check,buildOne,receiveOne,parseConfigure}=transport__default.default;class EmulatorTransport{constructor(n){this.name="EmulatorTransport",this.version="1.0.0",this.configured=!1,this.stopped=!1,this.isOutdated=!1,this.url=n??DEFAULT_URL}_post(n){return this.stopped?Promise.reject(hdShared.ERRORS.TypedError("Transport stopped.")):request(Object.assign(Object.assign({},n),{method:"POST",url:this.url+n.url}))}init(n){return __awaiter(this,void 0,void 0,function*(){return this.Log=n,yield this._silentInit()})}_silentInit(){return __awaiter(this,void 0,void 0,function*(){const n=yield request({url:this.url,method:"POST",timeout:3e3});return check.info(n).version})}configure(n){const r=parseConfigure(n);this.configured=!0,this._messages=r}listen(n){return __awaiter(this,void 0,void 0,function*(){if(n===null)throw hdShared.ERRORS.TypedError("Http-Transport does not support listen without previous.");const r=yield this._post({url:"/listen",body:n});return check.devices(r)})}enumerate(){return __awaiter(this,void 0,void 0,function*(){const n=yield this._post({url:"/enumerate"});return check.devices(n).map(u=>Object.assign(Object.assign({},u),{commType:"emulator"}))})}_acquireMixed(n){const r=n.previous==null?"null":encodeURIComponent(n.previous),g=`/acquire/${encodeURIComponent(n.path)}/${r}`;return this._post({url:g})}acquire(n){return __awaiter(this,void 0,void 0,function*(){const r=yield this._acquireMixed(n);return check.acquire(r)})}release(n,r){return __awaiter(this,void 0,void 0,function*(){const u=this._post({url:`/release/${n}`});r||(yield u)})}call(n,r,u){return __awaiter(this,void 0,void 0,function*(){if(this._messages==null)throw hdShared.ERRORS.TypedError(hdShared.HardwareErrorCode.TransportNotConfigured);const g=this._messages;transport.LogBlockCommand.has(r)?this.Log.debug("call-"," name: ",r):this.Log.debug("call-"," name: ",r," data: ",u);const h=buildOne(g,r,u).toString("hex"),m=yield this._post({url:`/call/${n}`,body:h,timeout:r==="Initialize"?1e4:void 0});if(typeof m!="string")throw hdShared.ERRORS.TypedError(hdShared.HardwareErrorCode.NetworkError,"Returning data is not string.");const v=receiveOne(g,m);return check.call(v)})}post(n,r,u){return __awaiter(this,void 0,void 0,function*(){if(this._messages==null)throw hdShared.ERRORS.TypedError(hdShared.HardwareErrorCode.TransportNotConfigured);const g=this._messages,y=buildOne(g,r,u).toString("hex");yield this._post({url:`/post/${n}`,body:y})})}read(n){return __awaiter(this,void 0,void 0,function*(){if(this._messages==null)throw hdShared.ERRORS.TypedError(hdShared.HardwareErrorCode.TransportNotConfigured);const r=this._messages,u=yield this._post({url:`/read/${n}`});if(typeof u!="string")throw hdShared.ERRORS.TypedError(hdShared.HardwareErrorCode.NetworkError,"Returning data is not string.");const g=receiveOne(r,u);return check.call(g)})}requestDevice(){return Promise.reject()}stop(){this.stopped=!0}cancel(){this.Log.debug("canceled")}}var dist=EmulatorTransport;(function(a){Object.defineProperty(a,"__esModule",{value:!0});var n=dist$6,r=dist$5,u=dist$3,g=dist$2,y=dist$1,h=dist;function m(k){return k&&typeof k=="object"&&"default"in k?k:{default:k}}var v=m(n),E=m(u),R=m(y),I=m(h),l=function(){return l=Object.assign||function(D){for(var F,$=1,ae=arguments.length;$<ae;$++){F=arguments[$];for(var ee in F)Object.prototype.hasOwnProperty.call(F,ee)&&(D[ee]=F[ee])}return D},l.apply(this,arguments)};function c(k,D,F,$){function ae(ee){return ee instanceof F?ee:new F(function(me){me(ee)})}return new(F||(F=Promise))(function(ee,me){function xe($e){try{Be($.next($e))}catch(Ge){me(Ge)}}function Me($e){try{Be($.throw($e))}catch(Ge){me(Ge)}}function Be($e){$e.done?ee($e.value):ae($e.value).then(xe,Me)}Be(($=$.apply(k,[])).next())})}function T(k,D){var F={label:0,sent:function(){if(ee[0]&1)throw ee[1];return ee[1]},trys:[],ops:[]},$,ae,ee,me;return me={next:xe(0),throw:xe(1),return:xe(2)},typeof Symbol=="function"&&(me[Symbol.iterator]=function(){return this}),me;function xe(Be){return function($e){return Me([Be,$e])}}function Me(Be){if($)throw new TypeError("Generator is already executing.");for(;me&&(me=0,Be[0]&&(F=0)),F;)try{if($=1,ae&&(ee=Be[0]&2?ae.return:Be[0]?ae.throw||((ee=ae.return)&&ee.call(ae),0):ae.next)&&!(ee=ee.call(ae,Be[1])).done)return ee;switch(ae=0,ee&&(Be=[Be[0]&2,ee.value]),Be[0]){case 0:case 1:ee=Be;break;case 4:return F.label++,{value:Be[1],done:!1};case 5:F.label++,ae=Be[1],Be=[0];continue;case 7:Be=F.ops.pop(),F.trys.pop();continue;default:if(ee=F.trys,!(ee=ee.length>0&&ee[ee.length-1])&&(Be[0]===6||Be[0]===2)){F=0;continue}if(Be[0]===3&&(!ee||Be[1]>ee[0]&&Be[1]<ee[3])){F.label=Be[1];break}if(Be[0]===6&&F.label<ee[1]){F.label=ee[1],ee=Be;break}if(ee&&F.label<ee[2]){F.label=ee[2],F.ops.push(Be);break}ee[2]&&F.ops.pop(),F.trys.pop();continue}Be=D.call(k,F)}catch($e){Be=[6,$e],ae=0}finally{$=ee=0}if(Be[0]&5)throw Be[1];return{value:Be[0]?Be[1]:void 0,done:!0}}}typeof SuppressedError=="function"&&SuppressedError;var w={exports:{}},A=typeof Reflect=="object"?Reflect:null,M=A&&typeof A.apply=="function"?A.apply:function(D,F,$){return Function.prototype.apply.call(D,F,$)},P;A&&typeof A.ownKeys=="function"?P=A.ownKeys:Object.getOwnPropertySymbols?P=function(D){return Object.getOwnPropertyNames(D).concat(Object.getOwnPropertySymbols(D))}:P=function(D){return Object.getOwnPropertyNames(D)};function q(k){console&&console.warn&&console.warn(k)}var W=Number.isNaN||function(D){return D!==D};function X(){X.init.call(this)}w.exports=X,w.exports.once=ye,X.EventEmitter=X,X.prototype._events=void 0,X.prototype._eventsCount=0,X.prototype._maxListeners=void 0;var L=10;function ue(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}Object.defineProperty(X,"defaultMaxListeners",{enumerable:!0,get:function(){return L},set:function(k){if(typeof k!="number"||k<0||W(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");L=k}}),X.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},X.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||W(D))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+D+".");return this._maxListeners=D,this};function Te(k){return k._maxListeners===void 0?X.defaultMaxListeners:k._maxListeners}X.prototype.getMaxListeners=function(){return Te(this)},X.prototype.emit=function(D){for(var F=[],$=1;$<arguments.length;$++)F.push(arguments[$]);var ae=D==="error",ee=this._events;if(ee!==void 0)ae=ae&&ee.error===void 0;else if(!ae)return!1;if(ae){var me;if(F.length>0&&(me=F[0]),me instanceof Error)throw me;var xe=new Error("Unhandled error."+(me?" ("+me.message+")":""));throw xe.context=me,xe}var Me=ee[D];if(Me===void 0)return!1;if(typeof Me=="function")M(Me,this,F);else for(var Be=Me.length,$e=N(Me,Be),$=0;$<Be;++$)M($e[$],this,F);return!0};function ne(k,D,F,$){var ae,ee,me;if(ue(F),ee=k._events,ee===void 0?(ee=k._events=Object.create(null),k._eventsCount=0):(ee.newListener!==void 0&&(k.emit("newListener",D,F.listener?F.listener:F),ee=k._events),me=ee[D]),me===void 0)me=ee[D]=F,++k._eventsCount;else if(typeof me=="function"?me=ee[D]=$?[F,me]:[me,F]:$?me.unshift(F):me.push(F),ae=Te(k),ae>0&&me.length>ae&&!me.warned){me.warned=!0;var xe=new Error("Possible EventEmitter memory leak detected. "+me.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");xe.name="MaxListenersExceededWarning",xe.emitter=k,xe.type=D,xe.count=me.length,q(xe)}return k}X.prototype.addListener=function(D,F){return ne(this,D,F,!1)},X.prototype.on=X.prototype.addListener,X.prototype.prependListener=function(D,F){return ne(this,D,F,!0)};function Q(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function te(k,D,F){var $={fired:!1,wrapFn:void 0,target:k,type:D,listener:F},ae=Q.bind($);return ae.listener=F,$.wrapFn=ae,ae}X.prototype.once=function(D,F){return ue(F),this.on(D,te(this,D,F)),this},X.prototype.prependOnceListener=function(D,F){return ue(F),this.prependListener(D,te(this,D,F)),this},X.prototype.removeListener=function(D,F){var $,ae,ee,me,xe;if(ue(F),ae=this._events,ae===void 0)return this;if($=ae[D],$===void 0)return this;if($===F||$.listener===F)--this._eventsCount===0?this._events=Object.create(null):(delete ae[D],ae.removeListener&&this.emit("removeListener",D,$.listener||F));else if(typeof $!="function"){for(ee=-1,me=$.length-1;me>=0;me--)if($[me]===F||$[me].listener===F){xe=$[me].listener,ee=me;break}if(ee<0)return this;ee===0?$.shift():ie($,ee),$.length===1&&(ae[D]=$[0]),ae.removeListener!==void 0&&this.emit("removeListener",D,xe||F)}return this},X.prototype.off=X.prototype.removeListener,X.prototype.removeAllListeners=function(D){var F,$,ae;if($=this._events,$===void 0)return this;if($.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):$[D]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete $[D]),this;if(arguments.length===0){var ee=Object.keys($),me;for(ae=0;ae<ee.length;++ae)me=ee[ae],me!=="removeListener"&&this.removeAllListeners(me);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(F=$[D],typeof F=="function")this.removeListener(D,F);else if(F!==void 0)for(ae=F.length-1;ae>=0;ae--)this.removeListener(D,F[ae]);return this};function Z(k,D,F){var $=k._events;if($===void 0)return[];var ae=$[D];return ae===void 0?[]:typeof ae=="function"?F?[ae.listener||ae]:[ae]:F?be(ae):N(ae,ae.length)}X.prototype.listeners=function(D){return Z(this,D,!0)},X.prototype.rawListeners=function(D){return Z(this,D,!1)},X.listenerCount=function(k,D){return typeof k.listenerCount=="function"?k.listenerCount(D):J.call(k,D)},X.prototype.listenerCount=J;function J(k){var D=this._events;if(D!==void 0){var F=D[k];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}X.prototype.eventNames=function(){return this._eventsCount>0?P(this._events):[]};function N(k,D){for(var F=new Array(D),$=0;$<D;++$)F[$]=k[$];return F}function ie(k,D){for(;D+1<k.length;D++)k[D]=k[D+1];k.pop()}function be(k){for(var D=new Array(k.length),F=0;F<D.length;++F)D[F]=k[F].listener||k[F];return D}function ye(k,D){return new Promise(function(F,$){function ae(me){k.removeListener(D,ee),$(me)}function ee(){typeof k.removeListener=="function"&&k.removeListener("error",ae),F([].slice.call(arguments))}K(k,D,ee,{once:!0}),D!=="error"&&Ce(k,ae,{once:!0})})}function Ce(k,D,F){typeof k.on=="function"&&K(k,"error",D,F)}function K(k,D,F,$){if(typeof k.on=="function")$.once?k.once(D,F):k.on(D,F);else if(typeof k.addEventListener=="function")k.addEventListener(D,function ae(ee){$.once&&k.removeEventListener(D,ae),F(ee)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k)}var ve=new w.exports,de=n.getLogger(n.LoggerNames.HdCommonConnectSdk),fe=function(k){return k==="desktop-web-ble"?g.ElectronBleTransport:k==="webusb"||k==="desktop-webusb"?g.WebUsbTransport:k==="lowlevel"?R.default:k==="emulator"?I.default:E.default},Se,_e=n.parseConnectSettings(),Ne=0,d0={},x0=function(){var k;ve.removeAllListeners(),(k=Se==null?void 0:Se.dispose)===null||k===void 0||k.call(Se),_e=n.parseConnectSettings()},Je=function(k){if(!Se)throw r.ERRORS.TypedError(r.HardwareErrorCode.NotInitialized);var D=k.type,F=k.payload;Se.handleMessage({event:n.UI_EVENT,type:D,payload:F})},e0=function(k){Se!==void 0&&Se.handleMessage({event:n.IFRAME.CANCEL,type:n.IFRAME.CANCEL,payload:{connectId:k}})};function Y(k){var D=k.event;if(Se)switch(D!==n.LOG_EVENT&&de.debug("hd-common-connect-sdk handleMessage",k),D){case n.UI_EVENT:ve.emit(k.event,k),ve.emit(k.type,k.payload);break;case n.LOG_EVENT:case n.FIRMWARE_EVENT:ve.emit(k.event,k);break;case n.DEVICE_EVENT:[n.DEVICE.CONNECT,n.DEVICE.DISCONNECT,n.DEVICE.FEATURES,n.DEVICE.SUPPORT_FEATURES].includes(k.type)&&ve.emit(k.type,k.payload);break;case n.IFRAME.CALLBACK:{var F=k.payload,$=F.callbackId,ae=F.data,ee=F.error;n.executeCallback($,ae,ee);break}default:de.log("No need to be captured message",k.event)}}function oe(k,D){return D===void 0&&(D=!0),c(this,void 0,void 0,function(){var F;return T(this,function($){switch($.label){case 0:if(!Se)throw r.ERRORS.TypedError("postMessage: _core not found");return D?(Ne++,d0[Ne]=r.createDeferred(),[4,Se.handleMessage(l(l({},k),{id:"".concat(Ne)}))]):[3,2];case 1:return F=$.sent(),[2,F];case 2:return Se.handleMessage(k),[2]}})})}var b=function(k,D,F){return c(void 0,void 0,void 0,function(){var $,ae,ee;return T(this,function(me){switch(me.label){case 0:_e=l(l(l({},_e),k),{env:(ee=k.env)!==null&&ee!==void 0?ee:"node"}),n.enableLog(!!k.debug),de.debug("init"),me.label=1;case 1:return me.trys.push([1,3,,4]),$=fe(_e.env),[4,n.initCore(_e,$,F)];case 2:return Se=me.sent(),Se==null||Se.on(n.CORE_EVENT,Y),n.setLoggerPostMessage(Y),[2,!0];case 3:return ae=me.sent(),de.error(n.createErrorMessage(ae)),[2,!1];case 4:return[2]}})})},ce=function(k){return c(void 0,void 0,void 0,function(){var D,F,$,ae,ee,me;return T(this,function(xe){switch(xe.label){case 0:de.debug("call: ",k),xe.label=1;case 1:return xe.trys.push([1,3,,4]),[4,oe({event:n.IFRAME.CALL,type:n.IFRAME.CALL,payload:k})];case 2:return D=xe.sent(),D?(de.debug("response: ",D),D.success||(console.log("response.payload?.code: ",($=D.payload)===null||$===void 0?void 0:$.code),((ae=D.payload)===null||ae===void 0?void 0:ae.code)===r.HardwareErrorCode.BleUnsupported&&oe(n.createUiMessage(n.UI_REQUEST.BLUETOOTH_UNSUPPORTED),!1),((ee=D.payload)===null||ee===void 0?void 0:ee.code)===r.HardwareErrorCode.BlePoweredOff&&oe(n.createUiMessage(n.UI_REQUEST.BLUETOOTH_POWERED_OFF),!1),((me=D.payload)===null||me===void 0?void 0:me.code)===r.HardwareErrorCode.BlePermissionError&&oe(n.createUiMessage(n.UI_REQUEST.BLUETOOTH_PERMISSION),!1)),[2,D]):[2,n.createErrorMessage(r.ERRORS.TypedError(r.HardwareErrorCode.CallMethodNotResponse))];case 3:return F=xe.sent(),de.error("__call error: ",F),[2,n.createErrorMessage(F)];case 4:return[2]}})})},O=function(){return Promise.resolve(!0)},j=function(){return Promise.resolve({success:!0})},G=v.default({eventEmitter:ve,init:b,call:ce,cancel:e0,dispose:x0,uiResponse:Je,updateSettings:O,switchTransport:j});a.default=G,a.messagePromises=d0})(dist$7);const index=getDefaultExportFromCjs(dist$7),index$1=_mergeNamespaces({__proto__:null,default:index},[dist$7]);export{index$1 as i};
